performance.mark("js-parse-end:22116-390116525151.js");
"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([[22116],{1214:(e,t,r)=>{r.d(t,{_:()=>MarkdownLine});var n=r(35750),i=r(18150),o=r(85242),l=r(50467),s=r(24804),a=r(78625),d=r(65012),c=r(48749),u=r(3904),f=r(16058),p=new WeakMap,m=new WeakMap,h=new WeakMap;let MarkdownLine=class MarkdownLine{get prefixes(){return(0,o._)(this,h,(0,n._)(this,h)??(0,a.H5)((0,n._)(this,p),this.start,this.end).filter(e=>"delimiter"===e.type&&u.T.has(e.tokenType)))}get lastPrefix(){return this.prefixes.at(-1)}get contentStart(){return this.lastPrefix?.position?.end.offset??this.start}get content(){return(0,n._)(this,m).slice(this.contentStart,this.end)}get isBlank(){return(0,f.Wq)(this.content)||0===this.content.trim().length}previous(){return 0===this.start?null:MarkdownLine.atOffset((0,n._)(this,p),(0,n._)(this,m),this.start-1)}next(){return this.end>=(0,n._)(this,m).length?null:MarkdownLine.atOffset((0,n._)(this,p),(0,n._)(this,m),this.end+1)}overlaps(e,t){return e>=this.start&&e<this.end||t>this.start&&t<=this.end||e<=this.start&&t>=this.end}contains(e){return e>=this.start&&e<this.end}prefixesBefore(e){return this.prefixes.filter(t=>(0,d.z)(t)&&(0,c.h)(t).endOffset<=e)}isOffsetAfterPrefixes(e){return this.lastPrefix===this.prefixesBefore(e).at(-1)}static atOffset(e,t,r){let n=(0,s.W)(t,r);return n&&new MarkdownLine(e,t,n.start,n.end)}static linesAtRange(e,t,r,n){return(0,s.b)(t,r,n).map(({start:r,end:n})=>new MarkdownLine(e,t,r,n))}constructor(e,t,r,n){(0,l._)(this,"start",void 0),(0,l._)(this,"end",void 0),(0,i._)(this,p,{writable:!0,value:void 0}),(0,i._)(this,m,{writable:!0,value:void 0}),(0,i._)(this,h,{writable:!0,value:null}),(0,o._)(this,p,e),(0,o._)(this,m,t),this.start=r,this.end=n}}},1830:(e,t,r)=>{r.d(t,{c:()=>c,i:()=>f});var n=r(53839),i=r(24804),o=r(9445),l=r(16058),s=r(1214),a=r(21210),d=r(3266);let c=n.YH.define(),u=n.$t.transactionFilter.of(e=>{let t=e.annotation(c);if(!e.isUserEvent("input")||!e.docChanged||e.changes.empty||"all"===t)return e;let r=(0,d.wk)(e.startState),u=e.startState.doc.toString(),f=[];e.changes.iterChanges((n,d,c,p,m)=>{let h=m.toString();if(!h.includes(`
`))return;let g=s._.atOffset(r,u,n),y=(0,o.KR)(g?.prefixesBefore(n)??[],t);if(!g||0===y.length)return;let k=(0,o.z0)(y);if(""===k)return;let b=(0,a.D)(h),x=(0,i.b)(h,0,h.length),v=g.lastPrefix?.tokenType==="listItemPrefix"||g.lastPrefix?.tokenType==="taskListCheck";for(let t=1;t<x.length;t++){let r=x[t];if(r){if(v&&(e.isUserEvent("input.paste")||e.isUserEvent("input.drop"))){let e=s._.atOffset(b,h,r.start),t=e?.prefixes??[],n=(0,l.zE)(c,[...g.prefixes],[...t]);if(n.length>0){f.push(...n);continue}}f.push({from:c+r.start,insert:k});continue}}});let p=n.VR.of(f,e.newDoc.length);return[e,{sequential:!0,changes:p,annotations:[c.of("all")],selection:e.newSelection.map(p,1)}]}),f=[d.YZ,u]},1878:(e,t,r)=>{r.d(t,{g:()=>s});var n=r(74848),i=r(16522),o=r(38621),l=r(64954);function s(e){let t,r=(0,i.c)(2);return r[0]!==e?(t=(0,n.jsx)(l.A.IconButton,{onMouseDown:a,variant:"invisible",icon:o.PaperclipIcon,"aria-label":"Attachment",...e}),r[0]=e,r[1]=t):t=r[1],t}function a(e){return e.preventDefault()}try{s.displayName||(s.displayName="FileUploadButton")}catch{}},3266:(e,t,r)=>{r.d(t,{ih:()=>N,wk:()=>E,ui:()=>L,YZ:()=>C,AT:()=>M});var n=r(53839),i=r(24774),o=r(38106),l=r(16143),s=r(47970),a=r(76814),d=r(7711),c=r(75617),u=r(47601);function f(e){(0,s.YR)(e,"element",e=>{if((0,u.dz)(e,"code")||(0,u.dz)(e,"pre"))return e.properties={...e.properties,spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false"},a._Z})}let p="dataKey";var m=r(65012),h=r(16961),g=r(23144),y=r(78625);function k(e){if(!(0,u.dz)(e,"pre"))return!1;let t=e.children[0];return!!t&&t?.type==="element"&&"codeFencedFence"===t.properties[c.Lm]}var b=r(32964),x=r(63142),v=r(72569);let _=(0,r(36380).A)({},x.j,{allowComments:!0,ancestors:{li:["ol","ul"],dd:["dl"],dt:["dl"],summary:["details"],source:["audio","video","picture"],figcaption:["figure"]},tagNames:["video","picture","source","figure","figcaption"],attributes:{video:["controls","src","preload","playsinline","aria-label"],source:["src","srcset","type","media","sizes","height","width"]}},{attributes:{"*":[p]}},c.JZ,{attributes:{span:[["className",/^hljs-/]]}},b.jr,(e,t)=>Array.isArray(e)&&Array.isArray(t)?e.concat(t):void 0);_.tagNames&&(_.tagNames=_.tagNames.filter(e=>"input"!==e));var w=r(21210);function I(e){let t=e.doc.toString(),r=(0,w.D)(t),n=function(e,t,r=!0){let n,i,x,w,I=(0,l._)(e,{...c.vQ,allowDangerousHtml:!0});if((0,s.YR)(I,"element",e=>{let t=null;for(let r of e.children)if("element"===r.type){if(t&&function(e,t){if(e.tagName!==t.tagName)return!1;if(!e.properties&&!t.properties)return!0;if(!e.properties||!t.properties)return!1;let r=Object.keys(e.properties).filter(e=>e!==p);if(r.length!==Object.keys(t.properties).filter(e=>e!==p).length)return!1;for(let n of r)if(e.properties[n]!==t.properties[n])return!1;return!0}(r,t)){let e="number"==typeof t.properties?.[p]?t.properties[p]:-1;r.properties[p]=e+1}t=r}}),(0,s.YR)(I,"element",e=>{if(!k(e))return;let t=function(e){let t=e.children.find(e=>(0,u.dz)(e,"code"));if(!t||1!==t.children.length)return null;let r=t.children[0];return r?.type==="text"?r:null}(e);t&&(t.value=t.value.trimEnd())}),(0,g.A)({languages:h.l})(I,new d.T(t)),(0,s.YR)(I,"element",e=>{if(k(e)&&(0,m.z)(e)){let r=t.slice(e.position.start.offset,e.position.end.offset),n=`${r.slice(0,r.indexOf(`
`)+1)}`,i=(0,y.On)(e.position.start,n),o=e.children.find(e=>(0,u.dz)(e,"code"));o&&function e(t,r){for(let n of r)if("text"===n.type)t=(0,y.On)(t,n.value);else if("element"===n.type){let r=e(t,n.children);n.position={start:{...t},end:{...r}},t=r}return t}(i,[o])}}),!r||(n=!1,(0,s.YR)(e,"html",()=>(n=!0,a.dc)),!n))return(0,b.vp)(I),f(I),I;let j=(0,o.l)(I,{tagfilter:!0,passThrough:["delimiter"],file:new d.T(t)});i=t.split(`
`),x={column:(i.at(-1)?.length??0)+1,line:i.length+1,offset:t.length},w=-1,(0,a.VG)(j,(e,t)=>{if(t.length<=w)return a.dc;w=t.length,"element"===e.type&&(0,m.z)(e)&&!(e.position.end.offset>=x.offset)&&(e.position.end={...x})},!0);let S=(0,v.a)(j,_);return(0,a.VG)(S,"element",(e,r)=>{let n;if("video"!==e.tagName||!Array.isArray(e.children))return;let i=r[r.length-1];if(!i||!Array.isArray(i.children))return;let o=i.children.indexOf(e);if(-1===o)return;let l="element"===i.type&&"p"===i.tagName,s=l?r[r.length-2]:void 0,a=s&&Array.isArray(s.children)?s:i;if(!Array.isArray(a.children))return;let d=a===i?o:a.children.indexOf(i);if(-1===d)return;let c=e.properties??(e.properties={});t&&e.position&&"number"==typeof e.position.start?.offset&&"number"==typeof e.position.end?.offset&&(n=t.slice(e.position.start.offset,e.position.end.offset));let u=c.controls;void 0===u?c.controls=!0:"false"===u?c.controls=!1:"true"===u&&(c.controls=!0),void 0===c.preload&&(c.preload="metadata");let f="playsinline",p=c[f];void 0===p&&Object.prototype.hasOwnProperty.call(c,"playsInline")&&(p=c[f="playsInline"]);let h=e=>{c.playsinline=e,c.playsInline=e},g="string"==typeof n&&/playsinline\s*=\s*['"]?false['"]?/i.test(n);"string"==typeof n&&/playsinline\s*=\s*['"]?true['"]?/i.test(n),void 0===p?h(!g&&!0):"false"===p||!1===p?h(!1):("true"===p||!0===p)&&h(!0);let y=[];for(let t of e.children)("text"!==t.type||""!==t.value.trim())&&("element"===t.type&&"properties"in t&&t.properties?.dataDelimiter==="htmlTag"||y.push(t));if(e.children=[],y.length>0){let t=y.filter(e=>(0,m.z)(e)).map(e=>({child:e,start:e.position.start})).reduce((e,t)=>e?t.start.offset<e.start.offset?t:e:t,void 0);e.position&&t&&(e.position={...e.position,end:{...t.start}}),a.children.splice(d+1,0,...y)}l&&s&&Array.isArray(s.children)&&s.children.splice(d,1,e)}),(0,b.vp)(S),f(S),S}(r,t);return{markdownTree:r,htmlTree:n}}let j=n.Pe.define(),S=i.Z9.define(e=>{let t=null;return{update:r=>{r.docChanged&&(t&&clearTimeout(t),t=setTimeout(()=>e.dispatch({effects:j.of(I(e.state))})))}}}),T=n.sU.define({create:I,update:(e,t)=>t.effects.find(e=>e.is(j))?.value??e,provide:()=>[S]}),C=T;function E(e){return e.field(T).markdownTree}function N(e){return e.field(T).htmlTree}function M(e){return e.effects.some(e=>e.is(j))}let L=M},3398:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(74848),i=r(12683),o=r(34164);let l=({children:e,disabled:t,required:r,visuallyHidden:l,sx:s,as:a="label",className:d,...c})=>(0,n.jsx)(i.EY,{as:a,sx:{color:t?"fg.muted":"fg.default",cursor:t?"not-allowed":"pointer",...s},className:(0,o.$)(l?(0,o.$)("sr-only",d):d,"InputLabel-module__Text--xY8s7"),...c,children:r?(0,n.jsxs)("span",{className:"InputLabel-module__Box--dyD6H",children:[(0,n.jsx)("div",{className:"InputLabel-module__Box_1--HuT0E",children:e}),(0,n.jsx)("span",{children:"*"})]}):e}),s=l;try{l.displayName||(l.displayName="InputLabel")}catch{}},3904:(e,t,r)=>{r.d(t,{C:()=>c,T:()=>d});var n=r(47970),i=r(76814),o=r(65012);function l(e,t,r){e.children??(e.children=[]),e.children.splice(t,0,r),(0,o.z)(e)&&(0,o.z)(r)&&(r.position.start.offset<e.position.start.offset?Object.assign(e.position.start,r.position.start):r.position.end.offset>e.position.end.offset&&Object.assign(e.position.end,r.position.end))}function s(e,t,r=!1){let n=void 0!==e.children&&(t===e.children.length-1||-1===t),i=e.children?.splice(t,1)[0];if(r&&i&&(0,o.z)(e)&&(0,o.z)(i)){if(0===t){let t=e.children?.[0];t&&Object.assign(e.position.start,t.position?.start)}else if(n){let t=e.children?.at(-1);t&&Object.assign(e.position.end,t.position?.end)}}return i}var a=r(91886);let d=new Set(["listItemIndent","listItemPrefix","blockQuotePrefix","linePrefix","taskListCheck"]);function c(){return{transforms:[u]}}function u(e){(0,i.VG)(e,"list",(e,t)=>{let r=t.at(-1),n=(r?.children?.indexOf(e)??-1)+1;if(!r||0===n)return;let i=e.children.at(-1);for(;i?.type==="delimiter"&&"blockQuotePrefix"===i.tokenType;)!function(e,t=!1){s(e,-1,t)}(e,!0),l(r,n,i),i=e.children.at(-1)}),(0,n.YR)(e,e=>{let t=null;for(let[c,u]of function*(e){if(e.children)for(let t=e.children.length-1;t>=0;t--){let r=e.children[t];r&&(yield[t,r])}}(e)){var r,n,i;if("delimiter"===u.type&&d.has(u.tokenType)&&t&&(r=t,(0,o.z)(u)&&(0,o.z)(r)&&u.position.end.offset===r.position.start.offset)&&(n=t,!a.fD.has(n.type))){s(e,c),l(t,0,u);continue}if("listItem"===u.type)for(;t?.type==="delimiter"&&d.has(t.tokenType);)s(e,c+1),i=t,l(u,u.children?.length??0,i),t=e.children?.[c+1]??null;t=u}})}},9445:(e,t,r)=>{function n(e,t){switch(t){case"escapeBlockquote":return e.slice(0,e.findLastIndex(e=>"blockQuotePrefix"===e.tokenType));case"escapeList":return e.slice(0,e.findLastIndex(e=>"listItemPrefix"===e.tokenType||"listItemIndent"===e.tokenType));case"all":return[];case void 0:return e}}function i(e){return" ".repeat(e.length)}function o(e){return e.map(e=>{switch(e.tokenType){case"listItemPrefix":return i(e.raw);case"taskListCheck":return"";default:return e.raw}}).join("")}r.d(t,{KR:()=>n,cz:()=>i,z0:()=>o})},9880:(e,t,r)=>{r.d(t,{P:()=>p});var n=r(74848),i=r(16522),o=r(59403),l=r(77430),s=r(5524),a=r(74508);let d={triggerChar:"@"},c=e=>({value:e.identifier,render:t=>(0,n.jsxs)(s.l.Item,{...t,children:[e.avatarUrl&&(0,n.jsx)(s.l.LeadingVisual,{children:(0,n.jsx)(l.r,{size:16,src:e.avatarUrl})}),(0,n.jsx)("span",{className:"use-mention-suggestions-module__identifierText--jeSK0",children:e.identifier})," ",(0,n.jsx)(s.l.Description,{truncate:!0,children:e.description})]})}),u=(e,t)=>{let r=Math.max((0,o.dt)(e,t.identifier),(0,o.dt)(e,t.description));return r===o.IP?r:r>0&&t.participant?o.M4:t.participant?r+o.Dx:r},f=(e,t)=>e.participant&&!t.participant?-1:t.participant&&!e.participant?1:e.identifier.localeCompare(t.identifier),p=e=>{let t,r,n=(0,i.c)(4);n[0]!==e?(t=(0,a.C)(e,u,f,c),n[0]=e,n[1]=t):t=n[1];let o=t;return n[2]!==o?(r={calculateSuggestions:o,trigger:d},n[2]=o,n[3]=r):r=n[3],r}},10242:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(74848),i=r(16522),o=r(84268);let l=e=>{let t,r=(0,i.c)(2),{feedbackUrl:l}=e;return r[0]!==l?(t=(0,n.jsx)(o.A,{className:"FeedbackLink-module__link--Ga4DP",href:l,inline:!0,children:"Give feedback"}),r[0]=l,r[1]=t):t=r[1],t};try{l.displayName||(l.displayName="FeedbackLink")}catch{}},11635:(e,t,r)=>{r.d(t,{f:()=>d,x:()=>c});var n=r(74848),i=r(16522),o=r(38621),l=r(84268),s=r(76720),a=r(33083);let d="https://github-grid.enterprise.slack.com/archives/C08M545RDCN";function c(e){let t,r,c,u,f,p,m=(0,i.c)(8),{onChangeViewMode:h}=e;return m[0]!==h?(t=(0,n.jsx)(a.Y,{onChangeViewMode:h,selectedView:"hybrid"}),m[0]=h,m[1]=t):t=m[1],m[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsx)(s.E.Visual,{children:(0,n.jsx)(o.AlertIcon,{size:"medium"})}),c=(0,n.jsx)(s.E.Heading,{children:"Something went wrong"}),m[2]=r,m[3]=c):(r=m[2],c=m[3]),m[4]===Symbol.for("react.memo_cache_sentinel")?(u={textAlign:"center",maxWidth:"700px"},m[4]=u):u=m[4],m[5]===Symbol.for("react.memo_cache_sentinel")?(f=(0,n.jsxs)(s.E,{children:[r,c,(0,n.jsxs)(s.E.Description,{style:u,children:["The hybrid Markdown editing experience is temporarily unavailable due to an unknown error. Please"," ",(0,n.jsx)(l.A,{inline:!0,href:d,children:"report this error"})," ","to the team along with browser console logs, if possible."]})]}),m[5]=f):f=m[5],m[6]!==t?(p=(0,n.jsxs)(n.Fragment,{children:[t,f]}),m[6]=t,m[7]=p):p=m[7],p}try{c.displayName||(c.displayName="ErrorFallback")}catch{}},13233:(e,t,r)=>{r.d(t,{WZ:()=>f,_4:()=>u,_n:()=>c,kH:()=>d});var n=r(1214),i=r(78625),o=r(65012),l=r(3266);let s=(e,t,r)=>(0,i.Uh)(e,t,r).find(e=>"heading"===e.type),a=e=>{let t=(0,l.wk)(e.state),r=e.state.doc.toString(),{from:i,to:o}=e.state.selection.main,a=n._.linesAtRange(t,r,i,o).map(e=>s(t,e.start,e.end));return a.some(e=>e&&"heading"===e.type)?a:null},d=e=>{let t=a(e),r=t?.filter(e=>!!e&&"heading"===e.type)??[];if(0===r.length||r.length!==t?.length)return;let n=r[0].depth;return r.every(e=>e.depth===n)?n:void 0},c=(e,t)=>{let r=a(e);return!(!r||"increase"===t&&r.every(e=>!e||6===e.depth)||"decrease"===t&&r.every(e=>!e||1===e.depth))},u=(e,t)=>{let r;e.hasFocus||e.focus();let a=(0,l.wk)(e.state),d=e.state.doc.toString(),c=e.state.selection.main,u=n._.linesAtRange(a,d,c.from,c.to),f=`${"#".repeat(t)} `,p=u.map(e=>s(a,e.start,e.end)),m=!(p.length>0&&p.every(e=>e?.depth===t)),h=[];for(let e of u){let t=s(a,e.start,e.end),n=null;if(t)for(let r of t.children??[]){if(!(0,o.z)(r)||"delimiter"!==r.type)continue;let t="atxHeadingSequence"===r.tokenType,i="setextHeadingLine"===r.tokenType;if(t||i){if(n=r,t)h.push({from:r.position.start.offset,to:r.position.end.offset+1});else{let t=e.next();t&&h.push({from:t.start,to:t.end})}break}}if(m){h.push({from:e.start,insert:f});let t=n&&(0,o.z)(n)&&(0,i.DV)(c.from,c.to,n.position.start.offset,n.position.end.offset,!0);c.empty&&(c.from===e.start||t)&&(r={anchor:e.start+f.length})}}return e.dispatch({changes:h,selection:r,userEvent:"input",scrollIntoView:!0}),!0},f=(e,t)=>{if(!e||!c(e,t))return!1;let r=(0,l.wk)(e.state),i=e.state.doc.toString(),{from:a,to:d}=e.state.selection.main,u=n._.linesAtRange(r,i,a,d),f=[];for(let e of u){let n,i=s(r,e.start,e.end);if(i)for(let r of(n="increase"===t?Math.min(6,i.depth+1):Math.max(1,i.depth-1),i.children??[])){if(!(0,o.z)(r)||"delimiter"!==r.type)continue;let t="atxHeadingSequence"===r.tokenType,i="setextHeadingLine"===r.tokenType;if(t||i){if(t)f.push({from:r.position.start.offset,to:r.position.end.offset,insert:"#".repeat(n)});else{let t=e.next();t&&(f.push({from:t.start,to:t.end}),f.push({from:e.start,insert:`${"#".repeat(n)} `}))}break}}}return 0!==f.length&&(e.dispatch({changes:f,userEvent:"input",scrollIntoView:!0}),!0)}},13659:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(74848),i=r(16522),o=r(26607),l=r(10242),s=r(84174);let a=e=>{let t,r,a,d=(0,i.c)(8),{children:c,feedbackUrl:u,className:f}=e,p=void 0===c?"Private preview":c;return d[0]!==p?(t=(0,n.jsx)(o.A,{variant:"secondary",children:p}),d[0]=p,d[1]=t):t=d[1],d[2]!==u?(r=u?(0,n.jsx)(l.A,{feedbackUrl:u}):void 0,d[2]=u,d[3]=r):r=d[3],d[4]!==f||d[5]!==t||d[6]!==r?(a=(0,n.jsx)(s.V,{className:f,label:t,link:r}),d[4]=f,d[5]=t,d[6]=r,d[7]=a):a=d[7],a};try{a.displayName||(a.displayName="AlphaLabel")}catch{}},16049:(e,t,r)=>{r.d(t,{QM:()=>m,fU:()=>g,jw:()=>h,zL:()=>s});var n=r(69599),i=r(51987),o=r(96379),l=r(96540);let s=[".svg",".gif",".jpg",".jpeg",".png",".mov",".mp4",".webm"],a=[".pdf",".docx",".odt",".fodt",".pptx",".odp",".fodp",".xlsx",".ods",".fods",".xls",".csv",".odg",".fodg",".odf",".zip",".gz",".tgz",".patch",".txt",".log",".md",".json",".jsonc",".cpuprofile",".dmp"],d=[".debug",".rtf",".msg",".doc",".eml",".xlsm",".tsv",".py",".yaml",".yml",".css",".xml",".html",".htm",".js",".sql",".java",".c",".cpp",".ipynb",".sh",".php",".ts",".tsx",".cs",".pdb",".drawio",".copilotmd",".bmp",".tif",".tiff",".mp3",".wav"],c=[".webp"];async function u(e,t,r){let n=new FormData,{name:i,size:l,type:s}=e;return t&&n.append("repository_id",t),r&&(n.append("upload_container_type","project"),n.append("upload_container_id",r)),n.append("name",i),n.append("size",l.toString()),n.append("content_type",s),await (0,o.DI)("/upload/policies/assets",{body:n,method:"POST"})}async function f(e,t,r){let{upload_authenticity_token:n,upload_url:i,header:o,form:l,same_origin:s}=e,a=new FormData;for(let e in s&&a.append("authenticity_token",n),l)a.append(e,l[e]);return a.append("file",t),r?await (({url:e,formData:t,headers:r,onProgress:n})=>new Promise((i,o)=>{let l=new XMLHttpRequest;for(let[t,s]of(l.addEventListener("loadstart",()=>n(0)),l.upload.addEventListener("progress",e=>n(e.loaded)),l.addEventListener("loadend",()=>{if(0===l.status)return void o(TypeError("Network request failed"));try{i(new Response(l.response||void 0,{status:l.status,statusText:l.statusText,headers:(e=>{let t=new Headers;for(let r of e.trim().split(/\r?\n/)){if(!r)continue;let e=r.indexOf(":");if(-1===e)continue;let n=r.slice(0,e).trim(),i=r.slice(e+1).trim();n&&t.append(n,i)}return t})(l.getAllResponseHeaders()??"")}))}catch(e){o(e)}}),l.open("POST",e),l.responseType="text",Object.entries(r)))void 0!==s&&l.setRequestHeader(t,s);l.send(t)}))({url:i,formData:a,headers:o,onProgress:r}):await fetch(i,{headers:{...o},method:"post",body:a})}async function p(e,t){let r="string"==typeof e.asset_upload_url?e.asset_upload_url:null,n="string"==typeof e.asset_upload_authenticity_token?e.asset_upload_authenticity_token:null;if(r&&n){let e=new FormData;return e.append("authenticity_token",n),await fetch(r,{method:"PUT",body:e,credentials:"same-origin",headers:{Accept:"application/json",...(0,i.kt)()}})}return t}async function m(e,t,r,n){let i=await u(e,t,r);if(!i.ok)throw Error("Failed to obtain asset policy");let o=await i.json(),l=await f(o,e,n);if(!l.ok)throw Error("Failed to upload file to storage");let s=await p(o,l);if(!s.ok)throw Error("Failed to register file upload completion");let{href:a}=await s.json();if("string"!=typeof a)throw Error("Received invalid file URL");return n?.(e.size),{url:a,file:e}}function h(e){let t=[...s,...(0,n.G7)("webp_support")?c:[],...a,...(0,n.G7)("issues_expanded_file_types")?d:[]],r=[...s,...(0,n.G7)("webp_support")?c:[]];return e?t:r}function g(e,t){return(0,l.useCallback)(async(r,n)=>m(r,e,t,n),[e,t])}},16058:(e,t,r)=>{r.d(t,{DN:()=>m,Hg:()=>h,LY:()=>u,Ts:()=>f,WJ:()=>y,Wq:()=>g,el:()=>p,xM:()=>v,zE:()=>x,zJ:()=>c});var n=r(47970),i=r(76814),o=r(9445);let l={first:{prefix:"",digits:1,suffix:". "},parse(e){let t=e.match(/^(?<prefix>\s*)(?<digits>\d{1,9})(?<suffix>[.)]\s*)$/)?.groups;return t?{...t,digits:parseInt(t.digits,10)}:void 0},serialize:e=>`${e.prefix}${e.digits}${e.suffix}`,increment:e=>({...e,digits:Math.min(e.digits+1,0x3b9ac9ff)}),reset:e=>({...e,digits:1})},s={prefix:"[",value:"x",suffix:"] "},a={prefix:"[",value:" ",suffix:"] "},d=e=>e.match(/^(?<prefix>\[)(?<value>[ xX])(?<suffix>\]\s*)$/)?.groups;function c(e){return d(e)}function u(e){let t=l.parse(e);return t?l.serialize(l.increment(t)):e}function f(e){let t=l.parse(e);return t?l.serialize(l.reset(t)):e}function p(e){return e?l.serialize(l.first):"* "}function m(e){let t;return t=e?s:a,`${t.prefix}${t.value}${t.suffix}`}function h(e,t,r=""){let n=d(t),i=n?n.suffix.slice(1):"",o=0!==i.length||0!==r.length&&/\s/.test(r)?i:" ";return`[${e?"x":" "}]${o}`}function g(e){return void 0!==d(e)}function y(e){return d(e)?.value.toLowerCase()==="x"}function k(e,t){if(t<0)return 0;let r=e.find(e=>"linePrefix"===e.tokenType);return r?Math.floor(r.raw.length/2):e.slice(0,t).filter(e=>"listItemPrefix"===e.tokenType||"listItemIndent"===e.tokenType).length}function b(e,t){return e.slice(t).find(e=>"taskListCheck"===e.tokenType)}function x(e,t,r){let n=r.findLast(e=>"listItemPrefix"===e.tokenType),i=r[0]?.position?.start.offset,l=r.at(-1)?.position?.end.offset;if(!n||void 0===i||void 0===l)return[];let s=function(e,t){let r=e.findLastIndex(e=>"listItemPrefix"===e.tokenType),n=t.findLastIndex(e=>"listItemPrefix"===e.tokenType),i=b(e,r),l=b(t,n),s=k(e,r);if(k(t,n)===s){let t=(0,o.z0)(e.slice(0,r))+e[r]?.raw;return i?t+(l?.raw??m(!1)):t}return t.map(e=>e.raw).join("")}(t,r);return s?[{from:e+i,to:e+l,insert:s}]:[]}function v(e){let t={};return(0,n.YR)(e,e=>t.listItemPrefix?("delimiter"===e.type&&"taskListCheck"===e.tokenType&&(t.taskListPrefix=e),i.dc):("delimiter"===e.type&&"listItemPrefix"===e.tokenType&&(t.listItemPrefix=e),"list"===e.type)?i._Z:void 0),t}},18169:(e,t,r)=>{r.d(t,{P:()=>n});let n=(0,r(96540).createContext)({view:null,selectedNodes:[]});try{n.displayName||(n.displayName="ToolbarContext")}catch{}},21210:(e,t,r)=>{r.d(t,{D:()=>_});var n=r(86350),i=r(81529),o=r(84600),l=r(78625),s=r(65012);function a(e){return{type:"blankLine",position:{start:e,end:e},data:{hProperties:{dataBlankLine:!0}}}}var d=r(3904);let c=["blockQuotePrefix","strongSequence","emphasisSequence","codeTextSequence","codeTextPadding","strikethroughSequence","thematicBreakSequence","codeFencedFence","atxHeadingSequence","whitespace","setextHeadingLine","labelMarker","labelImageMarker","resource","resourceDestination","linePrefix","listItemIndent","listItemPrefix","taskListCheck","tableCellDivider","tableDelimiterRow","tableDelimiter","autolinkMarker","hardBreakEscape","escapeMarker","characterReference"];function u(e){if(e.data.delimiterStack?.length)return e.data.delimiterStack.at(-1);let t=e.stack.at(-1);if(t?.type==="fragment"){let t=e.stack.at(-2);if(t&&"value"in t)return t}return t}let f=function(e){let t={type:"delimiter",tokenType:e.type,raw:this.sliceSerialize(e),position:{start:e.start,end:e.end}},r=u(this);if(r){var n;r.children??(r.children=[]),r.children.push(t),(n=this.data).delimiterStack??(n.delimiterStack=[]),this.data.delimiterStack.push(t)}return!1},p=function(e){let t=this.data.delimiterStack?.pop();if(t?.tokenType!==e.type)throw Error(`Expected open '${e.type}' delimiter on stack`);return this.data.lastExitedDelimiterToken=e,!1},m=function(e){let t=u(this),r=t?.children?.at(-1);return e.end.offset-e.start.offset==1&&r?.type==="delimiter"&&"listItemPrefix"===r.tokenType&&(0,s.z)(r)&&e.start.offset===r.position.end.offset?(r.position.end={...e.end},r.raw+=this.sliceSerialize(e)):f.call(this,e),!1},h=function(e){let t=u(this);return t?.type==="delimiter"&&"linePrefix"===t.tokenType&&p.call(this,e),!1},g=function(e){var t;let r=this.stack.at(-1);if(r?.type==="heading"&&!((t=r.children[1])&&"delimiter"===t.type&&"whitespace"===t.tokenType)){this.exit(e);let t=this.stack.at(-1);t.children.pop(),t.children.push({type:"paragraph",position:r.position,children:[]});return}return!1};var y=r(76814),k=r(73189),b=r(14674);function x(e){(0,y.VG)(e,"html",(e,t)=>{let r=t.at(-1),n=r.children.indexOf(e);r.children.splice(n,1,...(0,s.z)(e)?(function(e){let t=[],r=null;function n(e,n){if(!n)return;let i={column:n.endCol,line:n.endLine,offset:n.endOffset};if("text"===e&&r?.type==="text"){r.position.end=i;return}let o={type:e,position:{start:{column:n.startCol,line:n.startLine,offset:n.startOffset},end:i}};t.push(o),r=o}return new b._F({sourceCodeLocationInfo:!0},{onCharacter:({location:e})=>n("text",e),onWhitespaceCharacter:({location:e})=>n("text",e),onNullCharacter:({location:e})=>n("text",e),onStartTag:({location:e})=>n("startTag",e),onEndTag:({location:e})=>n("endTag",e),onDoctype:({location:e})=>n("doctype",e),onComment:({location:e})=>n("comment",e),onEof:k.l,onParseError:k.l}).write(e,!0),t})(e.value).flatMap(t=>{let r=e.value.slice(t.position.start.offset,t.position.end.offset),n={start:(0,l.z0)(e.position.start,t.position.start),end:(0,l.z0)(e.position.start,t.position.end)};switch(t.type){case"text":return[{type:"text",value:r,position:n}];case"endTag":return[{type:"delimiter",tokenType:"htmlTag",raw:r,position:n},{type:"html",value:r,position:n}];case"startTag":return[{type:"html",value:r,position:n},{type:"delimiter",tokenType:"htmlTag",raw:r,position:n}];case"comment":case"doctype":return[{type:"html",value:r,position:n}]}}):[])},!0)}let v={enabledExtensions:{delimiters:!0,containDelimiters:!0,splitHtml:!0,skipEmptyHeadings:!0,blankLines:!0}};function _(e,{enabledExtensions:t=v.enabledExtensions}=v){return(0,n.Y)(e,"utf-8",{extensions:[(0,o.T)()],mdastExtensions:[(0,i.C)(),t.delimiters?{enter:{...Object.fromEntries(c.map(e=>[e,f])),linePrefix:m},exit:{...Object.fromEntries(c.map(e=>[e,p])),linePrefix:h}}:[],t.containDelimiters?(0,d.C)():[],t.splitHtml?{transforms:[x]}:[],t.skipEmptyHeadings?{exit:{atxHeading:g}}:[],t.blankLines?{transforms:[t=>{let r=[],n={column:0,line:0,offset:-1};function i(e){r.push(e),n=e.position.end}for(let e of t.children)if((0,s.z)(e)){for(;n.offset+1<e.position.start.offset;)i(a((0,l.On)(n,`
`)));i(e)}for(;n.offset+1<e.length;)i(a((0,l.On)(n,`
`)));t.children=r}]}:[]]})}},24804:(e,t,r)=>{function n(e,t){return e.slice(0,t).lastIndexOf(`
`)+1}function i(e,t){let r=e.indexOf(`
`,t);return -1===r?e.length:r}function o(e,t){return t<0||t>e.length?null:{start:n(e,t),end:i(e,t)}}function l(e,t,r){let o=[],l=n(e,t);for(;l<=r;){let t=i(e,l);o.push({start:l,end:t}),l=t+1}return o}r.d(t,{W:()=>o,b:()=>l})},26076:(e,t,r)=>{r.d(t,{G:()=>g});var n=r(74848),i=r(96540),o=r(21513),l=r(69726),s=r(73017),a=r(42931),d=r(80752),c=r(50463);let u=e=>{let t=e.match(/^ {0,3}(`{3,}|~{3,})[^`]*$/);return t?t[1]:null},f=(e,t)=>RegExp(`^ {0,3}${t}${t[0]}* *$`).test(e),p=e=>"string"==typeof e?.taskBox,m=e=>({...e,taskBox:"[ ]"===e.taskBox?"[x]":"[ ]"});var h=r(34164);function g({ref:e=null,verifiedHTML:t,loading:r=!1,markdownValue:g="",onChange:y,disabled:k=!1,onLinkClick:b,openLinksInNewTab:x=!1,teamHovercardsEnabled:v=!1,className:_}){let[w,I]=(0,i.useState)(null),j=(0,i.useRef)(null);(0,o.T)(e,j);let S=(0,i.useCallback)(e=>{j.current=e,I(e)},[]);return(({htmlContainer:e,markdownValue:t,onChange:r,disabled:n=!1,dependencies:o=[]})=>{let l=(0,i.useRef)(t);(0,c.A)(()=>{l.current=t},[t]);let s=(0,i.useCallback)(e=>()=>{let t=l.current.split(/\r?\n/),n=null;for(let i=0,o=0;i<t.length;i++){let s=t[i];if(n){if(f(s,n)){n=null;continue}}else n=u(s);if(n)continue;let a=(0,d.VB)(s);if(p(a)){if(o===e){let e=(0,d.a1)(m(a));t.splice(i,1,e);let n=t.join(`
`);l.current=n,r(n);return}o++}}},[r]),[a,h]=(0,i.useState)([]);(0,i.useEffect)(()=>{h(Array.from(e?.querySelectorAll("input[type=checkbox].task-list-item-checkbox")??[]))},[e,...o]),(0,i.useEffect)(function(){let e=a.map(e=>{let t=e.disabled;return e.disabled=n,()=>{e.disabled=t}});return()=>{for(let t of e)t()}},[a,n]),(0,i.useEffect)(function(){let e=new AbortController;for(let[t,r]of a.entries()){let n=s(t);r.addEventListener("change",n,{signal:e.signal})}return()=>{e.abort()}},[a,s])})({onChange:(0,i.useCallback)(async e=>{try{await y?.(e)}catch{w&&(w.innerHTML=t)}},[y,w,t]),disabled:k||!y,htmlContainer:w??void 0,markdownValue:g,dependencies:[t]}),(0,a.O)({htmlContainer:w??void 0,onLinkClick:b,openLinksInNewTab:x}),(0,i.useMemo)(()=>r?(0,n.jsx)("div",{className:"MarkdownViewer-module__MarkdownViewerContainer--h7BF_",children:(0,n.jsx)(l.A,{"aria-label":"Loading content..."})}):(0,n.jsx)(s.vb,{ref:S,className:(0,h.$)("markdown-body",_),sx:_?{}:{fontSize:1,maxWidth:"100%","& > div > :last-child":{mb:0}},html:t,...v?{"data-team-hovercards-enabled":!0}:{}}),[_,r,v,t,S])}try{g.displayName||(g.displayName="MarkdownViewer")}catch{}},27408:(e,t,r)=>{r.d(t,{n:()=>ew,v:()=>ey});var n=r(74848),i=r(16522),o=r(21373),l=r(96540);let s=(0,l.createContext)({disabled:!1,required:!1,formattingToolsRef:{current:null},uploadButtonProps:null,fileDraggedOver:!1,previewMode:!1});try{s.displayName||(s.displayName="MarkdownEditorContext")}catch{}let a=e=>{let t,r=(0,i.c)(2),{children:o}=e;return r[0]!==o?(t=(0,n.jsx)(n.Fragment,{children:o}),r[0]=o,r[1]=t):t=r[1],t};a.displayName="MarkdownEditor.Actions";let d=e=>{let t,r,a,d=(0,i.c)(7);d[0]!==e?({ref:r,...t}=e,d[0]=e,d[1]=t,d[2]=r):(t=d[1],r=d[2]);let{disabled:c}=(0,l.use)(s);return d[3]!==c||d[4]!==t||d[5]!==r?(a=(0,n.jsx)(o.Q,{disabled:c,...t,ref:r}),d[3]=c,d[4]=t,d[5]=r,d[6]=a):a=d[6],a};d.displayName="MarkdownEditor.ActionButton";var c=r(76533),u=r(38621),f=r(57919);let p=e=>{let t,r,o,l,s,a,d=(0,i.c)(11),{children:c}=e;d[0]===Symbol.for("react.memo_cache_sentinel")?(t={footerButtons:h},d[0]=t):t=d[0];let[u,p]=(0,f.H)(c,t);return d[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsx)(g,{}),d[1]=r):r=d[1],d[2]!==u.footerButtons?(o=u.footerButtons&&(0,n.jsx)("div",{className:"Footer-module__footerButtonWrapper--TedKn",children:u.footerButtons}),d[2]=u.footerButtons,d[3]=o):o=d[3],d[4]!==o?(l=(0,n.jsxs)("div",{className:"Footer-module__footerWrapper--ObMEq",children:[r,o]}),d[4]=o,d[5]=l):l=d[5],d[6]!==p?(s=(0,n.jsx)("div",{className:"Footer-module__childrenStyling--cH0iq",children:p}),d[6]=p,d[7]=s):s=d[7],d[8]!==l||d[9]!==s?(a=(0,n.jsxs)("div",{className:"Footer-module__footer--rjRmQ","data-testid":"markdown-editor-footer",children:[l,s]}),d[8]=l,d[9]=s,d[10]=a):a=d[10],a},m=e=>{let t,r=(0,i.c)(2),{children:o}=e;return r[0]!==o?(t=(0,n.jsx)(p,{children:o}),r[0]=o,r[1]=t):t=r[1],t};m.displayName="MarkdownEditor.Footer";let h=e=>{let t,r,a,d=(0,i.c)(7);d[0]!==e?({ref:r,...t}=e,d[0]=e,d[1]=t,d[2]=r):(t=d[1],r=d[2]);let{disabled:c}=(0,l.use)(s);return d[3]!==c||d[4]!==t||d[5]!==r?(a=(0,n.jsx)(o.Q,{size:"small",disabled:c,...t,ref:r}),d[3]=c,d[4]=t,d[5]=r,d[6]=a):a=d[6],a};h.displayName="MarkdownEditor.FooterButton";let g=(0,l.memo)(()=>{let e,t=(0,i.c)(3),{uploadButtonProps:r,fileDraggedOver:o}=(0,l.use)(s);return t[0]!==o||t[1]!==r?(e=r?(0,n.jsx)(y,{fileDraggedOver:o,...r}):null,t[0]=o,t[1]=r,t[2]=e):e=t[2],e});g.displayName="MarkdownEditor.DefaultFooterButtons";let y=(0,l.memo)(e=>{let t,r,a,d,c,f=(0,i.c)(12);f[0]!==e?({fileDraggedOver:t,...r}=e,f[0]=e,f[1]=t,f[2]=r):(t=f[1],r=f[2]);let{disabled:p,fileUploadProgress:m}=(0,l.use)(s),h=m?.[0],g=m?.[1],y=!!g,b=1===g?"Uploading your file...":`Uploading your files... (${h}/${g})`,x=y?b:void 0;f[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsx)("span",{className:"Footer-module__condensed--o9bUn",children:"Add Files"}),f[3]=a):a=f[3];let v=t?"Drop to add files":"Paste, drop, or click to add files";return f[4]!==v?(d=(0,n.jsx)("span",{className:"Footer-module__spacious--VlAKA",children:v}),f[4]=v,f[5]=d):d=f[5],f[6]!==p||f[7]!==y||f[8]!==r||f[9]!==x||f[10]!==d?(c=(0,n.jsxs)(o.Q,{variant:"invisible",loadingAnnouncement:x,leadingVisual:u.PaperclipIcon,loading:y,size:"small",className:"Footer-module__footerButton--zxnP6",onMouseDown:k,disabled:p,...r,children:[a,d]}),f[6]=p,f[7]=y,f[8]=r,f[9]=x,f[10]=d,f[11]=c):c=f[11],c});y.displayName="MarkdownEditor.FileUploadButton";try{p.displayName||(p.displayName="CoreFooter")}catch{}function k(e){e.preventDefault()}var b=r(3398);let x=e=>{let t,r,o=(0,i.c)(6);o[0]!==e?({...t}=e,o[0]=e,o[1]=t):t=o[1];let{disabled:a,required:d}=(0,l.use)(s);return o[2]!==a||o[3]!==t||o[4]!==d?(r=(0,n.jsx)(b.A,{as:"legend",disabled:a,required:d,className:"Label-module__inputLabel--EMji4",...t}),o[2]=a,o[3]=t,o[4]=d,o[5]=r):r=o[5],r};x.displayName="MarkdownEditor.Label";let v=e=>{let t,r=(0,i.c)(2);return r[0]!==e?(t=(0,n.jsx)(x,{...e}),r[0]=e,r[1]=t):t=r[1],t};var _=r(69599),w=r(88316),I=r(53419),j=r(99206),S=r(26076),T=r(73189),C=r(16643),E=r(34164);let N=e=>(0,I.BI)("markdown_editor.format",{tool:e}),M=({ref:e,forInputId:t})=>{(0,l.useEffect)(()=>{r.e(78143).then(r.bind(r,78143))},[]);let i=(0,l.useRef)(null),o=(0,l.useRef)(null),s=(0,l.useRef)(null),a=(0,l.useRef)(null),d=(0,l.useRef)(null),c=(0,l.useRef)(null),u=(0,l.useRef)(null),f=(0,l.useRef)(null),p=(0,l.useRef)(null),m=(0,l.useRef)(null),h=(0,l.useRef)(null);return(0,l.useImperativeHandle)(e,()=>({header:()=>{i.current?.click(),N("header")},bold:()=>{o.current?.click(),N("bold")},italic:()=>{s.current?.click(),N("italic")},quote:()=>{a.current?.click(),N("quote")},code:()=>{d.current?.click(),N("code")},link:()=>{c.current?.click(),N("link")},unorderedList:()=>{u.current?.click(),N("unorderedList")},orderedList:()=>{f.current?.click(),N("orderedList")},taskList:()=>{p.current?.click(),N("taskList")},mention:()=>{m.current?.click(),N("mention")},reference:()=>{h.current?.click(),N("reference")}})),(0,n.jsxs)("markdown-toolbar",{for:t,style:{display:"none"},children:[(0,n.jsx)("md-header",{ref:i}),(0,n.jsx)("md-bold",{ref:o}),(0,n.jsx)("md-italic",{ref:s}),(0,n.jsx)("md-quote",{ref:a}),(0,n.jsx)("md-code",{ref:d}),(0,n.jsx)("md-link",{ref:c}),(0,n.jsx)("md-unordered-list",{ref:u}),(0,n.jsx)("md-ordered-list",{ref:f}),(0,n.jsx)("md-task-list",{ref:p}),(0,n.jsx)("md-mention",{ref:m}),(0,n.jsx)("md-ref",{ref:h})]})};M.displayName="MarkdownEditor.FormattingTools";let L="MarkdownEditor-module__fullHeight--No1e6";r(90204);var P=r(44358),A=r(51112),O=r(66964),R=r(45007),$=r(21513),B=r(10576),F=r(40090),D=r(65826),z=r(9880),V=r(97673);let H=[],q=e=>{let t,r,o,s,a,d,c,u,f,p,m,h,g,y,k,b,x,v,_,w,j,S,T,C,N,M,L,q,W,U,G,Y,K,Q,J,Z,X,ee,et,er,en,ei=(0,i.c)(90);ei[0]!==e?({ref:a,value:T,onChange:b,onInput:x,disabled:r,placeholder:w,id:u,maxLength:h,onKeyDown:v,fullHeight:d,isDraggedOver:f,emojiSuggestions:o,emojiTone:s,mentionSuggestions:g,referenceSuggestions:S,labelledBy:p,minHeightLines:y,maxHeightLines:m,visible:C,monospace:k,pasteUrlsAsPlainText:_,className:t,generatingText:c,...j}=e,ei[0]=e,ei[1]=t,ei[2]=r,ei[3]=o,ei[4]=s,ei[5]=a,ei[6]=d,ei[7]=c,ei[8]=u,ei[9]=f,ei[10]=p,ei[11]=m,ei[12]=h,ei[13]=g,ei[14]=y,ei[15]=k,ei[16]=b,ei[17]=x,ei[18]=v,ei[19]=_,ei[20]=w,ei[21]=j,ei[22]=S,ei[23]=T,ei[24]=C):(t=ei[1],r=ei[2],o=ei[3],s=ei[4],a=ei[5],d=ei[6],c=ei[7],u=ei[8],f=ei[9],p=ei[10],m=ei[11],h=ei[12],g=ei[13],y=ei[14],k=ei[15],b=ei[16],x=ei[17],v=ei[18],_=ei[19],w=ei[20],j=ei[21],S=ei[22],T=ei[23],C=ei[24]),ei[25]!==s?(N={tone:s},ei[25]=s,ei[26]=N):N=ei[26];let eo=N,{trigger:el,calculateSuggestions:es}=(0,D.xf)(o??H,eo),{trigger:ea,calculateSuggestions:ed}=(0,z.P)(g??H),{trigger:ec,calculateSuggestions:eu}=(0,V.k)(S??H);ei[27]!==es||ei[28]!==el?(M={trigger:el,suggestionsCalculator:es},ei[27]=es,ei[28]=el,ei[29]=M):M=ei[29],ei[30]!==ed||ei[31]!==ea?(L={trigger:ea,suggestionsCalculator:ed},ei[30]=ed,ei[31]=ea,ei[32]=L):L=ei[32],ei[33]!==eu||ei[34]!==ec?(q={trigger:ec,suggestionsCalculator:eu},ei[33]=eu,ei[34]=ec,ei[35]=q):q=ei[35],ei[36]!==M||ei[37]!==L||ei[38]!==q?(W=[M,L,q],ei[36]=M,ei[37]=L,ei[38]=q,ei[39]=W):W=ei[39];let ef=W,{triggers:ep,suggestions:em,setSuggestionEvent:eh}=(0,O.f)(ef),eg=(0,l.useRef)(null);(0,$.T)(a,eg),ei[40]!==_?(U=()=>{let e=eg.current&&(0,P.B1)(eg.current,{defaultPlainTextPaste:{urlLinks:_}});return e?.unsubscribe},G=[_],ei[40]=_,ei[41]=U,ei[42]=G):(U=ei[41],G=ei[42]),(0,l.useEffect)(U,G);let ey=d||!C;ei[43]!==m||ei[44]!==y||ei[45]!==ey||ei[46]!==T?(Y={disabled:ey,maxHeightLines:m,minHeightLines:y,elementRef:eg,value:T},ei[43]=m,ei[44]=y,ei[45]=ey,ei[46]=T,ei[47]=Y):Y=ei[47];let ek=(0,R.S)(Y);ei[48]!==T?(K=()=>{eg.current&&(eg.current.value=T)},ei[48]=T,ei[49]=K):K=ei[49],(0,l.useEffect)(K),ei[50]!==eh||ei[51]!==em?(Q=e=>{em||(0,I.BI)("markdown_editor.show_autocomplete_suggestions",{trigger:e.trigger.triggerChar}),eh(e)},ei[50]=eh,ei[51]=em,ei[52]=Q):Q=ei[52],ei[53]!==eh?(J=()=>eh(null),ei[53]=eh,ei[54]=J):J=ei[54],ei[55]===Symbol.for("react.memo_cache_sentinel")?(Z={flex:"auto"},ei[55]=Z):Z=ei[55];let eb=p?void 0:"Markdown value",ex=!C&&"MarkdownInput-module__displayNone--tQubM",ev=d&&"MarkdownInput-module__fullHeight--HWXka",e_=k&&"MarkdownInput-module__monospace--ktxaS",ew=f&&"MarkdownInput-module__isDraggedOver--hTZEP",eI=c&&"MarkdownInput-module__generatingText--fuCZ6";return ei[56]!==t||ei[57]!==ex||ei[58]!==ev||ei[59]!==e_||ei[60]!==ew||ei[61]!==eI?(X=(0,E.$)(t,"MarkdownInput-module__textArea--kLNLR",ex,ev,e_,ew,eI),ei[56]=t,ei[57]=ex,ei[58]=ev,ei[59]=e_,ei[60]=ew,ei[61]=eI,ei[62]=X):X=ei[62],ei[63]!==r||ei[64]!==ek||ei[65]!==u||ei[66]!==p||ei[67]!==h||ei[68]!==y||ei[69]!==b||ei[70]!==x||ei[71]!==v||ei[72]!==w||ei[73]!==j||ei[74]!==eb||ei[75]!==X||ei[76]!==T?(ee=(0,n.jsx)(B.Ay,{id:u,ref:eg,placeholder:w,maxLength:h,onKeyDown:v,disabled:r,"aria-label":eb,"aria-labelledby":p,onChange:b,onInput:x,value:T,className:X,rows:y,style:ek,...j}),ei[63]=r,ei[64]=ek,ei[65]=u,ei[66]=p,ei[67]=h,ei[68]=y,ei[69]=b,ei[70]=x,ei[71]=v,ei[72]=w,ei[73]=j,ei[74]=eb,ei[75]=X,ei[76]=T,ei[77]=ee):ee=ei[77],ei[78]!==em||ei[79]!==Q||ei[80]!==J||ei[81]!==ee||ei[82]!==ep?(et=(0,n.jsx)(A.a,{triggers:ep,suggestions:em,onShowSuggestions:Q,onHideSuggestions:J,style:Z,tabInsertsSuggestions:!0,children:ee}),ei[78]=em,ei[79]=Q,ei[80]=J,ei[81]=ee,ei[82]=ep,ei[83]=et):et=ei[83],ei[84]!==c||ei[85]!==C?(er=c&&C&&(0,n.jsx)("div",{className:"MarkdownInput-module__skeletonOverlay--FXuMG",children:(0,n.jsx)(F.r,{lines:5,"aria-label":"Generating text"})}),ei[84]=c,ei[85]=C,ei[86]=er):er=ei[86],ei[87]!==et||ei[88]!==er?(en=(0,n.jsxs)("div",{className:"MarkdownInput-module__inputWrapper--fDOeo",children:[et,er]}),ei[87]=et,ei[88]=er,ei[89]=en):en=ei[89],en};q.displayName="MarkdownInput";var W=r(56038),U=r(5839),G=r(64954);let Y=e=>{let t,r,o,a=(0,i.c)(7);a[0]!==e?({ref:r,...t}=e,a[0]=e,a[1]=t,a[2]=r):(t=a[1],r=a[2]);let{disabled:d}=(0,l.use)(s);return a[3]!==d||a[4]!==t||a[5]!==r?(o=(0,n.jsx)(G.A.IconButton,{ref:r,variant:"invisible",disabled:d,onMouseDown:K,...t,className:"ToolbarButton-module__iconButton--o0jFl"}),a[3]=d,a[4]=t,a[5]=r,a[6]=o):o=a[6],o};function K(e){return e.preventDefault()}Y.displayName="MarkdownEditor.ToolbarButton";let Q=(0,l.createContext)(null),J=()=>{let e,t,r,o,s,a,d=(0,i.c)(18),c=(0,l.use)(Q),[u,f]=(0,l.useState)(!1),[p,m]=(0,l.useState)("");d[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>({openMenu:()=>{f(!0)}}),d[0]=e):e=d[0],(0,l.useImperativeHandle)(c?.ref,e),d[1]!==c?.savedReplies||d[2]!==p?(t=c?.savedReplies.filter(e=>{let{name:t}=e;return t.toLowerCase().includes(p.toLowerCase())}).map(Z),d[1]=c?.savedReplies,d[2]=p,d[3]=t):t=d[3];let h=t;d[4]!==c?(r=e=>{f(!1);let t=c?.savedReplies.find(t=>{let{name:r}=t;return r===e?.text});t&&c?.onSelect(t)},d[4]=c,d[5]=r):r=d[5];let g=r;d[6]!==h||d[7]!==g?(o=e=>{let t=parseInt(e.key,10);h&&e.ctrlKey&&!Number.isNaN(t)&&t>=1&&t<=9&&(e.stopPropagation(),e.preventDefault(),g(h[t-1]))},d[6]=h,d[7]=g,d[8]=o):o=d[8];let y=o;d[9]!==c?(s=e=>{f(e),e?((0,I.BI)("markdown_editor.open_saved_replies"),c?.onOpen()):m("")},d[9]=c,d[10]=s):s=d[10];let k=s;return d[11]!==p||d[12]!==h||d[13]!==y||d[14]!==k||d[15]!==g||d[16]!==u?(a=h?(0,n.jsx)(U.X,{renderAnchor:X,open:u,onOpenChange:k,items:h,filterValue:p,onFilterChange:m,placeholderText:"Search saved replies",selected:void 0,onSelectedChange:e=>{g(Array.isArray(e)?e[0]:e)},overlayProps:{width:"small",maxHeight:"small",anchorSide:"outside-right",onKeyDown:y},secondaryAction:(0,n.jsx)(U.X.SecondaryActionLink,{href:`${W.fV.origin}/settings/replies`,children:"Create new"})}):(0,n.jsx)(n.Fragment,{}),d[11]=p,d[12]=h,d[13]=y,d[14]=k,d[15]=g,d[16]=u,d[17]=a):a=d[17],a};try{Q.displayName||(Q.displayName="SavedRepliesContext")}catch{}try{J.displayName||(J.displayName="SavedRepliesButton")}catch{}function Z(e,t){return{id:t,text:e.name,description:e.content,descriptionVariant:"block",trailingVisual:t<9?`Ctrl + ${t+1}`:void 0,className:"SavedReplies-module__SavedReplies--K6yeB"}}function X(e){return(0,n.jsx)(Y,{...e,icon:u.ReplyIcon,"aria-label":"Saved replies","aria-labelledby":void 0})}let ee=(0,l.memo)(()=>{let e,t,r,o,a,d,c,f,p,m,h,g,y,k,b,x=(0,i.c)(37),{formattingToolsRef:v}=(0,l.use)(s);return x[0]!==v?(e=(0,n.jsx)(Y,{onClick:()=>v.current?.header(),icon:u.HeadingIcon,"aria-label":"Heading"}),x[0]=v,x[1]=e):e=x[1],x[2]!==v?(t=(0,n.jsx)(Y,{onClick:()=>v.current?.bold(),icon:u.BoldIcon,"aria-label":"Bold"}),x[2]=v,x[3]=t):t=x[3],x[4]!==v?(r=(0,n.jsx)(Y,{onClick:()=>v.current?.italic(),icon:u.ItalicIcon,"aria-label":"Italic"}),x[4]=v,x[5]=r):r=x[5],x[6]!==v?(o=(0,n.jsx)(Y,{onClick:()=>v.current?.quote(),icon:u.QuoteIcon,"aria-label":"Quote"}),x[6]=v,x[7]=o):o=x[7],x[8]!==v?(a=(0,n.jsx)(Y,{onClick:()=>v.current?.code(),icon:u.CodeIcon,"aria-label":"Code"}),x[8]=v,x[9]=a):a=x[9],x[10]!==v?(d=(0,n.jsx)(Y,{onClick:()=>v.current?.link(),icon:u.LinkIcon,"aria-label":"Link"}),x[10]=v,x[11]=d):d=x[11],x[12]===Symbol.for("react.memo_cache_sentinel")?(c=(0,n.jsx)(G.A.Divider,{}),x[12]=c):c=x[12],x[13]!==v?(f=(0,n.jsx)(Y,{onClick:()=>v.current?.unorderedList(),icon:u.ListUnorderedIcon,"aria-label":"Unordered list"}),x[13]=v,x[14]=f):f=x[14],x[15]!==v?(p=(0,n.jsx)(Y,{onClick:()=>v.current?.orderedList(),icon:u.ListOrderedIcon,"aria-label":"Numbered list"}),x[15]=v,x[16]=p):p=x[16],x[17]!==v?(m=(0,n.jsx)(Y,{onClick:()=>v.current?.taskList(),icon:u.TasklistIcon,"aria-label":"Task list"}),x[17]=v,x[18]=m):m=x[18],x[19]===Symbol.for("react.memo_cache_sentinel")?(h=(0,n.jsx)(G.A.Divider,{}),x[19]=h):h=x[19],x[20]!==v?(g=(0,n.jsx)(Y,{onClick:()=>v.current?.mention(),icon:u.MentionIcon,"aria-label":"Mention"}),x[20]=v,x[21]=g):g=x[21],x[22]!==v?(y=(0,n.jsx)(Y,{onClick:()=>v.current?.reference(),icon:u.CrossReferenceIcon,"aria-label":"Reference"}),x[22]=v,x[23]=y):y=x[23],x[24]===Symbol.for("react.memo_cache_sentinel")?(k=(0,n.jsx)(J,{}),x[24]=k):k=x[24],x[25]!==e||x[26]!==t||x[27]!==g||x[28]!==y||x[29]!==r||x[30]!==o||x[31]!==a||x[32]!==d||x[33]!==f||x[34]!==p||x[35]!==m?(b=(0,n.jsxs)(n.Fragment,{children:[e,t,r,o,a,d,c,f,p,m,h,g,y,k]}),x[25]=e,x[26]=t,x[27]=g,x[28]=y,x[29]=r,x[30]=o,x[31]=a,x[32]=d,x[33]=f,x[34]=p,x[35]=m,x[36]=b):b=x[36],b});ee.displayName="MarkdownEditor.DefaultToolbarButtons";let et=e=>{let t,r=(0,i.c)(2),{children:o}=e;return r[0]!==o?(t=(0,n.jsx)(G.A,{"aria-label":"Formatting tools",className:"Toolbar-module__toolbar--TBvFM",gap:"none",children:o}),r[0]=o,r[1]=t):t=r[1],t},er=e=>{let t,r=(0,i.c)(2),{children:o}=e;return r[0]!==o?(t=(0,n.jsx)(et,{children:o}),r[0]=o,r[1]=t):t=r[1],t};er.displayName="MarkdownEditor.Toolbar";try{et.displayName||(et.displayName="CoreToolbar")}catch{}var en=r(88567);let ei=/^(?:\t| ? ?)(.*)/;var eo=r(8625);function el(e){return e+1}var es=r(80752);let ea="```suggestion",ed=RegExp(`${ea}(?:.*)
`,"i"),ec=RegExp("```(\n|$)");function eu(e,t,r=0){let n=t.substring(r,t.length),i=e.exec(n);return i?i.index+r:-1}var ef=r(98211),ep=r(38102),em=r(95863);let eh=e=>(0,en.nf)(`Uploading "${e.name}"...`),eg=()=>{},ey=({emitChange:e,value:t,inputRef:r,disabled:i,onUploadFile:o,acceptedFileTypes:s,onFilesRejected:a})=>{let[d,c]=(0,l.useState)(void 0),u=(0,l.useRef)(!1);(0,l.useEffect)(()=>{if(d){u.current=!1;let e=setTimeout(()=>u.current=!0,1e3);return()=>clearTimeout(e)}},[d]),(0,l.useEffect)(()=>{u.current&&c(void 0)},[t]);let f=(0,ef.U)(e=>{let t=new Set(e.map(({name:e})=>{let t=e.split(".");return t.length>1?`.${t.at(-1)}`:""}).filter(e=>""!==e));if(t.size>0){let r=[...t].join(", ");c((0,n.jsxs)(n.Fragment,{children:["File type",t.size>1?"s":""," ",r," not supported. See the"," ",(0,n.jsx)("a",{href:"https://docs.github.com/en/get-started/writing-on-github/working-with-advanced-formatting/attaching-files",children:"documentation"})," ","for supported file types."]})),a?.(e)}}),[p,m]=(0,l.useState)(void 0),h=(0,ef.U)(()=>m(void 0)),g=(0,l.useCallback)(t=>{if(!r?.current)return;let n=function(e,t){if(0===t||`
`===e[t-1]&&(1===t||`
`===e[t-2]))return"";let r=e.lastIndexOf(`
`,t-1);return/\S/.test(e.substring(r,t))?`

`:`
`}(r.current.value,r.current.selectionStart),i=function(e,t){if(e.length===t||`
`===e[t]&&(t===e.length-1||`
`===e[t+1]))return"";let r=e.indexOf(`
`,t);return/\S/.test(e.substring(t,r))?`

`:`
`}(r.current.value,r.current.selectionEnd);e(`${n}${t.map(eh).join(`
`)}${i}`)},[r,e]),y=(0,ef.U)(({file:t,url:n},i)=>{m(e=>e&&[e[0]+1,e[1]]),((t,n,i)=>{if(!r?.current)return;let o=eh(t),l=r.current.value.indexOf(o);-1!==l&&e(n?t.type.startsWith("video/")?n:t.type.startsWith("image/")&&!["image/bmp","image/tiff"].includes(t.type)?(0,en.TG)(i||{width:0,height:0,ppi:1},n,"Image"):(0,en.iQ)(t.name,n):(0,en.nf)(`Failed to upload "${t.name}"`),[l,l+o.length])})(t,n,i)}),k=(0,l.useCallback)(e=>e.map(async e=>{let t={url:null,file:e},r=null;try{t=await o?.(e)??{file:e,url:null}}catch{t={file:e,url:null}}if(t.url)try{r=await (0,en.pF)(e)}catch{r={width:0,height:0,ppi:1},(0,ep.N7)("Failed to get image size from file",{message:"Failed to get image size from file",reactAppName:"markdown-editor"})}y(t,r)}),[o,y]),b=(0,l.useCallback)(async(e,t)=>{e.length>0&&(m([1,e.length]),g(e),await Promise.all(k(e)),h()),f(t)},[f,g,k,h]),x=(0,em.wd)({acceptedFileTypes:s,multi:!0,onSelect:b});return i&&(x={clickTargetProps:{onClick:eg},dropTargetProps:{onDragEnter:eg,onDragLeave:eg,onDrop:eg,onDragOver:eg},pasteTargetProps:{onPaste:eg},isDraggedOver:!1}),o?{...x,errorMessage:d,uploadProgress:p}:null},ek=Symbol(),eb=[],ex=e=>{let t,r,o,a,d,u,p,m,h,g,y,k,b,x,v,w,N,P,A,O,R,$,B,F,D,z,V,H,W,U,G,Y,K,J=(0,i.c)(139),{ref:Z,value:X,onInputFocus:ep,disabled:em,placeholder:eh,maxLength:eg,"aria-describedby":ex,labelledBy:ev,fullHeight:e_,onRenderPreview:ew,className:eI,onPrimaryAction:ej,viewMode:eS,onChangeViewMode:eT,minHeightLines:eC,maxHeightLines:eE,emojiSuggestions:eN,emojiTone:eM,mentionSuggestions:eL,referenceSuggestions:eP,monospace:eA,required:eO,name:eR,children:e$,savedReplies:eB,pasteUrlsAsPlainText:eF,teamHovercardsEnabled:eD,onSavedRepliesOpen:ez,banner:eV,containerRef:eH,onChange:eq,onUploadFile:eW,acceptedFileTypes:eU,onFilesRejected:eG,footer:eY,generatingText:eK}=e,eQ=void 0!==em&&em,eJ=void 0===eC?5:eC,eZ=void 0===eE?35:eE,eX=void 0!==eA&&eA,e0=void 0!==eO&&eO,e1=void 0!==eF&&eF,e2=void 0!==eD&&eD,e4=void 0===ez?T.l:ez;J[0]===Symbol.for("react.memo_cache_sentinel")?(t={toolbar:er},J[0]=t):t=J[0];let[e3]=(0,f.H)(e$,t),e6=(0,l.useId)(),e5=(0,_.G7)("mardown_editor_use_on_input");J[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,_.G7)("markdown_experience_hybrid_editor"),J[1]=r):r=J[1];let e7=r;J[2]===Symbol.for("react.memo_cache_sentinel")?(o=(0,_.G7)("markdown_experience_toolbar_redesign"),J[2]=o):o=J[2];let e8=o,{inputRef:e9,inputKey:te,reset:tt,emitChange:tr,onInputChange:tn}=function(e){let t,r,n,o,s=(0,i.c)(11),a=(0,l.useRef)(null),[d,c]=(0,l.useState)(1);s[0]!==e?(t=t=>{e(t.target.value)},s[0]=e,s[1]=t):t=s[1];let u=t;s[2]!==e?(r=()=>{e(""),c(el)},s[2]=e,s[3]=r):r=s[3];let f=r;s[4]!==u?(n={inputRef:a,fallbackEventHandler:u},s[4]=u,s[5]=n):n=s[5];let p=(0,eo.H)(n);return s[6]!==p||s[7]!==d||s[8]!==u||s[9]!==f?(o={inputRef:a,inputKey:d,onInputChange:u,reset:f,emitChange:p},s[6]=p,s[7]=d,s[8]=u,s[9]=f,s[10]=o):o=s[10],o}(eq),{html:ti,loadPreview:to,previewStale:tl}=function(e,t){let r,n,o,s,a=(0,i.c)(10),[d,c]=(0,l.useState)(null),u=(0,ef.U)(c),f=(0,l.useRef)(!0);a[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{f.current=!0},a[0]=r):r=a[0],a[1]!==e?(n=[e],a[1]=e,a[2]=n):n=a[2],(0,l.useEffect)(r,n),a[3]!==t||a[4]!==u||a[5]!==e?(o=async()=>{f.current&&(f.current=!1,u(null),u(await t(e)))},a[3]=t,a[4]=u,a[5]=e,a[6]=o):o=a[6];let p=o;return a[7]!==d||a[8]!==p?(s={html:d,setHtml:c,loadPreview:p,previewStale:f},a[7]=d,a[8]=p,a[9]=s):s=a[9],s}(X,ew);J[3]!==to||J[4]!==tl||J[5]!==eS?(a=()=>{"preview"===eS&&tl.current&&to()},J[3]=to,J[4]=tl,J[5]=eS,J[6]=a):a=J[6],(0,l.useEffect)(a);let[ts,ta]=(0,l.useState)(0);J[7]!==e9||J[8]!==eS?(d=()=>{let e=e9.current;if(!e||"edit"!==eS)return;ta(e.offsetHeight);let t=new ResizeObserver(e=>{let[t]=e;t&&ta(t.contentRect.height)});return t.observe(e),()=>t.disconnect()},u=[e9,eS],J[7]=e9,J[8]=eS,J[9]=d,J[10]=u):(d=J[9],u=J[10]),(0,l.useLayoutEffect)(d,u),J[11]!==eH||J[12]!==e9||J[13]!==tt?(p=()=>({focus:e=>e9.current?.focus(e),moveCursorToEnd:()=>{if(e9.current){let e=e9.current.value.length;e9.current.setSelectionRange(e,e)}},scrollIntoView:e=>eH.current?.scrollIntoView(e),reset:()=>tt(),inputRef:e9,[ek]:void 0}),m=[eH,e9,tt],J[11]=eH,J[12]=e9,J[13]=tt,J[14]=p,J[15]=m):(p=J[14],m=J[15]),(0,l.useImperativeHandle)(Z,p,m),J[16]!==eG?(h=e=>{let t=[];for(let r of e){let e=r.name.includes(".")?`.${r.name.split(".").pop()}`:"no-extension";(0,I.BI)("markdown_editor.file_upload.rejected_file_type",{rejected_file_type:e,mime_type:r.type||"unknown"}),t.push(e)}eG?.(e,t)},J[16]=eG,J[17]=h):h=J[17];let td=h;J[18]!==eU||J[19]!==eQ||J[20]!==tr||J[21]!==td||J[22]!==e9||J[23]!==eW||J[24]!==X?(g={emitChange:tr,value:X,inputRef:e9,disabled:eQ,onUploadFile:eW,acceptedFileTypes:eU,onFilesRejected:td},J[18]=eU,J[19]=eQ,J[20]=tr,J[21]=td,J[22]=e9,J[23]=eW,J[24]=X,J[25]=g):g=J[25];let tc=ey(g),tu=tc?.uploadProgress!==void 0;J[26]!==tr?(y={emitChange:tr},J[26]=tr,J[27]=y):y=J[27];let tf=(0,es.KI)(y);J[28]!==tr?(k={emitChange:tr},J[28]=tr,J[29]=k):k=J[29];let tp=(e=>{let t,r,n=(0,i.c)(4),{emitChange:o}=e;n[0]!==o?(t=e=>{let t=e.currentTarget;if(e.defaultPrevented||"Tab"!==e.key||t.selectionEnd-t.selectionStart==0)return;e.preventDefault();let[r,n]=(0,en.ty)(t),i=t.value.slice(r,n).split(/\r?\n/).map(t=>e.shiftKey?ei.exec(t)?.[1]??"":`  ${t}`).join(`
`);o(i,[r,n],[r,r+i.length])},n[0]=o,n[1]=t):t=n[1];let l=t;return n[2]!==l?(r={onKeyDown:l},n[2]=l,n[3]=r):r=n[3],r})(k);J[30]!==tr?(b={emitChange:tr},J[30]=tr,J[31]=b):b=J[31];let tm=(e=>{let t,r,n=(0,i.c)(4),{emitChange:o}=e;n[0]!==o?(t=e=>{if("Enter"===e.key){let t=e.currentTarget,r=t.selectionStart;if(r!==t.selectionEnd)return;let{output:n,newCursorIndex:i}=function(e){var t;let r,n,i=e.selectionStart;if(!function(e,t){let r=[],n=0,i=-1;for(;(i=eu(ed,e,n))>-1;){let t=eu(ec,e,n=i+ea.length);if(-1===t)return!1;n=t+3,r.push([i,t])}return r.some(e=>t>e[0]&&t<e[1])}(e.value,i))return{output:"",newCursorIndex:0};let o=(t=e.value,r=t.slice(0,i).split(`
`),t.split(`
`)[r.length-1]);if(null===o)return{output:"",newCursorIndex:0};let l=(n=/^(\s+)/.exec(o))&&n[0]||"",s=`
${l}`,a=i+s.length;return{output:s,newCursorIndex:a}}(t);""!==n&&(e.preventDefault(),o(n,[r,r],[i,i]))}},n[0]=o,n[1]=t):t=n[1];let l=t;return n[2]!==l?(r={onKeyDown:l},n[2]=l,n[3]=r):r=n[3],r})(b),th=(0,l.useRef)(null);J[32]!==tr||J[33]!==e4||J[34]!==eB?(x=eB?{savedReplies:eB,onSelect:e=>{requestAnimationFrame(()=>tr(e.content))},onOpen:e4,ref:th}:null,J[32]=tr,J[33]=e4,J[34]=eB,J[35]=x):x=J[35];let tg=x;J[36]!==eQ||J[37]!==tp||J[38]!==tu||J[39]!==tf||J[40]!==eT||J[41]!==ej||J[42]!==tm?(v=e=>{let t=tb.current;if(!eQ)if(e.ctrlKey&&"."===e.key)th.current?.openMenu(),e.preventDefault(),e.stopPropagation();else if((0,en.VL)(e)){if("Enter"!==e.key||tu)if("b"===e.key)t?.bold();else if("i"===e.key)t?.italic();else if(e.shiftKey&&"."===e.key)t?.quote();else if("e"===e.key)t?.code();else if("k"===e.key)t?.link();else if("8"===e.key)t?.unorderedList();else if(e.shiftKey&&"7"===e.key)t?.orderedList();else if(e.shiftKey&&["l","L"].includes(e.key))t?.taskList();else{if(!(e.shiftKey&&["p","P"].includes(e.key)))return;eT?.("preview")}else ej?.();e.preventDefault(),e.stopPropagation()}else tf.onKeyDown(e),tp.onKeyDown(e),tm.onKeyDown(e)},J[36]=eQ,J[37]=tp,J[38]=tu,J[39]=tf,J[40]=eT,J[41]=ej,J[42]=tm,J[43]=v):v=J[43];let ty=(0,C._)(v),tk=(0,l.useRef)(eT);J[44]!==eT?(w=()=>{tk.current=eT},J[44]=eT,J[45]=w):w=J[45],(0,l.useEffect)(w),J[46]!==e6||J[47]!==e9||J[48]!==eS?(N=()=>{if("preview"===eS){eb.push(e6);let e=e=>{!e.defaultPrevented&&eb.at(-1)===e6&&(0,en.VL)(e)&&e.shiftKey&&"p"===e.key&&(tk.current?.("edit"),setTimeout(()=>e9.current?.focus()),e.preventDefault())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e),eb=eb.filter(e=>e!==e6)}}},P=[eS,e6,e9],J[46]=e6,J[47]=e9,J[48]=eS,J[49]=N,J[50]=P):(N=J[49],P=J[50]),(0,l.useEffect)(N,P);let tb=(0,l.useRef)(null);J[51]!==eQ||J[52]!==tc?.clickTargetProps||J[53]!==tc?.errorMessage||J[54]!==tc?.isDraggedOver||J[55]!==tc?.uploadProgress||J[56]!==e0||J[57]!==eS?(tc?.isDraggedOver,tc?.uploadProgress,tc?.clickTargetProps,tc?.errorMessage,A={disabled:eQ,formattingToolsRef:tb,required:e0,fileDraggedOver:tc?.isDraggedOver??!1,fileUploadProgress:tc?.uploadProgress,uploadButtonProps:tc?.clickTargetProps??null,errorMessage:tc?.errorMessage,previewMode:"preview"===eS},J[51]=eQ,J[52]=tc?.clickTargetProps,J[53]=tc?.errorMessage,J[54]=tc?.isDraggedOver,J[55]=tc?.uploadProgress,J[56]=e0,J[57]=eS,J[58]=A):A=J[58];let tx=A;J[59]!==eT||J[60]!==eS?(O=e=>{(0,I.BI)("markdown_editor.select_view",{mode:e,from_mode:eS,trigger:"view_switcher",did_change:eS!==e,feature_flag_markdown_experience_hybrid_editor:e7}),eT?.(e)},J[59]=eT,J[60]=eS,J[61]=O):O=J[61];let tv=O,t_=tc?.uploadProgress!==void 0;J[62]!==to||J[63]!==tv||J[64]!==t_||J[65]!==eS?(R=(0,n.jsx)(j.m,{selectedView:eS,onViewSelect:tv,disabled:t_,onLoadPreview:to}),J[62]=to,J[63]=tv,J[64]=t_,J[65]=eS,J[66]=R):R=J[66];let tw=R;J[67]!==e6?($=(0,n.jsx)(M,{ref:tb,forInputId:e6}),J[67]=e6,J[68]=$):$=J[68];let tI="edit"===eS?"MarkdownEditor-module__inputWrapper--L6JTI":"MarkdownEditor-module__previewWrapper--Bfk_2",tj=eQ&&"MarkdownEditor-module__disabled--jxhXI",tS=e_&&L;J[69]!==eI||J[70]!==tI||J[71]!==tj||J[72]!==tS?(B=(0,E.$)(eI,tI,tj,tS),J[69]=eI,J[70]=tI,J[71]=tj,J[72]=tS,J[73]=B):B=J[73],J[74]!==tw?(F=!e8&&(0,n.jsx)("div",{className:"MarkdownEditor-module__viewSwitchWrapper--oQoLo",children:tw}),J[74]=tw,J[75]=F):F=J[75],J[76]!==e3||J[77]!==eS?(D="edit"===eS?e3.toolbar??(0,n.jsx)(et,{children:(0,n.jsx)(ee,{})}):(0,n.jsx)("div",{style:{flex:1}}),J[76]=e3,J[77]=eS,J[78]=D):D=J[78],J[79]!==tg||J[80]!==D?(z=(0,n.jsx)(Q,{value:tg,children:D}),J[79]=tg,J[80]=D,J[81]=z):z=J[81],J[82]!==tw?(V=e8&&(0,n.jsx)("div",{className:"MarkdownEditor-module__redesignedViewSwitchWrapper--lLzBL",children:tw}),J[82]=tw,J[83]=V):V=J[83],J[84]!==F||J[85]!==z||J[86]!==V?(H=(0,n.jsxs)("div",{className:"MarkdownEditor-module__header--OuWiJ",children:[F,z,V]}),J[84]=F,J[85]=z,J[86]=V,J[87]=H):H=J[87];let tT=e5?void 0:tn,tC=e5?tn:void 0,tE=tc?.isDraggedOver??!1,tN="edit"===eS,tM=tc?.pasteTargetProps,tL=tc?.dropTargetProps;return J[88]!==ex||J[89]!==eQ||J[90]!==eN||J[91]!==eM||J[92]!==e_||J[93]!==eK||J[94]!==e6||J[95]!==ty||J[96]!==te||J[97]!==e9||J[98]!==ev||J[99]!==eZ||J[100]!==eg||J[101]!==eL||J[102]!==eJ||J[103]!==eX||J[104]!==eR||J[105]!==ep||J[106]!==e1||J[107]!==eh||J[108]!==eP||J[109]!==e0||J[110]!==tT||J[111]!==tC||J[112]!==tE||J[113]!==tN||J[114]!==tM||J[115]!==tL||J[116]!==X?(W=(0,n.jsx)(q,{value:X,onChange:tT,onInput:tC,onFocus:ep,emojiSuggestions:eN,emojiTone:eM,mentionSuggestions:eL,referenceSuggestions:eP,disabled:eQ,placeholder:eh,labelledBy:ev,"aria-describedby":ex,id:e6,maxLength:eg,ref:e9,fullHeight:e_,isDraggedOver:tE,minHeightLines:eJ,maxHeightLines:eZ,visible:tN,monospace:eX,required:e0,name:eR,pasteUrlsAsPlainText:e1,generatingText:eK,...ty,...tM,...tL},te),J[88]=ex,J[89]=eQ,J[90]=eN,J[91]=eM,J[92]=e_,J[93]=eK,J[94]=e6,J[95]=ty,J[96]=te,J[97]=e9,J[98]=ev,J[99]=eZ,J[100]=eg,J[101]=eL,J[102]=eJ,J[103]=eX,J[104]=eR,J[105]=ep,J[106]=e1,J[107]=eh,J[108]=eP,J[109]=e0,J[110]=tT,J[111]=tC,J[112]=tE,J[113]=tN,J[114]=tM,J[115]=tL,J[116]=X,J[117]=W):W=J[117],J[118]!==eV||J[119]!==tc||J[120]!==eS?(U="edit"===eS&&tc?.errorMessage?(0,n.jsx)(c.F,{children:tc.errorMessage}):eV,J[118]=eV,J[119]=tc,J[120]=eS,J[121]=U):U=J[121],J[122]!==e_||J[123]!==ti||J[124]!==ts||J[125]!==e2||J[126]!==eS?(G="preview"===eS&&(0,n.jsxs)("div",{"aria-live":"polite",tabIndex:-1,className:(0,E.$)("MarkdownEditor-module__previewViewerWrapper--rhH_h",e_&&L),style:{minHeight:ts},children:[(0,n.jsx)("h2",{className:"MarkdownEditor-module__previewHeader--ktZV6",children:"Rendered Markdown Preview"}),(0,n.jsx)(S.G,{verifiedHTML:ti||"Nothing to preview",loading:null===ti,teamHovercardsEnabled:e2,openLinksInNewTab:!0})]}),J[122]=e_,J[123]=ti,J[124]=ts,J[125]=e2,J[126]=eS,J[127]=G):G=J[127],J[128]!==B||J[129]!==H||J[130]!==W||J[131]!==U||J[132]!==G?(Y=(0,n.jsxs)("div",{className:B,children:[H,W,U,G]}),J[128]=B,J[129]=H,J[130]=W,J[131]=U,J[132]=G,J[133]=Y):Y=J[133],J[134]!==tx||J[135]!==eY||J[136]!==$||J[137]!==Y?(K=(0,n.jsxs)(s,{value:tx,children:[$,Y,eY]}),J[134]=tx,J[135]=eY,J[136]=$,J[137]=Y,J[138]=K):K=J[138],K};ex.displayName="ClassicMarkdownEditor";let ev=({ref:e,hybridEditorProps:t,...r})=>{let{footer:i,banner:o,generatingText:a,...d}=r,c=(0,l.useMemo)(()=>({disabled:r.disabled??!1,required:r.required??!1,formattingToolsRef:{current:null},uploadButtonProps:null,fileDraggedOver:!1,previewMode:!1}),[r.disabled,r.required]),u=(0,l.useRef)(null);return(0,l.useImperativeHandle)(e,()=>({focus:()=>u.current?.focus(),moveCursorToEnd:()=>u.current?.moveCursorToEnd(),reset:()=>u.current?.reset(),scrollIntoView:e=>u.current?.scrollIntoView(e),get inputRef(){return u.current?.containerRef??{current:null}},[ek]:void 0})),(0,n.jsxs)(s,{value:c,children:[(0,n.jsx)(w.f,{ref:u,...d,...t,isGenerating:a,banner:o}),i]})};ev.displayName="HybridMarkdownEditorWithFooter";let e_=e=>{let t,r,o,s,d,c,u,h,g=(0,i.c)(21),{ref:y,...k}=e,{disabled:b,"aria-describedby":x,fullHeight:w,viewMode:j,onChangeViewMode:S,children:T}=k,C=void 0!==b&&b;g[0]===Symbol.for("react.memo_cache_sentinel")?(t={toolbar:er,actions:a,label:v,footer:m},g[0]=t):t=g[0];let[N,M]=(0,f.H)(T,t),[P,A]=(0,l.useState)("edit"),[O,R]=void 0===j?[P,A]:[j,S],$=(h=(0,_.G7)("markdown_experience_hybrid_editor"),"hybrid"===O&&h?"hybrid":"classic"),B=(0,l.useId)();g[1]!==N.actions||g[2]!==N.footer?(r=N.footer??(0,n.jsx)(p,{children:(0,l.isValidElement)(N.actions)&&N.actions.props.children}),g[1]=N.actions,g[2]=N.footer,g[3]=r):r=g[3];let F=r,D=x?`${B} ${x}`:B;g[4]!==F||g[5]!==D?(o={footer:F,"aria-describedby":D},g[4]=F,g[5]=D,g[6]=o):o=g[6];let z=o;(0,l.useEffect)(()=>(0,I.BI)("markdown_editor.mount",{editorType:$,feature_flag_markdown_experience_hybrid_editor:(0,_.G7)("markdown_experience_hybrid_editor")}),[$]);let V=(0,l.useRef)(null),H="hybrid"===$?(0,n.jsx)(ev,{...k,ref:y,onChangeViewMode:R,...z}):(0,n.jsx)(ex,{...k,viewMode:"hybrid"===O?"edit":O,onChangeViewMode:R,ref:y,containerRef:V,...z,children:N.toolbar}),q=(0,E.$)("MarkdownEditor-module__fieldSet--QLrYu",w&&L);g[7]!==M?(s=(0,n.jsx)("div",{className:"MarkdownEditor-module__hidden--tMY1v",children:M}),g[7]=M,g[8]=s):s=g[8];let W=`Markdown input: ${"hybrid"===O?"hybrid mode selected.":"preview"===O?" preview mode selected.":" edit mode selected."}`;return g[9]!==B||g[10]!==W?(d=(0,n.jsx)("span",{className:"sr-only",id:B,"aria-live":"polite",children:W}),g[9]=B,g[10]=W,g[11]=d):d=g[11],g[12]!==H||g[13]!==d?(c=(0,n.jsxs)("div",{ref:V,className:"MarkdownEditor-module__container--xSX9w",children:[d,H]}),g[12]=H,g[13]=d,g[14]=c):c=g[14],g[15]!==C||g[16]!==N.label||g[17]!==c||g[18]!==q||g[19]!==s?(u=(0,n.jsxs)("fieldset",{"aria-disabled":C,className:q,children:[s,N.label,c]}),g[15]=C,g[16]=N.label,g[17]=c,g[18]=q,g[19]=s,g[20]=u):u=g[20],u};e_.displayName="MarkdownEditor";let ew=Object.assign(e_,{Label:v,Toolbar:er,ToolbarButton:Y,DefaultToolbarButtons:ee,Footer:m,FooterButton:h,Actions:a,ActionButton:d,ErrorBanner:c.F,MarkdownEditorContext:s})},32964:(e,t,r)=>{r.d(t,{Al:()=>o,jr:()=>s,vp:()=>l});var n=r(47970),i=r(47601);let o="dataVideoCandidate";function l(e){(0,n.YR)(e,"element",(e,t,r)=>{if(!r||"number"!=typeof t||!(0,i.dz)(e,"p"))return;let n=e.children.filter(e=>"element"===e.type||"text"===e.type&&""!==e.value.trim());if(1!==n.length)return;let l=n[0];l?.type==="element"&&(0,i.dz)(l,"a")&&(l.properties[o]=!0)})}let s={attributes:{"*":[o]}}},33083:(e,t,r)=>{r.d(t,{Y:()=>d});var n=r(74848),i=r(16522),o=r(69599),l=r(13659),s=r(99206),a=r(34164);function d(e){let t,r,d,c,u,f=(0,i.c)(16),{onChangeViewMode:p,selectedView:m,children:h,uploadInProgress:g}=e,y=void 0===m?"hybrid":m,k=void 0!==g&&g;if(f[0]!==p||f[1]!==y||f[2]!==k){let e;r=(0,o.G7)("markdown_experience_toolbar_redesign");let i=!p||k;f[6]!==p||f[7]!==y||f[8]!==i?(e=(0,n.jsx)(s.m,{selectedView:y,onViewSelect:p,disabled:i}),f[6]=p,f[7]=y,f[8]=i,f[9]=e):e=f[9],d=e,t=(0,a.$)("Header-module__header--Sdz_S",r&&"Header-module__redesignEnabled--OIGdA"),f[0]=p,f[1]=y,f[2]=k,f[3]=t,f[4]=r,f[5]=d}else t=f[3],r=f[4],d=f[5];let b=!r&&d;f[10]===Symbol.for("react.memo_cache_sentinel")?(c=(0,n.jsx)(l.Z,{className:"Header-module__previewLabel--mn7rE"}),f[10]=c):c=f[10];let x=r&&d;return f[11]!==h||f[12]!==t||f[13]!==b||f[14]!==x?(u=(0,n.jsxs)("div",{className:t,children:[b,h,c,x]}),f[11]=h,f[12]=t,f[13]=b,f[14]=x,f[15]=u):u=f[15],u}try{d.displayName||(d.displayName="Header")}catch{}},37389:(e,t,r)=>{r.d(t,{J:()=>i,e:()=>o});var n=r(1214);function i(e,t,r){let i=n._.atOffset(e,t,r);if(r!==i?.contentStart&&r!==i?.start)return`

`;let o=i?.previous();return!o||o?.isBlank?"":`
`}function o(e,t,r=!1){return`
`===e[t]?`
`===e[t+1]?"":`
`:t>=e.length&&!r?"":`

`}},38939:(e,t,r)=>{r.d(t,{A:()=>o,u:()=>l});var n=r(77695),i=r(55220);let o=e=>{let t=e?.children?.some(e=>"delimiter"===e.type&&"labelMarker"===e.tokenType),r=e?.children?.some(e=>"delimiter"===e.type&&"resource"===e.tokenType);return t&&r},l=e=>{let t,r,l;e.hasFocus||e.focus();let s=e.state.selection.main,a=(0,i.rx)(e,"link");if(a&&o(a))return(0,i.JB)(e,a),!0;let{start:d,end:c}=(0,n.Jr)(e.state)?{start:s.from,end:s.to}:(0,n.cL)(e.state.doc.toString(),s.anchor);return a?(t="[](",r=")",l=d+1):(t="[",r="]()",l=c+3),e.dispatch({changes:[{from:d,insert:t},{from:c,insert:r}],selection:{anchor:l},userEvent:"input",scrollIntoView:!0}),!0}},39603:(e,t,r)=>{r.d(t,{Ci:()=>d,Ec:()=>a});var n=r(74848),i=r(16522),o=r(53419),l=r(96540);let s=(0,l.createContext)({trackViewSwitch:()=>{},trackToolbarInteraction:()=>{},trackKeyboardShortcut:()=>{},trackAutocompleteShown:()=>{},trackAutocompleteSelected:()=>{},trackFileUpload:()=>{}});function a(){return(0,l.use)(s)}function d(e){let t,r,l=(0,i.c)(5),{options:a,children:d}=e;l[0]!==a?(t=function({featureFlagEnabled:e,editorId:t,surface:r}){let n={feature_flag_markdown_experience_hybrid_editor:e};t&&(n.editor_id=t),r&&(n.surface=r);let i=(e,t)=>{let r={...n,...t};try{(0,o.BI)(e,r)}catch(e){if(e instanceof ReferenceError&&"string"==typeof e.message&&e.message.includes("telemetry"))return;throw e}},l=(e,t)=>{i(`hybrid_markdown_editor.${e}`,t)};return{trackViewSwitch:({from:e,to:t,trigger:r})=>{i("markdown_editor.select_view",{mode:t,from_mode:e??"unknown",trigger:r,did_change:!e||e!==t})},trackToolbarInteraction:({control:e,action:t,trigger:r,isActive:n,keybinding:i,handled:o})=>{l("toolbar_interaction",{control:e,action:t,trigger:r,is_active:n??null,keybinding:i,handled:o??null})},trackKeyboardShortcut:({commandId:e,shortcut:t,handled:r})=>{l("keyboard_shortcut",{command:e,shortcut:t,handled:r})},trackAutocompleteShown:({triggerChar:e,queryLength:t,suggestionState:r,suggestionCount:n})=>{l("autocomplete_shown",{trigger_char:e,query_length:t,suggestion_state:r,suggestion_count:n??null})},trackAutocompleteSelected:({triggerChar:e,insertedLength:t,multiStep:r,suggestionKind:n})=>{l("autocomplete_selected",{trigger_char:e,inserted_length:t,multi_step:r,suggestion_kind:n})},trackFileUpload:({phase:e,mimeType:t,sizeBytes:r,mediaKind:n,errorType:i})=>{l("file_upload",{phase:e,mime_type:t,size_bytes:r,media_kind:n??"other",error_type:i??null})}}}(a),l[0]=a,l[1]=t):t=l[1];let c=t;return l[2]!==d||l[3]!==c?(r=(0,n.jsx)(s,{value:c,children:d}),l[2]=d,l[3]=c,l[4]=r):r=l[4],r}try{s.displayName||(s.displayName="HybridEditorTelemetryContext")}catch{}try{d.displayName||(d.displayName="HybridEditorTelemetryProvider")}catch{}},42306:(e,t,r)=>{r.d(t,{dT:()=>d,hO:()=>a,mM:()=>s});var n=r(16058),i=r(78625),o=r(65012),l=r(3266);function s(e,t,r){let i=[];for(let l of e.children.slice(t+1))if("listItem"===l.type){let e=(0,n.xM)(l).listItemPrefix;if(!e||!(0,o.z)(e))continue;let t=null===r?(0,n.Ts)(e.raw):(0,n.LY)(r);i.push({from:e.position.start.offset,to:e.position.end.offset,insert:t}),r=t}return i}function a(e){return e.filter(e=>"listItem"===e.type&&(0,o.z)(e))}function d(e){if(1!==e.selection.ranges.length)return null;let t=e.selection.main.from,r=e.selection.main.to,n=(0,i.v5)((0,l.wk)(e),t,r),o=n.findLastIndex(e=>"list"===e.type),s=n[o];if(!s)return null;let d=a((0,i.aI)(s,t,r));if(0===d.length)return null;let c=n.slice(0,o),u=[];for(let e of c)if("listItem"===e.type){let t=u.at(-1);t&&(t.item=e)}else"list"===e.type&&u.push({list:e,item:void 0});return{list:s,selectedItems:d,parents:u}}},42931:(e,t,r)=>{r.d(t,{O:()=>o});var n=r(16522),i=r(96540);let o=e=>{let t,r,o=(0,n.c)(6),{htmlContainerRef:l,htmlContainer:s,onLinkClick:a,openLinksInNewTab:d}=e;o[0]!==s||o[1]!==l||o[2]!==a||o[3]!==d?(t=()=>{let e=l?.current||s;if(!e)return;let t=e=>{let t=e.target.closest("a");t&&(a?.(e),!e.defaultPrevented&&d&&t.href&&(window.open(t.href,"_blank","noopener noreferrer"),e.preventDefault()))};return e.addEventListener("click",t),()=>{e?.removeEventListener("click",t)}},r=[s,l,a,d],o[0]=s,o[1]=l,o[2]=a,o[3]=d,o[4]=t,o[5]=r):(t=o[4],r=o[5]),(0,i.useEffect)(t,r)}},43346:(e,t,r)=>{function n(e,t){if(e===t)return!0;if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}r.d(t,{XT:()=>i,c5:()=>n,gU:()=>l});let i=()=>(...e)=>new Set(e);function o(e){return e.endsWith("/")?e.slice(0,e.length-1):e}function l(e){try{let t=new URL(e);return o(t.href).trim()===o(e).trim()}catch{return!1}}},45007:(e,t,r)=>{r.d(t,{S:()=>o});var n=r(54571),i=r(96540);let o=({disabled:e,minHeightLines:t,maxHeightLines:r,elementRef:o,value:l})=>{let[s,a]=(0,i.useState)(void 0),[d]=(0,n.I)(()=>CSS.supports("field-sizing","content"),!0),c=(0,i.useCallback)(()=>{if(e)return;let t=o.current;if(!t||d||!l)return;let r=getComputedStyle(t);a(`calc(${t.scrollHeight}px - ${r.paddingTop} - ${r.paddingBottom})`)},[e,o,d,l]);return(0,i.useLayoutEffect)(c,[c]),(0,i.useEffect)(c,[]),{height:s,minHeight:t?`${t}lh`:void 0,maxHeight:r?`${r}lh`:void 0,boxSizing:"content-box",fieldSizing:"content",overflowWrap:"anywhere"}}},45580:(e,t,r)=>{r.d(t,{S:()=>i,t:()=>n});let n={strong:"**",emphasis:"_",inlineCode:"`",delete:"~"},i={"*":"*",_:"_",$:"$","~":"~","[":"]","(":")","`":"`"}},47601:(e,t,r)=>{r.d(t,{_z:()=>a,dz:()=>l,nT:()=>s,rf:()=>function e(t){return t.children.map(t=>"text"===t.type?t.value:"element"!==t.type||Object.hasOwn(t.properties??{},o.Lm)?"":e(t)).join("")}});var n=r(91775),i=r(55035),o=r(75617);function l(e,t){return"element"===e.type&&e.tagName===t}function s(e){if(!e)return{};let t={};for(let r of Object.getOwnPropertyNames(e)){let o=(0,n.I)(i.qy,r),l=e[r]?.toString();"string"==typeof l&&(t[o.attribute]=l)}return t}function a(e,t,r){if(e===t)return!0;if(e.type!==t.type)return!1;let n=r?.ignorePosition?(e,t)=>"position"===e?{}:t:void 0;return JSON.stringify(e,n)===JSON.stringify(t,n)}},48749:(e,t,r)=>{r.d(t,{h:()=>n});function n(e){let t=e.raw,r=t.search(/\S/),n=t.length-t.trimEnd().length;return{startOffset:e.position.start.offset+r,endOffset:e.position.end.offset-n}}},53548:(e,t,r)=>{r.d(t,{bF:()=>W,lM:()=>V,Jr:()=>Y,oE:()=>K,b5:()=>Q,kD:()=>J,rk:()=>Z,o8:()=>X,SF:()=>q,Kp:()=>H,gk:()=>z,xn:()=>G,VA:()=>ee,Dc:()=>et,KB:()=>U,QF:()=>en});var n=r(24774),i=r(1214),o=r(78625),l=r(65012),s=r(3266);let a=e=>e.map(e=>e.prefixes.filter(e=>"blockQuotePrefix"===e.tokenType));var d=r(53839),c=r(1830);let u=e=>{if(1!==e.state.selection.ranges.length||!e.state.selection.main.empty)return!1;let t=e.state.doc.toString(),r=e.state.selection.main.anchor,n=(0,s.wk)(e.state),o=i._.atOffset(n,t,r);if(!o?.isBlank)return!1;let l=o.lastPrefix;if(l?.tokenType!=="blockQuotePrefix"||!o.isOffsetAfterPrefixes(r))return!1;let a=l.position?.start.offset??o.start,u="",f=a;return o.previous()?.isBlank===!1&&(u+=`
`,f+=1),o.next()?.isBlank===!1&&(u+=`
`),e.dispatch({changes:[{from:a,to:o.end,insert:u}],selection:d.OF.single(f),annotations:[c.c.of("escapeBlockquote")],userEvent:"input.type",scrollIntoView:!0}),!0},f=e=>{var t;if(1!==e.state.selection.ranges.length||!e.state.selection.main.empty)return!1;let r=e.state.doc.toString(),n=e.state.selection.main.anchor,a=(0,s.wk)(e.state),d=(0,o.NC)(a,n);if(d?.type!=="code")return!1;let c=i._.atOffset(a,r,n);if(!c||n!==c.end)return!1;let u=d.children?.find(e=>"delimiter"===e.type&&"codeFencedFence"===e.tokenType);if(!u||!(0,l.z)(u)||!c.contains(u.position.start.offset))return!1;let f=(t=u.raw,t.match(/^(`{3,}|~{3,})/)?.[1]??null);return!!f&&(e.dispatch({changes:[{from:n,insert:`

${f}`}],selection:{anchor:n+1},userEvent:"input.type",scrollIntoView:!0}),!0)};var p=r(77695);function m(e){let t=e.state.selection.main.anchor,r=(0,s.wk)(e.state),n=(0,o.NC)(r,t);return n?.type==="code"}let h=e=>{let{from:t}=(0,p.j6)(e.state);return!!m(e)&&((0,p.Jr)(e.state)?e.dispatch(e.state.changeByRange(e=>({changes:[{from:t,insert:"	"}],range:d.OF.range(e.from+1,e.to+1)})),{userEvent:"input.type",scrollIntoView:!0}):e.dispatch(e.state.replaceSelection("	")),!0)},g=e=>{let t=e.state.selection.main.anchor,r=e.state.doc.toString(),{from:n,to:i}=(0,p.j6)(e.state);if(m(e)){let o=r.slice(n,i);return o.startsWith("	")?(e.dispatch({changes:[{from:n,to:n+1,insert:""}],userEvent:"input.type",scrollIntoView:!0}),!0):!o.startsWith("    ")||(e.dispatch({changes:[{from:n,to:n+4,insert:""}],selection:d.OF.single(t-4),userEvent:"input.type",scrollIntoView:!0}),!0)}return!1};var y=r(13233),k=r(45580),b=r(55220),x=r(38939),v=r(37389),_=r(16058),w=r(42306);let I=e=>{if(1!==e.state.selection.ranges.length)return!1;let t=(0,s.wk)(e.state),r=e.state.doc.toString(),n=(0,w.dT)(e.state);if(!n)return!1;let o=n?.parents.at(-1),a=o&&(0,_.xM)(o.item).listItemPrefix?.raw,d=n.selectedItems.map(e=>i._.linesAtRange(t,r,e.position.start.offset,e.position.end.offset-1)),u=d.some(e=>e.some(e=>!e.isBlank)),f=new WeakSet,p=[];for(let[e,t]of n.selectedItems.entries())for(let[r,n]of(d[e]??[]).entries()){let e=0===r?n.prefixes.findLast(e=>"listItemPrefix"===e.tokenType):void 0,i=n.prefixes.findLast(e=>"listItemIndent"===e.tokenType),o=0===r?n.prefixes.find(e=>"taskListCheck"===e.tokenType):void 0,s=0===r&&(0,_.Wq)(n.content),d=n.prefixes.some(e=>"listItemIndent"===e.tokenType),c=0===r&&n.isBlank&&!d&&(void 0!==o||s);c&&f.add(t);let u=c&&o&&(0,l.z)(o)?o.position.end.offset:c&&s?n.contentStart+n.content.length:e?.position?.end.offset??i?.position?.end.offset??o?.position?.start.offset??n.contentStart,m={from:i?.position?.start.offset??e?.position?.start.offset??n.start,to:u,insert:a&&e?a=(0,_.LY)(a):""};p.push(m)}let m=n.list.children.indexOf(n.selectedItems.at(-1));m>-1&&p.push((0,w.mM)(n.list,m,null));let h=[];if(o){let e=o.list.children.indexOf(o.item);p.push((0,w.mM)(o.list,e,a??""))}else{for(let e of n.selectedItems){let{taskListPrefix:t}=(0,_.xM)(e);t&&(0,l.z)(t)&&!f.has(e)&&p.push({from:t.position.start.offset,to:t.position.end.offset})}if(u){let e=i._.atOffset(t,r,n.selectedItems[0].position.start.offset-1);e?.prefixes.some(e=>"listItemPrefix"===e.tokenType||"listItemIndent"===e.tokenType)&&p.push({from:e.end,insert:`
`});let o=i._.atOffset(t,r,n.selectedItems.at(-1).position.end.offset+1);o?.prefixes.some(e=>"listItemPrefix"===e.tokenType||"listItemIndent"===e.tokenType)&&p.push({from:o.start,insert:`
`}),h.push(c.c.of("escapeList"))}}return e.dispatch({scrollIntoView:!0,userEvent:"input",changes:p,annotations:h}),!0},j=e=>{if(1!==e.state.selection.ranges.length||!e.state.selection.main.empty)return!1;let t=e.state.doc.toString(),r=e.state.selection.main.anchor,n=(0,s.wk)(e.state),o=i._.atOffset(n,t,r);return!!o&&!!S(o,r)&&I(e)},S=(e,t)=>!!e.isBlank&&e.lastPrefix?.tokenType==="listItemPrefix"&&e.isOffsetAfterPrefixes(t);var T=r(9445);function C(e,t){if(0===t)return e.start;for(let r of e.prefixes)if("blockQuotePrefix"===r.tokenType&&0==--t)return r.position?.end.offset??e.start;return e.start}function E(e,t,r,n){let o=[],s=null;for(let a of(0,w.hO)(r.children))for(let[r,d]of i._.linesAtRange(e,t,a.position.start.offset,a.position.end.offset-1).entries())if(0===r){let e=d?.prefixes.find(e=>"listItemPrefix"===e.tokenType);if(!e||!(0,l.z)(e))continue;let t=s?(0,_.LY)(s):(0,_.el)(n);o.push({from:e.position.start.offset,to:e.position.end.offset,insert:t}),s=t}else{let e=d?.prefixes.find(e=>"listItemIndent"===e.tokenType);if(!e||!s||!(0,l.z)(e)||e.raw.length===s.length)continue;o.push({from:e.position.start.offset,to:e.position.end.offset,insert:(0,T.cz)(s)})}return o}let N=e=>(t,r)=>{let n,a=t.state,c=(0,s.wk)(a),u=a.doc.toString(),f=a.selection.main,p=f.from===f.to,m=p?i._.atOffset(c,u,f.from):null,h="keyboard"===r?"input.type":"input",g=Array.from((0,o.v5)(c,f.from,f.to,!0)).findLast(e=>"list"===e.type);if(g)if((g.ordered??!1)===e)return(e=>{let t=(0,s.wk)(e.state),r=e.state.doc.toString(),n=(0,w.dT)(e.state);if(!n)return!1;let o=n.parents.length,a=[];for(let e of(0,w.hO)(n.list.children))for(let n of i._.linesAtRange(t,r,e.position.start.offset,e.position.end.offset-1)){let e=function(e,t){for(let r of e.prefixes)if("listItemIndent"===r.tokenType||"listItemPrefix"===r.tokenType){if(0===t)return r;t--}}(n,o);e&&(0,l.z)(e)&&a.push({from:e.position.start.offset,to:e.position.end.offset})}return!!a.length&&(e.dispatch({changes:a,userEvent:"input",scrollIntoView:!0}),!0)})(t);else{let r=E(c,u,g,e);return t.dispatch({changes:r,scrollIntoView:!0,userEvent:h}),!0}let y=(0,o.aI)(c,f.from,f.to),k=0;for(;1===y.length&&"blockquote"===y[0].type;)y=(0,o.aI)(y[0],f.from,f.to),k++;let b=m?m.prefixes.filter(e=>"blockQuotePrefix"===e.tokenType).length:0;b>k&&(k=b);let x=null,v=[],I=[];for(let t of y){if("list"===t.type){v.push(...E(c,u,t,e));continue}let r=(0,l.z)(t)?i._.linesAtRange(c,u,t.position.start.offset,t.position.end.offset-1):[];r.length>0&&I.push({lines:r,nodeType:t.type})}0===I.length&&m&&I.push({lines:[m],nodeType:"paragraph"});let j=I.length;for(let[t,r]of I.entries()){let{lines:n,nodeType:i}=r;for(let[r,o]of n.entries()){let l=o.overlaps(f.from,f.to)||p&&(f.from===o.start||f.from===o.end);if(o.isBlank&&!l)continue;let s=C(o,k);if("paragraph"!==i||l){if(0===r||"paragraph"===i){let t=o.previous(),r=t&&t.isBlank;null!==x||!t||t.isBlank||o.isBlank||v.push({from:o.start-1,insert:`
`});let n=null===x||r?(0,_.el)(e):(0,_.LY)(x),i={from:s,insert:n};v.push(i),x=n}else x&&v.push({from:s,insert:(0,T.cz)(x)});if(!o.isBlank&&t===j-1&&r===n.length-1){let e=o.next();e&&!e.isBlank&&v.push({from:o.end,insert:`
`})}}}}if(0===v.length){let t=i._.atOffset(c,u,f.from);if(t&&p&&(f.from===t.start||f.from===t.end)){let r=t.prefixes.filter(e=>"blockQuotePrefix"===e.tokenType).length,i=C(t,k||r),o=t.previous(),l=o&&!o.isBlank?1:0;l&&v.push({from:t.start-1,insert:`
`});let s=(0,_.el)(e);if(v.push({from:i,insert:s}),!n){let e=i+l+s.length;n=d.OF.single(e,e)}let a=t.next();a&&!a.isBlank&&v.push({from:t.end,insert:`
`})}if(0===v.length)return!1}if(!n&&p&&v.length>0)try{let t=d.VR.of(v,u.length);if(m?.isBlank){let e=t.mapPos(f.from,1);n=d.OF.single(e)}else{let r=t.apply(d.EY.of(u.split(`
`))).toString(),i=(0,_.el)(e),o=Math.max(0,t.mapPos(f.from,-1)-i.length),l=r.indexOf(i,o);-1===l&&(l=r.indexOf(i));let s=r.indexOf(`
${i}`,Math.max(0,f.from-1));if(-1!==s&&(-1===l||s+1<l))l=s+1;else if(-1!==l&&`
`!==r.charAt(l-1)){let e=r.indexOf(`
${i}`,Math.max(0,f.from-1));-1!==e&&(l=e+1)}let a=t.mapPos(f.from,1);if(l>=0&&a<l+i.length&&(a=l+i.length),l>=0){let e=r.indexOf(`
${i}`,Math.max(0,l-1));if(-1!==e){let t=e+1+i.length;a<t&&(a=t)}}let c=Math.min(a,r.length);n=d.OF.single(c,c)}}catch{}let S={changes:v,scrollIntoView:!0,userEvent:h};return n&&(S.selection=n),t.dispatch(S),!0},M=N(!1),L=N(!0),P=(0,_.DN)(!1),A=`- ${P}`;function O(e,t){let r=e.children.filter(e=>"listItem"===e.type);return r[r.indexOf(t)-1]}let R=e=>{if(1!==e.state.selection.ranges.length)return!1;let t=(0,s.wk)(e.state),r=e.state.doc.toString(),n=(0,w.dT)(e.state);if(!n)return!1;let o=function(e){let t=e.list,r=e.selectedItems,n=r[0]&&O(t,r[0]),i=[...e.parents];for(;!n;){let e=i.pop();if(!e)return null;t=e.list,r=[e.item],n=O(t,e.item)}return{list:t,items:r,previousSibling:n}}(n);if(!o||!o.items[0])return!0;let a=(0,_.xM)(o.previousSibling).listItemPrefix?.raw??"* ",d=" ".repeat(a.length),c=o.previousSibling.children?.findLast(e=>"list"===e.type)?.children?.findLast(e=>"listItem"===e.type),u=c?(0,_.LY)((0,_.xM)(c).listItemPrefix?.raw??"* "):(0,_.Ts)((0,_.xM)(o.items[0]).listItemPrefix?.raw??"* "),f=o.items.map(e=>{if(!(0,l.z)(e))return[];let n=-1;return i._.linesAtRange(t,r,e.position.start.offset,e.position.end.offset-1).map((e,t)=>{if(0===t){n=e.prefixes.findIndex(e=>"listItemPrefix"===e.tokenType);let t={from:e.prefixes[n]?.position?.start?.offset??e.start,to:e.prefixes[n]?.position?.end?.offset??e.contentStart,insert:`${d}${u}`};return u=(0,_.LY)(u),t}return{from:e.prefixes[n]?.position?.start?.offset??e.start,insert:d}})}),p=o.list.children.indexOf(o.items.at(-1));return f.push((0,w.mM)(o.list,p,a)),e.dispatch({scrollIntoView:!0,userEvent:"input",changes:f}),!0};var $=r(48749),B=r(95917);let F=e=>{let t=(0,w.dT)(e.state),r=t?.selectedItems[0];if(!r)return!1;let n=(0,p.JC)(e.state);if((0,B.Ji)(e.state).some(e=>"code"===e.type&&(null===n||(0,l.z)(e)&&(0,o.DV)(n,n,e.position.start.offset,e.position.end.offset)&&e.position.start.offset!==n&&(e.children?.filter(e=>"delimiter"===e.type&&"codeFencedFence"===e.tokenType).length===1||e.position.end.offset!==n))))return!1;let{listItemPrefix:i,taskListPrefix:s}=(0,_.xM)(r),a=s??i;if(a&&(0,l.z)(a)&&(0,$.h)(a).endOffset>e.state.selection.main.from)return!1;let d=i?.raw;if(!d)return!1;let u=(0,_.LY)(d);u.endsWith(" ")||(u+=" "),s&&(u+=(0,_.DN)(!1));let f=t.selectedItems.at(-1),m=t.list.ordered?(0,w.mM)(t.list,t.list.children.indexOf(f),u):[];return e.dispatch(e.state.replaceSelection(`
${u}`),{annotations:[c.c.of("escapeList")],userEvent:"input",scrollIntoView:!0,changes:m}),!0},D=e=>{let t=e.state.selection.main.anchor,r=(0,s.wk)(e.state),n=(0,o.NC)(r,t);return n?.type==="link"&&(window.open(n.url,"_blank","noopener,noreferrer"),!0)},z={key:"Mod-k",run:x.u},V={key:"Mod-b",run:e=>(0,b.Gr)(e,"strong")},H={key:"Mod-i",run:e=>(0,b.Gr)(e,"emphasis")},q={key:"Mod-e",run:e=>(0,b.Gr)(e,"inlineCode")},W={key:"Mod-Shift-.",run:e=>{let t,r;e.hasFocus||e.focus();let n=(0,s.wk)(e.state),d=e.state.doc.toString(),c=e.state.selection.main,u=i._.linesAtRange(n,d,c.from,c.to),f=a(u);if(t=0===f.length,r=f.some(e=>0===e.length),t||r){if(1===u.length&&u[0]?.isBlank)return e.dispatch({changes:[{from:c.from,insert:"> "}],selection:{anchor:c.from+2},userEvent:"input",scrollIntoView:!0}),!0;let t=[];for(let e of u)e.prefixes.some(e=>"blockQuotePrefix"===e.tokenType)||t.push({from:e.start,insert:"> "});e.dispatch({changes:t,userEvent:"input",scrollIntoView:!0})}else{let t=[...new Set(f.map(e=>e.length))].sort((e,t)=>e-t),r=(0,o.Uh)(n,c.from,c.to).find(e=>"blockquote"===e.type);if(!r||!(0,l.z)(r))return!0;let s=r.position.start.offset,u=r.position.end.offset,p=a(i._.linesAtRange(n,d,s,u)),m=[];for(let e of p){let r=!1,n=0;for(let i of t){if(e.length<i)continue;let t=e[i-1];t&&(0,l.z)(t)&&(r=e.length===i,n++,m.push({from:t.position.start.offset,to:t.position.end.offset}))}let i=e[e.length-1];i&&r&&n<e.length&&(0,l.z)(i)&&m.push({from:i.position.start.offset,insert:" "})}e.dispatch({changes:m,userEvent:"input",scrollIntoView:!0})}return!0}},U={key:"Mod-Shift-8",run:M},G={key:"Mod-Shift-7",run:L},Y={key:"Mod-Alt-1",run:e=>(0,y._4)(e,1)},K={key:"Mod-Alt-2",run:e=>(0,y._4)(e,2)},Q={key:"Mod-Alt-3",run:e=>(0,y._4)(e,3)},J={key:"Mod-Alt-4",run:e=>(0,y._4)(e,4)},Z={key:"Mod-Alt-5",run:e=>(0,y._4)(e,5)},X={key:"Mod-Alt-6",run:e=>(0,y._4)(e,6)},ee={key:"Mod-Shift-x",run:e=>(0,b.Gr)(e,"delete")},et={key:"Mod-Shift-l",run:e=>{e.hasFocus||e.focus();let t=e.state.selection.main,r=(0,s.wk)(e.state),n=e.state.doc.toString(),o=t.from,a=t.to,c=i._.linesAtRange(r,n,o,Math.max(a-1,o)),u=[];for(let t of c){let r=t.prefixes.find(e=>"taskListCheck"===e.tokenType);if(r&&(0,l.z)(r)){let e=r.position.start.offset,t=r.position.end.offset;" "===n.charAt(t)&&(t+=1),u.push({from:e,to:t});continue}let i=t.prefixes.findLast(e=>"listItemPrefix"===e.tokenType);if(i&&(0,l.z)(i)){let e=i.position.end.offset,r=n.slice(e,t.end).match(/^\[[ xX]\]\s*/);if(r){u.push({from:e,to:e+r[0].length});continue}u.push({from:e,to:e,insert:P});continue}let o=t.contentStart;e.state.doc.sliceString(o,o+A.length)!==A&&u.push({from:o,to:o,insert:A})}if(0===u.length)return!0;let f=d.VR.of(u,e.state.doc.length),p=t.anchor===t.head,m=t.anchor<=t.head,h=f.mapPos(t.anchor,p?1:m?-1:1),g=f.mapPos(t.head,p||m?1:-1);return e.dispatch({changes:u,selection:d.OF.single(h,g),userEvent:"input",scrollIntoView:!0}),!0}},er=Object.keys(k.S).map(e=>({key:e,run:t=>{if(t.state.selection.main.empty)return!1;if("`"===e||"~"===e)return((e,t)=>{let{doc:r,selection:n}=e.state,i=n.main,o=t.repeat(2),l=Math.max(0,i.from-2),a=r.sliceString(l,i.from),c=r.sliceString(i.to,i.to+2);if(i.from>=2&&a===o&&c===o){let n=r.sliceString(i.from,i.to),o=i.to+2,a=r.toString(),c=(0,s.wk)(e.state),u=(0,v.J)(c,a,l),f=(0,v.e)(a,o),p=`${t}
`,m=n.endsWith(`
`)?t:`
${t}`,h=[];u&&h.push({from:l,insert:u}),h.push({from:i.from,insert:p}),h.push({from:i.to,insert:m}),f&&h.push({from:o,insert:f});let g=u.length+p.length;return e.dispatch(e.state.changeByRange(e=>({changes:h,range:d.OF.range(e.from+g,e.to+g)})),{userEvent:"input",scrollIntoView:!0}),!0}return(0,b.un)(e,t,t),!0})(t,e);let r=k.S[e];return(0,b.un)(t,e,r),!0}}));function en({primaryAction:e,trackKeyboardShortcut:t}){let r=[{binding:{key:"Enter",run:f},commandId:"close_code_block"},{binding:{key:"Enter",run:j},commandId:"dedent_list_if_blank_item"},{binding:{key:"Enter",run:F},commandId:"insert_new_list_item"},{binding:{key:"Enter",run:u},commandId:"split_blockquote_if_blank_line"},{binding:{key:"Alt-Enter",run:D},commandId:"visit_if_link"},{binding:{key:"Mod-Enter",run:e},commandId:"primary_action"},{binding:z,commandId:"format_link"},{binding:V,commandId:"format_bold"},{binding:H,commandId:"format_italic"},{binding:q,commandId:"format_inline_code"},{binding:ee,commandId:"format_strikethrough"},{binding:et,commandId:"format_task_list"},{binding:W,commandId:"format_blockquote"},{binding:U,commandId:"format_unordered_list"},{binding:G,commandId:"format_ordered_list"},{binding:Y,commandId:"format_heading_1"},{binding:K,commandId:"format_heading_2"},{binding:Q,commandId:"format_heading_3"},{binding:J,commandId:"format_heading_4"},{binding:Z,commandId:"format_heading_5"},{binding:X,commandId:"format_heading_6"},...er.map(e=>({binding:e,commandId:e.key?`wrap_with_${e.key.replace(/[^a-zA-Z0-9]+/g,"_").toLowerCase()}`:"wrap_with_delimiter"})),{binding:{key:"Tab",run:h},commandId:"indent_line_if_code_block"},{binding:{key:"Shift-Tab",run:g},commandId:"unindent_line_if_code_block"},{binding:{key:"Shift-Tab",run:I},commandId:"dedent_selected_list_items"},{binding:{key:"Tab",run:R},commandId:"indent_selected_list_items"},{binding:{key:"Mod-[",run:I},commandId:"dedent_selected_list_items_mod"},{binding:{key:"Mod-]",run:R},commandId:"indent_selected_list_items_mod"}].map(({binding:e,commandId:r})=>((e,r)=>{if(!e.run||!e.key)return e;let n=e.run,i=e.key;return{...e,run:e=>{let o=n(e);return t({commandId:r,shortcut:i,handled:o}),o}}})({...e},r));return n.w4.of(r)}},55220:(e,t,r)=>{r.d(t,{Gr:()=>f,JB:()=>c,j9:()=>d,rx:()=>a,un:()=>u});var n=r(53839),i=r(65012),o=r(95917),l=r(77695),s=r(45580);let a=(e,t)=>(0,o.Ji)(e.state).findLast(e=>e.type===t),d=e=>e.children?e.children.filter(e=>"delimiter"===e.type):[],c=(e,t)=>{let r=d(t).filter(i.z);if(0===r.length)return;let n=r.map(e=>({from:e.position.start.offset,to:e.position.end.offset}));e.dispatch({changes:n,userEvent:"input",scrollIntoView:!0})},u=(e,t,r)=>{e.dispatch(e.state.changeByRange(e=>({changes:[{from:e.from,insert:t},{from:e.to,insert:r}],range:n.OF.range(e.from+t.length,e.to+t.length)})),{userEvent:"input",scrollIntoView:!0})},f=(e,t)=>{e.hasFocus||e.focus();let r=a(e,t);if(r)return c(e,r),!0;let n=s.t[t];if((0,l.Jr)(e.state))u(e,n,n);else{let t=(0,o.Ji)(e.state).find(e=>"text"===e.type);((e,t,r,n)=>{let o=e.state.selection.main.anchor,s=n?.value&&(0,i.z)(n),{text:a,offset:d}=s?{text:n.value,offset:o-n.position.start.offset}:{text:e.state.doc.toString(),offset:o},c=s?n.position.start.offset:0,{start:u,end:f}=(0,l.cL)(a,d);e.dispatch({changes:[{from:u+c,insert:t},{from:f+c,insert:r}],selection:{anchor:o+t.length},userEvent:"input",scrollIntoView:!0})})(e,n,n,t)}return!0}},62173:(e,t,r)=>{r.d(t,{y:()=>l});var n=r(96379),i=r(96540);async function o({text:e,issue:t,repository:r,project:i,subjectType:o,path:l,lineNumber:s,startCommitOid:a,endCommitOid:d,baseCommitOid:c,subject:u,startLineNumber:f}){let p=new FormData;p.append("text",e),p.append("issue",t),p.append("repository",r),p.append("project",i),l&&p.append("path",l),s&&p.append("line_number",s.toString()),a&&p.append("start_commit_oid",a),d&&p.append("end_commit_oid",d),c&&p.append("base_commit_oid",c),u&&p.append("subject",u.toString()),f&&p.append("start_line_number",f.toString()),o&&p.append("subject_type",o);let m=await (0,n.DI)("/preview",{body:p,method:"POST"});return m.ok?Promise.resolve(await m.text()):Promise.resolve("Markdown preview unavailable")}function l({subjectId:e,subjectType:t,subject:r,subjectRepoId:n,lineNumber:l,path:s,startCommitOid:a,startLineNumber:d,endCommitOid:c,baseCommitOid:u}){return(0,i.useCallback)(async i=>o({text:i,issue:e?.toString()??"",repository:n?.toString()??"",project:e?.toString()??"",subjectType:function(e){switch(e){case"issue":return"Issue";case"pull_request":return"PullRequest";case"project":return"Project";default:return}}(t),subject:r,lineNumber:l,path:s,startCommitOid:a,endCommitOid:c,baseCommitOid:u,startLineNumber:d}),[e,n,t,r,l,s,a,d,c,u])}},65012:(e,t,r)=>{function n(e){return void 0!==e.position&&void 0!==e.position.start&&void 0!==e.position.end&&"number"==typeof e.position.start.offset&&"number"==typeof e.position.end.offset}function i(e,t){return n(e)&&n(t)?e.position.start.offset!==t.position.start.offset?e.position.start.offset-t.position.start.offset:e.position.end.offset-t.position.end.offset:0}r.d(t,{y:()=>i,z:()=>n})},65826:(e,t,r)=>{r.d(t,{Ek:()=>d,Ph:()=>f,xf:()=>g});var n=r(74848),i=r(16522),o=r(90204),l=r(59403),s=r(5524),a=r(74508);function d(e){return"character"in e&&void 0!==e.character}let c=new Set(["+1","thumbsup","-1"]),u={triggerChar:":",keepTriggerCharOnCommit:!1},f=(e,t)=>void 0!==t?(0,n.jsx)("g-emoji",{alias:e.name,tone:t,"fallback-src":e.url,children:e.character}):e.character,p=e=>{let t,r,o,l=(0,i.c)(9),{emoji:a,tone:c}=e;return l[0]!==a||l[1]!==c?(t=d(a)?f(a,c):(0,n.jsx)("img",{src:a.url,alt:`${a.name} emoji`,height:"16",width:"16"}),l[0]=a,l[1]=c,l[2]=t):t=l[2],l[3]!==t?(r=(0,n.jsx)(s.l.LeadingVisual,{children:t}),l[3]=t,l[4]=r):r=l[4],l[5]!==a.name||l[6]!==e||l[7]!==r?(o=(0,n.jsxs)(s.l.Item,{...e,children:[r,a.name]}),l[5]=a.name,l[6]=e,l[7]=r,l[8]=o):o=l[8],o},m=(e,t)=>{let r=t.name.toLowerCase(),n=e.toLowerCase(),i=0;return r.includes(n)&&(i+=5,r.startsWith(n)&&(i+=5)),0===i?l.IP:i},h=(e,t)=>{let r=e.name.toLowerCase(),n=t.name.toLowerCase();return c.has(r)&&!c.has(n)?-1:c.has(n)&&!c.has(r)?1:0},g=(e,t)=>{let r,n,l=(0,i.c)(5);if(t?.tone,l[0]!==e||l[1]!==t?.tone){let n;r=(0,a.C)(e,m,h,(n=t?.tone,e=>({value:d(e)?void 0!==n?(0,o.R3)(e.character,n):e.character:`:${e.name}:`,key:e.name,render:t=>p({...t,emoji:e,tone:n})})),!0),l[0]=e,l[1]=t?.tone,l[2]=r}else r=l[2];let s=r;return l[3]!==s?(n={calculateSuggestions:s,trigger:u},l[3]=s,l[4]=n):n=l[4],n};try{c.displayName||(c.displayName="PRIORITIZED_EMOJIS")}catch{}try{p.displayName||(p.displayName="RenderEmoji")}catch{}},66964:(e,t,r)=>{r.d(t,{f:()=>i});var n=r(96540);let i=e=>{let[t,r]=(0,n.useState)(null),i=(0,n.useMemo)(()=>e.map(({trigger:e})=>e),[e]);return{triggers:i,suggestions:(0,n.useMemo)(()=>{if(!t)return null;for(let{trigger:r,suggestionsCalculator:n}of e)if(t.trigger.triggerChar===r.triggerChar)return n(t.query);return null},[t,e]),setSuggestionEvent:r,active:!!t}}},74508:(e,t,r)=>{r.d(t,{C:()=>i});var n=r(59403);let i=(e,t,r,i,o)=>l=>{if("loading"===e)return"loading";let s=l?e.map(e=>[t(l,e),e]).filter(([e])=>e>n.IP).sort(([e,t],[n,i])=>n===e?-r(i,t):n-e).slice(0,5).map(([,e])=>e):e.slice(0,5);return o&&s.sort(r),s.map(i)}},75617:(e,t,r)=>{r.d(t,{JZ:()=>m,Lm:()=>s,YF:()=>f,vQ:()=>p});var n=r(74313),i=r(16143),o=r(43346),l=r(65012);let s="dataDelimiter";function a(e){let t=[];for(let r of e.children??[])"delimiter"===r.type&&t.push(r);return t}let d={tableDelimiter:"td",tableDelimiterRow:"tr"};function c(e){let t={[s]:e.tokenType},r=e.children?.length?e.children.map(c):e.raw,i=(0,n.h)(d[e.tokenType]??"span",t,r);return(0,l.z)(e)&&(i.position={start:{...e.position.start},end:{...e.position.end}}),i}let u=(e,t)=>{let r=(0,i._)(t);if("element"===r.type){let e=a(t).map(c);r.children?.length?r.children=[...r.children,...e].sort(l.y):r.children=e}else if("text"===t.type)return[r,...a(t).map(c)];return r};function f(e){let t=e.properties?.[s];return"string"==typeof t?t:null}let p={handlers:{...Object.fromEntries(Array.from((0,o.XT)()("break","blankLine","code","definition","footnoteReference","image","imageReference","inlineCode","text","thematicBreak","yaml")).map(e=>[e,u])),delimiter:(e,t)=>c(t)}},m={attributes:{"*":[s]}}},76533:(e,t,r)=>{r.d(t,{F:()=>s});var n=r(74848),i=r(16522),o=r(11680),l=r(43715);let s=(0,r(96540).memo)(e=>{let t,r=(0,i.c)(2),{children:s}=e;return r[0]!==s?(t=(0,n.jsx)(o.l,{hideTitle:!0,variant:"critical",layout:"compact",title:"Error",description:(0,n.jsx)(l.o,{children:s}),flush:!0,className:"ErrorBanner-module__errorBanner--uXkz4"}),r[0]=s,r[1]=t):t=r[1],t});s.displayName="MarkdownEditor.ErrorBanner"},77695:(e,t,r)=>{function n(e){return 1===e.selection.ranges.length&&!e.selection.main.empty}function i(e){let t=e.selection.main.anchor,r=e.doc.toString(),n=r.slice(0,t).lastIndexOf(`
`)+1,i=r.indexOf(`
`,t);return -1===i&&(i=r.length),{from:n,to:i}}function o(e,t){let r=t,n=t,i=e=>/[^\w\d']/.test(e);for(;r>0&&e[r-1];){let t=e[r-1];if("'"===t){let t=e[r-2];if(!t||i(t)||/\s/.test(t))break}if(i(t))break;r--}for(;n<e.length&&e[n];){let t=e[n];if("'"===t){let t=e[n+1];if(!t||i(t)||/\s/.test(t))break}if(i(t))break;n++}return{start:r,end:n}}function l(e){return 1===e.selection.ranges.length&&e.selection.main.empty?e.selection.main.anchor:null}r.d(t,{IC:()=>s,JC:()=>l,Jr:()=>n,cL:()=>o,j6:()=>i});let s=(e,t)=>{try{let r=e.domAtPos(t);if(r?.node)try{let e=document.createRange();e.setStart(r.node,r.offset),e.setEnd(r.node,r.offset);let t=e.getBoundingClientRect();if(0!==t.left||0!==t.right||0!==t.top||0!==t.bottom)return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}catch{}return e.coordsAtPos(t)??null}catch{return null}}},78625:(e,t,r)=>{r.d(t,{DT:()=>l,DV:()=>d,H5:()=>u,NC:()=>f,On:()=>m,Uh:()=>s,aI:()=>a,v5:()=>c,z0:()=>p});var n=r(47970),i=r(76814),o=r(65012);function l(e,t,r,n){return e>=r&&e<=n||t>=r&&t<=n||e<=r&&t>=n}function s(e,t,r){let s=[];return(0,n.YR)(e,e=>{if((0,o.z)(e))if(!l(t,r,e.position.start.offset,e.position.end.offset))return i._Z;else s.push(e)}),s}function a(e,t,r){return e.children.filter(e=>(0,o.z)(e)&&l(t,r,e.position?.start.offset,e.position.end.offset))}function d(e,t,r,n,i){return i?e>=r&&t<=n:e>=r&&t<=n&&(e!==r||t!==n)}function c(e,t,r,l){let s=[];return(0,n.YR)(e,e=>{if((0,o.z)(e))if(!d(t,r,e.position.start.offset,e.position.end.offset,l))return i._Z;else s.push(e)}),s}function u(e,t,r){let s=[];return(0,n.YR)(e,e=>{if(!(0,o.z)(e))return;let n=e.position.start.offset,a=e.position.end.offset;if(!l(t,r,n,a))return i._Z;n>=t&&a<=r&&s.push(e)}),s}function f(e,t){let r;return(0,n.YR)(e,e=>{if((0,o.z)(e))if(!d(t,t,e.position.start.offset,e.position.end.offset)||"text"===e.type||"delimiter"===e.type)return i._Z;else r=e}),r}function p(e,t){return{column:e.column+t.column-1,line:e.line+t.line-1,offset:(e.offset??0)+(t.offset??0)}}function m(e,t){let r=t.split(`
`),n=r.at(-1);return{...e,line:e.line+r.length-1,column:1===r.length?e.column+t.length:n.length+1,offset:void 0!==e.offset?e.offset+t.length:void 0}}},80752:(e,t,r)=>{r.d(t,{KI:()=>d,VB:()=>s,a1:()=>a});var n=r(16522),i=r(88567);let o=/^(\s*(?:>\s*)*(?:[*-]\s{1,4})*)([*-]|(\d+)\.)(\s{1,4})(?:(\[[\sx]\])\s)?(.*)/i,l=e=>"number"==typeof e?.delimeter,s=e=>{let t=o.exec(e);if(!t)return null;let[,r="",n,i="",l,s=null,a]=t,d=Number.parseInt(i,10);return{leadingWhitespace:r,text:a,delimeter:Number.isNaN(d)?n:d,middleWhitespace:l,taskBox:s}},a=e=>"number"==typeof e.delimeter?`${e.leadingWhitespace}${e.delimeter}.${e.middleWhitespace}${e.taskBox?`${e.taskBox} `:""}${e.text}`:`${e.leadingWhitespace}${e.delimeter}${e.middleWhitespace}${e.taskBox||""} ${e.text}`,d=e=>{let t,r,o,a=(0,n.c)(7),{emitChange:d}=e;a[0]!==d?(t=(e,t)=>{let[r,n]=t||(0,i.ty)(e),o=s(e.value.slice(r,n));if(!l(o))return;let a=e.value.slice(n+1).split(/\r?\n/),u=[],f=o.delimeter;for(let e of a){let t=s(e);if(!l(t)||t.delimeter!==f)break;u.push(t),f++}if(0===u.length)return;let p=`
${u.map(c).join(`
`)}`;d(p,[n,n+p.length+1],e.selectionStart)},a[0]=d,a[1]=t):t=a[1];let u=t;a[2]!==d||a[3]!==u?(r=e=>{if("Enter"===e.key&&!e.shiftKey&&!e.defaultPrevented){let t=e.currentTarget,[r,n]=(0,i.ty)(t),o=s(t.value.slice(r,t.selectionStart)+t.value.slice(t.selectionEnd,n));if(o)if(e.preventDefault(),t.selectionStart===r){let e=(({leadingWhitespace:e="",delimeter:t,taskBox:r})=>{let n="number"==typeof t?`${t}.`:t;return`${n}${e}${r?" [ ]":" "}
`})(o);null===e?d("",[r,t.selectionEnd]):(d(e),u(t,[r,r+e.length-1]))}else{let e=(({leadingWhitespace:e="",delimeter:t,taskBox:r,text:n})=>{if(!n)return null;let i="number"==typeof t?`${t+1}.`:t;return`
${e}${i}${r?" [ ]":""} `})(o);null===e?d("",[r,t.selectionEnd]):(d(e),u(t))}}},a[2]=d,a[3]=u,a[4]=r):r=a[4];let f=r;return a[5]!==f?(o={onKeyDown:f},a[5]=f,a[6]=o):o=a[6],o};function c(e){return a({...e,delimeter:e.delimeter+1})}},81285:(e,t,r)=>{r.d(t,{M:()=>L});var n,i=r(74848),o=r(16522),l=r(69599),s=r(38621),a=r(64954),d=r(34164),c=r(1214),u=r(78625),f=r(65012),p=r(3266),m=r(55220);let h="```\n",g=e=>{e.hasFocus||e.focus();let t=(0,p.wk)(e.state),r=e.state.doc.toString(),n=e.state.selection.main,{from:i,to:o}=n,l=(0,m.rx)(e,"code");if(l){if(!(0,f.z)(l)||"code"!==l.type)return!1;let t=(0,m.j9)(l).filter(f.z);if(0===t.length)return!1;let r=t.map((e,r)=>({from:r===t.length-1?e.position.start.offset-1:e.position.start.offset,to:0===r?e.position.end.offset+1:e.position.end.offset}));return e.dispatch({changes:r,userEvent:"input",scrollIntoView:!0}),!0}let s=[],a=[...(0,u.Uh)(t,i,o)].filter(e=>"code"===e.type).flatMap(e=>{let t=(0,m.j9)(e).filter(f.z);return t.map((e,r)=>({from:r===t.length-1?e.position.start.offset-1:e.position.start.offset,to:0===r?e.position.end.offset+1:e.position.end.offset}))}),d=a.at(0)?.from,g=a.at(-1)?.to;s.push(...a);let y=c._.linesAtRange(t,r,i,o),k=y[0]?.isOffsetAfterPrefixes(i)?y[0]?.contentStart:y[0]?.start,b=y.at(-1)?.end,x=void 0!==d&&void 0!==k?Math.min(k,d):k,v=void 0!==g&&void 0!==b?Math.max(b,g):b;if(void 0===x||void 0===v)return!1;s.push({from:x,insert:h},{from:v,insert:"\n```"});let _=n.empty&&c._.atOffset(t,r,n.from)?.isBlank;return e.dispatch({changes:s,selection:_?{anchor:x+h.length}:void 0,userEvent:"input",scrollIntoView:!0}),!0};var y=r(38939),k=r(42306),b=r(53548),x=r(16058),v=r(29255),_=r(96540),w=r(13233),I=r(39603),j=r(18169);function S(e){return e?.replaceAll("+","Plus")?.replaceAll("-","+")}let T=()=>{let e,t=(0,o.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)("div",{className:"Toolbar-module__menuLeadingVisualPlaceholder--X75XP"}),t[0]=e):e=t[0],e},C=()=>{let e=(0,I.Ec)(),{view:t,selectedNodes:r}=(0,_.use)(j.P),n=(0,_.useMemo)(()=>{if(t)return(0,w.kH)(t)},[r,t]),o=(0,_.useCallback)(e=>!!t&&(0,w._n)(t,e),[r,t]),l=(0,_.useCallback)(e=>{if(void 0!==n)return n===e?s.CheckIcon:T},[n]),d=(0,_.useCallback)(e=>{let t=S(e.key);if(t)return(({keys:e})=>function(){return(0,i.jsx)(v.U,{className:"Toolbar-module__menuKeybindingHint--ET28p",keys:e})})({keys:t})},[]),c=(0,_.useCallback)((r,i)=>{if(!t)return;let o=n===r,l=(i.run||(()=>!1))(t,"toolbar");e.trackToolbarInteraction({control:`heading_${r}`,action:`heading_${r}`,trigger:"toolbar",isActive:o,keybinding:i.key,handled:l})},[e,t,n]),u=(0,_.useCallback)(r=>{if(!t)return;let n=!1;"increase"===r&&(n=(0,w.WZ)(t,"increase")),"decrease"===r&&(n=(0,w.WZ)(t,"decrease")),e.trackToolbarInteraction({control:`${r}_heading_level`,action:`${r}_heading_level`,trigger:"toolbar",isActive:!0,handled:n})},[e,t]);return(0,i.jsx)(a.A.Menu,{"aria-label":"Heading",icon:s.HeadingIcon,items:[{label:"Heading 1",onClick:()=>c(1,b.Jr),leadingVisual:l(1),trailingVisual:d(b.Jr)},{label:"Heading 2",onClick:()=>c(2,b.oE),leadingVisual:l(2),trailingVisual:d(b.oE)},{label:"Heading 3",onClick:()=>c(3,b.b5),leadingVisual:l(3),trailingVisual:d(b.b5)},{label:"Heading 4",onClick:()=>c(4,b.kD),leadingVisual:l(4),trailingVisual:d(b.kD)},{label:"Heading 5",onClick:()=>c(5,b.rk),leadingVisual:l(5),trailingVisual:d(b.rk)},{label:"Heading 6",onClick:()=>c(6,b.o8),leadingVisual:l(6),trailingVisual:d(b.o8)},{type:"divider"},{label:"Increase heading level",onClick:()=>u("increase"),disabled:!o("increase")},{label:"Decrease heading level",onClick:()=>u("decrease"),disabled:!o("decrease")}]})};try{T.displayName||(T.displayName="CheckIconPlaceholder")}catch{}try{(n=TrailingVisual).displayName||(n.displayName="TrailingVisual")}catch{}try{C.displayName||(C.displayName="HeadingMenu")}catch{}let E=e=>{let t,r,n,l,s,d,c,u,f,p=(0,o.c)(26);p[0]!==e?({command:t,matchingNodeFilter:r,resolveIsPressed:l,telemetryId:s,...n}=e,p[0]=e,p[1]=t,p[2]=r,p[3]=n,p[4]=l,p[5]=s):(t=p[1],r=p[2],n=p[3],l=p[4],s=p[5]);let{view:m,selectedNodes:h}=(0,_.use)(j.P);if(p[6]!==r||p[7]!==l||p[8]!==h){let e=h.some(r);d=l?.(h,e)??e,p[6]=r,p[7]=l,p[8]=h,p[9]=d}else d=p[9];let g=d,y=(0,I.Ec)(),k=n["aria-label"],b="function"!=typeof t,x=(b?t.run:t)??N,v=b?t.key:void 0;p[10]!==k||p[11]!==x||p[12]!==v||p[13]!==g||p[14]!==y||p[15]!==s||p[16]!==m?(c=()=>{if(!m)return;m.hasFocus||m.focus();let e=x(m,"toolbar");y.trackToolbarInteraction({control:s??k??"unknown",action:s??k??"unknown",trigger:"toolbar",isActive:g,keybinding:v,handled:e})},p[10]=k,p[11]=x,p[12]=v,p[13]=g,p[14]=y,p[15]=s,p[16]=m,p[17]=c):c=p[17];let w=c;p[18]!==v?(u=S(v),p[18]=v,p[19]=u):u=p[19];let T=!m;return p[20]!==g||p[21]!==n||p[22]!==w||p[23]!==u||p[24]!==T?(f=(0,i.jsx)(a.A.IconButton,{variant:"invisible",onMouseDown:M,keybindingHint:u,disabled:T,onClick:w,"aria-pressed":g,...n}),p[20]=g,p[21]=n,p[22]=w,p[23]=u,p[24]=T,p[25]=f):f=p[25],f};function N(){return!1}function M(e){return e.preventDefault()}E.displayName="MarkdownEditor.ToolbarButton";let L=e=>{let t,r,n,c,u,f,p,m,h,y,v,_,w,I,S,T,N,M,L,D,z,V,H,q,W,U,G,Y,K,Q,J,Z,X=(0,o.c)(83),{view:ee,fileUploadButton:et,selectedNodes:er,customButtons:en}=e;if(X[0]!==en||X[1]!==er||X[2]!==ee){let e,o,g,C,B,F,U=(0,l.G7)("markdown_experience_toolbar_redesign");X[28]===Symbol.for("react.memo_cache_sentinel")?(e=e=>(function(e){return"listItem"===e.type})(e)&&!!(0,x.xM)(e).taskListPrefix,X[28]=e):e=X[28];let G=e;X[29]===Symbol.for("react.memo_cache_sentinel")?(o=e=>"list"===e.type&&e.children.some(e=>G(e)),X[29]=o):o=X[29];let Y=o;X[30]===Symbol.for("react.memo_cache_sentinel")?(g=e=>{let t=e.list,r=new Set;for(let n of e.selectedItems)if(G(n)?r.add("task"):r.add(t.ordered?"ordered":"unordered"),r.size>1)return null;return r.values().next().value??null},X[30]=g):g=X[30];let K=g;X[31]===Symbol.for("react.memo_cache_sentinel")?(C=e=>{for(let t=e.length-1;t>=0;t-=1){let r=e[t];if(!r||"listItem"!==r.type)continue;if(G(r))return"task";let n=(0,x.xM)(r).listItemPrefix?.raw??"";return/^\s*(?:\d+\.|\d+\))/u.test(n)?"ordered":"unordered"}return null},X[31]=C):C=X[31];let Q=C,J=ee?(0,k.dT)(ee.state):null,Z=e=>(t,r)=>{let n=Q(t)??(J?K(J):null);return!!r&&!!n&&n===e};M=(0,d.$)("Toolbar-module__container--afgOi",U&&"Toolbar-module__leftAligned--fsPhq"),c=a.A,I="Formatting tools",S="Toolbar-module__actionBar--Igyiz",N="none",n=j.P,X[32]!==er||X[33]!==ee?(f={view:ee,selectedNodes:er},X[32]=er,X[33]=ee,X[34]=f):f=X[34],p=en,X[35]!==en?(m=!!en&&(0,i.jsx)(a.A.Divider,{}),X[35]=en,X[36]=m):m=X[36],X[37]===Symbol.for("react.memo_cache_sentinel")?(h=(0,i.jsx)(E,{"aria-label":"Bold",icon:s.BoldIcon,command:b.lM,telemetryId:"bold",matchingNodeFilter:P}),y=(0,i.jsx)(E,{"aria-label":"Italic",icon:s.ItalicIcon,command:b.Kp,telemetryId:"italic",matchingNodeFilter:A}),v=(0,i.jsx)(E,{"aria-label":"Link",icon:s.LinkIcon,command:b.gk,telemetryId:"link",matchingNodeFilter:O}),_=(0,i.jsx)(E,{"aria-label":"Code",icon:s.CodeIcon,command:b.SF,telemetryId:"inline_code",matchingNodeFilter:R}),w=(0,i.jsx)(E,{"aria-label":"Quote",icon:s.QuoteIcon,command:b.bF,telemetryId:"blockquote",matchingNodeFilter:$}),X[37]=h,X[38]=y,X[39]=v,X[40]=_,X[41]=w):(h=X[37],y=X[38],v=X[39],_=X[40],w=X[41]),r=a.A.Group,X[42]===Symbol.for("react.memo_cache_sentinel")?(H=(0,i.jsx)(a.A.Divider,{}),X[42]=H):H=X[42],X[43]===Symbol.for("react.memo_cache_sentinel")?(B=e=>"list"===e.type&&!e.ordered&&!Y(e),X[43]=B):B=X[43],q=(0,i.jsx)(E,{"aria-label":"Unordered list",icon:s.ListUnorderedIcon,command:b.KB,telemetryId:"unordered_list",matchingNodeFilter:B,resolveIsPressed:Z("unordered")}),X[44]===Symbol.for("react.memo_cache_sentinel")?(F=e=>"list"===e.type&&!!e.ordered&&!Y(e),X[44]=F):F=X[44],W=(0,i.jsx)(E,{"aria-label":"Ordered list",icon:s.ListOrderedIcon,command:b.xn,telemetryId:"ordered_list",matchingNodeFilter:F,resolveIsPressed:Z("ordered")}),t=E,u="Task list",T=s.TasklistIcon,L=b.Dc,D="task_list",X[45]===Symbol.for("react.memo_cache_sentinel")?(z=e=>G(e),X[45]=z):z=X[45],V=Z("task"),X[0]=en,X[1]=er,X[2]=ee,X[3]=t,X[4]=r,X[5]=n,X[6]=c,X[7]=u,X[8]=f,X[9]=p,X[10]=m,X[11]=h,X[12]=y,X[13]=v,X[14]=_,X[15]=w,X[16]=I,X[17]=S,X[18]=T,X[19]=N,X[20]=M,X[21]=L,X[22]=D,X[23]=z,X[24]=V,X[25]=H,X[26]=q,X[27]=W}else t=X[3],r=X[4],n=X[5],c=X[6],u=X[7],f=X[8],p=X[9],m=X[10],h=X[11],y=X[12],v=X[13],_=X[14],w=X[15],I=X[16],S=X[17],T=X[18],N=X[19],M=X[20],L=X[21],D=X[22],z=X[23],V=X[24],H=X[25],q=X[26],W=X[27];return X[46]!==t||X[47]!==u||X[48]!==T||X[49]!==L||X[50]!==D||X[51]!==z||X[52]!==V?(U=(0,i.jsx)(t,{"aria-label":u,icon:T,command:L,telemetryId:D,matchingNodeFilter:z,resolveIsPressed:V}),X[46]=t,X[47]=u,X[48]=T,X[49]=L,X[50]=D,X[51]=z,X[52]=V,X[53]=U):U=X[53],X[54]!==r||X[55]!==U||X[56]!==H||X[57]!==q||X[58]!==W?(G=(0,i.jsxs)(r,{children:[H,q,W,U]}),X[54]=r,X[55]=U,X[56]=H,X[57]=q,X[58]=W,X[59]=G):G=X[59],X[60]===Symbol.for("react.memo_cache_sentinel")?(Y=(0,i.jsx)(a.A.Divider,{}),X[60]=Y):Y=X[60],X[61]===Symbol.for("react.memo_cache_sentinel")?(K=(0,i.jsxs)(a.A.Group,{children:[(0,i.jsx)(E,{"aria-label":"Code block",icon:s.CodeSquareIcon,command:g,telemetryId:"code_block",matchingNodeFilter:B}),(0,i.jsx)(C,{}),(0,i.jsx)(E,{"aria-label":"Strikethrough",icon:s.StrikethroughIcon,command:b.VA,telemetryId:"strikethrough",matchingNodeFilter:F})]}),X[61]=K):K=X[61],X[62]!==n||X[63]!==et||X[64]!==f||X[65]!==p||X[66]!==m||X[67]!==h||X[68]!==y||X[69]!==v||X[70]!==_||X[71]!==w||X[72]!==G?(Q=(0,i.jsxs)(n,{value:f,children:[p,m,h,y,v,_,w,G,Y,et,K]}),X[62]=n,X[63]=et,X[64]=f,X[65]=p,X[66]=m,X[67]=h,X[68]=y,X[69]=v,X[70]=_,X[71]=w,X[72]=G,X[73]=Q):Q=X[73],X[74]!==c||X[75]!==I||X[76]!==S||X[77]!==N||X[78]!==Q?(J=(0,i.jsx)(c,{"aria-label":I,className:S,gap:N,children:Q}),X[74]=c,X[75]=I,X[76]=S,X[77]=N,X[78]=Q,X[79]=J):J=X[79],X[80]!==M||X[81]!==J?(Z=(0,i.jsx)("div",{className:M,children:J}),X[80]=M,X[81]=J,X[82]=Z):Z=X[82],Z};function P(e){return"strong"===e.type}function A(e){return"emphasis"===e.type}function O(e){return"link"===e.type&&(0,y.A)(e)}function R(e){return"inlineCode"===e.type}function $(e){return"blockquote"===e.type}function B(e){return"code"===e.type}function F(e){return"delete"===e.type}L.displayName="HybridMarkdownEditor.Toolbar"},84174:(e,t,r)=>{r.d(t,{V:()=>l});var n=r(74848),i=r(16522),o=r(46251);let l=e=>{let t,r=(0,i.c)(9),{label:l,link:s,className:a}=e;if(s){let e;return r[0]!==a||r[1]!==l||r[2]!==s?(e=(0,n.jsxs)(o.B,{direction:"horizontal",gap:"condensed",align:"baseline",className:a,children:[l," ",s]}),r[0]=a,r[1]=l,r[2]=s,r[3]=e):e=r[3],e}if(a){let e;return r[4]!==a||r[5]!==l?(e=(0,n.jsx)("span",{className:a,children:l}),r[4]=a,r[5]=l,r[6]=e):e=r[6],e}return r[7]!==l?(t=(0,n.jsx)(n.Fragment,{children:l}),r[7]=l,r[8]=t):t=r[8],t};try{l.displayName||(l.displayName="LabelWithLink")}catch{}},88316:(e,t,r)=>{r.d(t,{f:()=>v});var n=r(74848),i=r(16522),o=r(69599),l=r(75202),s=r(96540),a=r(11635),d=r(90670),c=r(34164),u=r(1878),f=r(33083),p=r(81285);function m(e){let t,r,o,l,s=(0,i.c)(7),{value:a,placeholder:d}=e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(f.Y,{selectedView:"hybrid",children:(0,n.jsx)(p.M,{view:null,selectedNodes:[],fileUploadButton:(0,n.jsx)(u.g,{disabled:!0})})}),r=(0,c.$)("cm-editor","cm-content","SuspenseFallback-module__container--lkjVZ"),s[0]=t,s[1]=r):(t=s[0],r=s[1]),s[2]!==d||s[3]!==a?(o=a||(0,n.jsx)("div",{className:"SuspenseFallback-module__placeholder--rtvCC",children:d}),s[2]=d,s[3]=a,s[4]=o):o=s[4],s[5]!==o?(l=(0,n.jsxs)(n.Fragment,{children:[t,(0,n.jsx)("div",{className:r,children:o})]}),s[5]=o,s[6]=l):l=s[6],l}try{m.displayName||(m.displayName="SuspenseFallback")}catch{}var h=r(39603),g=r(64954),y=r(18169);function k({icon:e,"aria-label":t,disabled:r,keybindingHint:i,onClick:o,telemetryId:l}){let{view:a}=(0,s.use)(y.P),d=(0,h.Ec)();return(0,n.jsx)(g.A.IconButton,{variant:"invisible",onMouseDown:e=>e.preventDefault(),disabled:!a||r,onClick:()=>{if(!a)return;a.hasFocus||a.focus();let e=o(a);d.trackToolbarInteraction({control:l??t??"unknown",action:l??t??"unknown",trigger:"toolbar",isActive:!1,keybinding:i,handled:e})},icon:e,"aria-label":t,keybindingHint:i})}try{k.displayName||(k.displayName="CustomToolbarButton")}catch{}let b=(0,s.lazy)(async()=>({default:(await Promise.all([r.e(3088),r.e(15874),r.e(45230),r.e(31164),r.e(73048),r.e(25670)]).then(r.bind(r,25670))).CodeMirrorEditor}));function x(e){let t,r,c,u,f,p,g,y,k,x,v,_,w=(0,i.c)(26);return w[0]!==e?({onChangeViewMode:r,value:p,placeholder:c,ref:u,isGenerating:t,...f}=e,w[0]=e,w[1]=t,w[2]=r,w[3]=c,w[4]=u,w[5]=f,w[6]=p):(t=w[1],r=w[2],c=w[3],u=w[4],f=w[5],p=w[6]),w[7]!==r?(g=(0,n.jsx)(a.x,{onChangeViewMode:r}),w[7]=r,w[8]=g):g=w[8],w[9]===Symbol.for("react.memo_cache_sentinel")?(y={featureFlagEnabled:(0,o.G7)("markdown_experience_hybrid_editor")},w[9]=y):y=w[9],w[10]!==c||w[11]!==p?(k=(0,n.jsx)(m,{value:p,placeholder:c}),w[10]=c,w[11]=p,w[12]=k):k=w[12],w[13]!==t||w[14]!==r||w[15]!==c||w[16]!==u||w[17]!==f||w[18]!==p?(x=(0,n.jsx)(b,{ref:u,onChangeViewMode:r,value:p,placeholder:c,isGenerating:t,...f}),w[13]=t,w[14]=r,w[15]=c,w[16]=u,w[17]=f,w[18]=p,w[19]=x):x=w[19],w[20]!==k||w[21]!==x?(v=(0,n.jsx)(h.Ci,{options:y,children:(0,n.jsx)(s.Suspense,{fallback:k,children:x})}),w[20]=k,w[21]=x,w[22]=v):v=w[22],w[23]!==g||w[24]!==v?(_=(0,n.jsx)("div",{className:d.A.container,children:(0,n.jsx)(l.t,{fallback:g,children:v})}),w[23]=g,w[24]=v,w[25]=_):_=w[25],_}let v=Object.assign(x,{ToolbarButton:k});try{b.displayName||(b.displayName="CodeMirrorEditor")}catch{}try{x.displayName||(x.displayName="HybridMarkdownEditorComponent")}catch{}try{v.displayName||(v.displayName="HybridMarkdownEditor")}catch{}},88567:(e,t,r)=>{r.d(t,{TG:()=>u,VL:()=>a,iQ:()=>s,nf:()=>l,pF:()=>d,ty:()=>o});var n=r(18651),i=r(91446);let o=e=>{let t=e.value.lastIndexOf(`
`,e.selectionStart-1)+1,r=e.value.indexOf(`
`,e.selectionEnd);return -1===r&&(r=e.value.length),[t,r]},l=e=>`<!-- ${e.replaceAll("--","\\-\\-")} -->`,s=(e,t)=>`[${e.replaceAll("[","\\[").replaceAll("]","\\]")}](${t.replaceAll("(","\\(").replaceAll(")","\\)")})`,a=e=>(0,n.U0)()?e.metaKey:e.ctrlKey,d=async e=>{let t=await (0,i.pF)(e);return t?{width:t.width,height:t.height,ppi:t.pixelsPerInch}:null},c=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),u=(e,t,r="Image")=>{let n=c(r),o=c(t);if(e.ppi===i.Sv){let t=Math.round(e.width/2),r=Math.round(e.height/2);return`<img width="${t}" height="${r}" alt="${n}" src="${o}" />`}return e&&e.width>0&&e.height>0?`<img width="${e.width}" height="${e.height}" alt="${n}" src="${o}" />`:`![${n}](${o})`}},90670:(e,t,r)=>{r.d(t,{A:()=>n});let n={container:"HybridMarkdownEditor-module__container--P0pK8",modPressed:"HybridMarkdownEditor-module__modPressed--Yxc01",isDraggedOver:"HybridMarkdownEditor-module__isDraggedOver--HtKSP",editorWrapper:"HybridMarkdownEditor-module__editorWrapper--EZVPm",skeletonOverlay:"HybridMarkdownEditor-module__skeletonOverlay--BC4BD",generatingText:"HybridMarkdownEditor-module__generatingText--uH9Of"}},91446:(e,t,r)=>{r.d(t,{Sv:()=>i,pF:()=>o});var n=r(50467);let PNGScanner=class PNGScanner{advance(e){this.pos+=e}readInt(e){let t=(()=>{switch(e){case 1:return this.dataview.getUint8(this.pos);case 2:return this.dataview.getUint16(this.pos);case 4:return this.dataview.getUint32(this.pos);default:throw Error("bytes parameter must be 1, 2 or 4")}})();return this.advance(e),t}readChar(){return this.readInt(1)}readShort(){return this.readInt(2)}readLong(){return this.readInt(4)}readString(e){let t=new Uint8Array(this.dataview.buffer,this.pos,e);return this.advance(e),new TextDecoder("ascii").decode(t)}scan(e){let t=[137,80,78,71,13,10,26,10];for(let e=0;e<t.length;e++)if(this.dataview.getUint8(this.pos+e)!==t[e])throw Error("Invalid PNG file: header signature mismatch");for(this.advance(8);this.pos<this.dataview.byteLength;){let t=this.readLong(),r=this.readString(4),n=this.pos+t+4;if(!1===e.call(this,r,t)||"IEND"===r)break;this.pos=n}}constructor(e){(0,n._)(this,"dataview",void 0),(0,n._)(this,"pos",void 0),this.dataview=new DataView(e),this.pos=0}};let i=144,o=async e=>{let t,r,n=await new Promise((t,r)=>{let n=new FileReader;n.onload=()=>t(n.result),n.onerror=()=>r(n.error),n.readAsArrayBuffer(e)});return n?(t=new PNGScanner(n),r={width:0,height:0,pixelsPerInch:72},t.scan(function(e){switch(e){case"IHDR":r.width=this.readLong(),r.height=this.readLong();break;case"pHYs":{let e=this.readLong(),t=this.readLong();return 1===this.readChar()&&(r.pixelsPerInch=Math.round((e+t)/2*.0254)),!1}case"IDAT":return!1}return!0}),r):null}},91886:(e,t,r)=>{r.d(t,{Qd:()=>l,Sv:()=>o,fD:()=>i});var n=r(43346);let i=(0,n.XT)()("break","delete","emphasis","footnoteReference","html","image","imageReference","inlineCode","link","linkReference","strong","text","delimiter"),o=(0,n.XT)()("delete","emphasis","heading","link","linkReference","paragraph","strong","tableCell","root"),l=new Set(["delete","delimiter","emphasis","inlineCode","paragraph","strong","text","root"])},95863:(e,t,r)=>{r.d(t,{wd:()=>s});var n=r(96540);let i=/^([^/]+)\/([^;]+)/,o=e=>{if(e.startsWith("."))return t=>t.name.toLowerCase().endsWith(e.toLowerCase());{let t=i.exec(e);if(null===t)return()=>!1;let[,r,n]=t;return e=>{let[,t,o]=i.exec(e.type)??[];return r?.toLowerCase()===t?.toLowerCase()&&("*"===n||n?.toLowerCase()===o?.toLowerCase())}}};function l(e){let t=(0,n.useMemo)(()=>e.acceptedFileTypes?.map(o),[e.acceptedFileTypes]),r=(0,n.useCallback)(e=>t?.some(t=>t(e))??!0,[t]);return(0,n.useCallback)(function(t){if(0===t.length)return!1;if(e.multi){let n=[],i=[];for(let e of t)r(e)?n.push(e):i.push(e);e.onSelect(n,i)}else{let n=t[0];n&&r(n)?e.onSelect(n,void 0):e.onSelect(void 0,n)}return!0},[r,e.multi,e.onSelect])}function s(e){let t,r=function(e){let t=l(e),{multi:r,acceptedFileTypes:i}=e,o=(0,n.useCallback)(()=>{let e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("multiple",r?"true":"false"),i&&e.setAttribute("accept",i.join(", ")),e.addEventListener("change",e=>{let r=e.target;r instanceof HTMLInputElement&&r.files&&t(r.files)},{once:!0}),e.click()},[i,r,t]);return(0,n.useMemo)(()=>({onClick:o}),[o])}(e),i=(t=l(e),(0,n.useMemo)(()=>({onPaste:e=>{t(e.clipboardData.files)&&e.preventDefault()}}),[t])),[o,s]=function(e){let t=l(e),[r,i]=(0,n.useState)(!1),o=(0,n.useCallback)(()=>i(!1),[]),s=(0,n.useCallback)(e=>{a(e)&&(i(!0),e.stopPropagation(),e.preventDefault())},[]),d=(0,n.useCallback)(e=>{a(e)&&(e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy")},[]),c=(0,n.useCallback)(e=>{t(e.dataTransfer.files)&&(e.preventDefault(),i(!1))},[t]);return[r,(0,n.useMemo)(()=>({onDragEnter:s,onDragOver:d,onDragLeave:o,onDrop:c}),[c,d,o,s])]}(e);return(0,n.useMemo)(()=>({clickTargetProps:r,pasteTargetProps:i,dropTargetProps:s,isDraggedOver:o}),[r,s,o,i])}let a=e=>e.dataTransfer.types.includes("Files")||Array.from(e.dataTransfer.items).some(e=>"file"===e.kind)},95917:(e,t,r)=>{r.d(t,{Ji:()=>c,Kr:()=>l,aG:()=>d,gJ:()=>u});var n=r(53839),i=r(78625),o=r(3266);let l=[];function s(e){let t=(0,o.wk)(e),r=e.selection.main;return(0,i.v5)(t,r.from,r.to,!0)}let a=n.sU.define({create:s,update:(e,t)=>!t.startState.selection.eq(t.newSelection)||(0,o.AT)(t)?s(t.state):e,provide:()=>[o.YZ]}),d=a;function c(e){return e.field(a)}function u(e){if(!e.startState.selection.eq(e.newSelection)||(0,o.AT)(e))return!0;let t=e.startState.field(a),r=e.state.field(a);if(t.length!==r.length)return!0;for(let e=0;e<t.length;e++)if(t[e]!==r[e])return!0;return!1}},97673:(e,t,r)=>{r.d(t,{k:()=>p});var n=r(74848),i=r(16522),o=r(59403),l=r(20263),s=r(5524),a=r(74508);let d={triggerChar:"#",multiWord:!0},c=e=>({value:e.id,render:t=>(0,n.jsxs)(s.l.Item,{...t,children:[e.iconHtml&&(0,n.jsx)(s.l.LeadingVisual,{children:(0,n.jsx)(l.BC,{html:e.iconHtml})}),(0,n.jsx)("span",{className:"use-reference-suggestions-module__suggestionTitle--NZoUv",children:(0,n.jsx)(l.BC,{html:e.titleHtml})})," ",(0,n.jsxs)(s.l.Description,{truncate:!0,children:["#",e.id]})]})}),u=(e,t)=>(0,o.dt)(e,`${t.id} ${t.titleText}`),f=(e,t)=>0,p=e=>{let t,r,n=(0,i.c)(4);if(n[0]!==e){let r=(0,a.C)(e,u,f,c);t=e=>/^\d+\s/.test(e)?[]:r(e),n[0]=e,n[1]=t}else t=n[1];let o=t;return n[2]!==o?(r={calculateSuggestions:o,trigger:d},n[2]=o,n[3]=r):r=n[3],r}},98211:(e,t,r)=>{r.d(t,{U:()=>l,g:()=>o});var n=r(16522),i=r(96540);let o=Symbol("callbackCancelledResult"),l=(e,t)=>{let r,l,s,a,d,c=(0,n.c)(7),u=void 0!==t&&t,f=(0,i.useRef)(e);c[0]!==e?(r=()=>{f.current=e},l=[e],c[0]=e,c[1]=r,c[2]=l):(r=c[1],l=c[2]),(0,i.useLayoutEffect)(r,l);let p=(0,i.useRef)(!1);return c[3]!==u?(s=()=>(p.current=!0,()=>{u||(p.current=!1)}),a=[u],c[3]=u,c[4]=s,c[5]=a):(s=c[4],a=c[5]),(0,i.useEffect)(s,a),c[6]===Symbol.for("react.memo_cache_sentinel")?(d=(...e)=>p.current?f.current(...e):o,c[6]=d):d=c[6],d}},99206:(e,t,r)=>{r.d(t,{m:()=>g});var n=r(74848),i=r(16522),o=r(69599),l=r(38621),s=r(39768),a=r(34164);let d="segmented-control-module__segmentedControl--qAOgQ",c="segmented-control-module__active--fOdti",u=e=>{let t,r,u,f,p,m,h,g,y,k,b,x,v,_=(0,i.c)(34),{selectedView:w,onViewSelect:I,onLoadPreview:j,disabled:S}=e;_[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,o.G7)("markdown_experience_hybrid_editor"),_[0]=t):t=_[0];let T=t,C="edit"===w&&c;_[1]!==C?(r=(0,a.$)(d,C),_[1]=C,_[2]=r):r=_[2];let E="edit"===w;_[3]===Symbol.for("react.memo_cache_sentinel")?(u=(0,n.jsx)(l.CodeIcon,{}),_[3]=u):u=_[3],_[4]!==I?(f=()=>I?.("edit"),_[4]=I,_[5]=f):f=_[5],_[6]!==S||_[7]!==r||_[8]!==E||_[9]!==f?(p=(0,n.jsx)(s.I.IconButton,{className:r,selected:E,value:"edit","aria-label":"Edit mode",disabled:S,icon:u,onClick:f}),_[6]=S,_[7]=r,_[8]=E,_[9]=f,_[10]=p):p=_[10];let N="preview"===w&&c;_[11]!==N?(m=(0,a.$)(d,N),_[11]=N,_[12]=m):m=_[12];let M="preview"===w;return _[13]===Symbol.for("react.memo_cache_sentinel")?(h=(0,n.jsx)(l.EyeIcon,{}),_[13]=h):h=_[13],_[14]!==I?(g=()=>I?.("preview"),_[14]=I,_[15]=g):g=_[15],_[16]!==j?(y=()=>j?.(),k=()=>j?.(),_[16]=j,_[17]=y,_[18]=k):(y=_[17],k=_[18]),_[19]!==S||_[20]!==M||_[21]!==g||_[22]!==y||_[23]!==k||_[24]!==m?(b=(0,n.jsx)(s.I.IconButton,{className:m,selected:M,value:"preview","aria-label":"Preview mode",disabled:S,icon:h,onClick:g,onMouseOver:y,onFocus:k}),_[19]=S,_[20]=M,_[21]=g,_[22]=y,_[23]=k,_[24]=m,_[25]=b):b=_[25],_[26]!==S||_[27]!==I||_[28]!==w?(x=T&&(0,n.jsx)(s.I.IconButton,{className:(0,a.$)(d,"hybrid"===w&&c),value:"hybrid",selected:"hybrid"===w,"aria-label":"Hybrid mode",disabled:S,icon:(0,n.jsx)(l.ComposeIcon,{}),onClick:()=>I?.("hybrid")}),_[26]=S,_[27]=I,_[28]=w,_[29]=x):x=_[29],_[30]!==b||_[31]!==x||_[32]!==p?(v=(0,n.jsx)("nav",{children:(0,n.jsxs)(s.I,{"aria-label":"View mode",children:[p,b,x]})}),_[30]=b,_[31]=x,_[32]=p,_[33]=v):v=_[33],v};try{u.displayName||(u.displayName="SegmentedControlViewSwitch")}catch{}var f=r(1481);let p="tab-nav-module__tabNavLink--v2l8q",m="tab-nav-module__active--VyL0Y",h=e=>{let t,r,l,s,d,c,u,h,g,y,k,b=(0,i.c)(32),{selectedView:x,onViewSelect:v,onLoadPreview:_,disabled:w}=e;b[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,o.G7)("markdown_experience_hybrid_editor"),b[0]=t):t=b[0];let I=t,j="edit"===x,S="edit"===x&&m;b[1]!==S?(r=(0,a.$)(p,S),b[1]=S,b[2]=r):r=b[2],b[3]!==v?(l=()=>v?.("edit"),b[3]=v,b[4]=l):l=b[4],b[5]!==w||b[6]!==j||b[7]!==r||b[8]!==l?(s=(0,n.jsx)(f.A.Link,{as:"button",selected:j,disabled:w,className:r,onClick:l,children:"Write"}),b[5]=w,b[6]=j,b[7]=r,b[8]=l,b[9]=s):s=b[9];let T="preview"===x,C="preview"===x&&m;return b[10]!==C?(d=(0,a.$)(p,C),b[10]=C,b[11]=d):d=b[11],b[12]!==v?(c=()=>v?.("preview"),b[12]=v,b[13]=c):c=b[13],b[14]!==_?(u=()=>_?.(),h=()=>_?.(),b[14]=_,b[15]=u,b[16]=h):(u=b[15],h=b[16]),b[17]!==w||b[18]!==c||b[19]!==u||b[20]!==h||b[21]!==T||b[22]!==d?(g=(0,n.jsx)(f.A.Link,{as:"button",selected:T,disabled:w,className:d,onClick:c,onMouseOver:u,onFocus:h,children:"Preview"}),b[17]=w,b[18]=c,b[19]=u,b[20]=h,b[21]=T,b[22]=d,b[23]=g):g=b[23],b[24]!==w||b[25]!==v||b[26]!==x?(y=I&&(0,n.jsx)(f.A.Link,{as:"button",selected:"hybrid"===x,disabled:w,className:(0,a.$)(p,"hybrid"===x&&m),onClick:()=>v?.("hybrid"),children:"Hybrid"}),b[24]=w,b[25]=v,b[26]=x,b[27]=y):y=b[27],b[28]!==g||b[29]!==y||b[30]!==s?(k=(0,n.jsx)("div",{className:"tab-nav-module__viewSwitch--bqW56",children:(0,n.jsxs)(f.A,{"aria-label":"View mode",children:[s,g,y]})}),b[28]=g,b[29]=y,b[30]=s,b[31]=k):k=b[31],k};try{h.displayName||(h.displayName="TabNavViewSwitch")}catch{}let g=e=>{let t,r=(0,i.c)(2);return r[0]!==e?(t=(0,o.G7)("markdown_experience_toolbar_redesign")?(0,n.jsx)(u,{...e}):(0,n.jsx)(h,{...e}),r[0]=e,r[1]=t):t=r[1],t};try{g.displayName||(g.displayName="ViewSwitch")}catch{}}}]);
//# sourceMappingURL=22116-82c259a18d70.js.map