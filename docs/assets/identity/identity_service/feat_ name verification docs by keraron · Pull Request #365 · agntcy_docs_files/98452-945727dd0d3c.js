performance.mark("js-parse-end:98452-945727dd0d3c.js");
"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([[98452],{2265:(e,t,i)=>{i.d(t,{W:()=>o,j:()=>s});var n=i(74848),a=i(16522),r=i(96540);let l=(0,r.createContext)({});function s(e){let t,i,s=(0,a.c)(5),{children:o}=e,[d,c]=(0,r.useState)(!1);s[0]!==d?(t={isDialogOpen:d,setIsDialogOpen:c},s[0]=d,s[1]=t):t=s[1];let u=t;return s[2]!==o||s[3]!==u?(i=(0,n.jsx)(l,{value:u,children:o}),s[2]=o,s[3]=u,s[4]=i):i=s[4],i}let o=()=>(0,r.use)(l);try{l.displayName||(l.displayName="DialogStateContext")}catch{}try{s.displayName||(s.displayName="DialogStateProvider")}catch{}},3038:(e,t,i)=>{i.d(t,{Av:()=>E,Ji:()=>h,Lp:()=>b,Ls:()=>w,Mk:()=>y,Po:()=>u,S4:()=>S,Yf:()=>R,a1:()=>N,a2:()=>s,dT:()=>j,dv:()=>p,j2:()=>C,oH:()=>o,qK:()=>m,qX:()=>d,u6:()=>c,xB:()=>f,x_:()=>g});var n=i(13083),a=i(61583),r=i(66358),l=i(36729);function s(e,t,i){return"left"===i?!u(e)&&e.left===t:!u(e)&&(0,n.XU)(e.type)===i&&e.right===t}function o(e,t){return"LEFT"===t?`L${e}`:`R${e}`}function d(e,t,i){let n=`-${u(t)||"number"!=typeof t?.left?"empty":t?.left}`,a=i?`-${u(i)||"number"!=typeof i.right?"empty":i.right}`:"";return`${e}${n}${a}`}function c(e,t){return`${e}-${t}`}function u(e){return void 0===e||!!e&&e===l.Vv}function m(e){return!!e&&e!==l.Vv}function h(e){return"CONTEXT"===e.type}function f(e){return u(e)||h(e)||"INJECTED_CONTEXT"===e.type}function p(e,t){return t===r.w$.Empty||t===r.w$.Hunk?[e,void 0]:x(e,r.JF[t])}function g(e,t){let i;switch(t){case r.w$.Addition:i=r.JF[r.w$.Addition];break;case r.w$.Deletion:i=r.JF[r.w$.Deletion];break;case r.w$.Context:case r.w$.InjectedContext:i=r.JF[r.w$.Context]}return x(e,i)}function x(e,t){if(!t||!e.startsWith(t))return[e,void 0];let i=e[0];return[e.substring(1),i]}function y(e){let t=[],i=[],n=()=>{for(;t.length<i.length;)t.push(l.Vv);for(;i.length<t.length;)i.push(l.Vv)};for(let a of e)switch(a.type){case"ADDITION":i.push(a);break;case"DELETION":t.push(a);break;case"CONTEXT":case"INJECTED_CONTEXT":case"HUNK":n(),t.push(a),i.push(a)}return n(),{leftLines:t,rightLines:i}}function b(e){let t=[],i=[];for(let n of e)switch(n.type){case"ADDITION":i.push(n);break;case"DELETION":t.push(n);break;case"CONTEXT":case"INJECTED_CONTEXT":case"HUNK":t.push(n),i.push(n)}return{leftLines:t,rightLines:i}}function v(e){return["HUNK","CONTEXT","INJECTED_CONTEXT","DELETION"].includes(e.type)}function C({line:e,range:t,fileAnchor:i}){let n,{origin:r,pathname:l}=window.location;if(e){let r=v(e)?e.left:e.right;n=t&&r&&t.startLineNumber<=r&&t.endLineNumber>=r?(0,a.j$)(t):function(e,t){let i=v(e),n=i?e.left:e.right,r=i?"left":"right";if(null!==n)return(0,a.j$)({diffAnchor:t,endLineNumber:n,endOrientation:r,startLineNumber:n,startOrientation:r})}(e,i)}else t&&(n=(0,a.j$)(t));if(n)return`${r}${l}#${n}`}function S({hasThreads:e}){return e?"80px":"24px"}let _=["ADDITION","DELETION","CONTEXT"],N=(e,t)=>{if(u(e)||!e)return!1;let i=t.leftLines.concat(t.rightLines),n=i.filter(e=>!u(e)).map(e=>e.key),a=e.key;return i.length>0&&n.includes(a)?i.every(e=>!!u(e)||_.includes(e.type)):!!u(e)||_.includes(e.type)},w=e=>e?e.filter(e=>!u(e)).map(e=>{var t;let[i]=g((t=e.html,new DOMParser().parseFromString(t,"text/html").documentElement.textContent||""),e.type);return i}).join(`
`):"";function j(e){return!!(e.text.length<1&&("CONTEXT"===e.type||"INJECTED_CONTEXT"===e.type)||("DELETION"===e.type||"ADDITION"===e.type)&&1===e.text.length&&["+","-"].includes(e.text.charAt(0)))}let E=(e,t,i,n)=>{let a;if(e)return e;if(!u(t)){let e=(i?t.left:t.right)??0,r=i?"left":"right";a={startOrientation:r,endOrientation:r,startLineNumber:e,endLineNumber:e,diffAnchor:n}}return a};function R(e,t=!1,i=!1){let n;if(i)return"";switch(e){case"ADDITION":n=t?"var(--diffBlob-additionNum-bgColor, var(--diffBlob-addition-bgColor-num))":"var(--diffBlob-additionLine-bgColor, var(--diffBlob-addition-bgColor-line))";break;case"DELETION":n=t?"var(--diffBlob-deletionNum-bgColor, var(--diffBlob-deletion-bgColor-num))":"var(--diffBlob-deletionLine-bgColor, var(--diffBlob-deletion-bgColor-line))";break;case"HUNK":n=t?"var(--diffBlob-hunkNum-bgColor-rest, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-hunkLine-bgColor, var(--bgColor-accent-muted))";break;case"EMPTY":n=t?"var(--diffBlob-emptyNum-bgColor, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-emptyLine-bgColor, var(--bgColor-accent-muted))";break;default:n="var(--bgColor-default)"}return n}},3252:(e,t,i)=>{function n(e){return[...e.querySelectorAll(".js-blob-code-addition")].map(e=>e.textContent).filter(e=>null!==e)}function a(e){if(!e||e.length>1e5)return null;let t=e.split(/\r?\n/),i=!1,n="",a=[];for(let e=0;e<t.length;e++){let r=t[e];if(void 0!==r)if(i){if(r.match(/^ {0,3}(`{3,}|~{3,})[ \t]*$/))return a;let e=r;if(n.length>0){let t=RegExp(`^ {0,${n.length}}`);e=r.replace(t,"")}a.push(e)}else{let e=r.match(/^( {0,3})(`{3,}|~{3,})suggestion[ \t]*$/);if(e){i=!0,n=e[1]||"";continue}}}return null}i.d(t,{T:()=>a,y:()=>n})},8431:(e,t,i)=>{i.d(t,{A:()=>n});let n={diff:"Diff-module__diff--Sofy4",diffTargetable:"Diff-module__diffTargetable--kW3Cm",diffHeaderWrapper:"Diff-module__diffHeaderWrapper--eH6zk",diffAddFileThread:"Diff-module__diffAddFileThread--f81Tx",diffFooter:"Diff-module__diffFooter--kHHJz"}},10422:(e,t,i)=>{i.d(t,{gX:()=>ih,S4:()=>nN,OC:()=>C,cY:()=>tb,Uz:()=>nL});var n,a=i(74848),r=i(16522);function l(e){if(null==e)throw Error("Failed to load page data.")}var s=i(75202),o=i(38621),d=i(69726),c=i(34164),u=i(96540),m=i(17645),h=i(20622),f=i(53885),p=i(50129),g=i(65820),x=i(97665),y=i(97286);function b(){let e,t=(0,r.c)(2),{basePageDataUrl:i}=(0,p.Yu)(),n=`basePageDataURL:${i}`;return t[0]!==n?(e=[h.uT.mergeBox,n],t[0]=n,t[1]=e):e=t[1],e}let v=(0,u.createContext)({mergeMethod:m.q$.MERGE,setMergeMethod:()=>{}});function C({children:e,defaultMergeMethod:t}){let[i,n]=(0,u.useState)(t),r=b(),l=(0,x.jE)();(0,u.useEffect)(()=>{l.invalidateQueries({queryKey:r})},[i]);let s=(0,u.useMemo)(()=>({mergeMethod:i,setMergeMethod:n}),[i]);return(0,a.jsx)(v,{value:s,children:e})}function S(){return(0,u.use)(v)}try{v.displayName||(v.displayName="MergeMethodContext")}catch{}try{C.displayName||(C.displayName="MergeMethodContextProvider")}catch{}function _(e){let t=e&&e.conditions.find(e=>m.nw.includes(e.type));if(t&&"conflicts"in t&&"isConflictResolvableInWeb"in t)return t}function N(e){return e?.conditions.filter(e=>m.iG.includes(e.type)&&"FAILED"===e.result)??[]}var w=i(35750),j=i(18150),E=i(85242),R=i(88243),L=i(16213),D=i(50467);let BaseSectionStatus=class BaseSectionStatus{get shouldRender(){return!1}get shouldConsiderStatus(){return this.shouldRender}get sectionStatus(){return"UNKNOWN"}get mergeBoxStatus(){return"UNKNOWN"}constructor(e,t,i){(0,D._)(this,"pullRequest",void 0),(0,D._)(this,"mergeRequirements",void 0),(0,D._)(this,"statusChecks",void 0),this.pullRequest=e,this.mergeRequirements=t,this.statusChecks=i}};let I=["MERGE_QUEUE","REQUIRED_STATUS_CHECKS"],T=["PULL_REQUEST_REPO_STATE","PULL_REQUEST_STATE"],A=["USER_CANNOT_PUSH"];var k=new WeakMap,O=new WeakMap,M=new WeakMap,P=new WeakMap;let BlockedSectionStatus=class BlockedSectionStatus extends BaseSectionStatus{get shouldRender(){return this.mergeRequirements?.state==="UNMERGEABLE"&&!this.pullRequest.isDraft&&0!==this.failingConditionsAndRules.length&&this.pullRequest.viewerCanUpdate}get sectionStatus(){return this.mergeRequirements?.state==="UNMERGEABLE"?"FAILED":"PASSED"}get mergeBoxStatus(){return this.sectionStatus}get failingConditionsAndRules(){return(0,w._)(this,k)||(0,E._)(this,k,[...(0,w._)(this,M),...(0,w._)(this,O),...(0,w._)(this,P)]),(0,w._)(this,k)}constructor(...e){super(...e),(0,j._)(this,O,{get:F,set:void 0}),(0,j._)(this,M,{get:U,set:void 0}),(0,j._)(this,P,{get:$,set:void 0}),(0,j._)(this,k,{writable:!0,value:void 0})}};function F(){return N(this.mergeRequirements).flatMap(e=>"ruleRollups"in e?e.ruleRollups:[]).filter(e=>e?.result==="FAILED"&&!I.includes(e.ruleType))}function U(){var e;return(e=this.mergeRequirements,e?.conditions.filter(e=>m.jw.includes(e.type)&&"FAILED"===e.result)??[]).filter(e=>!T.includes(e.type))}function $(){var e;return(e=this.mergeRequirements,e?.conditions.filter(e=>m.TW.includes(e.type)&&"FAILED"===e.result)??[]).flatMap(e=>"failedSubConditions"in e?e.failedSubConditions:[]).filter(e=>!A.includes(e.displayName))}let B="AwaitingReview",q="ChangesRequested",H="ChecksFailing",G="ChecksPending",V="DraftReadyForReview",K="DraftNotReadyForReview",W="InMergeQueue",z="MergeConflicts",Q="Mergeable",X="NonRequiredChecksUnsuccessful",Y="UnableToMerge",J="Unknown",Z="Merged",ee="Closed";function et(e){return(e?.conditions.filter(e=>"FAILED"===e.result)??[]).map(e=>e.type)}function ei(e){return!!e?.statusChecks.some(e=>e.isRequired&&function(e){switch(e){case"WAITING":case"PENDING":case"IN_PROGRESS":case"QUEUED":case"EXPECTED":return!0;case"ACTION_REQUIRED":case"FAILURE":case"ERROR":case"STARTUP_FAILURE":case"CANCELLED":case"STALE":case"TIMED_OUT":case"SUCCESS":case"COMPLETED":case"NEUTRAL":case"REQUESTED":case"SKIPPED":case"_UNKNOWN_VALUE":return!1}}(e.state))}function en(e){return!!e?.statusChecks.some(e=>e.isRequired&&function(e){switch(e){case"ACTION_REQUIRED":case"FAILURE":case"ERROR":case"STARTUP_FAILURE":case"_UNKNOWN_VALUE":case"CANCELLED":case"STALE":case"TIMED_OUT":return!0;case"SUCCESS":case"COMPLETED":case"EXPECTED":case"IN_PROGRESS":case"NEUTRAL":case"PENDING":case"QUEUED":case"REQUESTED":case"SKIPPED":case"WAITING":return!1}}(e.state))}function ea(e){return void 0!==e&&e?.statusChecks.length!==0&&(!en(e)||!ei(e))}function er(e,t){return e?.state!=="UNMERGEABLE"&&!!t?.statusChecks.some(e=>!e.isRequired&&!function(e){switch(e){case"NEUTRAL":case"SUCCESS":case"SKIPPED":return!0;case"WAITING":case"PENDING":case"IN_PROGRESS":case"QUEUED":case"EXPECTED":case"ACTION_REQUIRED":case"FAILURE":case"ERROR":case"STARTUP_FAILURE":case"CANCELLED":case"STALE":case"TIMED_OUT":case"COMPLETED":case"REQUESTED":case"_UNKNOWN_VALUE":return!1}}(e.state))||t?.statusRollup.combinedState==="PENDING_APPROVAL"}function el(e){let t=e?.conditions.find(e=>"PULL_REQUEST_RULES"===e.type),i=t?.ruleRollups?.find(e=>"PULL_REQUEST"===e.ruleType);if(!i||"FAILED"!==i.result)return[];let n=i.metadata;return n&&"failureReasons"in n&&n.failureReasons.map(e=>e.toUpperCase())||[]}function es(e){return et(e).includes("PULL_REQUEST_MERGE_CONFLICT_STATE")}let ChecksSectionStatus=class ChecksSectionStatus extends BaseSectionStatus{get shouldRender(){let e=this.statusChecks?.statusRollup;return(e?.summary.length??0)>0||e?.combinedState==="PENDING_APPROVAL"}get sectionStatus(){let e=_(this.mergeRequirements);return"DIRTY"===this.pullRequest.mergeStateStatus&&e?.result==="FAILED"?"PENDING_CONFLICTS":this.statusChecks?.statusRollup.combinedState??"UNKNOWN"}get mergeBoxStatus(){if("PENDING_APPROVAL"===this.sectionStatus)return"PENDING_USER_ACTION";let e=en(this.statusChecks),t=ei(this.statusChecks),i=ea(this.statusChecks),n=er(this.mergeRequirements,this.statusChecks);return t||"PENDING"===this.sectionStatus||"PENDING_CONFLICTS"===this.sectionStatus?"PENDING":e?"FAILED":n?"NEUTRAL":i?"PASSED":"NEUTRAL"}};let ClosedOrMergedStateSectionStatus=class ClosedOrMergedStateSectionStatus extends BaseSectionStatus{get shouldRender(){return"OPEN"!==this.pullRequest.state}get sectionStatus(){return"OPEN"!==this.pullRequest.state?this.pullRequest.state:"UNKNOWN"}get mergeBoxStatus(){return"MERGED"===this.sectionStatus?"MERGED":"NEUTRAL"}};var eo=new WeakMap,ed=new WeakMap,ec=new WeakMap;let ConflictsSectionStatus=class ConflictsSectionStatus extends BaseSectionStatus{get shouldRender(){return("BLOCKED"!==this.pullRequest.mergeStateStatus||!!this.pullRequest.viewerCanUpdateBranch)&&!!this.conflictsCondition}get sectionStatus(){return this.conflictsCondition?(0,w._)(this,ec).call(this,this.pullRequest.advisoryWorkspace,this.pullRequest.mergeStateStatus,this.conflictsCondition,(0,w._)(this,ed)):"PENDING"}get mergeBoxStatus(){switch(this.sectionStatus){case"NO_CONFLICTS":case"HAS_ADVISORY_WORKSPACE":return"PASSED";case"HAS_CONFLICTS":case"HAS_REBASE_CONFLICTS":case"OUT_OF_DATE":return"NEUTRAL";default:return"PENDING"}}get conflictsCondition(){return(0,w._)(this,eo)||(0,E._)(this,eo,_(this.mergeRequirements)),(0,w._)(this,eo)}constructor(...e){super(...e),(0,j._)(this,ed,{get:eu,set:void 0}),(0,j._)(this,eo,{writable:!0,value:void 0}),(0,j._)(this,ec,{writable:!0,value:(e,t,i,n)=>{if("BEHIND"===t)return"OUT_OF_DATE";if("UNKNOWN"===t)return"PENDING";if("FAILED"===i.result&&0===n.length)return"HAS_REBASE_CONFLICTS";if(!e&&("CLEAN"===t||"UNSTABLE"===t||"HAS_HOOKS"===t))return"NO_CONFLICTS";if(e&&("CLEAN"===t||"UNSTABLE"===t||"HAS_HOOKS"===t))return"HAS_ADVISORY_WORKSPACE";else if("DIRTY"===t&&"FAILED"===i.result)return"HAS_CONFLICTS";else if("BLOCKED"===t)return"OUT_OF_DATE";else return"PENDING"}})}};function eu(){return this.conflictsCondition?.conflicts??[]}let DraftStateSectionStatus=class DraftStateSectionStatus extends BaseSectionStatus{get shouldRender(){return"OPEN"===this.pullRequest.state&&this.pullRequest.isDraft}get sectionStatus(){return"IS_DRAFT"}get mergeBoxStatus(){return"NEUTRAL"}};let MergeQueueSectionStatus=class MergeQueueSectionStatus extends BaseSectionStatus{get shouldRender(){return this.pullRequest.isInMergeQueue}get sectionStatus(){return"QUEUED"}get mergeBoxStatus(){return this.sectionStatus}};var em=i(30459),eh=i(84268),ef=i(55630),ep=i(81960);let eg=e=>{let t,i,n,l=(0,r.c)(5),{isExpanded:s}=e,d=s?"":"rotate(180deg)";return l[0]!==d?(t={transition:"transform 0.15s ease-in-out",transform:d},l[0]=d,l[1]=t):t=l[1],l[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(o.ChevronUpIcon,{}),l[2]=i):i=l[2],l[3]!==t?(n=(0,a.jsx)("div",{style:t,children:i}),l[3]=t,l[4]=n):n=l[4],n};try{eg.displayName||(eg.displayName="ExpandableSectionIcon")}catch{}let ex=e=>{let t,i,n,l,s,o,d,u,m,h,f=(0,r.c)(31),{title:p,subtitle:g,headerId:x,icon:y,expandableProps:b,children:v,rightSideContent:C}=e;if(b&&C)throw Error("MergeBoxSectionHeader: rightSideContent is not supported when expandableProps exist");f[0]!==b?(t=b||{},f[0]=b,f[1]=t):t=f[1];let{isExpanded:S,ariaLabel:_,onToggle:N}=t,w=b&&"MergeBoxSectionHeader-module__wrapperCanExpand--AoekL",j=!b&&"flex-column flex-sm-row flex-items-center flex-sm-items-start flex-justify-between";return f[2]!==w||f[3]!==j?(i=(0,c.$)("MergeBoxSectionHeader-module__wrapper--zMA1Y",w,j),f[2]=w,f[3]=j,f[4]=i):i=f[4],f[5]!==y?(n=y&&(0,a.jsx)("div",{className:"mr-2 flex-shrink-0",children:y}),f[5]=y,f[6]=n):n=f[6],f[7]!==x||f[8]!==p?(l=(0,a.jsx)(ep.A,{as:"h3",id:x,className:"MergeBoxSectionHeader-module__MergeBoxSectionHeading--miHzz",children:p}),f[7]=x,f[8]=p,f[9]=l):l=f[9],f[10]!==g?(s=(0,a.jsx)("p",{className:"fgColor-muted mb-0 ",children:g}),f[10]=g,f[11]=s):s=f[11],f[12]!==v||f[13]!==l||f[14]!==s?(o=(0,a.jsxs)("div",{className:"flex-1",children:[l,s,v]}),f[12]=v,f[13]=l,f[14]=s,f[15]=o):o=f[15],f[16]!==C||f[17]!==o?(d=(0,a.jsxs)("div",{className:"d-flex flex-1 flex-column flex-sm-row gap-2",children:[o,C]}),f[16]=C,f[17]=o,f[18]=d):d=f[18],f[19]!==n||f[20]!==d?(u=(0,a.jsxs)("div",{className:"d-flex width-full",children:[n,d]}),f[19]=n,f[20]=d,f[21]=u):u=f[21],f[22]!==_||f[23]!==b||f[24]!==S||f[25]!==N?(m=b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{"aria-label":_,type:"button",className:"MergeBoxSectionHeader-module__button--mkkJX",onClick:N,"aria-expanded":S}),(0,a.jsx)("div",{className:"fgColor-muted pr-2 pt-2",children:(0,a.jsx)(eg,{isExpanded:!!S})})]}),f[22]=_,f[23]=b,f[24]=S,f[25]=N,f[26]=m):m=f[26],f[27]!==u||f[28]!==m||f[29]!==i?(h=(0,a.jsxs)("div",{className:i,children:[u,m]}),f[27]=u,f[28]=m,f[29]=i,f[30]=h):h=f[30],h};try{ex.displayName||(ex.displayName="MergeBoxSectionHeader")}catch{}let ey="MergeBoxExpandable-module__isExpanded--PaOkp",eb=e=>{let t,i,n,l,s,o=(0,r.c)(13),{isExpanded:d,children:u}=e,m=void 0!==d&&d,h=m&&ey;o[0]!==h?(t=(0,c.$)("MergeBoxExpandable-module__expandableWrapper--Ejab0",h),o[0]=h,o[1]=t):t=o[1];let f=m?"visible":"hidden";o[2]!==f?(i={visibility:f},o[2]=f,o[3]=i):i=o[3];let p=m&&ey;o[4]!==p?(n=(0,c.$)("MergeBoxExpandable-module__expandableContent--li_O1",p),o[4]=p,o[5]=n):n=o[5];let g=m&&u;return o[6]!==n||o[7]!==g?(l=(0,a.jsx)("div",{className:n,children:g}),o[6]=n,o[7]=g,o[8]=l):l=o[8],o[9]!==t||o[10]!==i||o[11]!==l?(s=(0,a.jsx)("div",{className:t,style:i,children:l}),o[9]=t,o[10]=i,o[11]=l,o[12]=s):s=o[12],s};try{eb.displayName||(eb.displayName="MergeBoxExpandable")}catch{}var ev=i(97174),eC=i(21373),eS=i(40104);let e_=e=>{let t,i,n,l=(0,r.c)(5),{isExpanded:s}=e,d=s?"rotate(90deg)":"";return l[0]!==d?(t={transform:d},l[0]=d,l[1]=t):t=l[1],l[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(o.ChevronRightIcon,{size:12}),l[2]=i):i=l[2],l[3]!==t?(n=(0,a.jsx)("div",{style:t,children:i}),l[3]=t,l[4]=n):n=l[4],n};try{e_.displayName||(e_.displayName="ExpandableGroupIcon")}catch{}let eN={[m.Qv.Approvals]:(0,a.jsx)(o.CheckIcon,{className:"fgColor-success",size:16}),[m.Qv.RequestedChanges]:(0,a.jsx)(o.FileDiffIcon,{className:"fgColor-danger",size:16}),[m.Qv.PendingReviewRequest]:(0,a.jsx)(o.PersonIcon,{size:16})};function ew(e){let t,i,n,l,s,o,d,m,h,f=(0,r.c)(32),{children:p,count:g,pullRequestId:x,reviewGroup:y}=e,{sendAnalyticsEvent:b}=(0,em.s)(),[v,C]=(0,eS.Fo)(`${x}:reviewersGroup:${y}Expanded`,!1),S=(0,u.useId)(),_=eN[y];if(f[0]!==g||f[1]!==y)t=g>1?y:y.substring(0,y.length-1),f[0]=g,f[1]=y,f[2]=t;else t=f[2];let N=`${g} ${t}`,w=v?`Collapse ${N} group`:`Expand ${N} group`;f[3]!==v?(i=()=>(0,a.jsx)(e_,{isExpanded:v}),f[3]=v,f[4]=i):i=f[4],f[5]!==v||f[6]!==y||f[7]!==b||f[8]!==C?(n=()=>{b(v?"reviewers_group.collapse":"reviewers_group.expand","MERGEBOX_REVIEWERS_GROUP_TOGGLE_BUTTON",{group:y}),C(!v)},f[5]=v,f[6]=y,f[7]=b,f[8]=C,f[9]=n):n=f[9],f[10]!==N?(l=(0,a.jsx)("span",{className:"ml-1",children:N}),f[10]=N,f[11]=l):l=f[11],f[12]!==S||f[13]!==v||f[14]!==_||f[15]!==w||f[16]!==i||f[17]!==n||f[18]!==l?(s=(0,a.jsxs)(eC.Q,{"aria-controls":S,"aria-expanded":v,"aria-label":w,className:"ReviewGroupExpander-module__groupHeadingButton--S7IXP",variant:"invisible",size:"small",trailingVisual:i,onClick:n,children:[_," ",l]}),f[12]=S,f[13]=v,f[14]=_,f[15]=w,f[16]=i,f[17]=n,f[18]=l,f[19]=s):s=f[19];let j=v&&"ReviewGroupExpander-module__isExpanded--SHz1f";f[20]!==j?(o=(0,c.$)("ReviewGroupExpander-module__expandableWrapper--Xlmef",j),f[20]=j,f[21]=o):o=f[21];let E=v&&p;return f[22]!==E?(d=(0,a.jsx)("div",{className:"ReviewGroupExpander-module__expandableListView--hoVAr",children:E}),f[22]=E,f[23]=d):d=f[23],f[24]!==S||f[25]!==N||f[26]!==d||f[27]!==o?(m=(0,a.jsx)("div",{className:o,id:S,"aria-label":N,role:"group",children:d}),f[24]=S,f[25]=N,f[26]=d,f[27]=o,f[28]=m):m=f[28],f[29]!==m||f[30]!==s?(h=(0,a.jsxs)(a.Fragment,{children:[s,m]}),f[29]=m,f[30]=s,f[31]=h):h=f[31],h}try{ew.displayName||(ew.displayName="ReviewGroupExpander")}catch{}var ej=i(2970),eE=i(95378),eR=i(65964),eL=i(77430);let eD="SectionListItem-module__listItem--cGdcZ";var eI=i(5524),eT=i(72511),eA=i(86877),ek=i(10576),eO=i(57387),eM=i(94747),eP=i(48845),eF=i(9214),eU=i(10095);function e$({reviewer:e,reviewStatusText:t,hovercardUrl:i,reviewId:n,viewerCanDismissReviews:l,viewerCanReRequestReviews:s=!1}){let d,m,p,g,y,v,C,S=(0,u.useRef)(null),_=(0,u.useRef)(null),[N,w]=(0,u.useState)(!1),[j,E]=(0,u.useState)(null),[R,L]=(0,u.useState)(""),D=R.trim().length<1,[I,T]=(0,u.useState)(!1),A=[l?{key:"dismiss-review",render:()=>(0,a.jsx)(eI.l.Item,{onSelect:()=>{w(!0)},children:"Dismiss review"})}:null,s?{key:"re-request-review",render:()=>(0,a.jsx)(eI.l.Item,{onSelect:()=>M({reviewerLogin:e.login}),children:"Re-request review"})}:null].filter(e=>!!e),k=!!n&&A.length>0,O=async()=>{E(null),w(!1),T(!1),_.current?.focus()},{mutate:M}=function(e){let t,i,n,a,l,s=(0,r.c)(13);s[0]!==e?(t=void 0===e?{}:e,s[0]=e,s[1]=t):t=s[1];let{onError:o}=t,d=b(),c=(0,f.e)(h.uT.reRequestReviewFromUser),u=(0,x.jE)();return s[2]!==c?(i=async e=>{let t=await (0,eP.q$)(c,{method:"POST",headers:{Accept:"application/json"},body:e}),i=await (0,eP.hp)(t);return(0,eP.R)(t,i),i},s[2]=c,s[3]=i):i=s[3],s[4]!==d||s[5]!==u?(n=()=>u.invalidateQueries({queryKey:d},{cancelRefetch:!1}),s[4]=d,s[5]=u,s[6]=n):n=s[6],s[7]!==o?(a=e=>{o?.(e)},s[7]=o,s[8]=a):a=s[8],s[9]!==i||s[10]!==n||s[11]!==a?(l={mutationFn:i,onSuccess:n,onError:a},s[9]=i,s[10]=n,s[11]=a,s[12]=l):l=s[12],(0,eM.n)(l)}({onError:()=>{}}),{mutate:P,isPending:F}=(g=(0,r.c)(8),y=(0,f.e)(h.uT.dismissReview),v=b(),C=(0,x.jE)(),g[0]!==y?(d=async e=>{let t=await (0,eP.q$)(y,{method:"POST",headers:{Accept:"application/json"},body:e}),i=await (0,eP.hp)(t);return(0,eP.R)(t,i),i},g[0]=y,g[1]=d):d=g[1],g[2]!==v||g[3]!==C?(m=()=>C.invalidateQueries({queryKey:v},{cancelRefetch:!1}),g[2]=v,g[3]=C,g[4]=m):m=g[4],g[5]!==d||g[6]!==m?(p={mutationFn:d,onSuccess:m},g[5]=d,g[6]=m,g[7]=p):p=g[7],(0,eM.n)(p)),U=(0,u.useCallback)(()=>{F||(D&&T(!0),n&&!D&&P({reviewId:n,message:R},{onSuccess:()=>{O()},onError:e=>{E(e.message)}}))},[P,R,D,F,n]);if((0,u.useEffect)(()=>{function e(e){e.metaKey&&"Enter"===e.key&&N&&(e.preventDefault(),U())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[N,U]),!e)return null;let $=`${e.login} ${t.charAt(0).toLowerCase()+t.slice(1)}`;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ej.c,{className:eD,"aria-label":$,title:(0,a.jsx)(eE.ao,{href:e.url,value:e.login,containerClassName:"d-flex flex-items-center pt-0",headingClassName:"ReviewerSection-module__reviewAuthor--ieHt5",anchorClassName:"ReviewerSection-module__reviewAuthorAnchor--UMy9c",leadingBadge:(0,a.jsx)(eR.e,{className:(0,c.$)("ReviewerSection-module__leadingVisual--_bMPf","mt-1"),children:(0,a.jsx)(eL.r,{alt:`${e.login}'s avatar image`,size:20,src:e.avatarUrl,"data-hovercard-url":i,className:"flex-shrink-0 ml-2"})}),children:(0,a.jsx)("span",{className:"ReviewerSection-module__reviewText--JiCKY",children:t})}),secondaryActions:k?(0,a.jsx)(eF.L,{anchorRef:_,label:"review options",staticMenuActions:A,className:"ReviewerSection-module__reviewerActionBar--iT6ez"}):void 0}),N&&(0,a.jsxs)(eO.l,{title:"Dismiss review",onClose:O,role:"dialog",initialFocusRef:S,returnFocusRef:_,footerButtons:[{buttonType:"default",content:"Cancel",onClick:O},{buttonType:"danger",loading:F,loadingAnnouncement:"Dismissing review",content:"Dismiss review",onClick:U}],children:[j&&(0,a.jsxs)(eT.A,{className:"mb-2",variant:"danger",children:[(0,a.jsx)(eU.A,{className:"mr-2",icon:o.StopIcon}),j]}),(0,a.jsxs)(eA.A,{required:!0,className:"mb-2",children:[(0,a.jsx)(eA.A.Label,{children:(0,a.jsxs)("h4",{className:"f5",children:["Reason for dismissing ",e.login,"'s review"]})}),(0,a.jsx)(ek.Ay,{ref:S,onChange:e=>{T(!1),L(e.target.value)},value:R,className:"width-full height-full"}),D&&I&&(0,a.jsx)(eA.A.Validation,{variant:"error",children:"Please provide a reason for dismissing the review"}),(0,a.jsx)(eA.A.Caption,{children:"This reason will appear in the timeline so other users will know why the review was dismissed."})]})]})]})}try{e$.displayName||(e$.displayName="ReviewListItem")}catch{}var eB=i(59672);function eq(e){let t,i,n,l=(0,r.c)(13),{review:s,viewerCanDismissReviews:o,viewerCanReRequestReviews:d}=e,{author:c}=s;if(!c)return null;let u=s.id,m=!s.authorCanPushToRepository;return l[0]!==s.onBehalfOf||l[1]!==s.state||l[2]!==m?(t=((e,t,i)=>{let n="";switch(e){case"APPROVED":n+="Approved these changes";break;case"CHANGES_REQUESTED":n+="Requested changes";break;case"COMMENTED":n+="Commented"}return i&&(n+=" with read-only permissions"),"APPROVED"===e&&t.length>0&&(n+=` for ${(e=>{if(0===e.length)return"";{if(1===e.length)return e[0];if(2===e.length)return e.join(" and ");let t=e.pop();return`${e.join(", ")}, and ${t}`}})(t)}`),n})(s.state,s.onBehalfOf,m),l[0]=s.onBehalfOf,l[1]=s.state,l[2]=m,l[3]=t):t=l[3],l[4]!==c.login?(i=(0,eB.dCN)({owner:c.login}),l[4]=c.login,l[5]=i):i=l[5],l[6]!==c||l[7]!==s.id||l[8]!==t||l[9]!==i||l[10]!==o||l[11]!==d?(n=(0,a.jsx)(e$,{reviewer:c,reviewId:u,reviewStatusText:t,hovercardUrl:i,viewerCanDismissReviews:o,viewerCanReRequestReviews:d}),l[6]=c,l[7]=s.id,l[8]=t,l[9]=i,l[10]=o,l[11]=d,l[12]=n):n=l[12],n}try{eq.displayName||(eq.displayName="OpinionatedReviewRow")}catch{}function eH(e){let t,i,n,l=(0,r.c)(15),{opinionatedReviews:s,pullRequestId:o,reviewGroup:d,viewerCanDismissReviews:c,viewerCanReRequestReviews:u}=e;if(0===s.length)return null;let m=s.length,h=`list of ${d}`;if(l[0]!==s||l[1]!==c||l[2]!==u){let e;l[4]!==c||l[5]!==u?(e=e=>(0,a.jsx)(eq,{review:e,viewerCanDismissReviews:c,viewerCanReRequestReviews:u},`opinionated-review-from-${e?.author?.name}`),l[4]=c,l[5]=u,l[6]=e):e=l[6],t=s.map(e),l[0]=s,l[1]=c,l[2]=u,l[3]=t}else t=l[3];return l[7]!==h||l[8]!==t?(i=(0,a.jsx)(ev.u,{title:h,titleHeaderTag:"h3",children:t}),l[7]=h,l[8]=t,l[9]=i):i=l[9],l[10]!==s.length||l[11]!==o||l[12]!==d||l[13]!==i?(n=(0,a.jsx)(ew,{count:m,reviewGroup:d,pullRequestId:o,children:i}),l[10]=s.length,l[11]=o,l[12]=d,l[13]=i,l[14]=n):n=l[14],n}try{eH.displayName||(eH.displayName="OpinionatedReviewsGroup")}catch{}function eG(e){let t,i,n=(0,r.c)(9),{reviewRequest:l}=e,{reviewer:s}=l;if(!s)return null;if("TEAM"===s.type){let e;if(n[0]!==s.login||n[1]!==s.name){let t=s.login.split("/")[0]??"";e=(0,eB.Pmq)({owner:t,team:s.name}),n[0]=s.login,n[1]=s.name,n[2]=e}else e=n[2];t=e}else{let e;n[3]!==s.login?(e=(0,eB.dCN)({owner:s.login}),n[3]=s.login,n[4]=e):e=n[4],t=e}let o="was requested for review";return l.isCodeOwner&&(o="was requested for review as a codeowner"),n[5]!==t||n[6]!==s||n[7]!==o?(i=(0,a.jsx)(e$,{reviewer:s,reviewStatusText:o,hovercardUrl:t}),n[5]=t,n[6]=s,n[7]=o,n[8]=i):i=n[8],i}try{eG.displayName||(eG.displayName="RequestedReviewRow")}catch{}function eV(e){let t,i,n,l=(0,r.c)(10),{pendingRequestedReviews:s,pullRequestId:o,reviewGroup:d}=e;if(0===s.length)return null;let c=s.length,u=`list of ${d}`;return l[0]!==s?(t=s.map(eK),l[0]=s,l[1]=t):t=l[1],l[2]!==u||l[3]!==t?(i=(0,a.jsx)(ev.u,{title:u,titleHeaderTag:"h3",children:t}),l[2]=u,l[3]=t,l[4]=i):i=l[4],l[5]!==s.length||l[6]!==o||l[7]!==d||l[8]!==i?(n=(0,a.jsx)(ew,{count:c,reviewGroup:d,pullRequestId:o,children:i}),l[5]=s.length,l[6]=o,l[7]=d,l[8]=i,l[9]=n):n=l[9],n}function eK(e){return(0,a.jsx)(eG,{reviewRequest:e},`requested-review-from-${e?.reviewer?.name}`)}try{eV.displayName||(eV.displayName="PendingRequestedReviewsGroup")}catch{}let eW="APPROVED",ez="CHANGES_REQUESTED",eQ="REVIEW_REQUIRED",eX="REVIEWED",eY="REVIEW_REQUESTED";function eJ(e){let t,i,n,l,s,o,d,h,f,p,g,x,y,b,v,C,S,_,N,w,j,E,R,L,D,I,T,A=(0,r.c)(78),{consolidatedFailureReasons:k,helpUrl:O,latestOpinionatedReviews:M,numReviewsRequired:P,pendingRequestedReviews:F,pullRequestId:U,reviewsState:$,viewerCanDismissReviews:B,viewerCanReRequestReviews:q}=e;A[0]!==M||A[1]!==F?(t=[...M,...F],A[0]=M,A[1]=F,A[2]=t):t=A[2];let H=t.length>0,[G,V]=(0,u.useState)(H),{sendAnalyticsEvent:K}=(0,em.s)(),W=(0,u.useId)();A[3]!==M?(i=function(e){let t=[],i=[];for(let n of e)"APPROVED"===n.state&&t.push(n),"CHANGES_REQUESTED"===n.state&&i.push(n);return{approvedReviews:t,requestedChangesReviews:i}}(M),A[3]=M,A[4]=i):i=A[4];let{approvedReviews:z,requestedChangesReviews:Q}=i,X=`${O}/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/requesting-a-pull-request-review`;A[5]!==X||A[6]!==k||A[7]!==M||A[8]!==P?(n=e=>{switch(e){case eQ:return`${((e,t)=>{if(t.includes("MORE_REVIEWS_REQUIRED"))if(1===e)return"At least 1 approving review is required";else if(0===e&&t.includes("LAST_PUSH_APPROVAL_REQUIRED"))return"An approval on the most recent push is required";else return`At least ${e} approving reviews are required`;return t.includes("CODE_OWNER_REVIEW_REQUIRED")?"Code owner review required":t.includes("SOC2_APPROVAL_PROCESS_REQUIRED")?"A review from a compliance team is required":""})(P,k)} by reviewers with write access.`;case eY:return(0,a.jsxs)(a.Fragment,{children:["Review has been requested on this pull request. It is not required to merge."," ",(0,a.jsx)(eh.A,{inline:!0,href:X,className:(0,c.$)("ReviewerSection-module__subtitleLink--J58lv","position-relative"),children:"Learn more about requesting a pull request review."})]});default:let t,i;return`${t=M.filter(e=>e&&"CHANGES_REQUESTED"===e.state&&e.authorCanPushToRepository).length,i=M.filter(e=>e&&"APPROVED"===e.state&&e.authorCanPushToRepository).length,0===t&&0===i?"No applicable reviews submitted":[t>0?`${t} change${1===t?"":"s"} requested`:void 0,i>0?`${i} approving review${1===i?"":"s"}`:void 0].filter(Boolean).join(", ")} by reviewers with write access.`}},A[5]=X,A[6]=k,A[7]=M,A[8]=P,A[9]=n):n=A[9];let Y=n;A[10]!==Y?(l=Y(eW),A[10]=Y,A[11]=l):l=A[11],A[12]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)(ef.A,{className:"bgColor-success-emphasis fgColor-onEmphasis",icon:e3,size:32}),A[12]=s):s=A[12],A[13]!==l?(o={heading:"Changes approved",subtitle:l,icon:s},A[13]=l,A[14]=o):o=A[14],A[15]!==Y?(d=Y(ez),A[15]=Y,A[16]=d):d=A[16],A[17]===Symbol.for("react.memo_cache_sentinel")?(h=(0,a.jsx)(ef.A,{className:"bgColor-danger-emphasis fgColor-onEmphasis",icon:e2,size:32}),A[17]=h):h=A[17],A[18]!==d?(f={heading:"Changes requested",subtitle:d,icon:h},A[18]=d,A[19]=f):f=A[19],A[20]!==Y?(p=Y(eQ),A[20]=Y,A[21]=p):p=A[21],A[22]===Symbol.for("react.memo_cache_sentinel")?(g=(0,a.jsx)(ef.A,{className:"bgColor-danger-emphasis fgColor-onEmphasis",icon:e1,size:32}),A[22]=g):g=A[22],A[23]!==p?(x={heading:"Review required",subtitle:p,icon:g},A[23]=p,A[24]=x):x=A[24],A[25]!==Y?(y=Y(eX),A[25]=Y,A[26]=y):y=A[26],A[27]===Symbol.for("react.memo_cache_sentinel")?(b=(0,a.jsx)(ef.A,{className:(0,c.$)("ReviewerSection-module__reviewedIcon--KucH5","fgColor-onEmphasis"),icon:e0,size:32}),A[27]=b):b=A[27],A[28]!==y?(v={heading:"Changes reviewed",subtitle:y,icon:b},A[28]=y,A[29]=v):v=A[29],A[30]!==Y?(C=Y(eY),A[30]=Y,A[31]=C):C=A[31],A[32]===Symbol.for("react.memo_cache_sentinel")?(S=(0,a.jsx)(ef.A,{className:"bgColor-success-emphasis fgColor-onEmphasis",icon:eZ,size:32}),A[32]=S):S=A[32],A[33]!==C?(_={heading:"Review requested",subtitle:C,icon:S},A[33]=C,A[34]=_):_=A[34],A[35]!==x||A[36]!==v||A[37]!==_||A[38]!==o||A[39]!==f?(N={APPROVED:o,CHANGES_REQUESTED:f,REVIEW_REQUIRED:x,REVIEWED:v,REVIEW_REQUESTED:_},A[35]=x,A[36]=v,A[37]=_,A[38]=o,A[39]=f,A[40]=N):N=A[40];let J=N,Z=J[$],ee=J[$],et=J[$];return A[41]!==J||A[42]!==G||A[43]!==$||A[44]!==K||A[45]!==H?(w=H?{ariaLabel:J[$].heading,isExpanded:G,onToggle:()=>{K(G?"reviewers_section.collapse":"reviewers_section.expand","MERGEBOX_REVIEWERS_SECTION_TOGGLE_BUTTON"),V(!G)}}:void 0,A[41]=J,A[42]=G,A[43]=$,A[44]=K,A[45]=H,A[46]=w):w=A[46],A[47]!==W||A[48]!==Z.heading||A[49]!==ee.subtitle||A[50]!==et.icon||A[51]!==w?(j=(0,a.jsx)(ex,{headerId:W,title:Z.heading,subtitle:ee.subtitle,icon:et.icon,expandableProps:w}),A[47]=W,A[48]=Z.heading,A[49]=ee.subtitle,A[50]=et.icon,A[51]=w,A[52]=j):j=A[52],A[53]!==z||A[54]!==U||A[55]!==B||A[56]!==q?(E=(0,a.jsx)(eH,{viewerCanDismissReviews:B,reviewGroup:m.Qv.Approvals,opinionatedReviews:z,pullRequestId:U,viewerCanReRequestReviews:q}),A[53]=z,A[54]=U,A[55]=B,A[56]=q,A[57]=E):E=A[57],A[58]!==U||A[59]!==Q||A[60]!==B||A[61]!==q?(R=(0,a.jsx)(eH,{viewerCanDismissReviews:B,reviewGroup:m.Qv.RequestedChanges,opinionatedReviews:Q,pullRequestId:U,viewerCanReRequestReviews:q}),A[58]=U,A[59]=Q,A[60]=B,A[61]=q,A[62]=R):R=A[62],A[63]!==F||A[64]!==U||A[65]!==B?(L=(0,a.jsx)(eV,{reviewGroup:m.Qv.PendingReviewRequest,viewerCanDismissReviews:B,pendingRequestedReviews:F,pullRequestId:U}),A[63]=F,A[64]=U,A[65]=B,A[66]=L):L=A[66],A[67]!==E||A[68]!==R||A[69]!==L?(D=(0,a.jsxs)("div",{className:"ReviewerSection-module__reviewerGroupsContainer--pZhlf",children:[E,R,L]}),A[67]=E,A[68]=R,A[69]=L,A[70]=D):D=A[70],A[71]!==G||A[72]!==D?(I=(0,a.jsx)(eb,{isExpanded:G,children:D}),A[71]=G,A[72]=D,A[73]=I):I=A[73],A[74]!==W||A[75]!==j||A[76]!==I?(T=(0,a.jsxs)("section",{"aria-label":"Reviews","aria-describedby":W,className:"border-bottom color-border-subtle",children:[j,I]}),A[74]=W,A[75]=j,A[76]=I,A[77]=T):T=A[77],T}function eZ(){return(0,a.jsx)(o.CheckIcon,{size:16})}function e0(){return(0,a.jsx)(o.CodeReviewIcon,{size:16})}function e1(){return(0,a.jsx)(o.XIcon,{size:16})}function e2(){return(0,a.jsx)(o.FileDiffIcon,{size:16})}function e3(){return(0,a.jsx)(o.CheckIcon,{size:16})}try{eJ.displayName||(eJ.displayName="ReviewerSection")}catch{}var e4=new WeakMap,e5=new WeakMap,e6=new WeakMap,e7=new WeakMap,e8=new WeakMap,e9=new WeakMap;let ReviewerSectionStatus=class ReviewerSectionStatus extends BaseSectionStatus{get shouldRender(){return"DIRTY"!==this.pullRequest.mergeStateStatus&&"UNKNOWN"!==this.pullRequest.mergeStateStatus&&((0,w._)(this,e8).length>0||(0,w._)(this,e9).length>0||this.consolidatedFailureReasons.length>0)}get sectionStatus(){return tr(this.numReviewsRequired,(0,w._)(this,e7),(0,w._)(this,e8),this.consolidatedFailureReasons,(0,w._)(this,e9))}get mergeBoxStatus(){switch(this.sectionStatus){case eW:case eY:case eX:return"PASSED";case ez:return"FAILED";default:return"NEUTRAL"}}get numReviewsRequired(){let e=(0,w._)(this,e6)?.flatMap(e=>e.requiredReviewers||[])||[];return e.length?Math.max(...e):0}get consolidatedFailureReasons(){if(!(0,w._)(this,e5)){let e=(0,w._)(this,e6)?.flatMap(e=>e.failureReasons||[])||[];(0,E._)(this,e5,[...new Set(e)].filter(ta))}return(0,w._)(this,e5)}constructor(...e){super(...e),(0,j._)(this,e6,{get:te,set:void 0}),(0,j._)(this,e7,{get:tt,set:void 0}),(0,j._)(this,e8,{get:ti,set:void 0}),(0,j._)(this,e9,{get:tn,set:void 0}),(0,j._)(this,e4,{writable:!0,value:void 0}),(0,j._)(this,e5,{writable:!0,value:void 0})}};function te(){var e;let t;return(0,w._)(this,e4)||(0,E._)(this,e4,(t=(e=this.mergeRequirements)&&e.conditions.find(e=>"PULL_REQUEST_RULES"===e.type),(t?.ruleRollups?.filter(e=>"PULL_REQUEST"===e.ruleType).map(e=>e.metadata)??[]).filter(e=>null!==e).filter(e=>"requiredReviewers"in e&&"requiresCodeowners"in e&&"failureReasons"in e).map(e=>{let t=e.failureReasons.map(e=>e.toUpperCase());return{requiredReviewers:e.requiredReviewers,requiresCodeowners:e.requiresCodeowners,failureReasons:t}})??[])),(0,w._)(this,e4)}function tt(){return((0,w._)(this,e6)?.filter(e=>e.requiresCodeowners)||[]).length>0}function ti(){return this.pullRequest.latestOpinionatedReviews}function tn(){return this.pullRequest.pendingReviewRequests}let ta=e=>"CODE_OWNER_REVIEW_REQUIRED"===e||"SOC2_APPROVAL_PROCESS_REQUIRED"===e||"CHANGES_REQUESTED"===e||"MORE_REVIEWS_REQUIRED"===e||"LAST_PUSH_APPROVAL_REQUIRED"===e,tr=(e,t,i,n,a)=>0===n.length&&i.length>0&&(e>0||t)?eW:n.includes("CODE_OWNER_REVIEW_REQUIRED")||n.includes("SOC2_APPROVAL_PROCESS_REQUIRED")||n.includes("MORE_REVIEWS_REQUIRED")||n.includes("LAST_PUSH_APPROVAL_REQUIRED")?eQ:n.includes("CHANGES_REQUESTED")?ez:0===e&&a.length>0&&0===i.length?eY:eX;var tl=new WeakMap,ts=new WeakMap,to=new WeakMap,td=new WeakMap,tc=new WeakSet;let MergeBoxStatusCalculator=class MergeBoxStatusCalculator{get overallStatus(){if("MERGED"===(0,w._)(this,tl).state)return"MERGED";if("CLOSED"===(0,w._)(this,tl).state)return"NEUTRAL";if((0,w._)(this,tl).isInMergeQueue)return"QUEUED";if((0,w._)(this,tl).isDraft)return"NEUTRAL";let e=Object.values(this.sections??[]).filter(e=>e.shouldConsiderStatus),t=e.some(e=>"FAILED"===e.mergeBoxStatus),i=e.every(e=>"PASSED"===e.mergeBoxStatus);return t&&(0,w._)(this,tl).viewerCanUpdate?"SOME_FAILED":i?"ALL_PASSED":"NEUTRAL"}get sections(){return(0,w._)(this,td)}constructor(e,t,i){(0,L._)(this,tc),(0,j._)(this,tl,{writable:!0,value:void 0}),(0,j._)(this,ts,{writable:!0,value:void 0}),(0,j._)(this,to,{writable:!0,value:void 0}),(0,j._)(this,td,{writable:!0,value:void 0}),(0,E._)(this,tl,e),(0,E._)(this,ts,t),(0,E._)(this,to,i),(0,E._)(this,td,(0,R._)(this,tc,tu).call(this))}};function tu(){return{BlockedSection:new BlockedSectionStatus((0,w._)(this,tl),(0,w._)(this,ts),(0,w._)(this,to)),ClosedOrMergedStateMergeBox:new ClosedOrMergedStateSectionStatus((0,w._)(this,tl),(0,w._)(this,ts),(0,w._)(this,to)),ChecksSection:new ChecksSectionStatus((0,w._)(this,tl),(0,w._)(this,ts),(0,w._)(this,to)),ConflictsSection:new ConflictsSectionStatus((0,w._)(this,tl),(0,w._)(this,ts),(0,w._)(this,to)),DraftStateSection:new DraftStateSectionStatus((0,w._)(this,tl),(0,w._)(this,ts),(0,w._)(this,to)),MergeQueueSection:new MergeQueueSectionStatus((0,w._)(this,tl),(0,w._)(this,ts),(0,w._)(this,to)),ReviewerSection:new ReviewerSectionStatus((0,w._)(this,tl),(0,w._)(this,ts),(0,w._)(this,to))}}var tm=i(70170),th=i(40235),tf=i(70263);function tp(e){return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}function tg(){return!document.hidden}function tx(){return!0}let ty=()=>(0,u.useSyncExternalStore)(tp,tg,tx);function tb({channels:e,refetchQuery:t}){let i=(0,u.useMemo)(()=>Object.values(e).filter(e=>null!==e),[e]),n=(0,tf.A)(),[a,r]=(0,u.useState)(!1),l=ty(),s=(0,u.useMemo)(()=>(0,tm.n)(()=>{n()&&t()},2e3),[t,n]),o=(0,u.useMemo)(()=>e=>{l?window.setTimeout(()=>s(),e.wait||0):r(!0)},[l,s]);for(let e of((0,u.useEffect)(()=>{n()&&l&&a&&(r(!1),t())},[l,a,r,n,t]),i))(0,th.x)(e,o)}var tv=i(65510);function tC(e){let t,i=(0,r.c)(3),{pullRequestHeadSha:n}=e,{basePageDataUrl:a}=(0,p.Yu)(),l=`headSha:${n}`,s=`basePageDataURL:${a}`;return i[0]!==l||i[1]!==s?(t=[h.uT.statusChecks,l,s],i[0]=l,i[1]=s,i[2]=t):t=i[2],t}function tS(e){let t,i,n,a=(0,r.c)(9),{pullRequestHeadSha:l}=e,s=(0,f.e)(h.uT.statusChecks);a[0]!==l?(t={pullRequestHeadSha:l},a[0]=l,a[1]=t):t=a[1];let o=tC(t),d=(0,x.jE)();return a[2]!==s||a[3]!==d||a[4]!==o?(i=async()=>(0,g.H)(s,o,d),a[2]=s,a[3]=d,a[4]=o,a[5]=i):i=a[5],a[6]!==o||a[7]!==i?(n={queryKey:o,queryFn:i,staleTime:1e4},a[6]=o,a[7]=i,a[8]=n):n=a[8],(0,tv.U)(n)}var t_=i(72579),tN=i(29e3),tw=i(4559);function tj(e){let t,i,n,l,s,d,m,p,g,y,v,C,S,_=(0,r.c)(49),{state:N,isCrossRepo:w,headRefName:j,headRepository:E,baseRepository:R,viewerCanDeleteHeadRef:L,viewerCanRestoreHeadRef:D,deprovisionableCodespaces:I}=e,[T,A]=(0,u.useState)(),k=(0,u.useRef)(null),[O,M]=(0,u.useState)(!1),P=I?I.count:0,F=D&&I&&P>0,U=P>1?"codespaces":"codespace";_[0]===Symbol.for("react.memo_cache_sentinel")?(t={onError:e=>{A(e)}},_[0]=t):t=_[0];let{mutate:$,isPending:B}=function(e){let t,i,n,a,l=(0,r.c)(11),{onError:s}=e,o=(0,f.e)(h.uT.deleteHeadRef),d=b(),c=(0,x.jE)();return l[0]!==o?(t=async()=>{let e=await (0,eP.q$)(o,{method:"POST",headers:{Accept:"application/json"}}),t=await (0,eP.hp)(e);return(0,eP.R)(e,t),t},l[0]=o,l[1]=t):t=l[1],l[2]!==d||l[3]!==c?(i=()=>{let e=new CustomEvent("head-ref-deleted");return document.dispatchEvent(e),c.invalidateQueries({queryKey:d},{cancelRefetch:!1})},l[2]=d,l[3]=c,l[4]=i):i=l[4],l[5]!==s?(n=e=>{s(e)},l[5]=s,l[6]=n):n=l[6],l[7]!==t||l[8]!==i||l[9]!==n?(a={mutationFn:t,onSuccess:i,onError:n},l[7]=t,l[8]=i,l[9]=n,l[10]=a):a=l[10],(0,eM.n)(a)}(t);_[1]!==$?(i=()=>{A(void 0),$(void 0)},_[1]=$,_[2]=i):i=_[2];let q=i;_[3]===Symbol.for("react.memo_cache_sentinel")?(n={onError:e=>{M(!1),A(e),k.current?.focus()}},_[3]=n):n=_[3];let{mutate:H,isPending:G}=function(e){let t,i,n,a,l=(0,r.c)(11),{onError:s}=e,o=(0,f.e)(h.uT.cleanupCodespaces),d=b(),c=(0,x.jE)();return l[0]!==o?(t=async()=>{let e=await (0,eP.q$)(o,{method:"POST",headers:{Accept:"application/json"}}),t=await (0,eP.hp)(e);return(0,eP.R)(e,t),t},l[0]=o,l[1]=t):t=l[1],l[2]!==d||l[3]!==c?(i=()=>c.invalidateQueries({queryKey:d},{cancelRefetch:!1}),l[2]=d,l[3]=c,l[4]=i):i=l[4],l[5]!==s?(n=e=>{s(e)},l[5]=s,l[6]=n):n=l[6],l[7]!==t||l[8]!==i||l[9]!==n?(a={mutationFn:t,onSuccess:i,onError:n},l[7]=t,l[8]=i,l[9]=n,l[10]=a):a=l[10],(0,eM.n)(a)}(n);_[4]!==U||_[5]!==H?(l=()=>{A(void 0),H(void 0,{onSuccess:()=>{M(!1),setTimeout(()=>(0,tw.i)(`Deleting ${U}.`),1e3)}})},_[4]=U,_[5]=H,_[6]=l):l=_[6];let V=l;_[7]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{A(void 0),M(!0)},_[7]=s):s=_[7];let K=s;_[8]!==j||_[9]!==E?(d=()=>E&&E.name?(0,eB.WJ9)({owner:E.ownerLogin,repo:E.name,branch:j}):"",_[8]=j,_[9]=E,_[10]=d):d=_[10];let W=d;_[11]!==F||_[12]!==N?(m=()=>F?"Branch successfully deleted":"MERGED"===N?"Pull request successfully merged and closed":"Closed with unmerged commits",_[11]=F,_[12]=N,_[13]=m):m=_[13];let z=m;_[14]!==B||_[15]!==q?(p=(0,a.jsx)(eC.Q,{loading:B,loadingAnnouncement:"Deleting branch",onClick:q,children:"Delete branch"}),_[14]=B,_[15]=q,_[16]=p):p=_[16];let Q=p;_[17]!==U?(g=(0,a.jsxs)(eC.Q,{ref:k,onClick:K,children:["Delete ",U]}),_[17]=U,_[18]=g):g=_[18];let X=g;_[19]===Symbol.for("react.memo_cache_sentinel")?(y=(0,a.jsx)("span",{id:"js-pull-restorable",className:"d-none"}),_[19]=y):y=_[19];let Y=y,J=`${E?.url}/settings`;_[20]!==Q||_[21]!==X||_[22]!==F||_[23]!==L?(v=()=>L?Q:F?X:Y,_[20]=Q,_[21]=X,_[22]=F,_[23]=L,_[24]=v):v=_[24];let Z=v;_[25]!==R?.name||_[26]!==R?.ownerLogin||_[27]!==P||_[28]!==U||_[29]!==I||_[30]!==W||_[31]!==j||_[32]!==w||_[33]!==J||_[34]!==F||_[35]!==N||_[36]!==L?(C=()=>{if("MERGED"===N)if(L)return(0,a.jsxs)(a.Fragment,{children:["You're all set \u2014 the"," ",(0,a.jsx)(t_.A,{className:(0,c.$)("ClosedOrMergedStateMergeBox-module__branchName--YOSfM","d-inline wb-break-all"),href:W(),children:j})," ","branch can be safely deleted.",w&&(0,a.jsxs)(a.Fragment,{children:[" ","If you wish, you can also delete this fork of"," ",(0,a.jsx)("strong",{children:`${R?.ownerLogin}/${R?.name}`})," in the"," ",(0,a.jsx)(eh.A,{href:J,inline:!0,children:"settings"}),"."]})]});else if(F)return(0,a.jsxs)(a.Fragment,{children:["You're all set \u2014 the ",P," ",U," for head branch can be safely deleted. You can also manage your codespaces in"," ",(0,a.jsx)(eh.A,{inline:!0,href:I.repositoryCodespacePath||"",children:"settings."})," "]});else return(0,a.jsx)(a.Fragment,{children:"You're all set \u2014 the branch has been merged."});return L?(0,a.jsxs)(a.Fragment,{children:["This pull request is closed, but the ",(0,a.jsx)(t_.A,{href:W(),children:j})," ","branch has unmerged commits."]}):(0,a.jsx)(a.Fragment,{children:"This pull request is closed."})},_[25]=R?.name,_[26]=R?.ownerLogin,_[27]=P,_[28]=U,_[29]=I,_[30]=W,_[31]=j,_[32]=w,_[33]=J,_[34]=F,_[35]=N,_[36]=L,_[37]=C):C=_[37];let ee=C;return _[38]!==P||_[39]!==U||_[40]!==G||_[41]!==B||_[42]!==T||_[43]!==Z||_[44]!==V||_[45]!==z||_[46]!==O||_[47]!==ee?(S=(()=>{if(!T)return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(tN.A,{"aria-labelledby":"delete-codespaces-dialog-title",isOpen:O,returnFocusRef:k,onDismiss:()=>M(!1),children:[(0,a.jsx)(tN.A.Header,{id:"delete-codespaces-dialog-title",children:"Delete Codespace?"}),(0,a.jsxs)("div",{className:"p-3",children:[(0,a.jsxs)("span",{children:["Are you sure you want to delete ",P," ",U," for the head branch?"]}),(0,a.jsxs)("div",{className:"d-flex flex-justify-end mt-3",children:[(0,a.jsx)(eC.Q,{className:"mr-1",inactive:G,onClick:()=>{G||(M(!1),k.current?.focus())},children:"Cancel"}),(0,a.jsx)(eC.Q,{className:"mr-1",variant:"danger",loading:G,loadingAnnouncement:`Deleting ${U}.`,onClick:V,children:`Delete ${U}`})]})]})]}),(0,a.jsx)(ex,{title:z(),subtitle:ee(),rightSideContent:Z()})]});{let e=404!==T.cause;return(0,a.jsx)(ex,{title:"Some codespaces could not be deleted."===T.message?`Couldn't delete ${U} `:"Couldn't update branch",subtitle:T.message,rightSideContent:e?(0,a.jsx)(eC.Q,{disabled:B,leadingVisual:o.SyncIcon,onClick:()=>A(void 0),children:"Try again"}):void 0})}})(),_[38]=P,_[39]=U,_[40]=G,_[41]=B,_[42]=T,_[43]=Z,_[44]=V,_[45]=z,_[46]=O,_[47]=ee,_[48]=S):S=_[48],S}try{tj.displayName||(tj.displayName="ClosedOrMergedStateMergeBox")}catch{}var tE=i(12683);function tR(e){let t,i,n,l,s=(0,r.c)(9),{icon:o,ariaLabel:d,iconBackgroundColor:u}=e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,c.$)("d-flex flex-justify-center flex-items-center mr-2 rounded-2 height-2 width-2 position-absolute","MergeabilityIcon-module__mergeabilityIcon--CV3kc"),s[0]=t):t=s[0],s[1]!==u?(i={backgroundColor:u},s[1]=u,s[2]=i):i=s[2],s[3]!==d||s[4]!==o?(n=(0,a.jsx)(eU.A,{className:"fgColor-onEmphasis",icon:o,size:24,"aria-label":d}),s[3]=d,s[4]=o,s[5]=n):n=s[5],s[6]!==i||s[7]!==n?(l=(0,a.jsx)(tE.az,{className:t,sx:i,children:n}),s[6]=i,s[7]=n,s[8]=l):l=s[8],l}try{tR.displayName||(tR.displayName="MergeabilityIcon")}catch{}var tL=i(76720);function tD(e){let t,i,n,l,s,d=(0,r.c)(7),{hideIcon:c}=e;return d[0]!==c?(t=!c&&(0,a.jsx)(tR,{icon:o.GitMergeIcon,ariaLabel:"Merge status cannot be loaded",iconBackgroundColor:"neutral.emphasis"}),d[0]=c,d[1]=t):t=d[1],d[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(tL.E.Visual,{children:(0,a.jsx)(o.AlertIcon,{size:24,className:"fgColor-muted mt-3 mb-3"})}),d[2]=i):i=d[2],d[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)(tL.E.Heading,{children:(0,a.jsx)("strong",{children:"Merge status cannot be loaded"})}),d[3]=n):n=d[3],d[4]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsxs)(tL.E,{border:!0,children:[i,n,(0,a.jsx)("div",{className:"mb-n2",children:(0,a.jsxs)(tL.E.Description,{children:["Try reloading the page, or if the problem persists"," ",(0,a.jsxs)("a",{className:"fgColor-muted",href:"https://support.github.com/",children:[(0,a.jsx)("u",{children:"contact support"}),"."]})]})}),(0,a.jsx)(tL.E.SecondaryAction,{href:"https://www.githubstatus.com/",children:"GitHub status "})]}),d[4]=l):l=d[4],d[5]!==t?(s=(0,a.jsxs)("div",{className:"position-relative MergeBoxErrorState-module__boundaryContainer--QgJ7i",children:[t,l]}),d[5]=t,d[6]=s):s=d[6],s}try{tD.displayName||(tD.displayName="MergeBoxErrorState")}catch{}function tI(e){let t,i,n=(0,r.c)(4),{bgColor:l}=e;return n[0]!==l?(t=l?{backgroundColor:l}:void 0,n[0]=l,n[1]=t):t=n[1],n[2]!==t?(i=(0,a.jsx)(ef.A,{icon:tT,size:32,style:t,className:"BlockedSection-module__CircleOcticon--XMh4s"}),n[2]=t,n[3]=i):i=n[3],i}function tT(){return(0,a.jsx)(o.AlertFillIcon,{size:16})}try{tI.displayName||(tI.displayName="AlertIcon")}catch{}var tA=i(73017);function tk(e){let t,i,n,l=(0,r.c)(5),{failingConditionsAndRules:s}=e;return l[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(tI,{bgColor:"var(--borderColor-danger-emphasis)"}),l[0]=t):t=l[0],l[1]!==s?(i=s.map(tO),l[1]=s,l[2]=i):i=l[2],l[3]!==i?(n=(0,a.jsx)("section",{"aria-label":"Merging is blocked",className:"border-bottom borderColor-muted",children:(0,a.jsx)(ex,{title:"Merging is blocked",icon:t,children:(0,a.jsx)("ul",{className:"list-style-none",children:i})})}),l[3]=i,l[4]=n):n=l[4],n}function tO(e){return e&&"message"in e&&(0,a.jsxs)("li",{className:"BlockedSection-module__BlockedSectionMessage--kuN11",children:[(0,a.jsx)(tA.JR,{html:e.message||""})," ",(0,a.jsx)(tM,{ruleName:e.displayName})]},e.displayName)}function tM(e){let t=(0,r.c)(1),{ruleName:i}=e;if("UNVERIFIED_EMAIL"===i){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsxs)(a.Fragment,{children:["You will be able to merge this pull request after you"," ",(0,a.jsx)(eh.A,{href:"/settings/emails",inline:!0,children:"verify your email address"}),"."]}),t[0]=e):e=t[0],e}return null}try{tk.displayName||(tk.displayName="BlockedSection")}catch{}try{tM.displayName||(tM.displayName="AdditionalMessaging")}catch{}let tP={ACTION_REQUIRED:{icon:o.XCircleFillIcon,iconColor:"var(--fgColor-danger, var(--color-danger-fg))",isPending:!1,isSuccess:!1},CANCELLED:{icon:o.StopIcon,iconColor:"var(--fgColor-muted, var(--color-fg-muted))",isPending:!1,isSuccess:!1},COMPLETED:{icon:o.CheckIcon,iconColor:"var(--fgColor-success, var(--color-success-fg))",isSuccess:!0,isPending:!1},ERROR:{icon:o.XCircleFillIcon,iconColor:"var(--fgColor-danger, var(--color-danger-fg))",isPending:!1,isSuccess:!1},EXPECTED:{icon:o.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",isPending:!0,isSuccess:!1},FAILURE:{icon:o.XCircleFillIcon,iconColor:"var(--fgColor-danger, var(--color-danger-fg))",isPending:!1,isSuccess:!1},IN_PROGRESS:{icon:o.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",isPending:!0,isSuccess:!1},NEUTRAL:{icon:o.SquareFillIcon,iconColor:"var(--fgColor-muted, var(--color-fg-muted))",isPending:!1,isSuccess:!1},PENDING:{icon:o.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",isPending:!0,isSuccess:!1},QUEUED:{icon:o.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",isPending:!0,isSuccess:!1},REQUESTED:{icon:o.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",backgroundColor:"none",isPending:!1,isSuccess:!1},SKIPPED:{icon:o.SkipIcon,iconColor:"var(--fgColor-muted, var(--color-fg-muted))",isPending:!1,isSuccess:!1},STALE:{icon:o.MoonIcon,iconColor:"var(--fgColor-muted, var(--color-fg-muted))",isPending:!1,isSuccess:!1},STARTUP_FAILURE:{icon:o.XCircleFillIcon,iconColor:"var(--fgColor-danger, var(--color-danger-fg))",isPending:!1,isSuccess:!1},SUCCESS:{icon:o.CheckIcon,iconColor:"var(--fgColor-success, var(--color-success-fg))",isSuccess:!0,isPending:!1},TIMED_OUT:{icon:o.XCircleFillIcon,iconColor:"var(--fgColor-danger, var(--color-danger-fg))",isPending:!1,isSuccess:!1},WAITING:{icon:o.ClockIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",isPending:!0,isSuccess:!1},_UNKNOWN_VALUE:{icon:o.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",isPending:!0,isSuccess:!1}},tF={FAILURE:"failing",NEUTRAL:"neutral",TIMED_OUT:"timed out",CANCELLED:"cancelled",STALE:"stale",PENDING:"pending",IN_PROGRESS:"in progress",REQUESTED:"requested",QUEUED:"queued",SKIPPED:"skipped",EXPECTED:"expected",SUCCESS:"successful",ALL:"all"};Object.keys(tP);let tU=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});function t$(e,t){return tU.compare(e.displayName,t.displayName)}function tB(e,t,i,n){if(n?.statusChecksGrouping==="ungrouped")return{ALL:e};let a={};for(let e of Object.keys(t))a[e]=[];return e.reduce((e,n)=>{let a=i(n),r=Object.keys(t).find(e=>t[e].includes(a));if(r){let t=e[r];t&&t.push(n)}return e},a)}function tq(e,t,i){if(i?.statusChecksGrouping==="ungrouped")return{ALL:e.reduce((e,t)=>e+t.count,0)};let n=tB(e,t,e=>e.state,i);return Object.fromEntries(Object.keys(n).map(e=>{let t;return[e,(t=n[e],t?.reduce((e,t)=>e+t.count,0)??0)]}))}function tH(e){let t={};for(let i of e)t[i.state]=i.count;return{statusCheckCounts:JSON.stringify(t)}}var tG=i(72931);let tV={PASSED:"success",PENDING:"pending",PENDING_APPROVAL:"pending",PENDING_FAILED:"failure",PENDING_CONFLICTS:"pending",SOME_FAILED:"failure",FAILED:"failure"};function tK(){(0,tG.gd)()}function tW(){return(0,tG.iD)("merge-queue"),tz}function tz(){(0,tG.gd)()}var tQ=i(94236),tX=i(26108);let tY={status_checks_grouping_preference:["grouped_by_status","ungrouped"]};function tJ(e){let t,i,n,l,s,d,m=(0,r.c)(29),{children:p,count:g,groupStatus:y,isToggleVisible:v,analyticsMetadata:C,showSettingsIcon:S,setUserPreferences:_,pullRequestId:N,userPreferences:w}=e;m[0]!==g||m[1]!==w?.statusChecksGrouping?(t=function(e){return w?.statusChecksGrouping==="ungrouped"?g>1?`${g} checks`:`${g} check`:`${g} ${e} check${g>1?"s":""}`},m[0]=g,m[1]=w?.statusChecksGrouping,m[2]=t):t=m[2];let j=t,[E,R]=(0,eS.Fo)(`${N}:checksGroup:${y}Expanded`,!0),{sendAnalyticsEvent:L}=(0,em.s)(),D=tF[y],I=(0,u.useId)(),T=E||!v,A=j(D),k=!v||E,[O,M]=(0,u.useState)(null);m[3]===Symbol.for("react.memo_cache_sentinel")?(i={onError:e=>{M(e.message)}},m[3]=i):i=m[3];let{mutate:P}=function(e){let t,i,n,a,l=(0,r.c)(11),{onError:s}=e,o=(0,f.e)(h.uT.updateMergeBoxUserPreference),d=b(),c=(0,x.jE)();return l[0]!==o?(t=async e=>{if(!e.preferenceName||!e.preference)throw Error("Preference name and value must be provided.");if(!(e.preferenceName in tY))throw Error("Invalid preference name.");if(!tY[e.preferenceName].includes(e.preference))throw Error("Invalid preference value.");let t=await (0,eP.q$)(o,{method:"POST",headers:{Accept:"application/json"},body:e}),i=await (0,eP.hp)(t);return(0,eP.R)(t,i),i},l[0]=o,l[1]=t):t=l[1],l[2]!==d||l[3]!==c?(i=()=>c.invalidateQueries({queryKey:d},{cancelRefetch:!1}),l[2]=d,l[3]=c,l[4]=i):i=l[4],l[5]!==s?(n=e=>{s(e)},l[5]=s,l[6]=n):n=l[6],l[7]!==t||l[8]!==i||l[9]!==n?(a={mutationFn:t,onSuccess:i,onError:n},l[7]=t,l[8]=i,l[9]=n,l[10]=a):a=l[10],(0,eM.n)(a)}(i);return m[4]!==C||m[5]!==I||m[6]!==y||m[7]!==A||m[8]!==E||m[9]!==L||m[10]!==R||m[11]!==_||m[12]!==v||m[13]!==S||m[14]!==P||m[15]!==w?(n=v&&(0,a.jsxs)("div",{className:"ExpandedChecks-module__groupHeader--jZHKD",children:[w?.statusChecksGrouping==="ungrouped"?(0,a.jsxs)("span",{className:(0,c.$)("ExpandedChecks-module__totalChecksCountText--buDCm","pl-2 text-semibold f6"),children:[" ",A," "]}):(0,a.jsx)(eC.Q,{"aria-controls":I,"aria-expanded":E,"aria-label":E?`Collapse ${A} group`:`Expand ${A} group`,className:"ExpandedChecks-module__checksGroupHeadingButton--PCfYf",variant:"invisible",size:"small",trailingVisual:()=>(0,a.jsx)(e_,{isExpanded:E}),onClick:()=>{L(E?"checks_group.collapse":"checks_group.expand","MERGEBOX_CHECKS_GROUP_TOGGLE_BUTTON",{...C,group:y}),R(!E)},children:A}),S&&_&&(0,a.jsxs)(tQ.W,{children:[(0,a.jsx)(tQ.W.Anchor,{children:(0,a.jsx)(tX.K,{icon:o.GearIcon,variant:"invisible","aria-label":"Checks settings",className:"ExpandedChecks-module__checkSettingsButton--MONZT"})}),(0,a.jsx)(tQ.W.Overlay,{width:"auto",children:(0,a.jsxs)(eI.l,{selectionVariant:"single",children:[(0,a.jsx)(eI.l.Item,{onSelect:()=>{w?.statusChecksGrouping!=="grouped_by_status"&&(P({preferenceName:"status_checks_grouping_preference",preference:"grouped_by_status"}),_({...w,statusChecksGrouping:"grouped_by_status"}))},selected:w?.statusChecksGrouping==="grouped_by_status",children:"Group by status"}),(0,a.jsx)(eI.l.Item,{onSelect:()=>{w?.statusChecksGrouping!=="ungrouped"&&(P({preferenceName:"status_checks_grouping_preference",preference:"ungrouped"}),_({...w,statusChecksGrouping:"ungrouped"}))},selected:w?.statusChecksGrouping==="ungrouped",children:"No grouping"})]})})]})]}),m[4]=C,m[5]=I,m[6]=y,m[7]=A,m[8]=E,m[9]=L,m[10]=R,m[11]=_,m[12]=v,m[13]=S,m[14]=P,m[15]=w,m[16]=n):n=m[16],m[17]!==O?(l=O&&(0,a.jsxs)(eT.A,{variant:"danger",className:"ChecksGroup-module__ErrorFlash--WJCJc",children:[(0,a.jsx)(eU.A,{icon:o.StopIcon,className:"ChecksGroup-module__ErrorOcticon--JPT2T"}),O]}),m[17]=O,m[18]=l):l=m[18],m[19]!==p||m[20]!==I||m[21]!==D||m[22]!==k||m[23]!==T?(s=k&&(0,a.jsx)("div",{className:(0,c.$)("ExpandedChecks-module__expandableWrapper--aGEIv",T&&"ExpandedChecks-module__isExpanded--pq8Vj"),id:I,"aria-label":`${D} checks`,role:"group",children:(0,a.jsx)("div",{className:"ExpandedChecks-module__expandableListView--QDJPW",children:(0,a.jsx)(ev.u,{title:`${D} checks`,titleHeaderTag:"h3",strictFocusZone:!1,children:p})})}),m[19]=p,m[20]=I,m[21]=D,m[22]=k,m[23]=T,m[24]=s):s=m[24],m[25]!==n||m[26]!==l||m[27]!==s?(d=(0,a.jsxs)("div",{children:[n,l,s]}),m[25]=n,m[26]=l,m[27]=s,m[28]=d):d=m[28],d}try{tJ.displayName||(tJ.displayName="ChecksGroup")}catch{}var tZ=i(62935),t0=i(26607),t1=i(10436),t2=i(84098),t3=i(51880),t4=i(4929),t5=i(39619),t6=i(51213),t7=i(34665),t8=i(68637),t9=i(69599),ie=i(79064),it=i(53419),ii=i(25641),ia=i(78314),ir=i(20582);let il="copilot-explain-error-action",is="copilot-fix-with-copilot-action";function io(e){let t,i,n,l=(0,r.c)(7),{failureContext:s,targetUrl:d,displayName:c}=e;l[0]!==c||l[1]!==s||l[2]!==d?(t=()=>{if((0,t9.G7)("copilot_chat_action_logs_redirect")){(0,it.BI)("copilot.open_copilot_chat",{source:`element ${il}`});let e=d?(0,t7.a)(d,!0,c):null,t=e?[e]:[],i=(0,t8.oo)(void 0,!0);ie.Jt.setEntrypointMessage({message:i,references:t}),ie.Jt.setCurrentReferences(null,t),window.location.href=e?`/copilot?reference_id=${(0,ii.Vb)(e)}`:"/copilot";return}(0,t5.qR)({id:il,intent:t6.wh.actionsAgent,content:(0,t8.oo)(s.jobId),references:[]})},l[0]=c,l[1]=s,l[2]=d,l[3]=t):t=l[3];let u=t;return l[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(eI.l.LeadingVisual,{children:(0,a.jsx)(o.CopilotIcon,{})}),l[4]=i):i=l[4],l[5]!==u?(n=(0,a.jsxs)(eI.l.Item,{onSelect:u,children:["Explain error",i]}),l[5]=u,l[6]=n):n=l[6],n}function id(e){let t,i,n,l=(0,r.c)(6),{targetUrl:s}=e,{sendAnalyticsEvent:d}=(0,em.s)();l[0]!==d?(t=()=>{d("status_check_row_action_bar.view_details_click","VIEW_DETAILS_MENU_ITEM")},l[0]=d,l[1]=t):t=l[1];let c=t;return l[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(eI.l.LeadingVisual,{children:(0,a.jsx)(o.ArrowRightIcon,{})}),l[2]=i):i=l[2],l[3]!==c||l[4]!==s?(n=(0,a.jsxs)(eI.l.LinkItem,{href:s,onClick:c,children:["View details",i]}),l[3]=c,l[4]=s,l[5]=n):n=l[5],n}function ic(e){let t,i,n,l,s,d,c,m=(0,r.c)(19),{failureContext:h,targetUrl:f,displayName:p}=e,[g,x]=(0,u.useState)(!1),y=(0,ia.t)();m[0]!==p||m[1]!==f?(t=f?(0,t7.a)(f,!0,p):null,m[0]=p,m[1]=f,m[2]=t):t=m[2];let b=t,v=b?.repoOwner||y?.ownerLogin,C=b?.repoName||y?.name,S=h.headRef||y?.defaultBranch;m[3]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{x(!1),(0,it.BI)("fix_workflow.job_created",{source:is}),window.location.href="/copilot/agents"},n=e=>{x(!1),(0,it.BI)("fix_workflow.job_creation_failed",{error:e.message,source:is})},m[3]=i,m[4]=n):(i=m[3],n=m[4]),m[5]!==v||m[6]!==C?(l={owner:v,repo:C,onSuccess:i,onError:n},m[5]=v,m[6]=C,m[7]=l):l=m[7];let{mutate:_}=(0,ir.l)(l);m[8]!==S||m[9]!==_||m[10]!==p||m[11]!==h.jobId||m[12]!==f?(s=()=>{x(!0),(0,it.BI)("fix_workflow.menu_item_clicked",{source:is});let e=p||"workflow",t=`Fix the failing GitHub Actions workflow "${e}".
Analyze the workflow logs, identify the root cause of the failure, and implement a fix.
Job ID: ${h.jobId}
${f?`Job URL: ${f}`:""}`;_({problemStatement:t,baseRef:S||"",eventType:"fix-failed-workflow",eventContent:t})},m[8]=S,m[9]=_,m[10]=p,m[11]=h.jobId,m[12]=f,m[13]=s):s=m[13];let N=s;if(!C||!v||!S)return null;let w=g?"Creating task...":"Fix with agent";return m[14]===Symbol.for("react.memo_cache_sentinel")?(d=(0,a.jsx)(eI.l.LeadingVisual,{children:(0,a.jsx)(o.AgentIcon,{})}),m[14]=d):d=m[14],m[15]!==g||m[16]!==N||m[17]!==w?(c=(0,a.jsxs)(eI.l.Item,{onSelect:N,disabled:g,children:[w,d]}),m[15]=g,m[16]=N,m[17]=w,m[18]=c):c=m[18],c}function iu(e){let t,i=(0,r.c)(10),{copilotCheckRunFailureContext:n,targetUrl:l,displayName:s}=e;if(i[0]!==n||i[1]!==s||i[2]!==l){let e=[],r=(0,t9.G7)("copilot_fix_failed_workflows");if(null!=n){let t,o=()=>(0,a.jsx)(io,{failureContext:n,targetUrl:l,displayName:s});if(i[4]!==o?(t={key:"copilot-explain-error",render:o},i[4]=o,i[5]=t):t=i[5],e.push(t),r){let t,r=()=>(0,a.jsx)(ic,{failureContext:n,targetUrl:l,displayName:s});i[6]!==r?(t={key:"copilot-fix-with-copilot",render:r},i[6]=r,i[7]=t):t=i[7],e.push(t)}}if(l){let t;i[8]!==l?(t={key:"view-details",render:()=>(0,a.jsx)(id,{targetUrl:l})},i[8]=l,i[9]=t):t=i[9],e.push(t)}t=(0,a.jsx)(eF.L,{label:"actions",staticMenuActions:e,className:"StatusCheckRowActionBar-module__statusCheckActionBar--Ipu3V"}),i[0]=n,i[1]=s,i[2]=l,i[3]=t}else t=i[3];return t}try{io.displayName||(io.displayName="CopilotExplainErrorMenuItem")}catch{}try{id.displayName||(id.displayName="ViewDetailsMenuItem")}catch{}try{ic.displayName||(ic.displayName="CopilotFixWithCopilotMenuItem")}catch{}try{iu.displayName||(iu.displayName="StatusCheckRowActionBar")}catch{}function im(e){let t,i,n=(0,r.c)(5),{iconColor:l,icon:s}=e;return n[0]!==l?(t={color:l},n[0]=l,n[1]=t):t=n[1],n[2]!==s||n[3]!==t?(i=(0,a.jsx)(t1.m4,{icon:s,sx:t}),n[2]=s,n[3]=t,n[4]=i):i=n[4],i}function ih(e){let t,i,n,l=(0,r.c)(5),{animated:s}=e,c=void 0===s||s;return l[0]!==c?(t=c?(0,a.jsx)(d.A,{size:"small"}):(0,a.jsx)(o.CircleIcon,{size:"small",className:"StatusCheckRow-module__staticSpinner--zUcDB"}),l[0]=c,l[1]=t):t=l[1],l[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)("div",{className:"StatusCheckRow-module__spinnerWrapper--AjdFv",children:(0,a.jsx)("div",{className:"StatusCheckRow-module__spinnerInner--KITho"})}),l[2]=i):i=l[2],l[3]!==t?(n=(0,a.jsxs)("div",{className:"StatusCheckRow-module__checksSpinnerWrapper--HgboO",children:[t,i]}),l[3]=t,l[4]=n):n=l[4],n}let ip=(0,u.memo)(function(e){let t,i,n,l,s,o,d,m,h,f,p,g,x,y,b,v,C,S=(0,r.c)(51),{additionalContext:_,avatarUrl:N,avatarBackgroundColor:w,copilotCheckRunFailureContext:j,description:E,displayName:R,state:L,stateChangedAt:D,targetUrl:I,isRequired:T,reserveSpaceForRequiredBadge:A,reserveSpaceForActionBar:k,shouldAnimate:O}=e,M=void 0===O||O,P=tP[L];S[0]!==_?(t=_?_.charAt(0).toLowerCase()+_.slice(1):"",S[0]=_,S[1]=t):t=S[1];let F=`${R} ${t}`,U=A&&!k,[$,B]=(0,u.useState)(!1),q=(0,u.useRef)(null),H=(0,u.useRef)(null);S[2]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{let e=new ResizeObserver(()=>{if(q.current&&H.current){let e=H.current.offsetWidth;B(q.current.offsetWidth+31>e)}});return H.current&&e.observe(H.current),()=>{e.disconnect()}},S[2]=i):i=S[2],S[3]!==R?(n=[R],S[3]=R,S[4]=n):n=S[4],(0,u.useEffect)(i,n),S[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)("div",{}),S[5]=l):l=S[5],S[6]===Symbol.for("react.memo_cache_sentinel")?(s=(0,c.$)(eD),S[6]=s):s=S[6],S[7]!==j||S[8]!==R||S[9]!==k||S[10]!==I?(o=k?(0,a.jsx)(iu,{copilotCheckRunFailureContext:j,targetUrl:I,displayName:R}):(0,a.jsx)(a.Fragment,{}),S[7]=j,S[8]=R,S[9]=k,S[10]=I,S[11]=o):o=S[11],S[12]===Symbol.for("react.memo_cache_sentinel")?(d=(0,c.$)("StatusCheckRow-module__leadingVisual--JETy5","mt-2"),S[12]=d):d=S[12],S[13]!==M||S[14]!==L||S[15]!==P?(m="IN_PROGRESS"===L?(0,a.jsx)(ih,{animated:M}):(0,a.jsx)(im,{icon:P.icon,iconColor:P.iconColor}),S[13]=M,S[14]=L,S[15]=P,S[16]=m):m=S[16],S[17]!==w||S[18]!==N||S[19]!==R?(h=N?(0,a.jsx)(eL.r,{alt:R,size:20,square:!0,src:N,className:"flex-shrink-0 ml-2 mr-2",style:w?{backgroundColor:w}:void 0}):(0,a.jsx)(t2.N,{size:20,square:!0,className:"flex-shrink-0 ml-2 mr-2"}),S[17]=w,S[18]=N,S[19]=R,S[20]=h):h=S[20],S[21]!==h||S[22]!==m?(f=(0,a.jsx)(t3.B,{children:(0,a.jsxs)(eR.e,{className:d,children:[m,h]})}),S[21]=h,S[22]=m,S[23]=f):f=S[23];let G=R??"",V=I??void 0,K=$?`${R} ${_} ${E}`:void 0;S[24]!==K?(p={title:K},S[24]=K,S[25]=p):p=S[25];let W=("IN_PROGRESS"===L||"QUEUED"===L)&&"text-italic";S[26]!==W?(g=(0,c.$)("StatusCheckRow-module__titleDescription--sgUXB",W),S[26]=W,S[27]=g):g=S[27],S[28]!==_||S[29]!==L||S[30]!==D?(x=function({state:e,stateChangedAt:t,additionalContext:i}){switch(e){case"IN_PROGRESS":return(0,a.jsxs)("span",{children:["Started ",(0,a.jsx)(tZ.A,{datetime:t})]});case"SKIPPED":return(0,a.jsxs)("span",{children:["Skipped ",(0,a.jsx)(tZ.A,{datetime:t})]});case"QUEUED":return(0,a.jsx)("span",{children:"Queued"});default:return(0,a.jsx)("span",{children:i})}}({state:L,stateChangedAt:D,additionalContext:_}),S[28]=_,S[29]=L,S[30]=D,S[31]=x):x=S[31];let z=E&&`\u{2014} ${E}`;return S[32]!==g||S[33]!==x||S[34]!==z?(y=(0,a.jsxs)("span",{className:g,children:[x," ",z]}),S[32]=g,S[33]=x,S[34]=z,S[35]=y):y=S[35],S[36]!==G||S[37]!==V||S[38]!==p||S[39]!==y?(b=(0,a.jsx)(eE.ao,{containerClassName:"StatusCheckRow-module__title--KooFt",headingClassName:"StatusCheckRow-module__titleHeader--Qx8JS",value:G,href:V,linkProps:p,headingRef:q,headerContainerRef:H,children:y}),S[36]=G,S[37]=V,S[38]=p,S[39]=y,S[40]=b):b=S[40],S[41]!==T||S[42]!==U||S[43]!==A?(v=A?(0,a.jsx)(t4.V,{children:T&&(0,a.jsx)("div",{className:(0,c.$)("StatusCheckRow-module__requiredLabel--cYbp_","flex-shrink-0 fgColor-default",U&&"pr-3"),children:(0,a.jsx)(t0.A,{children:"Required"})})}):(0,a.jsx)("div",{className:"px-5"}),S[41]=T,S[42]=U,S[43]=A,S[44]=v):v=S[44],S[45]!==F||S[46]!==f||S[47]!==b||S[48]!==v||S[49]!==o?(C=(0,a.jsxs)(ej.c,{title:l,"aria-label":F,className:s,secondaryActions:o,children:[f,b,v]}),S[45]=F,S[46]=f,S[47]=b,S[48]=v,S[49]=o,S[50]=C):C=S[50],C});try{im.displayName||(im.displayName="StatusIcon")}catch{}try{ih.displayName||(ih.displayName="CheckSpinner")}catch{}try{ip.displayName||(ip.displayName="StatusCheckRow")}catch{}let ig={FAILURE:["CANCELLED","ERROR","FAILURE","STALE","STARTUP_FAILURE","TIMED_OUT"],PENDING:["ACTION_REQUIRED","EXPECTED","PENDING","QUEUED","REQUESTED","WAITING","_UNKNOWN_VALUE"],IN_PROGRESS:["IN_PROGRESS"],SKIPPED:["SKIPPED"],NEUTRAL:["NEUTRAL"],SUCCESS:["SUCCESS","COMPLETED"]};function ix({pullRequestId:e,statusChecks:t,statusRollupSummary:i,mergeBoxUserPreferences:n}){let[r,l]=(0,u.useState)(n||null),s=(0,u.useMemo)(()=>t.sort(t$),[t]),o=tq(i,ig,r),d=tB(s,ig,e=>e.state,r),m=t.some(e=>e.isRequired),h=t.some(e=>e.copilotCheckRunFailureContext||!!e.targetUrl),f=Object.entries(o).reduce((e,[,t])=>t>0?e+1:e,0),p=t.length>0&&t.every(e=>e.state===t[0]?.state),g=f>1||r?.statusChecksGrouping==="ungrouped"&&!p;return(0,a.jsx)("div",{className:(0,c.$)("ExpandedChecks-module__checksContainer--ZfNYB","ExpandedChecks-module__containPaint--TRfkR"),children:Object.entries(o).filter(([,e])=>e>0).map(([t,n],s)=>{let o=n<50;return(0,a.jsx)(tJ,{count:n,groupStatus:t,isToggleVisible:g,pullRequestId:e,analyticsMetadata:tH(i),setUserPreferences:l,userPreferences:r,showSettingsIcon:r&&0===s,children:d[t]?.map(e=>e?(0,a.jsx)(ip,{...e,shouldAnimate:o,reserveSpaceForActionBar:h,reserveSpaceForRequiredBadge:m},`${e.displayName}-${e.state}-${e.targetUrl}-${e.stateChangedAt}`):null)},t)})})}try{ix.displayName||(ix.displayName="ExpandedChecksList")}catch{}let iy="StatusCheckStatesIcon-module__icon--trJdb",ib="StatusCheckStatesIcon-module__icon-animate--U9a0b",iv={PASSING:(0,a.jsx)(ef.A,{icon:()=>(0,a.jsx)(o.CheckIcon,{size:16}),className:"bgColor-success-emphasis fgColor-onEmphasis",size:32}),FAILING:(0,a.jsx)(ef.A,{icon:()=>(0,a.jsx)(o.XIcon,{size:16}),className:"bgColor-danger-emphasis fgColor-onEmphasis",size:32})},iC={FAILURE:["CANCELLED","ERROR","FAILURE","STALE","STARTUP_FAILURE","TIMED_OUT"],PENDING:["_UNKNOWN_VALUE","EXPECTED","QUEUED","PENDING","WAITING","REQUESTED","ACTION_REQUIRED","IN_PROGRESS"],SKIPPED:["SKIPPED","NEUTRAL"],SUCCESS:["SUCCESS","COMPLETED"]},iS={FAILURE:"var(--fgColor-danger)",SUCCESS:"var(--fgColor-success)",PENDING:"var(--fgColor-attention)",SKIPPED:"var(--fgColor-neutral)"},i_=2*Math.PI*44,iN={gapPercent:5,strokeWidth:12,size:32,circleSize:100,circumference:i_,percentToDegree:3.6,percentToPx:i_/100};function iw({statusRollupSummary:e}){let[t,i]=(0,u.useState)(!1),n=(0,u.useRef)(void 0),r=(0,u.useMemo)(()=>{let t,i,n,a,r,l,s,o;return n=(i=[{name:"SUCCESS",count:(t=tq(e,iC)).SUCCESS??0},{name:"SKIPPED",count:t.SKIPPED??0},{name:"PENDING",count:t.PENDING??0},{name:"FAILURE",count:t.FAILURE??0}].flatMap(e=>e?[e]:[]).filter(e=>!!e.count&&e.count>0)).reduce((e,t)=>e+t.count,0),a=[],r=i.length??0,l=i.filter(({count:e})=>e/n*100<6).map(e=>e.name),s=0,3===l.length?s=15/(r-3):2===l.length?s=10/(r-2):1===l.length&&(s=5/(r-1)),o=s,i.map((e,t)=>{var i,s;let d,c,u;if(i=e.name,!Object.keys(iC).includes(i))return null;let m=e.count;if(!m)return null;let h=(s=e.name,d=m/n*100,(r>1&&(d-=iN.gapPercent),l.includes(s))?d+5:d-o),f={name:e.name,percentage:h,dashArray:`${Math.max(h*iN.percentToPx,0)} ${iN.circumference}`,transform:(c=0,((0!==t||t!==r-1)&&r>1||2===r)&&(c=2.5),u=((e,t)=>{if(0===e)return e;let i=0;for(let e=0;e<t.length;e++){let n=t[e];n&&(i+=n+iN.gapPercent)}return i})(h,a),`rotate(${-90+(u+c)*iN.percentToDegree}deg)`),stroke:iS[e.name]};return a.push(h),f}).flatMap(e=>e?[e]:[])},[e]),l=1===e.length&&e[0]?.state==="SUCCESS",s=1===e.length&&e[0]?.state==="FAILURE",o=!l&&!s||t;return(0,u.useMemo)(()=>{void 0!==n.current&&e.length>0&&i(!0),n.current=e},[e]),(0,a.jsxs)("div",{className:"StatusCheckStatesIcon-module__iconWrapper--LPiWu",children:[l&&(0,a.jsx)("div",{className:(0,c.$)(iy,t&&ib),children:iv.PASSING}),s&&(0,a.jsx)("div",{className:(0,c.$)(iy,t&&ib),children:iv.FAILING}),o&&(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${iN.circleSize} ${iN.circleSize}`,shapeRendering:"crispEdges",width:iN.size,height:iN.size,style:{userSelect:"none",zoom:"reset"},fill:"none","aria-hidden":"true",children:r.map(e=>(0,a.jsx)("circle",{cx:iN.circleSize/2,cy:iN.circleSize/2,r:44,style:{strokeLinecap:"round",strokeLinejoin:"round",strokeDashoffset:0,strokeWidth:iN.strokeWidth,transition:"all 1000ms ease 0ms",transformOrigin:"50% 50%",shapeRendering:"geometricPrecision",strokeDasharray:e.dashArray,transform:e.transform,stroke:e.stroke}},e.name))})]})}try{iw.displayName||(iw.displayName="StatusCheckStatesIcon")}catch{}let ij={FAILURE:["ERROR","FAILURE","STARTUP_FAILURE"],TIMED_OUT:["TIMED_OUT"],CANCELLED:["CANCELLED"],SUCCESS:["SUCCESS"],STALE:["STALE"],PENDING:["ACTION_REQUIRED","PENDING","WAITING","_UNKNOWN_VALUE"],IN_PROGRESS:["IN_PROGRESS"],QUEUED:["QUEUED"],NEUTRAL:["NEUTRAL"],SKIPPED:["SKIPPED"],EXPECTED:["EXPECTED"],REQUESTED:["REQUESTED"]};function iE(e){let t,i,n,l,s,d,c,m,p=(0,r.c)(27),{checkSectionAriaId:g,pendingWorkflowApprovalRollup:y,statusRollup:b,statusChecks:v,pullRequestHeadSha:C,pullRequestId:S,focusPrimaryMergeButton:_,mergeBoxUserPreferences:N}=e;p[0]!==C?(t={pullRequestHeadSha:C},p[0]=C,p[1]=t):t=p[1];let{isPending:w,mutate:j}=function(e){let t,i,n,a,l=(0,r.c)(10),{pullRequestHeadSha:s}=e,o=(0,f.e)(h.uT.runActionRequiredWorkflows);l[0]!==s?(t={pullRequestHeadSha:s},l[0]=s,l[1]=t):t=l[1];let d=tC(t),c=(0,x.jE)();return l[2]!==o?(i=async()=>{let e=await (0,eP.q$)(o,{method:"POST",headers:{Accept:"application/json"}}),t=await (0,eP.hp)(e);return(0,eP.R)(e,t),t},l[2]=o,l[3]=i):i=l[3],l[4]!==c||l[5]!==d?(n=()=>c.invalidateQueries({queryKey:d},{cancelRefetch:!1}),l[4]=c,l[5]=d,l[6]=n):n=l[6],l[7]!==i||l[8]!==n?(a={mutationFn:i,onSuccess:n},l[7]=i,l[8]=n,l[9]=a):a=l[9],(0,eM.n)(a)}(t),E=()=>{D(null),j(void 0,{onSuccess:()=>{setTimeout(iR,1e3),_()},onError:e=>D(e.message)})},[R,L]=(0,u.useState)(null),D=L,{workflowsRequiringApprovalCount:I,hasExpiredWorkflowRuns:T,approvalRequiredMessage:A,helpLink:k,viewerCanApproveWorkflowRuns:O}=y,M=`${I} workflow${1===I?"":"s"} awaiting approval`;p[2]!==A||p[3]!==T||p[4]!==k?(i=T?"Unable to re-run one or more workflows because they were created over a month ago.":(0,a.jsxs)(a.Fragment,{children:[A," ",(0,a.jsx)(eh.A,{inline:!0,href:k,children:"Learn more about approving workflows."})]}),p[2]=A,p[3]=T,p[4]=k,p[5]=i):i=p[5];let P=i;return p[6]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)(tI,{bgColor:"var(--bgColor-attention-emphasis)"}),p[6]=n):n=p[6],p[7]!==E||p[8]!==w||p[9]!==O?(l=O?(0,a.jsx)(eC.Q,{loading:w,loadingAnnouncement:"Re-running workflows",onClick:E,children:"Approve workflows to run"}):void 0,p[7]=E,p[8]=w,p[9]=O,p[10]=l):l=p[10],p[11]!==g||p[12]!==P||p[13]!==l||p[14]!==M?(s=(0,a.jsx)(ex,{headerId:g,title:M,subtitle:P,icon:n,rightSideContent:l}),p[11]=g,p[12]=P,p[13]=l,p[14]=M,p[15]=s):s=p[15],p[16]!==R?(d=R&&(0,a.jsxs)(eT.A,{className:"m-3",variant:"danger",children:[(0,a.jsx)(eU.A,{className:"mr-2",icon:o.StopIcon}),R]}),p[16]=R,p[17]=d):d=p[17],p[18]!==N||p[19]!==S||p[20]!==v||p[21]!==b.summary?(c=b.summary.length>0&&(0,a.jsx)(eb,{isExpanded:!0,children:(0,a.jsx)(ix,{pullRequestId:S,statusChecks:v,statusRollupSummary:b.summary,mergeBoxUserPreferences:N})}),p[18]=N,p[19]=S,p[20]=v,p[21]=b.summary,p[22]=c):c=p[22],p[23]!==s||p[24]!==d||p[25]!==c?(m=(0,a.jsxs)(a.Fragment,{children:[s,d,c]}),p[23]=s,p[24]=d,p[25]=c,p[26]=m):m=p[26],m}function iR(){return(0,tw.i)("Successfully approved and re-requested workflows.")}let iL={PASSED:"All checks have passed",PENDING:"Some checks haven't completed yet",PENDING_APPROVAL:"Some checks are waiting for approval",PENDING_FAILED:"Some checks were not successful",SOME_FAILED:"Some checks were not successful",FAILED:"All checks have failed",PENDING_CONFLICTS:"Checks awaiting conflict resolution",UNKNOWN:"Checks status is unknown"};function iD(e){let t,i,n,l,s,o,d=(0,r.c)(18),{pullRequestId:c,pullRequestHeadSha:m,focusPrimaryMergeButton:h,sectionStatus:f,shouldRender:p,mergeBoxUserPreferences:g}=e;d[0]!==m?(t={pullRequestHeadSha:m},d[0]=m,d[1]=t):t=d[1];let{data:x}=tS(t),{aliveChannels:y,statusRollup:b,statusChecks:v}=x,C="PASSED"===b.combinedState,[S,_]=(0,eS.Fo)(`${c}:checksExpanded`,!C),{sendAnalyticsEvent:N}=(0,em.s)(),w=(0,u.useId)();!function(e,t){let i,n,a,l,s=(0,r.c)(10);s[0]!==t?(i={pullRequestHeadSha:t},s[0]=t,s[1]=i):i=s[1];let{refetch:o}=tS(i),d=(0,tf.A)(),c=ty()?2e3:1e4;s[2]!==d||s[3]!==o?(n=()=>{d()&&o()},s[2]=d,s[3]=o,s[4]=n):n=s[4],s[5]!==n||s[6]!==c?(a=(0,tm.n)(n,c),s[5]=n,s[6]=c,s[7]=a):a=s[7];let u=a;s[8]!==u?(l=e=>{window.setTimeout(u,e.wait||0)},s[8]=u,s[9]=l):l=s[9];let m=l;(0,th.x)(e,m)}(y.commitHeadShaChannel,m),(o=(0,r.c)(4))[0]!==b.combinedState||o[1]!==b.summary.length?(l=()=>{if(0===b.summary.length)(0,tG.gd)();else{let e=tV[b.combinedState];(0,tG.iD)(e)}return tK},s=[b.combinedState,b.summary.length],o[0]=b.combinedState,o[1]=b.summary.length,o[2]=l,o[3]=s):(l=o[2],s=o[3]),(0,u.useEffect)(l,s);let j=b.pendingWorkflowApprovalRollup;return p?(d[2]!==w||d[3]!==S||d[4]!==h||d[5]!==g||d[6]!==m||d[7]!==c||d[8]!==f||d[9]!==N||d[10]!==_||d[11]!==v||d[12]!==b||d[13]!==j?(i="PENDING_APPROVAL"===b.combinedState&&j?(0,a.jsx)(iE,{checkSectionAriaId:w,pendingWorkflowApprovalRollup:j,statusRollup:b,statusChecks:v,pullRequestHeadSha:m,pullRequestId:c,focusPrimaryMergeButton:h,mergeBoxUserPreferences:g}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ex,{headerId:w,title:iL[f],subtitle:function(e){if(0===e.length)return"No checks available.";let t=tq(e,ij),i=Object.keys(t).reduce((e,i)=>{let n=t[i];return n?e+n:e},0),n=Object.keys(tF).map(e=>{let i=t[e]??0,n=tF[e];return i>0?`${i} ${n}`:void 0}).filter(Boolean).join(", ");return`${n} ${i>1?"checks":"check"}`}(b.summary),icon:(0,a.jsx)(iw,{statusRollupSummary:b.summary}),expandableProps:{ariaLabel:S?"Collapse checks":"Expand checks",isExpanded:S,onToggle:()=>{N(S?"checks_section.collapse":"checks_section.expand","MERGEBOX_CHECKS_SECTION_TOGGLE_BUTTON",tH(b.summary)),_(!S)}}}),(0,a.jsx)(eb,{isExpanded:S,children:(0,a.jsx)(ix,{statusChecks:v,statusRollupSummary:b.summary,pullRequestId:c,mergeBoxUserPreferences:g})})]}),d[2]=w,d[3]=S,d[4]=h,d[5]=g,d[6]=m,d[7]=c,d[8]=f,d[9]=N,d[10]=_,d[11]=v,d[12]=b,d[13]=j,d[14]=i):i=d[14],d[15]!==w||d[16]!==i?(n=(0,a.jsx)("section",{"aria-label":"Checks","aria-describedby":w,className:"border-bottom color-border-subtle",children:i}),d[15]=w,d[16]=i,d[17]=n):n=d[17],n):null}try{iE.displayName||(iE.displayName="PendingApprovalChecksSection")}catch{}try{iD.displayName||(iD.displayName="ChecksSection")}catch{}function iI(){let e,t,i,n,l=(0,r.c)(6),{basePageDataUrl:s}=(0,p.Yu)();l[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(eh.A,{href:"https://support.github.com/",inline:!0,children:"contact support"}),l[0]=e):e=l[0];let d=`${s}/checks`;return l[1]!==d?(t=(0,a.jsxs)(a.Fragment,{children:["Try again or if the problem persists"," ",e," ","or"," ",(0,a.jsx)(eh.A,{href:d,inline:!0,children:"view the Checks tab."})]}),l[1]=d,l[2]=t):t=l[2],l[3]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(o.AlertIcon,{className:"mx-1",size:24}),l[3]=i):i=l[3],l[4]!==t?(n=(0,a.jsx)("section",{"aria-label":"Checks",className:"border-bottom borderColor-muted",children:(0,a.jsx)(ex,{title:"Checks cannot be loaded right now",subtitle:t,icon:i})}),l[4]=t,l[5]=n):n=l[5],n}try{iI.displayName||(iI.displayName="ChecksSectionFetchFailure")}catch{}var iT=i(11196),iA=i(73077);function ik(e){let t,i,n,l=(0,r.c)(5),{className:s}=e;return l[0]!==s?(t=(0,c.$)("CenteredLoadingSpinner-module__SpinnerContainer--Kwt8t",s),l[0]=s,l[1]=t):t=l[1],l[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(d.A,{}),l[2]=i):i=l[2],l[3]!==t?(n=(0,a.jsx)("div",{className:t,children:i}),l[3]=t,l[4]=n):n=l[4],n}try{ik.displayName||(ik.displayName="CenteredLoadingSpinner")}catch{}var iO=i(73189),iM=i(73783);function iP(e){let t,i,n,l,s,d,c=(0,r.c)(29),{className:m,children:h,actionList:f,inactive:p,inactiveTooltipText:g,inactiveTooltipDirection:x,loading:y,loadingAnnouncement:b,secondaryButtonActive:v,secondaryButtonAriaLabel:C,onPrimaryButtonClick:S,shouldFocusPrimaryButton:_,onFocusPrimaryButton:N,isPrimary:w,hideSecondaryButton:j}=e,E=void 0===x?"ne":x,R=void 0!==j&&j,L=(0,u.useRef)(null);c[0]!==N||c[1]!==_?(t=()=>{_&&(L.current?.focus(),N?.())},i=[_,N],c[0]=N,c[1]=_,c[2]=t,c[3]=i):(t=c[2],i=c[3]),(0,u.useEffect)(t,i);let D=void 0!==w&&w?"primary":"default",[I,T]=(0,u.useState)(!1),A=p&&!v;c[4]!==p||c[5]!==y?(n=void 0!==y?{}:{inactive:p,"aria-disabled":p},c[4]=p,c[5]=y,c[6]=n):n=c[6];let k=n,O=p?iO.l:S;c[7]!==D||c[8]!==h||c[9]!==k||c[10]!==y||c[11]!==b||c[12]!==O?(l=(0,a.jsx)(eC.Q,{className:"flex-1",variant:D,ref:L,loading:y,loadingAnnouncement:b,onClick:O,...k,children:h}),c[7]=D,c[8]=h,c[9]=k,c[10]=y,c[11]=b,c[12]=O,c[13]=l):l=c[13],c[14]!==f||c[15]!==D||c[16]!==R||c[17]!==I||c[18]!==C||c[19]!==A?(s=!R&&(0,a.jsxs)(tE.Wy,{open:I,onOpenChange:A?iO.l:e=>T(e),children:[(0,a.jsx)(tE.Wy.Anchor,{children:(0,a.jsx)(tX.K,{className:"flex-0",variant:D,"aria-label":C,"aria-disabled":A,inactive:A,icon:o.TriangleDownIcon})}),(0,a.jsx)(tE.Wy.Overlay,{align:"end",sx:{width:"320px"},children:f})]}),c[14]=f,c[15]=D,c[16]=R,c[17]=I,c[18]=C,c[19]=A,c[20]=s):s=c[20],c[21]!==m||c[22]!==l||c[23]!==s?(d=(0,a.jsxs)(iM.A,{className:m,children:[l,s]}),c[21]=m,c[22]=l,c[23]=s,c[24]=d):d=c[24];let M=d;if(p&&g){let e;return c[25]!==M||c[26]!==E||c[27]!==g?(e=(0,a.jsx)(iT.m,{text:g,direction:E,children:M}),c[25]=M,c[26]=E,c[27]=g,c[28]=e):e=c[28],e}return M}try{iP.displayName||(iP.displayName="ButtonWithDropdown")}catch{}var iF=i(90891);function iU(e){let t,i,n=(0,r.c)(8),{description:l,onSelect:s,selected:o,text:d,inactiveText:c}=e;return n[0]!==l?(t=(0,a.jsx)(eI.l.Description,{variant:"block",children:l}),n[0]=l,n[1]=t):t=n[1],n[2]!==c||n[3]!==s||n[4]!==o||n[5]!==t||n[6]!==d?(i=(0,a.jsxs)(eI.l.Item,{selected:o,onSelect:s,inactiveText:c,children:[d,t]}),n[2]=c,n[3]=s,n[4]=o,n[5]=t,n[6]=d,n[7]=i):i=n[7],i}function i$(e){let t,i=(0,r.c)(5),{conflictsWebEditorPath:n,conflictsState:l,webEditorConflictResolution:s}=e;if("HAS_CONFLICTS"!==l||!s)return null;if(!s.viewerCanResolve){let e,t,n=s.viewerCannotResolve?.message||"";return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(eC.Q,{inactive:!0,children:"Resolve conflicts"}),i[0]=e):e=i[0],i[1]!==n?(t=(0,a.jsx)(iT.m,{direction:"nw",text:n,children:e}),i[1]=n,i[2]=t):t=i[2],t}return i[3]!==n?(t=(0,a.jsx)(iA.z,{href:n,children:"Resolve conflicts"}),i[3]=n,i[4]=t):t=i[4],t}function iB(e){let t=(0,r.c)(3),{conflictsWebEditorPath:i,webEditorConflictResolution:n}=e;switch(n?.viewerCannotResolve?.reason){case"INSUFFICIENT_ACCESS":return null;case"TOO_COMPLEX":case"HEAD_BRANCH_PROTECTED":case"ADMIN_DISABLED":{let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("span",{children:"Use the command line to resolve conflicts before continuing."}),t[0]=e):e=t[0],e}default:{let e;return t[1]!==i?(e=(0,a.jsxs)("span",{children:["Use the"," ",(0,a.jsx)(eh.A,{inline:!0,href:i,children:"web editor"})," ","or the command line to resolve conflicts before continuing."]}),t[1]=i,t[2]=e):e=t[2],e}}}function iq(e){let t,i=(0,r.c)(3),{advisoryWorkspacePath:n,advisoryWorkspaceId:l}=e,s=n||"";return i[0]!==l||i[1]!==s?(t=(0,a.jsxs)("span",{children:["Merging must be performed from the"," ",(0,a.jsx)(eh.A,{inline:!0,href:s,children:l})," ","advisory."]}),i[0]=l,i[1]=s,i[2]=t):t=i[2],t}let iH={NO_CONFLICTS:{heading:"No conflicts with base branch",subtitle:()=>"Merging can be performed automatically.",icon:(0,a.jsx)(ef.A,{icon:()=>(0,a.jsx)(o.CheckIcon,{size:16}),className:"bgColor-success-emphasis fgColor-onEmphasis",size:32})},PENDING:{heading:"Checking for the ability to merge automatically...",subtitle:()=>"Hang in there while we check the branch's status.",icon:(0,a.jsx)(ik,{className:"ConflictsSection-module__ConflictsSectionLoadingSpinner--tkJ8X"})},OUT_OF_DATE:{heading:"This branch is out-of-date with the base branch",subtitle:({baseRefName:e,viewerLogin:t})=>`Merge the latest changes from ${e} into this branch. This merge commit will be associated with ${t}.`,icon:(0,a.jsx)(tI,{})},HAS_CONFLICTS:{heading:"This branch has conflicts that must be resolved",subtitle:({conflictsWebEditorPath:e,conflictsCondition:t})=>(0,a.jsx)(iB,{conflictsWebEditorPath:e,webEditorConflictResolution:t?.webEditorConflictResolution}),icon:(0,a.jsx)(tI,{})},HAS_REBASE_CONFLICTS:{heading:"This branch cannot be rebased due to conflicts",subtitle:()=>"",icon:(0,a.jsx)(tI,{})},HAS_ADVISORY_WORKSPACE:{heading:"No conflicts with base branch",subtitle:({advisoryWorkspaceId:e,advisoryWorkspacePath:t})=>(0,a.jsx)(iq,{advisoryWorkspaceId:e,advisoryWorkspacePath:t}),icon:(0,a.jsx)(ef.A,{icon:()=>(0,a.jsx)(o.CheckIcon,{size:16}),className:"bgColor-success-emphasis fgColor-onEmphasis",size:32})}};function iG(e){let t,i,n,l,s,d,c,m,p,g,y,v,C,S,_,N,w,j,E,R,L,D,I,T,A=(0,r.c)(83),{baseRefName:k,headRefOid:O,resourcePath:M,viewerCanUpdateBranch:P,viewerUpdateMethods:F,viewerLogin:U,conflictsCondition:$,conflictsState:B,canUserPushToBase:q,advisoryWorkspace:H}=e;A[0]!==F?(t=F?.find(iY)?.name||"MERGE",A[0]=F,A[1]=t):t=A[1];let G=t,[V,K]=(0,u.useState)(G),[W,z]=(0,u.useState)(!1),[Q,X]=(0,u.useState)(null),{sendAnalyticsEvent:Y}=(0,em.s)(),J=(0,u.useId)(),Z=b(),ee=(0,x.jE)();A[2]!==Z||A[3]!==ee?(i=async()=>{await ee.refetchQueries({queryKey:Z},{cancelRefetch:!1}),z(!1)},A[2]=Z,A[3]=ee,A[4]=i):i=A[4];let et=i;A[5]===Symbol.for("react.memo_cache_sentinel")?(n=e=>{z(!1),X(e.message)},A[5]=n):n=A[5];let ei=n;A[6]!==et?(l={onSuccess:et,onError:ei},A[6]=et,A[7]=l):l=A[7];let{mutate:en}=function(e){let t,i,n,a,l=(0,r.c)(10),{onSuccess:s,onError:o}=e,d=(0,f.e)(h.uT.updatePullRequestBranch);return l[0]!==d?(t=async e=>{let{updateMethod:t,expectedHeadOid:i}=e;return(0,eP.q$)(d,{method:"POST",headers:{Accept:"application/json"},body:{updateMethod:t,expectedHeadOid:i}})},l[0]=d,l[1]=t):t=l[1],l[2]!==s?(i=async e=>{let t=await (0,eP.hp)(e);e.ok||(0,eP.R)(e,t);let i=await (await (0,iF.Ee)(t.orchestration.url,{headers:{accept:"application/json"}})).json();if(i.orchestration.error_message)throw Error(i.orchestration.error_message);s()},l[2]=s,l[3]=i):i=l[3],l[4]!==o?(n=e=>{o(e)},l[4]=o,l[5]=n):n=l[5],l[6]!==t||l[7]!==i||l[8]!==n?(a={mutationFn:t,onSuccess:i,onError:n},l[6]=t,l[7]=i,l[8]=n,l[9]=a):a=l[9],(0,eM.n)(a)}(l);A[8]!==O||A[9]!==W||A[10]!==V||A[11]!==Y||A[12]!==en?(s=()=>{W||(z(!0),X(null),en({updateMethod:V,expectedHeadOid:O}),Y("conflicts_section.update_branch","MERGEBOX_CONFLICTS_SECTION_UPDATE_BRANCH_BUTTON"))},A[8]=O,A[9]=W,A[10]=V,A[11]=Y,A[12]=en,A[13]=s):s=A[13];let ea=s,er=`${M}/conflicts`;A[14]!==$.conflicts?(d=$.conflicts??[],A[14]=$.conflicts,A[15]=d):d=A[15];let el=d;A[16]!==V?(c=function(){return"MERGE"===V?"Update branch":"Rebase branch"},A[16]=V,A[17]=c):c=A[17];let es=c;A[18]!==V?(m=function(){return"MERGE"===V?"Updating branch":"Rebasing branch"},A[18]=V,A[19]=m):m=A[19];let eo=m,ed=("OUT_OF_DATE"===B||"NO_CONFLICTS"===B||"PENDING"===B)&&P,ec="HAS_CONFLICTS"===B&&($.webEditorConflictResolution?.viewerCanResolve||$.webEditorConflictResolution?.viewerCannotResolve?.reason!=="INSUFFICIENT_ACCESS"),eu=H?.advisoryWorkspaceId,eh=H?.advisoryWorkspacePath;A[20]!==F?(p=F?.filter(iX),A[20]=F,A[21]=p):p=A[21];let ef=p;A[22]!==F?(g=F?.find(iQ),A[22]=F,A[23]=g):g=A[23];let ep=g;A[24]!==F?(y=F?.find(iz),A[24]=F,A[25]=y):y=A[25];let eg=y;A[26]!==F?(v=F?.find(iW),A[26]=F,A[27]=v):v=A[27];let ey=v;A[28]!==F?(C=F?.find(iK)?.failureReason,A[28]=F,A[29]=C):C=A[29];let eb=C;A[30]!==G||A[31]!==eb||A[32]!==ey||A[33]!==V||A[34]!==Y||A[35]!==ep||A[36]!==eg||A[37]!==F?(S=function(){return F?(0,a.jsxs)(eI.l,{selectionVariant:"single",showDividers:!0,children:[ep&&(0,a.jsx)(iU,{description:"The merge commit will be associated with your account.",selected:"MERGE"===G,text:"Update with merge commit",onSelect:()=>{Y("conflicts_section.select_merge_commit_method","MERGEBOX_CONFLICTS_SECTION_MERGE_METHOD_MENU_ITEM"),K("MERGE")}}),eg&&(0,a.jsx)(iU,{description:"This pull request will be rebased on top of the latest changes and then force pushed.",selected:"REBASE"===G,text:"Update with rebase",onSelect:()=>{Y("conflicts_section.select_rebase_method","MERGEBOX_CONFLICTS_SECTION_MERGE_METHOD_MENU_ITEM"),K("REBASE")}}),ey&&(0,a.jsx)(iU,{inactiveText:eb||"This branch cannot be rebased at this time.",selected:"REBASE"===G,text:"Update with rebase",onSelect:()=>{Y("conflicts_section.select_rebase_method","MERGEBOX_CONFLICTS_SECTION_MERGE_METHOD_MENU_ITEM"),K("REBASE")}})]}):(0,a.jsxs)(eI.l,{selectionVariant:"single",showDividers:!0,children:[(0,a.jsx)(iU,{description:"The merge commit will be associated with your account.",selected:"MERGE"===V,text:"Update with merge commit",onSelect:()=>{Y("conflicts_section.select_merge_commit_method","MERGEBOX_CONFLICTS_SECTION_MERGE_METHOD_MENU_ITEM"),K("MERGE")}}),(0,a.jsx)(iU,{description:"This pull request will be rebased on top of the latest changes and then force pushed.",selected:"REBASE"===V,text:"Update with rebase",onSelect:()=>{Y("conflicts_section.select_rebase_method","MERGEBOX_CONFLICTS_SECTION_MERGE_METHOD_MENU_ITEM"),K("REBASE")}})]})},A[30]=G,A[31]=eb,A[32]=ey,A[33]=V,A[34]=Y,A[35]=ep,A[36]=eg,A[37]=F,A[38]=S):S=A[38];let ev=S,eC=iH[B],eS=iH[B];return A[39]!==eS.heading?(_=(0,a.jsx)(a.Fragment,{children:eS.heading}),A[39]=eS.heading,A[40]=_):_=A[40],A[41]!==eu||A[42]!==eh||A[43]!==k||A[44]!==q||A[45]!==$||A[46]!==B||A[47]!==er||A[48]!==U?(N=q?iH[B].subtitle({baseRefName:k,viewerLogin:U,conflictsWebEditorPath:er,conflictsCondition:$,advisoryWorkspaceId:eu,advisoryWorkspacePath:eh}):"Changes can be cleanly merged.",A[41]=eu,A[42]=eh,A[43]=k,A[44]=q,A[45]=$,A[46]=B,A[47]=er,A[48]=U,A[49]=N):N=A[49],A[50]!==ea||A[51]!==W||A[52]!==ed||A[53]!==ef?.length||A[54]!==eo||A[55]!==es||A[56]!==ev?(w=ed&&(0,a.jsx)(iP,{hideSecondaryButton:ef?.length===1,loading:W,loadingAnnouncement:eo(),secondaryButtonAriaLabel:"Update branch options",actionList:ev(),onPrimaryButtonClick:ea,children:es()}),A[50]=ea,A[51]=W,A[52]=ed,A[53]=ef?.length,A[54]=eo,A[55]=es,A[56]=ev,A[57]=w):w=A[57],A[58]!==$.webEditorConflictResolution||A[59]!==B||A[60]!==er?(j=(0,a.jsx)(i$,{conflictsWebEditorPath:er,conflictsState:B,webEditorConflictResolution:$.webEditorConflictResolution}),A[58]=$.webEditorConflictResolution,A[59]=B,A[60]=er,A[61]=j):j=A[61],A[62]!==w||A[63]!==j?(E=(0,a.jsxs)(a.Fragment,{children:[w,j]}),A[62]=w,A[63]=j,A[64]=E):E=A[64],A[65]!==el||A[66]!==ec?(R=ec&&(0,a.jsx)("div",{className:"ml-n3",children:(0,a.jsx)(eI.l,{className:"py-0 overflow-hidden",children:el.map(iV)})}),A[65]=el,A[66]=ec,A[67]=R):R=A[67],A[68]!==J||A[69]!==eC.icon||A[70]!==_||A[71]!==N||A[72]!==E||A[73]!==R?(L=(0,a.jsx)(ex,{headerId:J,icon:eC.icon,title:_,subtitle:N,rightSideContent:E,children:R}),A[68]=J,A[69]=eC.icon,A[70]=_,A[71]=N,A[72]=E,A[73]=R,A[74]=L):L=A[74],A[75]!==Q?(D=Q&&(0,a.jsxs)(eT.A,{className:"m-3",variant:"danger",children:[(0,a.jsx)(eU.A,{className:"mr-2",icon:o.StopIcon}),Q]}),A[75]=Q,A[76]=D):D=A[76],A[77]!==L||A[78]!==D?(I=(0,a.jsxs)("div",{className:"d-flex flex-column width-full overflow-hidden",children:[L,D]}),A[77]=L,A[78]=D,A[79]=I):I=A[79],A[80]!==J||A[81]!==I?(T=(0,a.jsx)("section",{"aria-label":"Conflicts",className:"border-bottom borderColor-muted","aria-describedby":J,children:I}),A[80]=J,A[81]=I,A[82]=T):T=A[82],T}function iV(e){return(0,a.jsxs)(eI.l.Item,{children:[(0,a.jsx)(eI.l.LeadingVisual,{className:"fgColor-muted",children:(0,a.jsx)(o.FileIcon,{})}),(0,a.jsx)("span",{className:"input-monospace f6 ConflictsSection-module__selectable--BT2Oj",children:e})]},e)}function iK(e){return"REBASE"===e.name}function iW(e){return"REBASE"===e.name&&"UNAVAILABLE"===e.allowableStatus}function iz(e){return"REBASE"===e.name&&"ALLOWED"===e.allowableStatus}function iQ(e){return"MERGE"===e.name&&"ALLOWED"===e.allowableStatus}function iX(e){return"ALLOWED"===e.allowableStatus||"UNAVAILABLE"===e.allowableStatus}function iY(e){return!0===e.isDefault}try{iU.displayName||(iU.displayName="UpdateBranchOption")}catch{}try{i$.displayName||(i$.displayName="ResolveConflictsButton")}catch{}try{iB.displayName||(iB.displayName="ConflictResolutionSubtitle")}catch{}try{iq.displayName||(iq.displayName="AdvisoryWorkspaceSubtitle")}catch{}try{iG.displayName||(iG.displayName="ConflictsSection")}catch{}function iJ(e){let t,i,n,l,s,d,c,m,p=(0,r.c)(23),{viewerCanUpdate:g,helpUrl:y}=e,[v,C]=(0,u.useState)(null);p[0]===Symbol.for("react.memo_cache_sentinel")?(t={onError:e=>{C(e.message)}},p[0]=t):t=p[0];let{mutate:S,isPending:_}=function(e){let t,i,n,a,l=(0,r.c)(11),{onError:s}=e,o=(0,f.e)(h.uT.markReadyForReview),d=b(),c=(0,x.jE)();return l[0]!==o?(t=async()=>{let e=await (0,eP.q$)(o,{method:"POST",headers:{Accept:"application/json"}}),t=await (0,eP.hp)(e);return(0,eP.R)(e,t),t},l[0]=o,l[1]=t):t=l[1],l[2]!==d||l[3]!==c?(i=()=>c.invalidateQueries({queryKey:d},{cancelRefetch:!1}),l[2]=d,l[3]=c,l[4]=i):i=l[4],l[5]!==s?(n=e=>s(e),l[5]=s,l[6]=n):n=l[6],l[7]!==t||l[8]!==i||l[9]!==n?(a={mutationFn:t,onSuccess:i,onError:n},l[7]=t,l[8]=i,l[9]=n,l[10]=a):a=l[10],(0,eM.n)(a)}(t),{sendAnalyticsEvent:N}=(0,em.s)(),w=(0,u.useId)();p[1]!==_||p[2]!==S||p[3]!==N?(i=function(){_||(S(),N("draft_state_section.mark_ready_for_review","MERGEBOX_DRAFT_STATE_SECTION_MARK_READY_FOR_REVIEW_BUTTON"))},p[1]=_,p[2]=S,p[3]=N,p[4]=i):i=p[4];let j=i,E=`${y}/get-started/learning-about-github/access-permissions-on-github`;return p[5]!==E||p[6]!==g?(n=g?"Draft pull requests cannot be merged.":(0,a.jsxs)("span",{children:["Only those with ",(0,a.jsx)("a",{href:E,children:"write access"})," to this repository can mark a draft pull request as ready for review."]}),p[5]=E,p[6]=g,p[7]=n):n=p[7],p[8]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)(ef.A,{size:32,icon:iZ,className:"DraftStateSection-module__DraftStateCircleIcon--APxWt"}),p[8]=l):l=p[8],p[9]!==j||p[10]!==_||p[11]!==g?(s=g?(0,a.jsx)(eC.Q,{onClick:j,loading:_,loadingAnnouncement:"Marking ready for review",children:"Ready for review"}):void 0,p[9]=j,p[10]=_,p[11]=g,p[12]=s):s=p[12],p[13]!==v?(d=v&&(0,a.jsxs)(eT.A,{variant:"danger",className:"DraftStateSection-module__DraftStateFlashMessage--XlMkr",children:[(0,a.jsx)(eU.A,{icon:o.StopIcon,className:"DraftStateSection-module__DraftStateIcon--_Co24"}),v]}),p[13]=v,p[14]=d):d=p[14],p[15]!==w||p[16]!==n||p[17]!==s||p[18]!==d?(c=(0,a.jsx)(ex,{headerId:w,title:"This pull request is still a work in progress",subtitle:n,icon:l,rightSideContent:s,children:d}),p[15]=w,p[16]=n,p[17]=s,p[18]=d,p[19]=c):c=p[19],p[20]!==w||p[21]!==c?(m=(0,a.jsx)("section",{"aria-label":"Draft state","aria-describedby":w,className:"border-bottom color-border-subtle",children:c}),p[20]=w,p[21]=c,p[22]=m):m=p[22],m}function iZ(){return(0,a.jsx)(o.GitPullRequestDraftIcon,{size:16})}try{iJ.displayName||(iJ.displayName="DraftStateSection")}catch{}function i0(e){let t,i,n,l,s,d,c,m,p,g,y,v,C,S,_,N,w,j,E,R=(0,r.c)(42),{mergeQueue:L,mergeQueueEntry:D,viewerCanAddAndRemoveFromMergeQueue:I,focusPrimaryMergeButton:T}=e,A=D?.position,k=L?.url,O=(0,u.useRef)(null),[M,P]=(0,u.useState)(!1),[F,U]=(0,u.useState)(null);(E=(0,r.c)(1))[0]===Symbol.for("react.memo_cache_sentinel")?(j=[],E[0]=j):j=E[0],(0,u.useEffect)(tW,j);let{sendAnalyticsEvent:$}=(0,em.s)();R[0]===Symbol.for("react.memo_cache_sentinel")?(t={onError:e=>{P(!1),U(e.message),O.current?.focus(),setTimeout(i2,1e3)}},R[0]=t):t=R[0];let{mutate:B,isPending:q}=function(e){let t,i,n,a,l=(0,r.c)(11),{onError:s}=e,o=(0,f.e)(h.uT.dequeuePullRequest),d=b(),c=(0,x.jE)();return l[0]!==o?(t=async()=>{let e=await (0,eP.q$)(o,{method:"POST",headers:{Accept:"application/json"}}),t=await (0,eP.hp)(e);return(0,eP.R)(e,t),t},l[0]=o,l[1]=t):t=l[1],l[2]!==d||l[3]!==c?(i=()=>c.invalidateQueries({queryKey:d},{cancelRefetch:!1}),l[2]=d,l[3]=c,l[4]=i):i=l[4],l[5]!==s?(n=e=>{s(e)},l[5]=s,l[6]=n):n=l[6],l[7]!==t||l[8]!==i||l[9]!==n?(a={mutationFn:t,onSuccess:i,onError:n},l[7]=t,l[8]=i,l[9]=n,l[10]=a):a=l[10],(0,eM.n)(a)}(t);R[1]!==T||R[2]!==q||R[3]!==B||R[4]!==$?(i=()=>{q||(U(null),$("merge_queue_section.dequeue_pull_request","MERGEBOX_MERGE_QUEUE_SECTION_REMOVE_FROM_QUEUE_BUTTON"),B(void 0,{onSuccess:()=>{P(!1),setTimeout(i1,1e3),T()}}))},R[1]=T,R[2]=q,R[3]=B,R[4]=$,R[5]=i):i=R[5];let H=i;R[6]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{U(null),P(!0)},R[6]=n):n=R[6];let G=n;R[7]===Symbol.for("react.memo_cache_sentinel")?(l=()=>P(!1),s=(0,a.jsx)(tN.A.Header,{id:"remove-from-queue-dialog-title",children:"Remove from the queue?"}),R[7]=l,R[8]=s):(l=R[7],s=R[8]),R[9]===Symbol.for("react.memo_cache_sentinel")?(d=(0,a.jsx)("span",{children:"Removing this pull request from the queue could impact other pull requests in the queue. Are you sure?"}),R[9]=d):d=R[9],R[10]!==q?(c=()=>{q||(P(!1),O.current?.focus())},R[10]=q,R[11]=c):c=R[11],R[12]!==q||R[13]!==c?(m=(0,a.jsx)(eC.Q,{className:"mr-1",inactive:q,onClick:c,children:"Cancel"}),R[12]=q,R[13]=c,R[14]=m):m=R[14],R[15]!==H||R[16]!==q?(p=(0,a.jsx)(eC.Q,{variant:"danger",loading:q,loadingAnnouncement:"Removing from the queue",onClick:H,children:"Remove from the queue"}),R[15]=H,R[16]=q,R[17]=p):p=R[17],R[18]!==m||R[19]!==p?(g=(0,a.jsxs)("div",{className:"p-3",children:[d,(0,a.jsxs)("div",{className:"d-flex flex-justify-end mt-3",children:[m,p]})]}),R[18]=m,R[19]=p,R[20]=g):g=R[20],R[21]!==M||R[22]!==g?(y=(0,a.jsxs)(tN.A,{"aria-labelledby":"remove-from-queue-dialog-title",isOpen:M,returnFocusRef:O,onDismiss:l,children:[s,g]}),R[21]=M,R[22]=g,R[23]=y):y=R[23],R[24]!==F?(v=F&&(0,a.jsxs)(eT.A,{className:"mx-3 my-2",variant:"danger",children:[(0,a.jsx)(eU.A,{className:"mr-2",icon:o.StopIcon}),F]}),R[24]=F,R[25]=v):v=R[25],R[26]!==D?.isLocked||R[27]!==I?(C=I&&!D?.isLocked&&(0,a.jsx)(eC.Q,{ref:O,onClick:G,children:"Remove from queue"}),R[26]=D?.isLocked,R[27]=I,R[28]=C):C=R[28],R[29]!==C?(S=(0,a.jsx)(a.Fragment,{children:C}),R[29]=C,R[30]=S):S=R[30];let V=D?.isLocked;return R[31]!==A||R[32]!==k||R[33]!==V?(_=(0,a.jsx)(i3,{position:A,resourcePath:k,entryIsLocked:V}),R[31]=A,R[32]=k,R[33]=V,R[34]=_):_=R[34],R[35]!==S||R[36]!==_?(N=(0,a.jsx)(ex,{title:"Queued to merge...",rightSideContent:S,children:_}),R[35]=S,R[36]=_,R[37]=N):N=R[37],R[38]!==y||R[39]!==v||R[40]!==N?(w=(0,a.jsxs)(a.Fragment,{children:[y,v,N]}),R[38]=y,R[39]=v,R[40]=N,R[41]=w):w=R[41],w}function i1(){return(0,tw.i)("The pull request was successfully removed from the queue.")}function i2(){return(0,tw.i)("Failed to remove pull request from the merge queue")}function i3(e){let t,i,n,l,s=(0,r.c)(8),{position:o,resourcePath:d,entryIsLocked:c}=e;if(!o||!d){let e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(a.Fragment,{}),s[0]=e):e=s[0],e}let u=o-1;return t=c?"This pull request is locked for deployment by the":0===u?"This pull request is next up in the":1===u?`There is ${u} pull request ahead of this one in the`:`There are ${u} pull requests ahead of this one in the`,s[1]!==t?(i=(0,a.jsx)("span",{className:"MergeQueueSection-module__MergeQueueSectionText--rEy7Y",children:t}),s[1]=t,s[2]=i):i=s[2],s[3]!==d?(n=(0,a.jsx)(eh.A,{inline:!0,href:d,children:"merge queue"}),s[3]=d,s[4]=n):n=s[4],s[5]!==i||s[6]!==n?(l=(0,a.jsxs)(a.Fragment,{children:[i," ",n,"."]}),s[5]=i,s[6]=n,s[7]=l):l=s[7],l}try{i0.displayName||(i0.displayName="MergeQueueSection")}catch{}try{i3.displayName||(i3.displayName="MergeQueuePositionText")}catch{}function i4({mergeMethod:e,confirming:t,isBypassMerge:i=!1,inProgress:n=!1,isAutoMergeAllowed:a=!1}){if(n)return a?"Confirming...":"Merging...";let r=t?"Confirm auto-merge":"Enable auto-merge",l=t?"Confirm bypass rules and merge":"Bypass rules and merge";switch(e){case m.q$.MERGE:if(a)return r;if(i)return l;if(t)return"Confirm merge";else return"Merge pull request";case m.q$.SQUASH:if(a)return`${r} (squash)`;if(i)return`${l} (squash)`;if(t)return"Confirm squash and merge";else return"Squash and merge";case m.q$.REBASE:if(a)return`${r} (rebase)`;if(i)return`${l} (rebase)`;if(t)return"Confirm rebase and merge";else return"Rebase and merge"}}function i5({mergeMethod:e,confirming:t,inProgress:i}){if(i)return"Adding to merge queue...";switch(e){case m.lD.GROUP:return t?"Confirm merge when ready":"Merge when ready";case m.lD.SOLO:return t?"Confirm queue and force solo merge":"Queue and force solo merge"}}var i6=i(11680),i7=i(30093),i8=i(96296);let MergeError=class MergeError extends Error{constructor(e,t=[],i){super(e),(0,D._)(this,"ruleErrors",void 0),this.name="MergeError",this.ruleErrors=t,this.cause=i}};function i9(e){let t,i,n,a,l,s=(0,r.c)(14);s[0]!==e?(t=void 0===e?{}:e,s[0]=e,s[1]=t):t=s[1];let{onError:o,onSuccess:d}=t,c=(0,f.e)(h.uT.enableAutoMerge),u=b(),m=(0,x.jE)();return s[2]!==c?(i=async e=>{let t=await (0,eP.q$)(c,{method:"POST",headers:{Accept:"application/json"},body:e}),i=await (0,eP.hp)(t),n=new MergeError(i?.error||"Unknown error occurred",i?.metadata?.ruleErrors||[],t.status);return(0,eP.R)(t,i,n),i},s[2]=c,s[3]=i):i=s[3],s[4]!==u||s[5]!==d||s[6]!==m?(n=()=>(d?.(),m.refetchQueries({queryKey:u},{cancelRefetch:!1})),s[4]=u,s[5]=d,s[6]=m,s[7]=n):n=s[7],s[8]!==o?(a=e=>{o?.(e)},s[8]=o,s[9]=a):a=s[9],s[10]!==i||s[11]!==n||s[12]!==a?(l={mutationFn:i,onSuccess:n,onError:a},s[10]=i,s[11]=n,s[12]=a,s[13]=l):l=s[13],(0,eM.n)(l)}var ne=i(65025);function nt(e){let t,i=(0,r.c)(3),{children:n,className:l}=e,s=`d-flex flex-sm-items-center flex-column flex-sm-row gap-2 ${l}`;return i[0]!==n||i[1]!==s?(t=(0,a.jsx)("div",{className:s,children:n}),i[0]=n,i[1]=s,i[2]=t):t=i[2],t}nt.Slot=function({children:e}){var t;let i=u.Children.only(e);return u.isValidElement(i)&&(i=(t=i).type===iP||t.type===eC.Q?(0,u.cloneElement)(t,{className:`flex-self-stretch flex-shrink-0 ${t.props.className}`}):t),i};try{nt.displayName||(nt.displayName="MergeSectionActions")}catch{}try{(n=MergeSectionsActionsSlot).displayName||(n.displayName="MergeSectionsActionsSlot")}catch{}let ni="ConfirmMerge-module__ConfirmMergeContainer--svghz",nn="ConfirmMerge-module__ConfirmMergeText--Lq1XQ";function na(e){let t,i,n,l=(0,r.c)(5),{errorMessage:s}=e;return(l[0]!==s?(t=()=>{s&&s.length>0&&(0,tw.i)(s)},i=[s],l[0]=s,l[1]=t,l[2]=i):(t=l[1],i=l[2]),(0,u.useEffect)(t,i),s)?(l[3]!==s?(n=(0,a.jsx)(i6.l,{className:"mt-3","aria-label":"Merge error warning banner",variant:"warning",title:"Merge error",hideTitle:!0,description:s}),l[3]=s,l[4]=n):n=l[4],n):null}function nr(e){let t,i,n,l,s,o,d,c,p,g,y,v,C,S,_,N,w,j=(0,r.c)(59),{defaultCommitAuthorEmail:E,commitMessageBody:R,commitMessageHeadline:L,defaultBranchName:D,handleConfirmingMergeInfo:I,isBypassMerge:T,onCancel:A,selectedMergeMethod:k,isAutoMergeAllowed:O,possibleCommitAuthorEmails:M}=e,P=void 0!==O&&O,F=(0,u.useRef)(null),U=(0,u.useRef)(null);j[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{F.current?.focus(),U.current?.scrollIntoView({behavior:"smooth",block:"nearest"})},i=[],j[0]=t,j[1]=i):(t=j[0],i=j[1]),(0,u.useEffect)(t,i);let[$,B]=(0,u.useState)(L||""),[q,H]=(0,u.useState)(R||""),{sendAnalyticsEvent:G}=(0,em.s)(),[V,K]=(0,u.useState)("");j[2]===Symbol.for("react.memo_cache_sentinel")?(n=[],j[2]=n):n=j[2];let[W,z]=(0,u.useState)(n),Q=M.length>0,X=k===m.q$.REBASE?"":E||"",[Y,J]=(0,u.useState)(X);j[3]===Symbol.for("react.memo_cache_sentinel")?(l={onError:e=>{e instanceof MergeError&&e.ruleErrors.length>0?z(e.ruleErrors):(z([]),K(e.message))}},j[3]=l):l=j[3];let{mutate:Z,isPending:ee}=function(e){let t,i,n,a,l=(0,r.c)(11),{onError:s}=e,o=(0,f.e)(h.uT.merge),d=b(),c=(0,x.jE)();return l[0]!==o?(t=async e=>{let t=await (0,eP.q$)(o,{method:"POST",headers:{Accept:"application/json"},body:e}),i=await (0,eP.hp)(t),n=new MergeError(i?.error||"Unknown error occurred",i?.metadata?.ruleErrors||[],t.status);return(0,eP.R)(t,i,n),i},l[0]=o,l[1]=t):t=l[1],l[2]!==d||l[3]!==c?(i=()=>c.invalidateQueries({queryKey:d},{cancelRefetch:!1}),l[2]=d,l[3]=c,l[4]=i):i=l[4],l[5]!==s?(n=e=>s(e),l[5]=s,l[6]=n):n=l[6],l[7]!==t||l[8]!==i||l[9]!==n?(a={mutationFn:t,onSuccess:i,onError:n},l[7]=t,l[8]=i,l[9]=n,l[10]=a):a=l[10],(0,eM.n)(a)}(l);j[4]===Symbol.for("react.memo_cache_sentinel")?(s=e=>{e instanceof MergeError&&e.ruleErrors.length>0?z(e.ruleErrors):(z([]),K(e.message))},j[4]=s):s=j[4],j[5]!==I?(o={onError:s,onSuccess:()=>{I(!1)}},j[5]=I,j[6]=o):o=j[6];let{mutate:et,isPending:ei}=i9(o),en=ee||ei;j[7]!==Y||j[8]!==q||j[9]!==$||j[10]!==et||j[11]!==P||j[12]!==T||j[13]!==en||j[14]!==Z||j[15]!==k||j[16]!==G||j[17]!==Q?(d=()=>{en||(K(""),P?(et({...Q?{authorEmail:Y}:{},commitMessage:q,commitTitle:$,mergeMethod:k}),G("direct_merge_section.confirm_auto_merge","MERGEBOX_AUTO_MERGE_CONFIRMATION_BUTTON")):(Z({...Q?{authorEmail:Y}:{},bypassBranchProtections:T,commitMessage:q,commitTitle:$,mergeMethod:k}),G("direct_merge_section.confirm_direct_merge","MERGEBOX_DIRECT_MERGE_CONFIRMATION_BUTTON")))},j[7]=Y,j[8]=q,j[9]=$,j[10]=et,j[11]=P,j[12]=T,j[13]=en,j[14]=Z,j[15]=k,j[16]=G,j[17]=Q,j[18]=d):d=j[18];let ea=d;j[19]!==W?(c=W.length>0&&(0,a.jsx)(ne.r,{prefix:"",helpUrl:"",errorMessageNotUsingPrefix:"Repository rule violations found",hideRuleErrorsTitle:!0,ruleErrors:W}),j[19]=W,j[20]=c):c=j[20],j[21]!==Q||j[22]!==q||j[23]!==$||j[24]!==X||j[25]!==ea||j[26]!==M||j[27]!==k?(p=k!==m.q$.REBASE&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(eA.A,{children:[(0,a.jsx)(eA.A.Label,{children:"Commit message"}),(0,a.jsx)(i7.A,{ref:F,block:!0,defaultValue:$,onChange:e=>B(e.currentTarget.value)})]}),(0,a.jsxs)(eA.A,{className:"mt-3 width-full",children:[(0,a.jsx)(eA.A.Label,{children:"Extended description"}),(0,a.jsx)(ek.Ay,{block:!0,placeholder:"Add an optional extended description\u2026",defaultValue:q,onChange:e=>H(e.currentTarget.value),onKeyDown:e=>{"Enter"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),ea())}})]}),Q?(0,a.jsx)("div",{className:ni,children:(0,a.jsxs)(eA.A,{children:[(0,a.jsx)(eA.A.Label,{children:"Commit email"}),(0,a.jsx)(i8.A,{defaultValue:X,onChange:e=>J(e.target.value),"aria-label":"Select commit author email",children:M.map(nl)})]})}):(0,a.jsx)("div",{className:ni,children:(0,a.jsxs)("span",{className:nn,children:["This commit will be authored by ",X,"."]})})]}),j[21]=Q,j[22]=q,j[23]=$,j[24]=X,j[25]=ea,j[26]=M,j[27]=k,j[28]=p):p=j[28],j[29]!==D||j[30]!==k?(g=k===m.q$.REBASE&&(0,a.jsxs)("span",{className:nn,children:["This will rebase your changes and merge them into ",D,"."]}),j[29]=D,j[30]=k,j[31]=g):g=j[31],j[32]!==P||j[33]!==T||j[34]!==k?(y=i4({mergeMethod:k,confirming:!0,isBypassMerge:T,inProgress:!0,isAutoMergeAllowed:P}),j[32]=P,j[33]=T,j[34]=k,j[35]=y):y=j[35];let er=T?"danger":P?"default":"primary";return j[36]!==P||j[37]!==T||j[38]!==k?(v=i4({mergeMethod:k,confirming:!0,isBypassMerge:T,inProgress:!1,isAutoMergeAllowed:P}),j[36]=P,j[37]=T,j[38]=k,j[39]=v):v=j[39],j[40]!==ea||j[41]!==en||j[42]!==y||j[43]!==er||j[44]!==v?(C=(0,a.jsx)(nt.Slot,{children:(0,a.jsx)(eC.Q,{ref:U,className:"width-full",loading:en,loadingAnnouncement:y,variant:er,onClick:ea,children:v})}),j[40]=ea,j[41]=en,j[42]=y,j[43]=er,j[44]=v,j[45]=C):C=j[45],j[46]!==A?(S=(0,a.jsx)(nt.Slot,{children:(0,a.jsx)(eC.Q,{onClick:A,children:"Cancel"})}),j[46]=A,j[47]=S):S=j[47],j[48]!==C||j[49]!==S?(_=(0,a.jsxs)(nt,{className:"mt-3",children:[C,S]}),j[48]=C,j[49]=S,j[50]=_):_=j[50],j[51]!==V?(N=(0,a.jsx)(na,{errorMessage:V}),j[51]=V,j[52]=N):N=j[52],j[53]!==p||j[54]!==g||j[55]!==_||j[56]!==N||j[57]!==c?(w=(0,a.jsxs)("div",{children:[c,p,g,_,N]}),j[53]=p,j[54]=g,j[55]=_,j[56]=N,j[57]=c,j[58]=w):w=j[58],w}function nl(e){return(0,a.jsx)(i8.A.Option,{value:e,children:e},e)}try{na.displayName||(na.displayName="MergeErrorMessage")}catch{}try{nr.displayName||(nr.displayName="ConfirmMerge")}catch{}function ns(e){let t,i,n=(0,r.c)(7),{onSelect:l,primaryText:s,secondaryText:o,selected:d}=e;return n[0]!==o?(t=(0,a.jsx)(eI.l.Description,{variant:"block",children:o}),n[0]=o,n[1]=t):t=n[1],n[2]!==l||n[3]!==s||n[4]!==d||n[5]!==t?(i=(0,a.jsxs)(eI.l.Item,{selected:d,onSelect:l,children:[s,t]}),n[2]=l,n[3]=s,n[4]=d,n[5]=t,n[6]=i):i=n[6],i}try{ns.displayName||(ns.displayName="MergeDropdownOption")}catch{}let no=(0,u.lazy)(()=>i.e(44712).then(i.bind(i,44712)));function nd(e){let t,i,n,s,o,d,c,h,f,p,g,x,y,b,v,C,_,N,w,j=(0,r.c)(80),{baseRefName:E,canUserPushToBase:R,defaultCommitAuthorEmail:L,commitMessageBody:D,commitMessageHeadline:I,conflictsCondition:T,handleConfirmingMergeInfo:A,headRepository:k,helpUrl:O,isAdminBypassToggleChecked:M,isAdminBypassToggleVisible:P,isAutoMergeAllowed:F,isConfirmingMergeInfo:U,isCrossRepo:$,mergeable:B,numberOfCommits:q,mergeBoxRollupStatus:H,setShouldFocusPrimaryMergeButton:V,shouldFocusPrimaryMergeButton:K,status:W,viewerMergeActions:z,possibleCommitAuthorEmails:Q}=e,X=void 0!==F&&F,{mergeMethod:Y,setMergeMethod:J}=S(),{sendAnalyticsEvent:Z}=(0,em.s)(),[ee,et]=(0,u.useState)(!1),ei=(0,u.useRef)(null);if(!T)return null;if(j[0]!==z){let e=z.find(nc);l(e),i=(t=function({mergeMethods:e}){return e.reduce((e,t)=>((t?.allowableStatus==="ALLOWED"||t?.allowableStatus==="ALLOWED_WITH_BYPASS")&&e.push(t.name),e),[])}({mergeMethods:e.mergeMethods})).includes(m.q$.MERGE),n=t.includes(m.q$.SQUASH),s=t.includes(m.q$.REBASE),j[0]=z,j[1]=t,j[2]=i,j[3]=n,j[4]=s}else t=j[1],i=j[2],n=j[3],s=j[4];let en=s,ea=P&&M,er=`Merging is blocked due to ${W===G?"pending":"failing"} merge requirements`;j[5]!==A||j[6]!==X||j[7]!==Z?(o=()=>{A(!0),Z(X?"direct_merge_section.auto_merge_click":"direct_merge_section.direct_merge_click",X?"MERGEBOX_AUTO_MERGE_SECTION_MERGE_BUTTON":"MERGEBOX_DIRECT_MERGE_SECTION_MERGE_BUTTON")},j[5]=A,j[6]=X,j[7]=Z,j[8]=o):o=j[8];let el=o;j[9]!==A||j[10]!==X||j[11]!==Z||j[12]!==V?(d=()=>{A(!1),V(!0),Z(X?"direct_merge_section.cancel_auto_merge":"direct_merge_section.cancel_direct_merge",X?"MERGEBOX_AUTO_MERGE_CANCEL_CONFIRMATION_BUTTON":"MERGEBOX_DIRECT_MERGE_CANCEL_CONFIRMATION_BUTTON")},j[9]=A,j[10]=X,j[11]=Z,j[12]=V,j[13]=d):d=j[13];let es=d;j[14]!==Z?(c=()=>{et(!0),Z("direct_merge_section.view_command_line_instructions","MERGEBOX_DIRECT_MERGE_SECTION_VIEW_COMMAND_LINE_INSTRUCTIONS_BUTTON")},j[14]=Z,j[15]=c):c=j[15];let eo=c;j[16]!==Z||j[17]!==J?(h=(e,t)=>{J(e),Z(t,"MERGEBOX_DIRECT_MERGE_SECTION_MERGE_METHOD_MENU_ITEM")},j[16]=Z,j[17]=J,j[18]=h):h=j[18];let ed=h;if(U){let e,t=L||"",i=D||"",n=I||"";return j[19]!==E||j[20]!==es||j[21]!==A||j[22]!==M||j[23]!==X||j[24]!==Y||j[25]!==Q||j[26]!==t||j[27]!==i||j[28]!==n?(e=(0,a.jsx)(nr,{defaultCommitAuthorEmail:t,commitMessageBody:i,commitMessageHeadline:n,defaultBranchName:E,handleConfirmingMergeInfo:A,isBypassMerge:M,selectedMergeMethod:Y,onCancel:es,isAutoMergeAllowed:X,possibleCommitAuthorEmails:Q}),j[19]=E,j[20]=es,j[21]=A,j[22]=M,j[23]=X,j[24]=Y,j[25]=Q,j[26]=t,j[27]=i,j[28]=n,j[29]=e):e=j[29],e}j[30]!==E||j[31]!==T||j[32]!==k||j[33]!==ee||j[34]!==$?(f=ee&&ei&&(0,a.jsx)(u.Suspense,{children:(0,a.jsx)(no,{baseRefName:E,conflictsCondition:T,headRepository:k,isCrossRepo:$,returnFocusRef:ei,onClose:()=>et(!1)})}),j[30]=E,j[31]=T,j[32]=k,j[33]=ee,j[34]=$,j[35]=f):f=j[35];let ec=1===t.length,eu=!X&&!B&&!ea,ef=B&&"ALL_PASSED"===H;return j[36]!==i||j[37]!==Y||j[38]!==ed?(p=i&&(0,a.jsx)(ns,{primaryText:"Create a merge commit",secondaryText:"All commits from this branch will be added to the base branch via a merge commit.",selected:Y===m.q$.MERGE,onSelect:()=>ed(m.q$.MERGE,"direct_merge_section.select_create_a_merge_commit")}),j[36]=i,j[37]=Y,j[38]=ed,j[39]=p):p=j[39],j[40]!==n||j[41]!==Y||j[42]!==q||j[43]!==ed?(g=n&&(0,a.jsx)(ns,{primaryText:"Squash and merge",secondaryText:1===q?"The 1 commit from this branch will be added to the base branch.":`The ${q} commits from this branch will be combined into one commit in the base branch.`,selected:Y===m.q$.SQUASH,onSelect:()=>ed(m.q$.SQUASH,"direct_merge_section.select_squash_and_merge")}),j[40]=n,j[41]=Y,j[42]=q,j[43]=ed,j[44]=g):g=j[44],j[45]!==en||j[46]!==Y||j[47]!==q||j[48]!==ed?(x=en&&(0,a.jsx)(ns,{primaryText:"Rebase and merge",secondaryText:`The ${q} commit${1!==q?"s":""} from this branch will be rebased and added to the base branch.`,selected:Y===m.q$.REBASE,onSelect:()=>ed(m.q$.REBASE,"direct_merge_section.select_rebase_and_merge")}),j[45]=en,j[46]=Y,j[47]=q,j[48]=ed,j[49]=x):x=j[49],j[50]!==p||j[51]!==g||j[52]!==x?(y=(0,a.jsxs)(eI.l,{selectionVariant:"single",showDividers:!0,children:[p,g,x]}),j[50]=p,j[51]=g,j[52]=x,j[53]=y):y=j[53],j[54]!==V?(b=()=>V(!1),j[54]=V,j[55]=b):b=j[55],j[56]!==X||j[57]!==ea||j[58]!==Y?(v=i4({mergeMethod:Y,confirming:!1,isBypassMerge:ea,isAutoMergeAllowed:X}),j[56]=X,j[57]=ea,j[58]=Y,j[59]=v):v=j[59],j[60]!==el||j[61]!==er||j[62]!==K||j[63]!==ef||j[64]!==y||j[65]!==b||j[66]!==v||j[67]!==ec||j[68]!==eu?(C=(0,a.jsx)(nt.Slot,{children:(0,a.jsx)(iP,{hideSecondaryButton:ec,inactive:eu,inactiveTooltipText:er,inactiveTooltipDirection:"se",isPrimary:ef,secondaryButtonActive:!0,secondaryButtonAriaLabel:"Select merge method",shouldFocusPrimaryButton:K,actionList:y,onFocusPrimaryButton:b,onPrimaryButtonClick:el,children:v})}),j[60]=el,j[61]=er,j[62]=K,j[63]=ef,j[64]=y,j[65]=b,j[66]=v,j[67]=ec,j[68]=eu,j[69]=C):C=j[69],j[70]!==R||j[71]!==eo||j[72]!==O?(_=(0,a.jsx)(nt.Slot,{children:(0,a.jsx)("span",{className:"f6 fgColor-muted",children:R?(0,a.jsxs)(a.Fragment,{children:["You can also merge this with the command line."," ",(0,a.jsx)(eh.A,{as:"button",ref:ei,inline:!0,onClick:eo,children:"View command line instructions."})]}):(0,a.jsxs)(a.Fragment,{children:["Only those with"," ",(0,a.jsx)(eh.A,{href:`${O}/en/get-started/learning-about-github/access-permissions-on-github`,inline:!0,children:"write access"})," ","to this repository can merge pull requests."]})})}),j[70]=R,j[71]=eo,j[72]=O,j[73]=_):_=j[73],j[74]!==C||j[75]!==_?(N=(0,a.jsxs)(nt,{children:[C,_]}),j[74]=C,j[75]=_,j[76]=N):N=j[76],j[77]!==N||j[78]!==f?(w=(0,a.jsxs)(a.Fragment,{children:[f,N]}),j[77]=N,j[78]=f,j[79]=w):w=j[79],w}function nc(e){return e.name===m.tw.DIRECT_MERGE}try{no.displayName||(no.displayName="CommandLineInstructionsDialog")}catch{}try{nd.displayName||(nd.displayName="DirectMergeActionsSection")}catch{}var nu=i(46720);function nm(e){let t,i,n,l=(0,r.c)(6),{checked:s,onToggleChecked:o}=e;return l[0]!==s||l[1]!==o?(t=(0,a.jsx)(nu.A,{onChange:o,checked:s}),l[0]=s,l[1]=o,l[2]=t):t=l[2],l[3]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(eA.A.Label,{children:(0,a.jsx)("span",{className:"fgColor-danger",children:" Merge without waiting for requirements to be met (bypass rules) "})}),l[3]=i):i=l[3],l[4]!==t?(n=(0,a.jsxs)(eA.A,{children:[t,i]}),l[4]=t,l[5]=n):n=l[5],n}try{nm.displayName||(nm.displayName="BypassMergeRequirementsToggle")}catch{}function nh(e,t,i){return"MERGEABLE_IF_STATUSES_PASS"===e&&"BEHIND"!==i&&t!==G&&t!==H&&t!==Y||"MERGEABLE"===e}function nf(e){let t,i,n,l,s,d,c,h,f,p,g=(0,r.c)(42),{autoMergeRequest:x,baseRefName:y,handleConfirmingMergeInfo:b,isDraft:v,isInMergeQueue:C,mergeQueue:S,mergeRequirementsState:_,mergeStateStatus:N,mergeBoxRollupStatus:w,status:j,viewerCanAddAndRemoveFromMergeQueue:E,viewerCanAddToMergeQueueSolo:R,shouldFocusPrimaryMergeButton:L,setShouldFocusPrimaryMergeButton:D}=e,I=S?.url,[T,A]=(0,u.useState)(m.lD.GROUP),[k,O]=(0,u.useState)(!1),[M,P]=(0,u.useState)(),{sendAnalyticsEvent:F}=(0,em.s)();g[0]===Symbol.for("react.memo_cache_sentinel")?(t={onError:e=>{P(e.message)}},g[0]=t):t=g[0];let{mutate:U,isPending:$}=i9(t);g[1]!==b||g[2]!==F?(i=()=>{O(!0),b(!0),F("auto_merge_section.merge_click","MERGEBOX_AUTO_MERGE_BUTTON")},g[1]=b,g[2]=F,g[3]=i):i=g[3];let B=i;g[4]!==U||g[5]!==b||g[6]!==$||g[7]!==T||g[8]!==F?(n=()=>{$||(P(void 0),U({mergeMethod:T===m.lD.SOLO?"SOLO":"GROUP"}),b(!1),F("auto_merge_section.confirm_direct_merge","MERGEBOX_AUTO_MERGE_CONFIRMATION_BUTTON"))},g[4]=U,g[5]=b,g[6]=$,g[7]=T,g[8]=F,g[9]=n):n=g[9];let q=n;g[10]!==F?(l=(e,t)=>{A(e),F(t,"MERGEBOX_MERGE_QUEUE_SECTION_MERGE_METHOD_MENU_ITEM")},g[10]=F,g[11]=l):l=g[11];let H=l;g[12]!==_||g[13]!==N||g[14]!==j?(s=nh(_,j,N),g[12]=_,g[13]=N,g[14]=j,g[15]=s):s=g[15];let G=s,V=!E||"UNKNOWN"===N||v||C||!!x,K=(0,u.useRef)(null);return g[16]!==k?(d=()=>{k&&K?.current&&K?.current.focus()},c=[k],g[16]=k,g[17]=d,g[18]=c):(d=g[17],c=g[18]),(0,u.useEffect)(d,c),g[19]!==M?(h=M&&(0,a.jsxs)(eT.A,{className:"mb-3",variant:"danger",children:[(0,a.jsx)(eU.A,{className:"mr-2",icon:o.StopIcon}),M]}),g[19]=M,g[20]=h):h=g[20],g[21]!==q||g[22]!==y||g[23]!==B||g[24]!==b||g[25]!==G||g[26]!==$||g[27]!==w||g[28]!==I||g[29]!==_||g[30]!==V||g[31]!==T||g[32]!==F||g[33]!==D||g[34]!==L||g[35]!==k||g[36]!==H||g[37]!==R?(f=k?(0,a.jsxs)(nt,{children:[(0,a.jsx)(nt.Slot,{children:(0,a.jsx)(eC.Q,{ref:K,variant:"primary",loading:$,loadingAnnouncement:i5({mergeMethod:T,confirming:!0,inProgress:!0}),onClick:q,children:i5({mergeMethod:T,confirming:!0,inProgress:!1})})}),(0,a.jsx)(nt.Slot,{children:(0,a.jsx)(eC.Q,{onClick:()=>{b(!1),O(!1),F("auto_merge_section.cancel_auto_merge","MERGEBOX_AUTO_MERGE_CANCEL_CONFIRMATION_BUTTON")},children:"Cancel"})})]}):(0,a.jsxs)(nt,{children:[(0,a.jsx)(nt.Slot,{children:(0,a.jsx)(iP,{inactive:V,inactiveTooltipText:"UNKNOWN"===_?"Checking for the ability to merge automatically":"Merging is blocked due to failing merge requirements",inactiveTooltipDirection:"se",hideSecondaryButton:!R,secondaryButtonAriaLabel:"Select merge queue method",isPrimary:G&&"ALL_PASSED"===w,shouldFocusPrimaryButton:L,onFocusPrimaryButton:()=>D(!1),actionList:(0,a.jsx)(eI.l,{selectionVariant:"single",children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ns,{primaryText:"Queue and merge in a group",secondaryText:`This pull request will be automatically grouped with other pull requests and merged into ${y}.`,selected:T===m.lD.GROUP,onSelect:()=>H(m.lD.GROUP,"merqe_queue_section.select_queue_and_merge_in_a_group")}),(0,a.jsx)(ns,{primaryText:"Queue and force solo merge",secondaryText:`This pull request will be merged into ${y} by itself.`,selected:T===m.lD.SOLO,onSelect:()=>H(m.lD.SOLO,"merqe_queue_section.select_queue_and_force_solo_merge")})]})}),onPrimaryButtonClick:B,children:i5({mergeMethod:T,confirming:!1,inProgress:$})})}),(0,a.jsx)(nt.Slot,{children:(0,a.jsxs)("span",{className:"f6 fgColor-muted pl-2",children:["This repository uses the"," ",(0,a.jsx)(eh.A,{href:I,inline:!0,children:"merge queue"})," ","for all merges into the ",y," branch."]})})]}),g[21]=q,g[22]=y,g[23]=B,g[24]=b,g[25]=G,g[26]=$,g[27]=w,g[28]=I,g[29]=_,g[30]=V,g[31]=T,g[32]=F,g[33]=D,g[34]=L,g[35]=k,g[36]=H,g[37]=R,g[38]=f):f=g[38],g[39]!==h||g[40]!==f?(p=(0,a.jsxs)(a.Fragment,{children:[h,f]}),g[39]=h,g[40]=f,g[41]=p):p=g[41],p}function np(e){let t,i,n,l,s,d,c,m,p,g,y=(0,r.c)(25),{autoMergeRequest:v,viewerCanDisableAutoMerge:C,isMergeQueueEnabled:S,handleConfirmingMergeInfo:_}=e,{sendAnalyticsEvent:N}=(0,em.s)(),[w,j]=(0,u.useState)();y[0]===Symbol.for("react.memo_cache_sentinel")?(t={onError:e=>{j(e.message)}},y[0]=t):t=y[0];let{mutate:E,isPending:R}=function(e){let t,i,n,a,l=(0,r.c)(11),{onError:s}=e,o=(0,f.e)(h.uT.disableAutoMerge),d=b(),c=(0,x.jE)();return l[0]!==o?(t=async()=>{let e=await (0,eP.q$)(o,{method:"POST",headers:{Accept:"application/json"}}),t=await (0,eP.hp)(e);return(0,eP.R)(e,t),t},l[0]=o,l[1]=t):t=l[1],l[2]!==d||l[3]!==c?(i=()=>c.refetchQueries({queryKey:d},{cancelRefetch:!1}),l[2]=d,l[3]=c,l[4]=i):i=l[4],l[5]!==s?(n=e=>{s(e)},l[5]=s,l[6]=n):n=l[6],l[7]!==t||l[8]!==i||l[9]!==n?(a={mutationFn:t,onSuccess:i,onError:n},l[7]=t,l[8]=i,l[9]=n,l[10]=a):a=l[10],(0,eM.n)(a)}(t);y[1]!==E||y[2]!==_||y[3]!==R||y[4]!==N?(i=()=>{R||(j(void 0),_(!1),E(),N("auto_merge_section.disable_auto_merge","MERGEBOX_AUTO_MERGE_DISABLE_BUTTON"))},y[1]=E,y[2]=_,y[3]=R,y[4]=N,y[5]=i):i=y[5];let L=i;y[6]!==v?.mergeMethod?(n=v?.mergeMethod.toLowerCase()??"merge",y[6]=v?.mergeMethod,y[7]=n):n=y[7];let D=n,I=S?"be added to the merge queue":`${D} automatically`;y[8]!==w?(l=w&&(0,a.jsxs)(eT.A,{className:"mx-3 my-2",variant:"danger",children:[(0,a.jsx)(eU.A,{className:"mr-2",icon:o.StopIcon}),w]}),y[8]=w,y[9]=l):l=y[9];let T=!C;return y[10]!==L||y[11]!==R||y[12]!==T?(s=(0,a.jsx)(nt.Slot,{children:(0,a.jsx)(eC.Q,{disabled:T,onClick:L,loading:R,loadingAnnouncement:"Disabling auto-merge",children:"Disable auto-merge"})}),y[10]=L,y[11]=R,y[12]=T,y[13]=s):s=y[13],y[14]!==I?(d=(0,a.jsx)("span",{className:"text-semibold",children:I}),y[14]=I,y[15]=d):d=y[15],y[16]===Symbol.for("react.memo_cache_sentinel")?(c=(0,a.jsx)(eh.A,{inline:!0,href:"https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/incorporating-changes-from-a-pull-request/automatically-merging-a-pull-request",children:"Learn more about automatically merging a pull request."}),y[16]=c):c=y[16],y[17]!==d?(m=(0,a.jsx)(nt.Slot,{children:(0,a.jsxs)("div",{className:"flex-1",children:["This pull request will ",d," when all requirements are met."," ",c]})}),y[17]=d,y[18]=m):m=y[18],y[19]!==s||y[20]!==m?(p=(0,a.jsxs)(nt,{children:[s,m]}),y[19]=s,y[20]=m,y[21]=p):p=y[21],y[22]!==p||y[23]!==l?(g=(0,a.jsxs)(a.Fragment,{children:[l,p]}),y[22]=p,y[23]=l,y[24]=g):g=y[24],g}function ng(e){let t,i,n,l,s=(0,r.c)(50),{advisoryWorkspace:o,autoMergeRequest:d,handleConfirmingMergeInfo:m,id:h,isConfirmingMergeInfo:f,isInMergeQueue:p,mergeQueue:g,mergeStateStatus:x,viewerCanAddAndRemoveFromMergeQueue:y,viewerCanAddToMergeQueueSolo:b,viewerCanDisableAutoMerge:v,viewerCanEnableAutoMerge:C,viewerCanAdminBypassMergeRequirements:S,..._}=e,[N,w]=(0,u.useState)(!1),j=_.viewerMergeActions,E=j.find(ny),R=j.find(nx),L=nh(_.mergeRequirementsState,_.status,x),D=E?.allowableStatus==="ALLOWED",I=R?.allowableStatus==="ALLOWED",T=!!d,A=S&&!T&&(!!D||!L),k=C&&!L;if(o)return null;if(T){let e;s[0]!==d||s[1]!==m||s[2]!==D||s[3]!==v?(e=(0,a.jsx)(np,{autoMergeRequest:d,isMergeQueueEnabled:D,viewerCanDisableAutoMerge:v,handleConfirmingMergeInfo:m}),s[0]=d,s[1]=m,s[2]=D,s[3]=v,s[4]=e):e=s[4],t=e}else if(D||I)if(D&&A&&N){let e;s[9]!==m||s[10]!==f||s[11]!==L||s[12]!==_||s[13]!==A?(e=(0,a.jsx)(nd,{mergeable:L,handleConfirmingMergeInfo:m,isAdminBypassToggleVisible:A,isAdminBypassToggleChecked:!0,isConfirmingMergeInfo:f,..._}),s[9]=m,s[10]=f,s[11]=L,s[12]=_,s[13]=A,s[14]=e):e=s[14],t=e}else if(D){let e;s[15]!==d||s[16]!==m||s[17]!==h||s[18]!==p||s[19]!==g||s[20]!==x||s[21]!==_||s[22]!==y||s[23]!==b?(e=(0,a.jsx)(nf,{autoMergeRequest:d,pullRequestId:h,handleConfirmingMergeInfo:m,isInMergeQueue:p,mergeQueue:g,mergeStateStatus:x,viewerCanAddAndRemoveFromMergeQueue:y,viewerCanAddToMergeQueueSolo:b,..._}),s[15]=d,s[16]=m,s[17]=h,s[18]=p,s[19]=g,s[20]=x,s[21]=_,s[22]=y,s[23]=b,s[24]=e):e=s[24],t=e}else if(C&&!N){let e;s[25]!==m||s[26]!==f||s[27]!==L||s[28]!==_||s[29]!==A||s[30]!==k?(e=(0,a.jsx)(nd,{handleConfirmingMergeInfo:m,mergeable:L,isAdminBypassToggleChecked:!1,isAdminBypassToggleVisible:A,isAutoMergeAllowed:k,isConfirmingMergeInfo:f,..._}),s[25]=m,s[26]=f,s[27]=L,s[28]=_,s[29]=A,s[30]=k,s[31]=e):e=s[31],t=e}else{let e;s[32]!==m||s[33]!==N||s[34]!==f||s[35]!==L||s[36]!==_||s[37]!==A?(e=(0,a.jsx)(nd,{handleConfirmingMergeInfo:m,isAdminBypassToggleChecked:N,isAdminBypassToggleVisible:A,isConfirmingMergeInfo:f,mergeable:L,..._}),s[32]=m,s[33]=N,s[34]=f,s[35]=L,s[36]=_,s[37]=A,s[38]=e):e=s[38],t=e}else{let e;s[5]!==m||s[6]!==f||s[7]!==_?(e=(0,a.jsx)(nd,{mergeable:!1,handleConfirmingMergeInfo:m,isAdminBypassToggleChecked:!1,isAdminBypassToggleVisible:!1,isConfirmingMergeInfo:f,..._}),s[5]=m,s[6]=f,s[7]=_,s[8]=e):e=s[8],t=e}let O=f?"rounded-2":"rounded-bottom-2";return s[39]!==O?(i=(0,c.$)("p-3 bgColor-muted borderColor-muted",O),s[39]=O,s[40]=i):i=s[40],s[41]!==N||s[42]!==f||s[43]!==w||s[44]!==A?(n=A&&!f&&(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsx)(nm,{checked:N,onToggleChecked:()=>w(!N)})}),s[41]=N,s[42]=f,s[43]=w,s[44]=A,s[45]=n):n=s[45],s[46]!==t||s[47]!==i||s[48]!==n?(l=(0,a.jsxs)("div",{className:i,children:[n,t]}),s[46]=t,s[47]=i,s[48]=n,s[49]=l):l=s[49],l}function nx(e){return e.name===m.tw.DIRECT_MERGE}function ny(e){let{name:t}=e;return t===m.tw.MERGE_QUEUE}try{nf.displayName||(nf.displayName="AddToMergeQueueSection")}catch{}try{np.displayName||(np.displayName="DisableAutoMerge")}catch{}try{ng.displayName||(ng.displayName="MergeSection")}catch{}var nb=i(46251);function nv(){let e,t,i,n,l,s,d,c,m,p,g,y,v,C,S=(0,r.c)(29),[_,N]=(0,u.useState)("closed"),[w,j]=(0,u.useState)(null),E=(0,u.useRef)(null),R=(0,u.useRef)(null),{sendAnalyticsEvent:L}=(0,em.s)();S[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{N("open"),j(null)},S[0]=e):e=S[0];let D=e;S[1]===Symbol.for("react.memo_cache_sentinel")?(t={onError:e=>{j(e.message),setTimeout(nS,1e3)}},S[1]=t):t=S[1];let{mutate:I,isPending:T}=function(e){let t,i,n,a,l=(0,r.c)(11),{onError:s}=e,o=(0,f.e)(h.uT.convertToDraft),d=b(),c=(0,x.jE)();return l[0]!==o?(t=async()=>{let e=await (0,eP.q$)(o,{method:"POST",headers:{Accept:"application/json"}}),t=await (0,eP.hp)(e);return(0,eP.R)(e,t),t},l[0]=o,l[1]=t):t=l[1],l[2]!==d||l[3]!==c?(i=()=>c.invalidateQueries({queryKey:d},{cancelRefetch:!1}),l[2]=d,l[3]=c,l[4]=i):i=l[4],l[5]!==s?(n=e=>s(e),l[5]=s,l[6]=n):n=l[6],l[7]!==t||l[8]!==i||l[9]!==n?(a={mutationFn:t,onSuccess:i,onError:n},l[7]=t,l[8]=i,l[9]=n,l[10]=a):a=l[10],(0,eM.n)(a)}(t);S[2]!==I||S[3]!==T||S[4]!==L?(i=async()=>{T||(j(null),I(void 0,{onSuccess:()=>{N("closed"),setTimeout(nC,1e3),L("convert_to_draft_section.convert_to_draft","MERGEBOX_CONVERT_TO_DRAFT_SECTION_CONVERT_TO_DRAFT_BUTTON")}}))},S[2]=I,S[3]=T,S[4]=L,S[5]=i):i=S[5];let A=i;S[6]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsxs)(nb.B,{direction:"horizontal",align:"baseline",className:"py-2 px-1 text-small flex-justify-end",gap:"none",children:[(0,a.jsx)("span",{className:"fgColor-muted pr-1",children:"Still in progress?"}),(0,a.jsx)(eC.Q,{variant:"link",className:"Link--muted Link--inTextBlock text-normal",onClick:D,ref:E,children:"Convert to draft"})]}),S[6]=n):n=S[6];let k="open"===_;return S[7]===Symbol.for("react.memo_cache_sentinel")?(l=()=>N("closed"),s=(0,a.jsx)(tN.A.Header,{id:"convert-to-draft-dialog-title",children:"Convert this pull request to draft?"}),S[7]=l,S[8]=s):(l=S[7],s=S[8]),S[9]===Symbol.for("react.memo_cache_sentinel")?(d=(0,a.jsx)(eT.A,{variant:"warning",children:"People who are already subscribed will not be unsubscribed."}),S[9]=d):d=S[9],S[10]!==w?(c=w&&(0,a.jsxs)(eT.A,{className:"my-2",variant:"danger",children:[(0,a.jsx)(o.StopIcon,{className:"mr-2"}),w]}),S[10]=w,S[11]=c):c=S[11],S[12]!==T?(m=()=>{T||(N("closed"),E.current?.focus())},S[12]=T,S[13]=m):m=S[13],S[14]!==T||S[15]!==m?(p=(0,a.jsx)(eC.Q,{className:"mr-1",disabled:T,variant:"invisible",onClick:m,children:"Cancel"}),S[14]=T,S[15]=m,S[16]=p):p=S[16],S[17]!==A||S[18]!==T?(g=(0,a.jsx)(eC.Q,{loading:T,loadingAnnouncement:"Converting to draft",onClick:A,ref:R,children:"Convert to draft"}),S[17]=A,S[18]=T,S[19]=g):g=S[19],S[20]!==p||S[21]!==g?(y=(0,a.jsxs)("div",{className:"d-flex flex-justify-end mt-3",children:[p,g]}),S[20]=p,S[21]=g,S[22]=y):y=S[22],S[23]!==y||S[24]!==c?(v=(0,a.jsxs)("div",{className:"p-3",children:[d,c,y]}),S[23]=y,S[24]=c,S[25]=v):v=S[25],S[26]!==v||S[27]!==k?(C=(0,a.jsxs)(a.Fragment,{children:[n,(0,a.jsxs)(tN.A,{"aria-labelledby":"convert-to-draft-dialog-title",isOpen:k,returnFocusRef:E,initialFocusRef:R,onDismiss:l,children:[s,v]})]}),S[26]=v,S[27]=k,S[28]=C):C=S[28],C}function nC(){return(0,tw.i)("The pull request was successfully converted to draft.")}function nS(){return(0,tw.i)("Failed to convert the pull request to draft")}try{nv.displayName||(nv.displayName="ConvertToDraftSection")}catch{}function n_(){let e,t=(0,r.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("div",{className:"MergeBox-module__mergeboxLoading--OhnXd",children:(0,a.jsx)(d.A,{})}),t[0]=e):e=t[0],e}let nN=(0,u.memo)(function(e){let t,i,n,l,o,d=(0,r.c)(11);d[0]!==e?({hideIcon:i,...t}=e,d[0]=e,d[1]=t,d[2]=i):(t=d[1],i=d[2]);let c=void 0!==i&&i;return d[3]!==c?(n=(0,a.jsx)(tD,{hideIcon:c}),d[3]=c,d[4]=n):n=d[4],d[5]!==c||d[6]!==t?(l=(0,a.jsx)(u.Suspense,{children:(0,a.jsx)(nw,{hideIcon:c,...t})}),d[5]=c,d[6]=t,d[7]=l):l=d[7],d[8]!==n||d[9]!==l?(o=(0,a.jsx)(s.t,{critical:!0,fallback:n,children:l}),d[8]=n,d[9]=l,d[10]=o):o=d[10],o});function nw(e){let t,i,n,l,s,o,d,c,m,p,v=(0,r.c)(20);v[0]!==e?({viewerLogin:n,channels:t,...i}=e,v[0]=e,v[1]=t,v[2]=i,v[3]=n):(t=v[1],i=v[2],n=v[3]);let{mergeMethod:C}=S();v[4]!==C?(l={mergeMethod:C,bypassRequirements:!1},v[4]=C,v[5]=l):l=v[5];let{data:_,refetch:N,isLoading:w,error:j}=function(e){let t,i,n=(0,r.c)(7),{mergeMethod:a,bypassRequirements:l}=e,s=new URLSearchParams;s.append("merge_method",a),s.append("bypass_requirements",(void 0!==l&&l).toString());let o=`${(0,f.e)(h.uT.mergeBox)}?${s.toString()}`,d=b(),c=(0,x.jE)();return n[0]!==o||n[1]!==c||n[2]!==d?(t=async()=>(0,g.H)(o,d,c),n[0]=o,n[1]=c,n[2]=d,n[3]=t):t=n[3],n[4]!==d||n[5]!==t?(i={queryKey:d,queryFn:t,staleTime:1/0},n[4]=d,n[5]=t,n[6]=i):i=n[6],(0,y.I)(i)}(l);e:{if(_?.pullRequest.mergeBoxAliveChannels){s=_?.pullRequest.mergeBoxAliveChannels;break e}s=t}let E=s;v[6]!==N?(o=()=>{(0,u.startTransition)(()=>{N({cancelRefetch:!1})})},v[6]=N,v[7]=o):o=v[7];let R=o;if(v[8]!==E||v[9]!==R?(d={refetchQuery:R,channels:E},v[8]=E,v[9]=R,v[10]=d):d=v[10],tb(d),w){let e;return v[11]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(n_,{}),v[11]=e):e=v[11],e}if(j)throw j;if(!_)return null;v[12]===Symbol.for("react.memo_cache_sentinel")?(c=(0,a.jsx)(n_,{}),m=(0,a.jsx)("h2",{className:"sr-only",children:"Merge info"}),v[12]=c,v[13]=m):(c=v[12],m=v[13]);let L=_.pullRequest.numberOfCommits||0;return v[14]!==_.mergeRequirements||v[15]!==_.pullRequest||v[16]!==i||v[17]!==L||v[18]!==n?(p=(0,a.jsxs)(u.Suspense,{fallback:c,children:[m,(0,a.jsx)(nj,{mergeRequirements:_.mergeRequirements,numberOfCommits:L,pullRequest:_.pullRequest,viewerLogin:n,...i})]}),v[14]=_.mergeRequirements,v[15]=_.pullRequest,v[16]=i,v[17]=L,v[18]=n,v[19]=p):p=v[19],p}function nj(e){let t,i,n,d,m,p,b,v,C,S,w,j,E,R,L,D,I,T,A,k,O,M,P,F=(0,r.c)(95),{helpUrl:U,hideIcon:$,mergeRequirements:eo,numberOfCommits:ed,pullRequest:ec,viewerLogin:eu}=e;l(ec.viewerMergeActions.find(nR));let[em,eh]=(0,u.useState)(!1),ef=!em,[ep,eg]=(0,u.useState)(!1),{isInMergeQueue:ex,state:ey,viewerCanDeleteHeadRef:eb,viewerCanRestoreHeadRef:ev}=ec,eC=ec.viewerCanConvertToDraft&&!ex,eS=void 0!==$&&$||("CLOSED"===ey||"MERGED"===ey)&&!eb&&!ev;F[0]!==ec.headRefOid?(t={pullRequestHeadSha:ec.headRefOid},F[0]=ec.headRefOid,F[1]=t):t=F[1];let e_=function(e){let t,i,n,a=(0,r.c)(9),{pullRequestHeadSha:l}=e,s=(0,f.e)(h.uT.statusChecks);a[0]!==l?(t={pullRequestHeadSha:l},a[0]=l,a[1]=t):t=a[1];let o=tC(t),d=(0,x.jE)();return a[2]!==s||a[3]!==d||a[4]!==o?(i=async()=>(0,g.H)(s,o,d),a[2]=s,a[3]=d,a[4]=o,a[5]=i):i=a[5],a[6]!==o||a[7]!==i?(n={queryKey:o,throwOnError:!1,queryFn:i,staleTime:1e4},a[6]=o,a[7]=i,a[8]=n):n=a[8],(0,y.I)(n)}(t).data;if(F[2]!==eo||F[3]!==ec||F[4]!==ef||F[5]!==e_){w=function({pullRequest:e,mergeRequirements:t,statusChecksData:i}){let n;if("MERGED"===e.state)return Z;if("CLOSED"===e.state)return ee;if((n=et(t)).includes("PULL_REQUEST_REPO_STATE")||n.includes("PULL_REQUEST_USER_STATE"))return"NonactionableFailure";if(e.isInMergeQueue)return W;if(e.isDraft&&!en(i))return V;if(e.isDraft)return K;if(en(i))return H;if(ei(i))return G;if(er(t,i))return X;if(t?.state==="MERGEABLE"||t?.state==="MERGEABLE_IF_STATUSES_PASS"&&ea(i))return Q;if((function(e){let t=e?.conditions.find(e=>"PULL_REQUEST_RULES"===e.type);if(!t)return[];let i=t?.ruleRollups?.filter(e=>"FAILED"===e.result);return i?i.map(e=>e.ruleType):[]})(t).includes("PULL_REQUEST")&&!el(t).includes("CHANGES_REQUESTED"))return B;if(el(t).includes("CHANGES_REQUESTED"))return q;else if(t?.state==="UNKNOWN"&&!es(t))return J;else if(es(t))return z;else return Y}({pullRequest:ec,mergeRequirements:eo,statusChecksData:e_});let e=new MergeBoxStatusCalculator(ec,eo,e_);b=e.overallStatus,i=e.sections.BlockedSection,n=e.sections.ChecksSection,d=e.sections.ClosedOrMergedStateMergeBox,m=e.sections.ConflictsSection,p=e.sections.DraftStateSection,v=e.sections.MergeQueueSection,S=e.sections.ReviewerSection,C=function(e){switch(e){case Q:return{icon:o.CheckCircleFillIcon,iconColor:"success.emphasis",title:"Merge pull request"};case V:case K:return{icon:o.GitPullRequestDraftIcon,iconColor:"var(--fgColor-draft)",title:"Draft"};case W:return{icon:o.GitMergeQueueIcon,iconColor:"var(--fgColor-attention)",title:"Queued"};case G:return{icon:o.DotFillIcon,iconColor:"var(--fgColor-muted)",title:"Checks pending"};case H:return{icon:o.XCircleFillIcon,iconColor:"var(--fgColor-danger)",title:"Checks failing"};case X:return{icon:o.DotFillIcon,iconColor:"var(--fgColor-muted)",title:"Non-required checks unsuccessful"};case B:return{icon:o.DotFillIcon,iconColor:"var(--fgColor-danger)",title:"Awaiting reviews"};case q:return{icon:o.XCircleFillIcon,iconColor:"var(--fgColor-danger)",title:"Changes requested"};case z:return{icon:o.XCircleFillIcon,iconColor:"var(--fgColor-danger)",title:"Merge conflicts"};case J:return{icon:o.DotFillIcon,iconColor:"var(--fgColor-muted)",title:"Unknown"};case Z:return{icon:o.GitMergeIcon,iconColor:"var(--fgColor-done)",title:"Merged"};case ee:return{icon:o.GitPullRequestClosedIcon,iconColor:"var(--fgColor-muted)",title:"Closed"};default:return{icon:o.XCircleFillIcon,iconColor:"var(--fgColor-danger)",title:"Unable to merge"}}}(w),j=function(e,t){let i;switch(e){case"ALL_PASSED":i={iconColor:"success.emphasis",borderColor:"borderColor-success-emphasis"};break;case"MERGED":i={iconColor:"done.emphasis",borderColor:"borderColor-done-emphasis"};break;case"QUEUED":i={iconColor:"attention.emphasis",borderColor:"borderColor-attention-emphasis"};break;default:i={iconColor:"neutral.emphasis",borderColor:"borderColor-default"}}return t&&(i.borderColor="borderColor-default"),i}(b,!ef),F[2]=eo,F[3]=ec,F[4]=ef,F[5]=e_,F[6]=i,F[7]=n,F[8]=d,F[9]=m,F[10]=p,F[11]=b,F[12]=v,F[13]=C,F[14]=S,F[15]=w,F[16]=j}else i=F[6],n=F[7],d=F[8],m=F[9],p=F[10],b=F[11],v=F[12],C=F[13],S=F[14],w=F[15],j=F[16];let eN=j;F[17]!==eo?.conditions?(E=eo?.conditions.find(nE),F[17]=eo?.conditions,F[18]=E):E=F[18];let ew=E,ej=ew?.result==="PASSED";F[19]!==eo?(R=function(e){let t=N(e);if(t.length<1)return!1;let i=t[0]?.ruleRollups.find(e=>"AUTHORIZATION"===e.ruleType);return i?.result==="FAILED"}(eo),F[19]=eo,F[20]=R):R=F[20];let eE=R;F[21]!==eo?(L=_(eo),F[21]=eo,F[22]=L):L=F[22];let eR=L,eL=ex?o.GitMergeQueueIcon:o.GitMergeIcon;F[23]===Symbol.for("react.memo_cache_sentinel")?(D=()=>{eg(!0)},F[23]=D):D=F[23];let eD=D,eI=!ej||eE,eT=ec.mergeBoxUserPreferences;F[24]===Symbol.for("react.memo_cache_sentinel")?(I=(0,c.$)("MergeBox-module__mergePartialContainer--psYdf","position-relative partial-pull-merging-analytics-js"),F[24]=I):I=F[24],F[25]!==eL||F[26]!==eN.iconColor||F[27]!==C||F[28]!==eS?(T=!eS&&(0,a.jsx)("div",{className:"d-none d-lg-block","data-testid":"mergeability-icon-wrapper",children:(0,a.jsx)(tR,{icon:eL,ariaLabel:C.title,iconBackgroundColor:eN.iconColor})}),F[25]=eL,F[26]=eN.iconColor,F[27]=C,F[28]=eS,F[29]=T):T=F[29];let eA=eI?"MergeBox-module__mergeBoxAdjustBorders--vMX1B":"",ek=`border rounded-2 ${eN.borderColor}`;return F[30]!==eA||F[31]!==ek?(A=(0,c.$)(eA,ek),F[30]=eA,F[31]=ek,F[32]=A):A=F[32],F[33]!==i||F[34]!==ej||F[35]!==n||F[36]!==d.shouldRender||F[37]!==eR||F[38]!==m||F[39]!==p||F[40]!==U||F[41]!==em||F[42]!==b||F[43]!==eT||F[44]!==v||F[45]!==eo||F[46]!==ed||F[47]!==ec.advisoryWorkspace||F[48]!==ec.autoMergeRequest||F[49]!==ec.baseRefName||F[50]!==ec.baseRepository||F[51]!==ec.deprovisionableCodespaces||F[52]!==ec.headRefName||F[53]!==ec.headRefOid||F[54]!==ec.headRepository||F[55]!==ec.id||F[56]!==ec.isCrossRepo||F[57]!==ec.isDraft||F[58]!==ec.isInMergeQueue||F[59]!==ec.latestOpinionatedReviews||F[60]!==ec.mergeQueue||F[61]!==ec.mergeQueueEntry||F[62]!==ec.mergeStateStatus||F[63]!==ec.pendingReviewRequests||F[64]!==ec.resourcePath||F[65]!==ec.state||F[66]!==ec.viewerCanAddAndRemoveFromMergeQueue||F[67]!==ec.viewerCanAddToMergeQueueSolo||F[68]!==ec.viewerCanAdminBypassMergeRequirements||F[69]!==ec.viewerCanDeleteHeadRef||F[70]!==ec.viewerCanDisableAutoMerge||F[71]!==ec.viewerCanDismissReviews||F[72]!==ec.viewerCanEnableAutoMerge||F[73]!==ec.viewerCanReRequestReviews||F[74]!==ec.viewerCanRestoreHeadRef||F[75]!==ec.viewerCanUpdate||F[76]!==ec.viewerCanUpdateBranch||F[77]!==ec.viewerMergeActions||F[78]!==ec.viewerUpdateMethods||F[79]!==S||F[80]!==ep||F[81]!==eI||F[82]!==ef||F[83]!==w||F[84]!==eu?(k=d.shouldRender||!eo?(0,a.jsx)(tj,{isCrossRepo:ec.isCrossRepo,state:ec.state,headRefName:ec.headRefName,headRepository:ec.headRepository,baseRepository:ec.baseRepository,viewerCanDeleteHeadRef:ec.viewerCanDeleteHeadRef,viewerCanRestoreHeadRef:ec.viewerCanRestoreHeadRef,deprovisionableCodespaces:ec.deprovisionableCodespaces}):v.shouldRender?(0,a.jsx)(i0,{viewerCanAddAndRemoveFromMergeQueue:ec.viewerCanAddAndRemoveFromMergeQueue,mergeQueueEntry:ec.mergeQueueEntry,mergeQueue:ec.mergeQueue,focusPrimaryMergeButton:eD}):(0,a.jsxs)(a.Fragment,{children:[ef&&(0,a.jsxs)(a.Fragment,{children:[S.shouldRender&&(0,a.jsx)(eJ,{consolidatedFailureReasons:S.consolidatedFailureReasons,helpUrl:U,latestOpinionatedReviews:ec.latestOpinionatedReviews,numReviewsRequired:S.numReviewsRequired,pendingRequestedReviews:ec.pendingReviewRequests,pullRequestId:ec.id,reviewsState:S.sectionStatus,viewerCanDismissReviews:ec.viewerCanDismissReviews,viewerCanReRequestReviews:ec.viewerCanReRequestReviews}),(0,a.jsx)(s.t,{fallback:(0,a.jsx)(iI,{}),children:(0,a.jsx)(iD,{pullRequestId:ec.id,pullRequestHeadSha:ec.headRefOid,focusPrimaryMergeButton:eD,sectionStatus:n.sectionStatus,shouldRender:n.shouldRender,mergeBoxUserPreferences:eT})}),m.shouldRender&&m.conflictsCondition&&(0,a.jsx)(iG,{advisoryWorkspace:ec.advisoryWorkspace,baseRefName:ec.baseRefName,headRefOid:ec.headRefOid,conflictsCondition:m.conflictsCondition,conflictsState:m.sectionStatus,mergeStateStatus:ec.mergeStateStatus,resourcePath:ec.resourcePath,canUserPushToBase:ej,viewerCanUpdateBranch:ec.viewerCanUpdateBranch,viewerLogin:eu,viewerUpdateMethods:ec.viewerUpdateMethods}),i.shouldRender&&(0,a.jsx)(tk,{failingConditionsAndRules:i.failingConditionsAndRules}),p.shouldRender&&(0,a.jsx)(iJ,{viewerCanUpdate:ec.viewerCanUpdate,helpUrl:U})]}),eI?null:(0,a.jsx)(ng,{advisoryWorkspace:ec.advisoryWorkspace,autoMergeRequest:ec.autoMergeRequest,baseRefName:ec.baseRefName,numberOfCommits:ed,conflictsCondition:eR,headRepository:ec.headRepository,helpUrl:U,id:ec.id,isConfirmingMergeInfo:em,isCrossRepo:ec.isCrossRepo,isDraft:ec.isDraft,isInMergeQueue:ec.isInMergeQueue,mergeQueue:ec.mergeQueue,canUserPushToBase:ej,defaultCommitAuthorEmail:eo.defaultCommitAuthorEmail,commitMessageBody:eo.commitMessageBody,commitMessageHeadline:eo.commitMessageHeadline,mergeRequirementsState:eo.state,mergeStateStatus:ec.mergeStateStatus,mergeBoxRollupStatus:b,viewerCanAddAndRemoveFromMergeQueue:ec.viewerCanAddAndRemoveFromMergeQueue,viewerCanAdminBypassMergeRequirements:ec.viewerCanAdminBypassMergeRequirements,viewerCanAddToMergeQueueSolo:ec.viewerCanAddToMergeQueueSolo,viewerCanDisableAutoMerge:ec.viewerCanDisableAutoMerge,viewerMergeActions:ec.viewerMergeActions,viewerCanEnableAutoMerge:ec.viewerCanEnableAutoMerge,shouldFocusPrimaryMergeButton:ep,setShouldFocusPrimaryMergeButton:eg,status:w,possibleCommitAuthorEmails:eo.possibleCommitAuthorEmails,handleConfirmingMergeInfo:eh})]}),F[33]=i,F[34]=ej,F[35]=n,F[36]=d.shouldRender,F[37]=eR,F[38]=m,F[39]=p,F[40]=U,F[41]=em,F[42]=b,F[43]=eT,F[44]=v,F[45]=eo,F[46]=ed,F[47]=ec.advisoryWorkspace,F[48]=ec.autoMergeRequest,F[49]=ec.baseRefName,F[50]=ec.baseRepository,F[51]=ec.deprovisionableCodespaces,F[52]=ec.headRefName,F[53]=ec.headRefOid,F[54]=ec.headRepository,F[55]=ec.id,F[56]=ec.isCrossRepo,F[57]=ec.isDraft,F[58]=ec.isInMergeQueue,F[59]=ec.latestOpinionatedReviews,F[60]=ec.mergeQueue,F[61]=ec.mergeQueueEntry,F[62]=ec.mergeStateStatus,F[63]=ec.pendingReviewRequests,F[64]=ec.resourcePath,F[65]=ec.state,F[66]=ec.viewerCanAddAndRemoveFromMergeQueue,F[67]=ec.viewerCanAddToMergeQueueSolo,F[68]=ec.viewerCanAdminBypassMergeRequirements,F[69]=ec.viewerCanDeleteHeadRef,F[70]=ec.viewerCanDisableAutoMerge,F[71]=ec.viewerCanDismissReviews,F[72]=ec.viewerCanEnableAutoMerge,F[73]=ec.viewerCanReRequestReviews,F[74]=ec.viewerCanRestoreHeadRef,F[75]=ec.viewerCanUpdate,F[76]=ec.viewerCanUpdateBranch,F[77]=ec.viewerMergeActions,F[78]=ec.viewerUpdateMethods,F[79]=S,F[80]=ep,F[81]=eI,F[82]=ef,F[83]=w,F[84]=eu,F[85]=k):k=F[85],F[86]!==A||F[87]!==k?(O=(0,a.jsx)("div",{className:A,children:k}),F[86]=A,F[87]=k,F[88]=O):O=F[88],F[89]!==eC?(M=eC&&(0,a.jsx)(nv,{}),F[89]=eC,F[90]=M):M=F[90],F[91]!==O||F[92]!==M||F[93]!==T?(P=(0,a.jsxs)("div",{className:I,children:[T,O,M]}),F[91]=O,F[92]=M,F[93]=T,F[94]=P):P=F[94],P}function nE(e){return"PULL_REQUEST_USER_STATE"===e.type}function nR(e){return e.name===m.tw.DIRECT_MERGE}try{n_.displayName||(n_.displayName="MergeBoxLoading")}catch{}try{nN.displayName||(nN.displayName="MergeBoxWithSuspense")}catch{}try{nw.displayName||(nw.displayName="MergeBoxWrapper")}catch{}try{nj.displayName||(nj.displayName="MergeBox")}catch{}function nL(e){return Object.values(m.q$).includes(e)}},13107:(e,t,i)=>{i.d(t,{NF:()=>y,QS:()=>h,VO:()=>g,wW:()=>b});var n=i(74848),a=i(73017),r=i(96379),l=i(84268),s=i(82156),o=i(5524),d=i(96540),c=i(75202),u=i(65510),m=i(40493);function h(e,t){let i=encodeURIComponent(t);return`/codespaces?codespace%5Bref%5D=${i}&current_branch=${i}&event_target=REPO_PAGE&repo=${e}`}function f(e){return(0,n.jsxs)("span",{children:["An unexpected error occurred. Please"," ",(0,n.jsx)(l.A,{inline:!0,href:e,children:"contact support"})," ","for more information."]})}function p({header:e,message:t}){return(0,n.jsxs)("div",{className:"blankslate",children:[(0,n.jsx)("p",{className:"fgColor-default text-bold mb-1",children:e}),(0,n.jsx)("p",{className:"mt-2 mx-4",children:t})]})}function g({children:e}){return(0,n.jsx)("div",{className:"d-flex flex-justify-center",children:(0,n.jsx)(c.t,{fallback:(0,n.jsx)(p,{header:"Codespaces data failed to load.",message:"Refresh the page and try again."}),children:(0,n.jsx)(d.Suspense,{fallback:(0,n.jsxs)("div",{role:"status",className:m.A.CodespacesSkeletonWrapper,"aria-busy":!0,"aria-label":"Loading Codespaces",children:[(0,n.jsx)("div",{className:m.A.SkeletonLoaderWrapper,children:(0,n.jsx)(s.f,{width:"100%",height:"var(--base-size-32)"})}),(0,n.jsx)(o.l.Divider,{}),(0,n.jsx)("div",{className:m.A.SkeletonLoaderWrapper,children:(0,n.jsx)(s.f,{width:"100%",height:"var(--base-size-64)"})}),(0,n.jsx)(o.l.Divider,{}),(0,n.jsx)("div",{className:m.A.SkeletonLoaderWrapper,children:(0,n.jsx)(s.f,{width:"100%",height:"var(--base-size-32)"})})]}),children:e})})})}function x({codespacesPath:e}){let{data:t}=(0,u.U)({queryKey:["CodespacesTabContent.content",e],queryFn:async()=>{let t=await (0,r.QJ)(e);if(t.status>=400&&t.status<=499)return"";if(!t.ok)throw Error(`HTTP ${t.status}`);return await t.text()}});return(0,n.jsx)(a.vb,{className:"width-full",html:t})}function y(e){let{hasAccessToCodespaces:t,repoPolicyInfo:i,contactPath:a,currentUserIsEnterpriseManaged:r,enterpriseManagedBusinessName:s,newCodespacePath:o,codespacesPath:d,isLoggedIn:c}=e;if(!t){if(!c)return(0,n.jsx)(p,{header:"Sign in required",message:(0,n.jsxs)("span",{children:["Please"," ",(0,n.jsx)(l.A,{inline:!0,href:o,children:"sign in"})," ","to use Codespaces."]})});if(i?.allowed)if(!i?.changesWouldBeSafe)return(0,n.jsx)(p,{header:"Repository access limited",message:(0,n.jsx)("span",{children:"You do not have access to push to this repository and its owner has disabled forking."})});else return(0,n.jsx)(p,{header:"Codespace access limited",message:f(a)});{let e=null;return e=!i?.canBill&&r?(0,n.jsxs)("span",{children:[(0,n.jsx)(l.A,{href:"https://docs.github.com/enterprise-cloud@latest/admin/identity-and-access-management/using-enterprise-managed-users-for-iam/about-enterprise-managed-users",children:"Enterprise-managed users"}),` must have their Codespaces usage paid for by ${s||"their enterprise"}.`]}):i?.hasIpAllowLists?(0,n.jsxs)("span",{children:["Your organization or enterprise enforces"," ",(0,n.jsx)(l.A,{inline:!0,href:"https://docs.github.com/enterprise-cloud@latest/organizations/keeping-your-organization-secure/managing-security-settings-for-your-organization/managing-allowed-ip-addresses-for-your-organization",children:"IP allow lists"})," ","which are unsupported by Codespaces at this time."]}):i?.disabledByBusiness?(0,n.jsx)("span",{children:"Your enterprise has disabled Codespaces at this time. Please contact your enterprise administrator for more information."}):i?.disabledByOrganization?(0,n.jsx)("span",{children:"Your organization has disabled Codespaces on this repository. Please contact your organization administrator for more information."}):f(a),(0,n.jsx)(p,{header:"Codespace access limited",message:e})}}return(0,n.jsx)(x,{codespacesPath:d})}function b(e){return(0,n.jsx)(g,{children:(0,n.jsx)(y,{...e})})}try{p.displayName||(p.displayName="ErrorMessage")}catch{}try{g.displayName||(g.displayName="CodespacesTabWrapper")}catch{}try{x.displayName||(x.displayName="ServerRenderedCodespacesTabContent")}catch{}try{y.displayName||(y.displayName="CodespacesTabContent")}catch{}try{b.displayName||(b.displayName="CodespacesTab")}catch{}},13814:(e,t,i)=>{i.d(t,{J:()=>DiffSelectedLineEvent,L:()=>DiffAddCommentButtonClickedEvent});var n=i(50467);let DiffAddCommentButtonClickedEvent=class DiffAddCommentButtonClickedEvent extends Event{constructor(e,t){super("DiffAddCommentButtonClickedEvent",{bubbles:!0,cancelable:!0,composed:!0}),(0,n._)(this,"endLineNumber",void 0),(0,n._)(this,"endOrientation",void 0),(0,n._)(this,"filePath",void 0),(0,n._)(this,"startOrientation",void 0),(0,n._)(this,"startLineNumber",void 0),this.startLineNumber=e.startLineNumber,this.endLineNumber=e.endLineNumber,this.startOrientation=e.startOrientation,this.endOrientation=e.endOrientation,this.filePath=t}};let DiffSelectedLineEvent=class DiffSelectedLineEvent extends Event{constructor(e,t){super("DiffSelectedLineEvent",{bubbles:!0,cancelable:!0,composed:!0}),(0,n._)(this,"endLineNumber",void 0),(0,n._)(this,"endOrientation",void 0),(0,n._)(this,"filePath",void 0),(0,n._)(this,"startOrientation",void 0),(0,n._)(this,"startLineNumber",void 0),this.startLineNumber=e.startLineNumber,this.endLineNumber=e.endLineNumber,this.startOrientation=e.startOrientation,this.endOrientation=e.endOrientation,this.filePath=t}}},14808:(e,t,i)=>{i.d(t,{LR:()=>o,KA:()=>D,G9:()=>p,XA:()=>N});var n=i(74848),a=i(16522),r=i(5524),l=i(96540);let s=e=>{let t,i,l,s,o,d,c,u,m,h,f,p,g,x,y=(0,a.c)(27);if(y[0]!==e){l=Symbol.for("react.early_return_sentinel");e:{let{ref:a,selected:g,...x}=e;if(x.renderItem){l=x.renderItem({selected:g,...x});break e}let{label:y,id:b,description:v,descriptionVariant:C,onSelect:S,renderDescription:_,className:N,trailingVisual:w,disabled:j}=x;p=w,t=r.l.Item,i=b,s="option",o=()=>{S({label:y,id:b,selected:g,description:v,descriptionVariant:C})},d=g,c=a,u=N,m=j,h=y,f=(v||_)&&(0,n.jsx)(r.l.Description,{variant:C,children:_?_():v})}y[0]=e,y[1]=t,y[2]=i,y[3]=l,y[4]=s,y[5]=o,y[6]=d,y[7]=c,y[8]=u,y[9]=m,y[10]=h,y[11]=f,y[12]=p}else t=y[1],i=y[2],l=y[3],s=y[4],o=y[5],d=y[6],c=y[7],u=y[8],m=y[9],h=y[10],f=y[11],p=y[12];return l!==Symbol.for("react.early_return_sentinel")?l:(y[13]!==p?(g=p?(0,n.jsx)(r.l.TrailingVisual,{children:p}):null,y[13]=p,y[14]=g):g=y[14],y[15]!==t||y[16]!==i||y[17]!==g||y[18]!==s||y[19]!==o||y[20]!==d||y[21]!==c||y[22]!==u||y[23]!==m||y[24]!==h||y[25]!==f?(x=(0,n.jsxs)(t,{role:s,onSelect:o,selected:d,ref:c,className:u,disabled:m,children:[h,f,g]},i),y[15]=t,y[16]=i,y[17]=g,y[18]=s,y[19]=o,y[20]=d,y[21]=c,y[22]=u,y[23]=m,y[24]=h,y[25]=f,y[26]=x):x=y[26],x)};s.displayName="SelectItem";let o=e=>{let t,i,s,o=(0,a.c)(18),{ref:f,selectionVariant:p,items:g,onSelect:x,controlled:y,showGroupHeading:b}=e;o[0]!==g?(t=()=>g.filter(c),o[0]=g,o[1]=t):t=o[1];let[v,C]=(0,l.useState)(t);o[2]!==g?(i=g.find(u),o[2]=g,o[3]=i):i=o[3];let S=i;if(o[4]!==y||o[5]!==S||o[6]!==g||o[7]!==x||o[8]!==f||o[9]!==v||o[10]!==p||o[11]!==b){let e,t=S?g.reduce(m,{}):null,i=g.filter(h),a=t&&Object.entries(t);o[13]!==y||o[14]!==x||o[15]!==v||o[16]!==p?(e=e=>{let{id:t}=e;if(x&&x(e),y)if(v.find(e=>e.id===t)){let e=v.filter(e=>e.id!==t);C(e),y(e)}else{let t="multiple"===p?[...v,e]:[e];C(t),y(t)}},o[13]=y,o[14]=x,o[15]=v,o[16]=p,o[17]=e):e=o[17];let c=e;s=(0,n.jsx)(n.Fragment,{children:t?(0,n.jsxs)(n.Fragment,{children:[a?a.map((e,t)=>{let[i,s]=e;return(0,n.jsxs)(l.Fragment,{children:[(0,n.jsxs)(r.l.Group,{"aria-label":s[0]?.groupTitle||`Group ${i}`,selectionVariant:p,children:[b?(0,n.jsx)(r.l.GroupHeading,{variant:"filled",children:s[0]?.groupTitle||`Group ${i}`}):null,s.map((e,i)=>(0,n.jsx)(d,{selectedItems:v,onSelectToggle:c,controlled:y,ref:0===i&&0===t?f:void 0,...e},e.id))]},i),a.length>1&&t!==a.length-1?(0,n.jsx)(r.l.Divider,{}):null]},i)}):null,i.map(e=>(0,n.jsx)(d,{selectedItems:v,onSelectToggle:c,controlled:y,...e},e.id))]}):(0,n.jsx)(n.Fragment,{children:g.map((e,t)=>(0,n.jsx)(d,{selectedItems:v,onSelectToggle:c,controlled:y,ref:0===t?f:null,...e},e.id))})}),o[4]=y,o[5]=S,o[6]=g,o[7]=x,o[8]=f,o[9]=v,o[10]=p,o[11]=b,o[12]=s}else s=o[12];return s},d=e=>{let t,i,r,l,o,d,c,u,m,h,f,p,g,x=(0,a.c)(36);x[0]!==e?({ref:u,id:r,label:l,description:i,selectedItems:h,onSelectToggle:d,onSelect:o,controlled:t,selected:m,...c}=e,x[0]=e,x[1]=t,x[2]=i,x[3]=r,x[4]=l,x[5]=o,x[6]=d,x[7]=c,x[8]=u,x[9]=m,x[10]=h):(t=x[1],i=x[2],r=x[3],l=x[4],o=x[5],d=x[6],c=x[7],u=x[8],m=x[9],h=x[10]),x[11]!==i||x[12]!==r||x[13]!==l||x[14]!==d||x[15]!==c.descriptionVariant||x[16]!==m?(f=()=>{d({label:l,id:r,selected:m,description:i,descriptionVariant:c.descriptionVariant})},x[11]=i,x[12]=r,x[13]=l,x[14]=d,x[15]=c.descriptionVariant,x[16]=m,x[17]=f):f=x[17];let y=f;x[18]!==t||x[19]!==r||x[20]!==m||x[21]!==h?(p=t?h.some(e=>e.id===r):!!m,x[18]=t,x[19]=r,x[20]=m,x[21]=h,x[22]=p):p=x[22];let b=o||y;return x[23]!==i||x[24]!==r||x[25]!==l||x[26]!==c.className||x[27]!==c.descriptionVariant||x[28]!==c.disabled||x[29]!==c.renderDescription||x[30]!==c.renderItem||x[31]!==c.trailingVisual||x[32]!==u||x[33]!==p||x[34]!==b?(g=(0,n.jsx)(s,{label:l,id:r,description:i,descriptionVariant:c.descriptionVariant,selected:p,onSelect:b,className:c.className,renderItem:c.renderItem,ref:u,trailingVisual:c.trailingVisual,disabled:c.disabled,renderDescription:c.renderDescription}),x[23]=i,x[24]=r,x[25]=l,x[26]=c.className,x[27]=c.descriptionVariant,x[28]=c.disabled,x[29]=c.renderDescription,x[30]=c.renderItem,x[31]=c.trailingVisual,x[32]=u,x[33]=p,x[34]=b,x[35]=g):g=x[35],g};function c(e){return e.selected}function u(e){return void 0!==e.groupId}function m(e,t){return void 0!==t.groupId&&(e[t.groupId]=e[t.groupId]||[],e[t.groupId]&&e[t.groupId].push(t)),e}function h(e){return void 0===e.groupId}o.displayName="SelectBody",d.displayName="SelectBodyItem";var f=i(21373);function p(e){let t,i,r,l,s,o,d,c,u,m=(0,a.c)(23),{footerButtons:h,onSave:p,onCancel:y}=e;m[0]!==h?(t=h?.reduce(x,{save:void 0,cancel:void 0,supplementary:[]}),l="SimpleSelect-module__Footer--BWYvt",i="SimpleSelect-module__FooterContent--CCfD8",r=h?t?.supplementary.map(g):null,m[0]=h,m[1]=t,m[2]=i,m[3]=r,m[4]=l):(t=m[1],i=m[2],r=m[3],l=m[4]),m[5]!==i||m[6]!==r?(s=(0,n.jsx)("div",{className:i,children:r}),m[5]=i,m[6]=r,m[7]=s):s=m[7];let b=t?.cancel,v=t?.cancel?.content||"Cancel";m[8]!==y||m[9]!==b||m[10]!==v?(o=(0,n.jsx)(f.Q,{onClick:y,...b,children:v}),m[8]=y,m[9]=b,m[10]=v,m[11]=o):o=m[11];let C=t?.save,S=t?.save?.content||"Save";return m[12]!==p||m[13]!==C||m[14]!==S?(d=(0,n.jsx)(f.Q,{variant:"primary",onClick:p,...C,children:S}),m[12]=p,m[13]=C,m[14]=S,m[15]=d):d=m[15],m[16]!==d||m[17]!==o?(c=(0,n.jsxs)("div",{className:"SimpleSelect-module__FooterActions--ILN1s",children:[o,d]}),m[16]=d,m[17]=o,m[18]=c):c=m[18],m[19]!==c||m[20]!==l||m[21]!==s?(u=(0,n.jsxs)("div",{className:l,children:[s,c]}),m[19]=c,m[20]=l,m[21]=s,m[22]=u):u=m[22],u}function g(e){let{variant:t,content:i,...a}=e;return(0,n.jsx)(f.Q,{variant:t||"default",...a,children:i},i)}function x(e,t){let{action:i,...n}=t;return"save"===i||"cancel"===i?e[i]=n:e.supplementary.push(n),e}try{p.displayName||(p.displayName="SelectFooter")}catch{}var y=i(38621),b=i(81960),v=i(26108);let C=e=>{let t,i,r,l=(0,a.c)(8),{id:s,title:o,onClose:d}=e,c=void 0===o?"Select an item":o;return l[0]!==s||l[1]!==c?(t=(0,n.jsx)(b.A,{id:s,as:"h1",className:"SimpleSelect-module__Title--dSeJ4",children:c}),l[0]=s,l[1]=c,l[2]=t):t=l[2],l[3]!==d?(i=(0,n.jsx)(v.K,{icon:y.XIcon,"aria-label":"Close",variant:"invisible",onClick:d}),l[3]=d,l[4]=i):i=l[4],l[5]!==t||l[6]!==i?(r=(0,n.jsxs)("div",{className:"SimpleSelect-module__Header--DPfBs",children:[t,i]}),l[5]=t,l[6]=i,l[7]=r):r=l[7],r};try{C.displayName||(C.displayName="SelectHeader")}catch{}var S=i(31604),_=i(57387);function N(e){let t,i,s,d,c,u,m,h,g,x,b,v,S,_,N,I,T=(0,a.c)(76),{variant:A,items:k,label:O,title:M,selectionVariant:P,onSelect:F,renderText:U,onSave:$,onCancel:B,selectable:q,buttonProps:H,outsideClick:G,onEscape:V,focusTarget:K,dialogProps:W,footerButtons:z}=e,Q=void 0===A?"overlay":A,X=void 0===M?"Select an item":M,Y=void 0===G?"save":G,J=void 0===V?"save":V,Z=void 0===K?"first-target":K,[ee,et]=(0,l.useState)(!1),[ei,en]=(0,l.useState)();T[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],T[0]=t):t=T[0];let[ea,er]=(0,l.useState)(t),el=(0,l.useRef)(null),es=(0,l.useId)(),eo=q?ea:k.filter(L),ed=(0,l.useRef)(null);ei||(en(k),er(k.filter(R))),T[1]!==k||T[2]!==B||T[3]!==$||T[4]!==ea||T[5]!==q||T[6]!==ei?(i=(e,t)=>{if("save"===e&&($||q)){let e=q?t||ea:k.filter(E),i=k.map(t=>e.find(e=>e.id===t.id)?{...t,selected:!0}:{...t,selected:!1});en(i),$&&$(i)}else"cancel"===e&&B?B(ei||k):"cancel"===e&&q&&er(ei?.filter(j)||[]);et(!1)},T[1]=k,T[2]=B,T[3]=$,T[4]=ea,T[5]=q,T[6]=ei,T[7]=i):i=T[7];let ec=i;T[8]!==ec?(s=()=>ec("save"),T[8]=ec,T[9]=s):s=T[9];let eu=s;T[10]!==ec?(d=()=>ec("cancel"),T[10]=ec,T[11]=d):d=T[11];let em=d;T[12]!==ec||T[13]!==ea||T[14]!==q||T[15]!==P?(c=e=>{er(e),ea&&q?.(e),"single"===P&&ec("save",e)},T[12]=ec,T[13]=ea,T[14]=q,T[15]=P,T[16]=c):c=T[16];let eh=c;T[17]!==ec||T[18]!==J||T[19]!==Y||T[20]!==ea?(u=e=>{"click-outside"===e||"anchor-click"===e||"close-button"===e?ec(Y):"escape"===e&&ec(J,ea)},T[17]=ec,T[18]=J,T[19]=Y,T[20]=ea,T[21]=u):u=T[21];let ef=u,ep=f.Q,eg="overlay"===Q?y.TriangleDownIcon:null;T[22]!==ee?(m=()=>et(!ee),T[22]=ee,T[23]=m):m=T[23];let ex=U?U():`${O}${!eo.length?"":`: ${eo.map(w).join(", ")}`}`;T[24]!==ep||T[25]!==H||T[26]!==ee||T[27]!==eg||T[28]!==m||T[29]!==ex?(h=(0,n.jsx)(ep,{trailingAction:eg,ref:ed,variant:"default",onClick:m,"aria-haspopup":"dialog","aria-expanded":ee,...H,children:ex}),T[24]=ep,T[25]=H,T[26]=ee,T[27]=eg,T[28]=m,T[29]=ex,T[30]=h):h=T[30],T[31]!==es||T[32]!==em||T[33]!==X||T[34]!==Q?(g="overlay"===Q?(0,n.jsx)(C,{id:es,title:X,onClose:em}):null,T[31]=es,T[32]=em,T[33]=X,T[34]=Q,T[35]=g):g=T[35];let ey=q&&ei?ei:k;T[36]!==$||T[37]!==F||T[38]!==q||T[39]!==P?(x="single"!==P||$||q?F:e=>{F?.(e),et(!1)},T[36]=$,T[37]=F,T[38]=q,T[39]=P,T[40]=x):x=T[40];let eb=q?eh:void 0,ev="first-item"===Z?el:null;return T[41]!==P||T[42]!==ey||T[43]!==x||T[44]!==eb||T[45]!==ev?(b=(0,n.jsx)(o,{selectionVariant:P,items:ey,onSelect:x,controlled:eb,ref:ev}),T[41]=P,T[42]=ey,T[43]=x,T[44]=eb,T[45]=ev,T[46]=b):b=T[46],T[47]!==P||T[48]!==b?(v=(0,n.jsx)("div",{className:"SimpleSelect-module__SelectBodyWrapper--Dre5i",children:(0,n.jsx)(r.l,{role:"listbox",selectionVariant:P,"aria-label":"Selection",children:b})}),T[47]=P,T[48]=b,T[49]=v):v=T[49],T[50]!==z||T[51]!==$||T[52]!==em||T[53]!==eu||T[54]!==Q?(S=$&&"modal"!==Q?(0,n.jsx)(p,{onSave:eu,onCancel:em,footerButtons:z}):null,T[50]=z,T[51]=$,T[52]=em,T[53]=eu,T[54]=Q,T[55]=S):S=T[55],T[56]!==g||T[57]!==v||T[58]!==S||T[59]!==Q?(_=(0,n.jsxs)("div",{"data-container":Q,className:"SimpleSelect-module__Wrapper--cFdti",children:[g,v,S]}),T[56]=g,T[57]=v,T[58]=S,T[59]=Q,T[60]=_):_=T[60],T[61]!==W||T[62]!==Z||T[63]!==z||T[64]!==es||T[65]!==ef||T[66]!==ee||T[67]!==em||T[68]!==eu||T[69]!==_||T[70]!==X||T[71]!==Q?(N=(0,n.jsx)(D,{headingId:es,open:ee,anchorRef:ed,onClose:ef,variant:Q,dialogProps:W,title:X,selectSave:eu,selectCancel:em,footerButtons:z,focusTarget:Z,firstItem:el,children:_}),T[61]=W,T[62]=Z,T[63]=z,T[64]=es,T[65]=ef,T[66]=ee,T[67]=em,T[68]=eu,T[69]=_,T[70]=X,T[71]=Q,T[72]=N):N=T[72],T[73]!==h||T[74]!==N?(I=(0,n.jsxs)(n.Fragment,{children:[h,N]}),T[73]=h,T[74]=N,T[75]=I):I=T[75],I}function w(e){return e.label}function j(e){return e.selected}function E(e){return e.selected}function R(e){return e.selected}function L(e){return e.selected}function D(e){let t,i=(0,a.c)(15),{open:r,anchorRef:l,headingId:s,focusTarget:o,firstItem:d,onClose:c,children:u,variant:m,dialogProps:h,title:f,selectSave:g,selectCancel:x,footerButtons:y,focusZoneSettings:b}=e;return i[0]!==l||i[1]!==u||i[2]!==h||i[3]!==d||i[4]!==o||i[5]!==b||i[6]!==y||i[7]!==s||i[8]!==c||i[9]!==r||i[10]!==x||i[11]!==g||i[12]!==f||i[13]!==m?(t=(0,n.jsx)(n.Fragment,{children:"overlay"===m?(0,n.jsx)(S.T,{open:r,anchorRef:l,renderAnchor:null,overlayProps:{role:"dialog","aria-labelledby":s,maxHeight:"large",maxWidth:"medium"},focusZoneSettings:b||{disabled:!0},focusTrapSettings:{initialFocusRef:"first-item"===o?d:void 0},onClose:c,children:u}):(0,n.jsx)(n.Fragment,{children:r?(0,n.jsx)(_.l,{renderBody:()=>(0,n.jsx)(_.l.Body,{className:"SimpleSelect-module__DialogBody--NoZic",children:u}),width:"large",onClose:c,title:f,renderFooter:()=>(0,n.jsx)(p,{onSave:g,onCancel:x,footerButtons:y}),position:{narrow:"fullscreen",regular:"center"},...h}):null})}),i[0]=l,i[1]=u,i[2]=h,i[3]=d,i[4]=o,i[5]=b,i[6]=y,i[7]=s,i[8]=c,i[9]=r,i[10]=x,i[11]=g,i[12]=f,i[13]=m,i[14]=t):t=i[14],t}try{N.displayName||(N.displayName="SimpleSelect")}catch{}try{D.displayName||(D.displayName="SelectContainer")}catch{}},15928:(e,t,i)=>{i.d(t,{n:()=>u,Z:()=>c});var n=i(74848),a=i(96540),r=i(71323),l=i(97283),s=i(87134),o=i(76507);let d=(0,a.createContext)(null);function c(e){let t=(0,a.use)(d);if(!t)throw Error("Missing PullRequestAnalyticsStoreProvider in the tree");return(0,r.P)(t,e)}let u=({initData:e,children:t})=>{let i=(0,a.useRef)(null),r=(0,o.K)();return i.current||(i.current=m(e)),(0,a.useEffect)(()=>{var e;i.current&&r&&i.current.setState({diffSizeCategory:void 0===(e=r.linesChanged)?"unknown":e<100?"xs":e<500?"s":e<1e3?"m":e<5e3?"l":e<1e4?"xl":"xxl"})},[r]),(0,n.jsx)(d,{value:i.current,children:t})},m=e=>(0,l.y)()((0,s.lt)((t,i)=>({...e,virtualizationEnabled:!0===e.virtualizationEnabled?"true":"false",diffSizeCategory:"unknown",getINPDiffTags:()=>({diffVersion:i().diffVersion,diffSizeCategory:i().diffSizeCategory,virtualizationEnabled:i().virtualizationEnabled})}),{name:"analytics-store"}));try{d.displayName||(d.displayName="PullRequestAnalyticsStoreContext")}catch{}try{u.displayName||(u.displayName="PullRequestAnalyticsStoreProvider")}catch{}},17645:(e,t,i)=>{i.d(t,{Qv:()=>l,TW:()=>o,iG:()=>s,jw:()=>c,lD:()=>r,nw:()=>d,q$:()=>a,tw:()=>n});let n={DIRECT_MERGE:"DIRECT_MERGE",AUTO_MERGE:"AUTO_MERGE",MERGE_QUEUE:"MERGE_QUEUE"},a={MERGE:"MERGE",SQUASH:"SQUASH",REBASE:"REBASE"},r={GROUP:"GROUP",SOLO:"SOLO"},l={Approvals:"approvals",RequestedChanges:"requested changes",PendingReviewRequest:"pending reviews"},s=["PULL_REQUEST_RULES"],o=["PULL_REQUEST_USER_STATE"],d=["PULL_REQUEST_MERGE_CONFLICT_STATE"],c=["PULL_REQUEST_STATE","PULL_REQUEST_MERGE_METHOD","PULL_REQUEST_REPO_STATE","UNKNOWN"]},18373:(e,t,i)=>{i.d(t,{U:()=>b});var n=i(74848),a=i(16522),r=i(96540),l=i(43883),s=i(21373),o=i(57478),d=i(72511),c=i(15837),u=i(86877),m=i(10576),h=i(46251),f=i(33989),p=i(57387),g=i(38621),x=i(55127),y=i.n(x);function b(e){let t,i,f,x,b,C,S,_,N,w,j,E,R,L,D,I,T,A,k,O,M=(0,a.c)(60),{setOpen:P,count:F,dismissalOptions:U,error:$,isPending:B,delegatedAlertDismissalEnabled:q,codeSecurity:H,onSubmit:G}=e,[V,K]=(0,r.useState)(""),[W,z]=(0,r.useState)(""),[Q,X]=(0,r.useState)(!1);M[0]!==q||M[1]!==W?(t=!q||!!W.trim(),M[0]=q,M[1]=W,M[2]=t):t=M[2];let Y=t,J=!!V&&Y;M[3]===Symbol.for("react.memo_cache_sentinel")?(i=e=>{K(e??"")},M[3]=i):i=M[3];let Z=i,ee=H?"alert":"finding";if(M[4]!==F||M[5]!==ee){let e,t,i,n,a,r,l;e=y()(ee,F),t=F>1,i=`Dismiss ${e}`,n=`Select a reason to dismiss ${y()("this",F)} ${e}.`,a=`Request to dismiss ${e}`,r=t?`These ${e} need approval before they can be dismissed. Requests are sent to all approvers.`:`This ${e} needs approval before it can be dismissed. Requests are sent to all approvers.`,l=t?`These ${e} are not valid`:`This ${e} is not valid`,f={title:i,subtitle:n,submitButtonLabel:"Dismiss",delegatedAlertDismissal:{title:a,subtitle:r,submitButtonLabel:"Submit request"},reasons:{falsePositiveDescription:l,usedInTestsDescription:t?`These ${e} are not in production code`:`This ${e} is not in production code`,wontFixDescription:t?`These ${e} are not relevant`:`This ${e} is not relevant`}},M[4]=F,M[5]=ee,M[6]=f}else f=M[6];let{title:et,subtitle:ei,submitButtonLabel:en,delegatedAlertDismissal:ea,reasons:er}=f;M[7]!==er.falsePositiveDescription?(x={value:"FALSE_POSITIVE",label:"False positive",description:er.falsePositiveDescription},M[7]=er.falsePositiveDescription,M[8]=x):x=M[8],M[9]!==er.usedInTestsDescription?(b={value:"USED_IN_TESTS",label:"Used in tests",description:er.usedInTestsDescription},M[9]=er.usedInTestsDescription,M[10]=b):b=M[10],M[11]!==er.wontFixDescription?(C={value:"WONT_FIX",label:"Won't fix",description:er.wontFixDescription},M[11]=er.wontFixDescription,M[12]=C):C=M[12],M[13]!==x||M[14]!==b||M[15]!==C?(S=[x,b,C],M[13]=x,M[14]=b,M[15]=C,M[16]=S):S=M[16];let el=S,es=U?.length?U:el;M[17]!==W||M[18]!==J||M[19]!==G||M[20]!==V?(_=async()=>{J?(X(!1),G({resolution:V,dismissalComment:W})):X(!0)},M[17]=W,M[18]=J,M[19]=G,M[20]=V,M[21]=_):_=M[21];let eo=_;M[22]!==P?(N=()=>P(!1),M[22]=P,M[23]=N):N=M[23];let ed=q?ea.title:et,ec=q?ea.subtitle:ei;return M[24]!==F||M[25]!==ea||M[26]!==q||M[27]!==B||M[28]!==J||M[29]!==eo||M[30]!==P||M[31]!==en?(w=()=>(0,n.jsxs)(p.l.Footer,{children:[(0,n.jsx)(s.Q,{onClick:()=>P(!1),children:"Cancel"}),(0,n.jsxs)(s.Q,{variant:"primary",onClick:eo,disabled:!J||B,leadingVisual:B?g.SyncIcon:null,children:[(0,n.jsx)("span",{children:q?ea.submitButtonLabel:en}),F>1&&(0,n.jsx)(o.A,{scheme:"primary",className:"ml-2",children:(0,l.ai)(F)})]})]}),M[24]=F,M[25]=ea,M[26]=q,M[27]=B,M[28]=J,M[29]=eo,M[30]=P,M[31]=en,M[32]=w):w=M[32],M[33]!==$?(j=$&&(0,n.jsx)(d.A,{variant:"danger",children:$.message}),M[33]=$,M[34]=j):j=M[34],M[35]===Symbol.for("react.memo_cache_sentinel")?(E=(0,n.jsx)(c.A.Label,{visuallyHidden:!0,children:"Dismissal reason"}),M[35]=E):E=M[35],M[36]!==es?(R=es.map(v),M[36]=es,M[37]=R):R=M[37],M[38]!==B||M[39]!==R?(L=(0,n.jsxs)(c.A,{name:"resolution",onChange:Z,disabled:B,children:[E,R]}),M[38]=B,M[39]=R,M[40]=L):L=M[40],M[41]!==q?(D=(0,n.jsx)(u.A.Label,{required:q,children:"Comment"}),M[41]=q,M[42]=D):D=M[42],M[43]===Symbol.for("react.memo_cache_sentinel")?(I=(0,n.jsx)(m.Ay,{placeholder:"Add a comment",rows:5,maxLength:280,name:"dismissal_comment",onChange:e=>z(e.target.value),className:"BaseSharedDismissalDialog-module__dismissalCommentTextarea--xxBPO"}),M[43]=I):I=M[43],M[44]!==Q?(T=Q&&(0,n.jsx)(u.A.Validation,{variant:"error",children:"This field is required"}),M[44]=Q,M[45]=T):T=M[45],M[46]!==B||M[47]!==D||M[48]!==T?(A=(0,n.jsx)("div",{children:(0,n.jsxs)(u.A,{disabled:B,children:[D,I,T]})}),M[46]=B,M[47]=D,M[48]=T,M[49]=A):A=M[49],M[50]!==j||M[51]!==L||M[52]!==A?(k=(0,n.jsxs)(h.B,{gap:"normal",children:[j,L,A]}),M[50]=j,M[51]=L,M[52]=A,M[53]=k):k=M[53],M[54]!==ed||M[55]!==ec||M[56]!==w||M[57]!==k||M[58]!==N?(O=(0,n.jsx)(p.l,{width:"large",height:"auto",onClose:N,title:ed,subtitle:ec,renderFooter:w,children:k}),M[54]=ed,M[55]=ec,M[56]=w,M[57]=k,M[58]=N,M[59]=O):O=M[59],O}function v(e){return(0,n.jsxs)(u.A,{children:[(0,n.jsx)(f.A,{value:e.value}),(0,n.jsx)(u.A.Label,{children:e.label}),(0,n.jsx)(u.A.Caption,{children:e.description})]},e.value)}try{b.displayName||(b.displayName="BaseSharedDismissalDialog")}catch{}},20582:(e,t,i)=>{i.d(t,{l:()=>l});var n=i(16522),a=i(94747),r=i(96379);function l(e){let t,i,l=(0,n.c)(8),{createAgentSessionPath:s,owner:o,repo:d,onSuccess:c,onError:u}=e;return l[0]!==s||l[1]!==o||l[2]!==d?(t=async e=>{let t=s||(o&&d?`/${o}/${d}/agent-sessions`:null);if(!t)throw Error("Either createAgentSessionPath or owner/repo must be provided");let i=new FormData;i.append("problem_statement",e.problemStatement),i.append("base_ref",e.baseRef),i.append("event_type",e.eventType),i.append("event_content",e.eventContent);let n=await (0,r.DI)(t,{method:"POST",body:i});if(n.redirected)return{success:!0,redirectUrl:n.url};if(!n.ok)throw Error(`Failed to create agent session: ${n.status}`);return{success:!0}},l[0]=s,l[1]=o,l[2]=d,l[3]=t):t=l[3],l[4]!==u||l[5]!==c||l[6]!==t?(i={mutationFn:t,onSuccess:c,onError:u},l[4]=u,l[5]=c,l[6]=t,l[7]=i):i=l[7],(0,a.n)(i)}},21968:(e,t,i)=>{i.d(t,{O:()=>A});var n=i(74848),a=i(16522),r=i(96540),l=i(98755),s=i(59672),o=i(26052),d=i(69726),c=i(84268),u=i(56149),m=i(21373),h=i(62935),f=i(72579),p=i(29e3),g=i(66990),x=i(79634),y=i(79431),b=i(11196),v=i(97665),C=i(33578),S=i(90891),_=i(20622),N=i(53885),w=i(96379),j=i(94747);async function E(e){let t=await e.json();if(t.error)throw Error(t.error);let i=await (await (0,S.Ee)(t.orchestration.url,{headers:{accept:"application/json"}})).json();if(i.orchestration.error_message)throw Error(i.orchestration.error_message)}let R="PullRequestHeaderSummary-module__truncateBranch--bdsQu";var L=i(34261),D=i(95807),I=i(99223),T=i(37212);function A({author:e,baseBranch:t,baseRepositoryDefaultBranch:i="",baseRepositoryName:f="",baseRepositoryOwnerLogin:b="",canChangeBase:S=!1,commitsCount:R,headBranch:A,headRepositoryOwnerLogin:O="",headRepositoryName:M="",isInAdvisoryRepo:P,isEditing:F=!1,mergedBy:U,mergedByName:$,mergedTime:B,pullRequestId:q,pullRequestNumber:H,repositoryId:G,setIsEditing:V,state:K}){var W,z,Q;let X,Y,J,Z,ee=(0,v.jE)(),{refListCacheKey:et}=(0,x.X)(),[ei,en]=(0,r.useState)(!1),[ea,er]=(0,r.useState)(!1),[el,es]=(0,r.useState)(""),[eo,ed]=(0,r.useState)(""),ec=(0,L.f)(),eu=(0,T.NP)(),{mutate:em}=(J=(0,a.c)(2),Z=(0,N.e)(_.uT.changeBase),J[0]!==Z?(Y={mutationFn:e=>{let{newBaseBranch:t}=e,i=btoa(t);return(0,w.Sr)(Z,{method:"PATCH",body:{new_base_binary:i}})},onSuccess:E},J[0]=Z,J[1]=Y):Y=J[1],(0,j.n)(Y)),eh=e=>{er(!1),es(e)},ef=ea?()=>(0,n.jsx)(d.A,{size:"small"}):null,ep=O&&O!==b?`${b}:${t}`:t,eg=function(e,t,i,n,a){if(!t)return"unknown repository";let r=!!t&&t!==e,l=a&&!!i;switch(!0){case r&&l:return`${t}/${i}:${n}`;case r:return`${t}:${n}`;case l:return`${i}:${n}`;default:return n}}(b,O,M,A,P),ex=K===C.Q.Merged?U?{login:U,displayName:$}:null:e,ey=(W=K,z=R,Q=ex?.login,X=`${z} ${z>1?"commits":"commit"}`,W!==C.Q.Merged?`wants to merge ${X} into`:Q?`merged ${X} into`:`${X} merged into`);return(0,n.jsxs)("span",{className:"fgColor-muted d-flex flex-items-center overflow-hidden PullRequestHeaderSummary-module__summaryContainer--iNR1T",children:[ex?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.A,{inline:!0,className:"fgColor-muted text-bold","data-hovercard-url":(0,s.dCN)({owner:ex.login}),href:`/${ex.login}`,children:(0,n.jsx)(o.v,{login:ex.login,profileName:ex.displayName,isAgent:!1})})," "]}):null,ey,S&&F?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.PI,{cacheKey:et,canCreate:!1,closeOnSelect:!0,currentCommitish:t,defaultBranch:i,hideShowAll:!0,owner:b,repo:f,types:["branch"],onSelectItem:e=>{en(!0),ed(e)}}),(0,n.jsx)(u.ZL,{children:(0,n.jsxs)(p.A,{"aria-labelledby":"confirm-change-base-branch",isOpen:ei,onDismiss:()=>{en(!1),ed(""),es("")},children:[(0,n.jsx)(p.A.Header,{id:"confirm-change-base-branch",children:"Are you sure you want to change the base?"}),(0,n.jsxs)("div",{className:"p-3",children:[(0,n.jsx)("span",{children:"Some commits from the old base branch may be removed from the timeline, and old review comments may become outdated."}),el&&(0,n.jsx)(y.v,{className:"mt-2",variant:"critical",children:el}),(0,n.jsx)("span",{className:"sr-only","aria-live":"polite",children:ea?"Base branch update in progress.":""}),(0,n.jsx)(m.Q,{alignContent:"center","aria-disabled":ea?"true":void 0,block:!0,className:"mt-3",disabled:ea,leadingVisual:ef,onClick:()=>{er(!0),em({newBaseBranch:eo},{onError:e=>eh(e.message),onSuccess:async()=>{try{await Promise.all([ee.refetchQueries({queryKey:ec},{throwOnError:!0}),ee.refetchQueries({queryKey:eu},{throwOnError:!0})]),er(!1),V?.(!1),en(!1)}catch{eh("Unable to refetch commits. Please refresh the page.")}}})},variant:"primary",children:ea?null:"Change base"})]})]})})]}):(0,n.jsx)(k,{branch:t,branchText:ep,repositoryName:f,repositoryOwner:b}),(0,n.jsx)("span",{children:"from "}),(0,n.jsxs)("div",{className:"d-flex flex-items-center overflow-hidden",children:[(0,n.jsx)(k,{branch:A,branchText:eg,repositoryName:M,repositoryOwner:O}),(0,n.jsx)(l.T,{ariaLabel:"Copy head branch name to clipboard",size:"small",textToCopy:O?eg:A})]}),K===C.Q.Merged&&(0,n.jsx)(h.A,{datetime:B}),K===C.Q.Open&&!(0,I.k)()&&(0,n.jsx)(D.i,{processingIndicatorUrl:(0,s.CZ9)({owner:b,repo:f,number:H}),repositoryId:G,pullRequestId:q})]})}function k(e){let t=(0,a.c)(12),{branchText:i,repositoryOwner:r,repositoryName:l,branch:o}=e;if(l&&r){let e,a,d;t[0]!==o||t[1]!==l||t[2]!==r?(e=(0,s.WJ9)({owner:r,repo:l,branch:o}),t[0]=o,t[1]=l,t[2]=r,t[3]=e):e=t[3];let c=e,u=`${r}/${l}:${o}`;return t[4]!==i||t[5]!==c?(a=(0,n.jsx)(f.A,{href:c,className:R,children:i}),t[4]=i,t[5]=c,t[6]=a):a=t[6],t[7]!==u||t[8]!==a?(d=(0,n.jsx)(b.m,{text:u,children:a}),t[7]=u,t[8]=a,t[9]=d):d=t[9],d}{let e;return t[10]!==i?(e=(0,n.jsx)(f.A,{as:"span",className:R,title:"This repository has been deleted",children:i}),t[10]=i,t[11]=e):e=t[11],e}}try{A.displayName||(A.displayName="PullRequestHeaderSummary")}catch{}try{k.displayName||(k.displayName="PullRequestBranchName")}catch{}},22533:(e,t,i)=>{i.d(t,{oO:()=>aZ,Ao:()=>aJ,Yf:()=>j.Yf});var n=i(74848),a=i(16522),r=i(90047),l=i(96540),s=i(36729),o=i(77430),d=i(38621),c=i(81960),u=i(26108),m=i(53627);function h(e,t="r"){(0,m.Zu)(`#${t}${e}`)}var f=i(91835),p=i(56038),g=i(83494),x=i(34164),y=i(50625),b=i(93642),v=i(70109),C=i(93211),S=i(71323),_=i(97283),N=i(87134),w=i(13083),j=i(3038);function E({selectedLineRange:e,leftLines:t,rightLines:i}){let n=!!i,{startOrientation:a,endOrientation:r}=e,l=c(a).findIndex(t=>(0,j.a2)(t,e.startLineNumber,e.startOrientation)),s=c(r).findIndex(t=>(0,j.a2)(t,e.endLineNumber,e.endOrientation)),o=l>=0&&s>=0;function d(e){if(!o||(0,j.Po)(e))return!1;let t=c((0,w.XU)(e.type)).indexOf(e);return t>=l&&t<=s}function c(e){var a;return n&&"left"!==("string"==typeof(a=e)?a:(0,w.XU)(a.type))?i:t}let u=c("left").filter(e=>d(e));return{selectedRightLines:c("right").filter(e=>d(e)),selectedLeftLines:u}}var R=i(61583),L=i(82075);let D=/^b:\d+-l:(?:\d+|null)-r:(?:\d+|null)$/;function I(e){return null!=e&&D.test(e)}function T({diffAnchor:e,diffLines:t,isSplitView:i,lineRange:n}){let a,r=new Set([]);if(0===t.length)return{selectedLineKeys:r};if(!n)return{selectedLineKeys:new Set([])};let{startLineNumber:l,startOrientation:s,endLineNumber:o,endOrientation:d}=n,c=t;if(i){let e=(0,j.Mk)(t);c=e.leftLines,a=e.rightLines}let u={diffAnchor:e,endLineNumber:o??l,endOrientation:d??s,startLineNumber:l,startOrientation:s},m=E({selectedLineRange:u,leftLines:c,rightLines:a});for(let e=0;e<m.selectedLeftLines.length;e++){let t=m.selectedLeftLines[e];t&&!(0,j.Po)(t)&&t.key&&r.add(t.key)}for(let e=0;e<m.selectedRightLines.length;e++){let t=m.selectedRightLines[e];t&&!(0,j.Po)(t)&&t.key&&r.add(t.key)}return{selectedLineKeys:r,startOrientation:s,selectedLineRange:u}}function A(e){let t;for(t of e);return t}function k(e){return e.values().next().value}let{getItem:O}=(0,L.D)("localStorage");var M=i(13814);let P=(0,l.createContext)(null);function F(e){let t=(0,l.use)(P);if(!t)throw Error("Missing DiffStoreProvider in the tree");return(0,S.P)(t,e)}let U=({children:e,...t})=>{let i=(0,l.useRef)(null),a=(0,l.useRef)(t.diffLines),r=(0,l.useRef)(t.isSplitView),s=(0,l.useRef)(t.hiddenFeatures);return i.current||(i.current=$({...t})),(0,l.useEffect)(()=>{i.current&&a.current.length!==t.diffLines.length&&(i.current.getState().diffLinesSliceUpdates.updateDiffLinesHash(t.diffLines),i.current.setState({storedCommentsMap:t.storedCommentsMap}),a.current=t.diffLines)},[t,t.diffLines]),(0,l.useEffect)(()=>{i.current&&r.current!==t.isSplitView&&(i.current.getState().diffLinesSliceUpdates.updateDiffView(t.isSplitView),r.current=t.isSplitView)},[t,t.isSplitView]),(0,l.useEffect)(()=>{i.current&&!function(e,t){if(e.size!==t.size)return!1;for(let i of e)if(!t.has(i))return!1;return!0}(s.current,t.hiddenFeatures)&&(i.current.setState({hiddenFeatures:t.hiddenFeatures}),s.current=t.hiddenFeatures)},[t,t.hiddenFeatures]),(0,n.jsx)(P,{value:i.current,children:e})},$=e=>(0,_.y)()((0,N.lt)((...t)=>({...(e=>({dialogMode:{activeGridCellId:null},dialogModeActions:{enableDialogMode:t=>e(()=>({dialogMode:{activeGridCellId:t}}),void 0,"dialogMode#enabled"),disableDialogMode:()=>e(()=>({dialogMode:{activeGridCellId:null}}),void 0,"dialogMode#disabled")}}))(...t),...(({diffAnchor:e,path:t,diffLines:i,fileLineCount:n,isSplitView:a})=>(r,l)=>{let s=i.reduce((e,t)=>(t.key&&(e[t.key]=t),e),{}),{selectedLineKeys:o,selectedLineRange:d,startOrientation:c}=T({diffAnchor:e,diffLines:i,isSplitView:a,lineRange:function(e){let t=(0,R.EW)(p.fV.hash);if(!t||t[1]!==e)return;let i=t[2]?"L"===t[2]?"left":"right":void 0,n=t[3]?parseInt(t[3]):void 0,a=t[4]?"L"===t[4]?"left":"right":void 0,r=t[5]?parseInt(t[5]):void 0;if(i&&n)return{diffAnchor:e,endOrientation:a??i,endLineNumber:r??n,startOrientation:i,startLineNumber:n}}(e)}),u=k(o),m=A(o),h=i.reduce((e,t)=>{let i=t.key;return i&&o.has(i)&&(e[i]={isSelected:!0,isFirstSelected:u===i,isLastSelected:m===i}),e},{}),f=null;if(u){let e=s[u];if(e&&e.key&&c){let t="left"===c?e.left:e.right;t&&(f={lineNumber:t,orientation:c,shouldStartConversation:!1,lineKey:e.key})}}return{diffLines:{diffAnchor:e,_diffLines:i,_diffLinesHash:s,selectedLinesInfo:h,fileLineCount:n,firstLineSelectionOnDrag:f,_firstSelectedLineInfo:f?{lineKey:f.lineKey,lineNumber:f.lineNumber,orientation:f.orientation}:null,allSelectedLinesAreRetargetable:()=>{let e=!1;for(let t of l().diffLines.selectedLineKeys){let i=l().diffLines._diffLinesHash[t];if(i&&!(0,j.xB)(i)){e=!0;break}}return!e},getDiffLinesInfo:()=>l().diffLines._diffLines,getSplitDiffLinesFromLineRange:e=>{let t=(0,j.Mk)(l().diffLines._diffLines);return E({selectedLineRange:e,leftLines:t.leftLines,rightLines:t.rightLines})},getSelectedDiffLines:()=>{let e=[];for(let t of l().diffLines.selectedLineKeys){let i=l().diffLines._diffLinesHash[t];i&&e.push(i)}return e},getfirstLineSelectionOnDrag:()=>l().diffLines.firstLineSelectionOnDrag,getSelectedLineRange:()=>l().diffLines.selectedLineRange,hasSelectedLines:()=>l().diffLines.selectedLineKeys.size>0,isSplitView:a,selectedLineKeys:o,selectedLineRange:d},diffLinesSliceUpdates:{updateDiffLinesHash:e=>{let t=e.reduce((e,t)=>(t.key&&(e[t.key]=t),e),{});r(i=>({diffLines:{...i.diffLines,_diffLines:e,_diffLinesHash:t}}),void 0,"updateDiffLines")},updateDiffView:e=>r(t=>({diffLines:{...t.diffLines,isSplitView:e}}),void 0,"update diff view settings")},diffLinesActions:{clearFirstLineSelectionOnDrag:()=>r(e=>({diffLines:{...e.diffLines,firstLineSelectionOnDrag:null}}),void 0,"clearFirstLineSelectionOnDrag"),addLineToSelection:({lineKey:i,orientation:n},a)=>{let s;if(!i)return;let o=l().diffLines._diffLinesHash[i];if(!o)return;let d=l().diffLines.firstLineSelectionOnDrag,c=l().diffLines._firstSelectedLineInfo,u=l().diffLines.selectedLineRange;if(d&&i===d.lineKey||!u){let e="right"===n?o.right:o.left;if(!e)return;l().diffLinesActions.selectLine({lineKey:i,firstLineSelectionOnDrag:{lineNumber:e,orientation:n,lineKey:i,shouldStartConversation:!1}},a);return}if(!c)return;s=!function({current:e,currentOrientation:t,previous:i,previousOrientation:n}){return!!i&&("left"===n&&"left"===t&&!!e.left&&!!i.left&&i.left>e.left||"right"===n&&"right"===t&&!!e.right&&!!i.right&&i.right>e.right||"right"===n&&"left"===t&&!!e.right&&!!i.right&&i.right>e.right||"left"===n&&"right"===t&&!!e.left&&!!i.left&&i.left>e.left||!1)}({current:o,currentOrientation:n,previous:l().diffLines._diffLinesHash[c.lineKey],previousOrientation:c.orientation})?{...u,startLineNumber:c.lineNumber,startOrientation:c.orientation,endLineNumber:("left"===n?o?.left:o?.right)??-1,endOrientation:n}:{...u,startLineNumber:("left"===n?o?.left:o?.right)??-1,startOrientation:n,endLineNumber:c.lineNumber,endOrientation:c.orientation};let{selectedLineKeys:m,selectedLineRange:h}=T({diffAnchor:e,diffLines:l().diffLines._diffLines,isSplitView:l().diffLines.isSplitView,lineRange:s}),f=k(m),g=A(m),x=Array.from(m).reduce((e,t)=>(e[t]={isFirstSelected:t===f,isLastSelected:t===g,isSelected:!0},e),{});if(!h?.endLineNumber||!h?.startLineNumber)return;let y=new M.J(h,t);p.cg?.dispatchEvent(y),r(e=>({diffLines:{...e.diffLines,selectedLineKeys:m,selectedLinesInfo:x,selectedLineRange:h}}),void 0,"addLineToSelection"),a(h)},clearSelectedLines:()=>{r(e=>({diffLines:{...e.diffLines,firstLineSelectionOnDrag:null,selectedLineKeys:new Set([]),selectedLinesInfo:{},selectedLineRange:void 0,_firstSelectedLineInfo:null}}),void 0,"clearSelectedLines")},selectLine:({lineKey:e,firstLineSelectionOnDrag:i},n)=>{if(!e)return;let a=l().diffLines._diffLinesHash[e];if(!a)return;let s={[e]:{isFirstSelected:!0,isLastSelected:!0,isSelected:!0}},o="left"===i.orientation?a.left:a.right;if(!o)return;let d={diffAnchor:l().diffLines.diffAnchor,endLineNumber:o,endOrientation:i.orientation,startLineNumber:o,startOrientation:i.orientation},c=new M.J(d,t);p.cg?.dispatchEvent(c),r(t=>({diffLines:{...t.diffLines,firstLineSelectionOnDrag:{...i,lineKey:e},selectedLineKeys:new Set([e]),selectedLinesInfo:s,selectedLineRange:d,_firstSelectedLineInfo:{lineKey:e,lineNumber:i.lineNumber,orientation:i.orientation}}}),void 0,"selectLine"),n(d)},selectMultipleLines:({startLineKey:i,endLineKey:n,startOrientation:a,endOrientation:s,firstLineSelectionOnDrag:o},d)=>{if(!i||!n||!o)return;let c=l().diffLines._diffLinesHash[i],u=l().diffLines._diffLinesHash[n];if(!c||!u||!c.left&&!c.right||!u.left&&!u.right)return;let m={diffAnchor:e,endLineNumber:("right"===s?u.right:u.left)??-1,endOrientation:s,startLineNumber:("right"===a?c.right:c.left)??-1,startOrientation:a},{selectedLineKeys:h,selectedLineRange:f}=T({diffAnchor:e,diffLines:l().diffLines._diffLines,isSplitView:l().diffLines.isSplitView,lineRange:m}),g=k(h),x=A(h),y=Array.from(h).reduce((e,t)=>(e[t]={isFirstSelected:t===g,isLastSelected:t===x,isSelected:!0},e),{});if(!f?.endLineNumber||!f?.startLineNumber)return;let b=new M.J(f,t);p.cg?.dispatchEvent(b),r(e=>({diffLines:{...e.diffLines,selectedLinesInfo:y,selectedLineKeys:h,firstLineSelectionOnDrag:o,selectedLineRange:f,_firstSelectedLineInfo:{lineNumber:o.lineNumber,orientation:o.orientation,lineKey:o.lineKey}}}),void 0,"selectMultipleLines"),d(f)}}}})(e)(...t),...(({hiddenFeatures:e})=>()=>({hiddenFeatures:e}))(e)(...t),...(({addInjectedContextLines:e})=>()=>({injectedContextLinesActions:{addInjectedContextLines:e}}))(e)(...t),...(({startNewConversationForLineOrFileMap:e})=>(t,i)=>({startNewConversationForLineOrFileMap:e,getMoveNewCommentDataForLine:e=>i().startNewConversationForLineOrFileMap[e],addStartNewCommentOnLine:(t,i,n)=>{e[t]={diffLineKey:n,startNewComment:i}}}))(e)(...t),...(({newTreeEntry:e,oldTreeEntry:t})=>()=>({treeEntries:{newTreeEntry:e,oldTreeEntry:t}}))(e)(...t),...(({storedCommentsMap:e})=>(t,i)=>({storedCommentsMap:e,getStoredCommentDataForLine:e=>i().storedCommentsMap[e],updateStoredCommentOnLine:(e,n)=>{!n&&i().storedCommentsMap[e]?t(t=>({storedCommentsMap:{...t.storedCommentsMap,[e]:!1}}),void 0,"updateDiffLines"):n&&!i().storedCommentsMap[e]&&(i().storedCommentsMap[e]=!0)}}))(e)(...t),...(e=>({actionBarVisibility:{activeActionBarCellId:null,focusedActionBarCellId:null},showActionBar:t=>e(e=>({actionBarVisibility:{activeActionBarCellId:t,focusedActionBarCellId:e.actionBarVisibility.focusedActionBarCellId}}),void 0,`actionBarVisibility#show:${t}`),hideActionBar:t=>e(e=>e.actionBarVisibility.activeActionBarCellId===t?{actionBarVisibility:{activeActionBarCellId:null,focusedActionBarCellId:e.actionBarVisibility.focusedActionBarCellId}}:e,void 0,`actionBarVisibility#hide:${t}`),hideAllActionBars:()=>e(()=>({actionBarVisibility:{activeActionBarCellId:null,focusedActionBarCellId:null}}),void 0,"actionBarVisibility#hideAll"),setFocusedActionBar:t=>e(e=>({actionBarVisibility:{activeActionBarCellId:e.actionBarVisibility.activeActionBarCellId,focusedActionBarCellId:t}}),void 0,`actionBarVisibility#setFocused:${t}`),clearFocusedActionBar:()=>e(e=>({actionBarVisibility:{activeActionBarCellId:e.actionBarVisibility.activeActionBarCellId,focusedActionBarCellId:null}}),void 0,"actionBarVisibility#clearFocused")}))(...t)}),{name:`diff-store-${e.diffAnchor}`}));try{P.displayName||(P.displayName="DiffStoreContext")}catch{}try{U.displayName||(U.displayName="DiffStoreProvider")}catch{}let B=e=>{let t,i=(0,a.c)(2);return i[0]!==e?(t=t=>!!e&&t.dialogMode.activeGridCellId===e,i[0]=e,i[1]=t):t=i[1],F(t)},q={isSelected:!1,isFirstSelected:!1,isLastSelected:!1},H=e=>{let t,i=(0,a.c)(2);return i[0]!==e?(t=t=>e&&t.diffLines.selectedLinesInfo[e]||q,i[0]=e,i[1]=t):t=i[1],F(t)},G=e=>{let t,i=(0,a.c)(2);return i[0]!==e?(t=t=>t.storedCommentsMap[e],i[0]=e,i[1]=t):t=i[1],F(t)},V=e=>{let t,i=(0,a.c)(2);return i[0]!==e?(t=t=>!!e&&(t.actionBarVisibility.focusedActionBarCellId===e||t.actionBarVisibility.activeActionBarCellId===e),i[0]=e,i[1]=t):t=i[1],F(t)};function K(e){return e.diffLines.getSplitDiffLinesFromLineRange}function W(e){return e.diffLines.getSelectedDiffLines}function z(e){return e.diffLines.getDiffLinesInfo}function Q(e){return e.diffLines.getfirstLineSelectionOnDrag}function X(e){return e.diffLines.getSelectedLineRange}function Y(e){return e.diffLines.hasSelectedLines}function J(e){return e.hiddenFeatures}function Z(e){return e.dialogModeActions}function ee(e){return e.diffLines.diffAnchor}function et(e){return e.diffLines.fileLineCount}function ei(e){return e.diffLinesActions}function en(e){return e.injectedContextLinesActions}function ea(e){return e.treeEntries}function er(e){return e.getMoveNewCommentDataForLine}function el(e){return e.addStartNewCommentOnLine}function es(e){return e.updateStoredCommentOnLine}function eo(e){return e.diffLines.allSelectedLinesAreRetargetable}function ed(e){return e.hideActionBar}function ec(e){return e.showActionBar}function eu(e){return e.setFocusedActionBar}function em(e){return e.clearFocusedActionBar}var eh=i(4559);function ef({diffAnchor:e,endLineNumber:t,endOrientation:i,startLineNumber:n,startOrientation:a}){if(n&&t){var r;(0,R.i8)({diffAnchor:e,endLineNumber:t,endOrientation:i,startLineNumber:n,startOrientation:a}),(r={diffAnchor:e,endLineNumber:t,endOrientation:i,startLineNumber:n,startOrientation:a}).startLineNumber===r.endLineNumber&&r.startOrientation===r.endOrientation?(0,eh.i)(`${"left"===r.startOrientation?"L":"R"}${r.startLineNumber} selected.`):(0,eh.i)(`${"left"===r.startOrientation?"L":"R"}${r.startLineNumber} to ${"left"===r.endOrientation?"L":"R"}${r.endLineNumber} selected.`)}}var ep=i(3252),eg=i(71317);let ex="comment",ey="review";function eb(e){let t,i,r,s,o,d,c,u,m,h,S,_,N,w,E,R,L,D,I,T,A=(0,a.c)(89),{batchingEnabled:k,condensed:O,fileLevelComment:M,filePath:P,focusOnMount:U,isReplying:$,lineNumber:B,onAddComment:q,onCancelComment:H,onPersistedCommentExists:G,quotedText:V,side:K,startLineNumber:W,threadId:z,suggestedChangesConfig:Q,commentLineChangeConfig:X}=e,Y=void 0===V?"":V,[J,Z]=(0,l.useState)(Y),[ee,et]=(0,l.useState)(null),en=(0,l.useRef)(Y),[ea,er]=(0,l.useState)(),el=(0,l.useRef)(null),eo=(0,l.useRef)(null),ed=(0,C.it)(),ec=F(es),eu=(0,l.useRef)(void 0),{selectMultipleLines:em,clearSelectedLines:eh}=F(ei);A[0]===Symbol.for("react.memo_cache_sentinel")?(t=e=>{(0,eg.k)(e??"",100),er(e)},A[0]=t):t=A[0];let eb=t,ev=null!==ee,eC=(0,C.Kp)(),{persistCommentToStorage:eS,removePersistedCommentFromStorage:e_,persistCommentOnGivenLineToStorage:eN}=(0,y.L4)({diffSide:K,filePath:P,line:B,subjectId:eC,threadId:z,handlePersistedCommentExists:e=>{let{text:t,shouldFocus:i,startLine:n,startSide:a,startLineKey:r,endLineKey:l}=e;if(t){if(Z(t),i&&el.current&&(el.current.focus(),el.current.moveCursorToEnd(),ew({text:t,startLine:n,startSide:a,startLineKey:r,endLineKey:l}),n)){let e="LEFT"===K?"left":"right";em({endLineKey:l,endOrientation:e,startLineKey:r,startOrientation:e,firstLineSelectionOnDrag:{lineKey:r??"b:0-l:0-r:0",lineNumber:B??0,orientation:e,shouldStartConversation:!1}},ef)}G?.()}},fileLevelComment:!!M}),ew=eS;if(A[1]!==Y?(i=()=>{Y!==en.current&&(en.current=Y,Z(Y))},r=[Y],A[1]=Y,A[2]=i,A[3]=r):(i=A[2],r=A[3]),(0,l.useEffect)(i,r),A[4]!==eh||A[5]!==X||A[6]!==J||A[7]!==P||A[8]!==B||A[9]!==H||A[10]!==eN||A[11]!==e_||A[12]!==em||A[13]!==K?(s=()=>{if(X){if(null!==(0,ep.T)(J))return void X.setErrorMessage("Changing the line number of a comment with a suggested change is not supported.");if(X.closeLineMovingDialog(),eN({text:J,givenLineDiffSide:X.diffSide,givenFilePath:P,givenLine:X.endLineNumber,shouldBeFileLevelComment:X.isFileLevelComment,startLine:X.startLineNumber,startLineKey:X.startDiffLineKey,endLineKey:X.endDiffLineKey}),e_(),B!==X.endLineNumber||X.isFileLevelComment)X.startConversationOnNewLine(),H?.(!1);else if(X.endDiffLineKey&&X.startDiffLineKey&&eu.current!==X){eu.current=X;let e="LEFT"===K?"left":"right";em({endLineKey:X.endDiffLineKey,endOrientation:e,startLineKey:X.startDiffLineKey,startOrientation:e,firstLineSelectionOnDrag:{lineKey:X.startDiffLineKey??"b:0-l:0-r:0",lineNumber:B??0,orientation:e,shouldStartConversation:!1}},ef)}else X.startDiffLineKey||eh()}},o=[eh,X,J,P,B,H,eN,e_,em,K],A[4]=eh,A[5]=X,A[6]=J,A[7]=P,A[8]=B,A[9]=H,A[10]=eN,A[11]=e_,A[12]=em,A[13]=K,A[14]=s,A[15]=o):(s=A[14],o=A[15]),(0,l.useEffect)(s,o),A[16]!==U?(c=()=>{if(U){let e=setTimeout(()=>{if(p.XC&&p.cg){if(eo.current){let e=eo.current,t=e.getBoundingClientRect(),i=p.XC?.documentElement.clientHeight||0;if(!(t.top>=0&&t.bottom<=(p.cg?.innerHeight||i))){let n=t.top,a=p.XC?.documentElement.getBoundingClientRect().top||0,r=.6666666666666666*e.clientHeight;p.cg?.scrollTo({top:n-a-.6666666666666666*i+r,behavior:"smooth"})}}el.current&&(el.current.focus(),el.current.moveCursorToEnd())}},100);return()=>{window.clearTimeout(e)}}},d=[U],A[16]=U,A[17]=d,A[18]=c):(d=A[17],c=A[18]),(0,l.useEffect)(c,d),A[19]!==J||A[20]!==$||A[21]!==ev||A[22]!==B||A[23]!==q||A[24]!==H||A[25]!==e_||A[26]!==K||A[27]!==Q?.sourceContentFromDiffLines||A[28]!==ec){let e,t=e=>{let{submitBatch:t,action:i}=e,n="Failed to save comment";if(ev)return;if(!J.trim())return void eb(`${n}: Body can't be blank`);et(i),er(void 0),eb(void 0);let a=(0,b.u)(J,Q?.sourceContentFromDiffLines??"");if(!a.isValid){eb(a.errorMessage),er(a.errorMessage),et(null);return}void 0===B||$||ec((0,j.oH)(B,K??"RIGHT"),!1),q?.({commentText:J,onCompleted(){et(null),u()},onError(e){et(null),void 0===B||$||ec((0,j.oH)(B,K??"RIGHT"),!0),e.message&&(n=`${n}: ${e.message}`),eb(n)},submitBatch:t})};m=()=>{t({submitBatch:!1,action:ey})},h=()=>{t({submitBatch:!0,action:ex})},A[32]!==$||A[33]!==B||A[34]!==H||A[35]!==e_||A[36]!==K||A[37]!==ec?(e=()=>{void 0===B||$||ec((0,j.oH)(B,K??"RIGHT"),!1),e_(),Z(""),H?.()},A[32]=$,A[33]=B,A[34]=H,A[35]=e_,A[36]=K,A[37]=ec,A[38]=e):e=A[38],u=e,A[19]=J,A[20]=$,A[21]=ev,A[22]=B,A[23]=q,A[24]=H,A[25]=e_,A[26]=K,A[27]=Q?.sourceContentFromDiffLines,A[28]=ec,A[29]=u,A[30]=m,A[31]=h}else u=A[29],m=A[30],h=A[31];A[39]!==$||A[40]!==B||A[41]!==ew||A[42]!==K||A[43]!==W||A[44]!==ec?(S=e=>{eb(void 0),void 0===B||$||ec((0,j.oH)(B,K??"RIGHT"),e.trim().length>0),ew({text:e,startLine:W,startSide:W?K:void 0}),Z(e)},A[39]=$,A[40]=B,A[41]=ew,A[42]=K,A[43]=W,A[44]=ec,A[45]=S):S=A[45];let ej=S;A[46]!==h?(_={"pull-requests-conversations:submit-comment-and-review":h},A[46]=h,A[47]=_):_=A[47],A[48]!==u||A[49]!==J?(N=e=>{"Escape"!==e.key||J.trim()?e.stopPropagation():(e.preventDefault(),u())},A[48]=u,A[49]=J,A[50]=N):N=A[50];let eE=k?m:h,eR=O||$?"AddCommentEditor-module__hideMarkdownFooter--sfStq":"AddCommentEditor-module__showMarkdownFooter--ZyiXk",eL=$&&"AddCommentEditor-module__isReplying--DYCp6",eD=O&&"AddCommentEditor-module__condensed--cPcHQ";return A[51]!==eR||A[52]!==eL||A[53]!==eD?(w=(0,x.$)("AddCommentEditor-module__ConversationCommentBox--Q4U7y",eR,eL,eD),A[51]=eR,A[52]=eL,A[53]=eD,A[54]=w):w=A[54],A[55]!==u||A[56]!==H?(E=H&&(0,n.jsx)(f.x,{className:"py-1 px-2",variant:"default",onClick:u,children:"Cancel"}),A[55]=u,A[56]=H,A[57]=E):E=A[57],A[58]!==k||A[59]!==ed||A[60]!==h||A[61]!==$||A[62]!==ee?(R=!ed&&(0,n.jsx)(f.x,{className:"py-1 px-2",variant:k?"default":"primary",onClick:h,ref:eo,loading:ee===ex,children:$?"Reply":"Comment"}),A[58]=k,A[59]=ed,A[60]=h,A[61]=$,A[62]=ee,A[63]=R):R=A[63],A[64]!==k||A[65]!==ed||A[66]!==m||A[67]!==ee?(L=k&&(0,n.jsx)(f.x,{className:"py-1 px-2",variant:"primary",onClick:m,loading:ee===ey,children:ed?"Add review comment":"Start a review"}),A[64]=k,A[65]=ed,A[66]=m,A[67]=ee,A[68]=L):L=A[68],A[69]!==J||A[70]!==ea||A[71]!==P||A[72]!==ej||A[73]!==ev||A[74]!==B||A[75]!==W||A[76]!==Q||A[77]!==eE||A[78]!==w||A[79]!==E||A[80]!==R||A[81]!==L?(D=(0,n.jsxs)(v.S,{ref:el,label:"Add diff comment",value:J,onChange:ej,onPrimaryAction:eE,suggestedChangesConfig:Q,markdownErrorMessage:ea,lineNumber:B,filePath:P,startLineNumber:W,disabled:ev,className:w,children:[E,R,L]}),A[69]=J,A[70]=ea,A[71]=P,A[72]=ej,A[73]=ev,A[74]=B,A[75]=W,A[76]=Q,A[77]=eE,A[78]=w,A[79]=E,A[80]=R,A[81]=L,A[82]=D):D=A[82],A[83]!==N||A[84]!==D?(I=(0,n.jsx)("div",{className:"AddCommentEditor-module__AddCommentEditor--JFfip",onKeyDown:N,children:D}),A[83]=N,A[84]=D,A[85]=I):I=A[85],A[86]!==_||A[87]!==I?(T=(0,n.jsx)(g.tL,{commands:_,children:I}),A[86]=_,A[87]=I,A[88]=T):T=A[88],T}try{eb.displayName||(eb.displayName="AddCommentEditor")}catch{}var ev=i(21373),eC=i(57387),eS=i(15837),e_=i(86877),eN=i(33989),ew=i(30093),ej=i(94236),eE=i(5524);function eR(e){let t,i,r,s,o,c,u=(0,a.c)(25),{ariaLabelId:m,currentLineNumberText:h,setCommentLineChangeConfig:f,baseEndLineNumber:p,diffSide:g,baseStartLineNumber:x}=e,[y,b]=(0,l.useState)(!1);u[0]!==p||u[1]!==x?(t=()=>x&&p?"lineRange":p?"line":"file",u[0]=p,u[1]=x,u[2]=t):t=u[2];let[v,C]=(0,l.useState)(t),[S,_]=(0,l.useState)("LEFT"===g),[N,w]=(0,l.useState)(x?String(x):""),[j,E]=(0,l.useState)(p?String(p):""),[R,L]=(0,l.useState)(""),D=F(er),I=(0,l.useRef)(null);u[3]!==j||u[4]!==D||u[5]!==S||u[6]!==v||u[7]!==f||u[8]!==N?(i=()=>{var e,t,i;let n,a,r=D(eT(S,Number(j),"file"===v)),l=D(eT(S,Number(N),"file"===v)),s=r?.startNewComment,o=r?.diffLineKey,d=l?.diffLineKey;(e="lineRange"===v?N:void 0,t=j,n=Number(e),(Number.isInteger(a=Number(t))&&a>0&&(void 0===e||Number.isInteger(n)&&n>0&&n<=a)||"file"===v)&&s&&o)?f({diffSide:(i={isLeftSide:S,startLineNumber:"lineRange"===v?Number(N):void 0,endDiffLineKey:o,endLineNumber:Number(j),isFileLevelComment:"file"===v,startDiffLineKey:"lineRange"===v?d:void 0,startConversationOnNewLine:s,closeLineMovingDialog:()=>b(!1),setErrorMessage:e=>L(e)}).isLeftSide?"LEFT":"RIGHT",startLineNumber:i.startLineNumber,endLineNumber:i.endLineNumber,isFileLevelComment:i.isFileLevelComment,startDiffLineKey:i.startDiffLineKey,endDiffLineKey:i.endDiffLineKey,setErrorMessage:i.setErrorMessage,startConversationOnNewLine:i.startConversationOnNewLine,closeLineMovingDialog:i.closeLineMovingDialog}):L("Please enter a valid line number or range.")},u[3]=j,u[4]=D,u[5]=S,u[6]=v,u[7]=f,u[8]=N,u[9]=i):i=u[9];let T=i;return u[10]===Symbol.for("react.memo_cache_sentinel")?(r=()=>b(!0),u[10]=r):r=u[10],u[11]!==m||u[12]!==h?(s=(0,n.jsx)(ev.Q,{"aria-labelledby":m,"aria-description":"Select to change location",ref:I,type:"button",size:"small",onClick:r,trailingAction:d.TriangleDownIcon,children:h}),u[11]=m,u[12]=h,u[13]=s):s=u[13],u[14]!==j||u[15]!==R||u[16]!==y||u[17]!==S||u[18]!==v||u[19]!==N||u[20]!==T?(o=y&&(0,n.jsx)(eC.l,{onClose:()=>b(!1),returnFocusRef:I,title:"Add comment on",width:"medium",footerButtons:[{buttonType:"default",content:"Cancel",onClick:()=>{b(!1)}},{buttonType:"primary",content:"Save",onClick:T}],children:(0,n.jsxs)(eS.A,{name:"line-number-selection",onChange:e=>{C(e)},children:[(0,n.jsx)(eS.A.Label,{}),(0,n.jsxs)(e_.A,{children:[(0,n.jsx)(eN.A,{value:"line",defaultChecked:"line"===v}),(0,n.jsx)(e_.A.Label,{children:"Line number"}),"line"===v&&(0,n.jsxs)(e_.A.Caption,{className:"d-flex align-items-center",children:[(0,n.jsx)(eI,{isLeftSelected:S,setIsLeftSelected:_}),(0,n.jsx)(ew.A,{autoComplete:"off",className:"ml-1","aria-label":"Line number",name:"lineNumber",value:j,onChange:e=>E(e.target.value),onKeyDown:e=>{"Enter"===e.key&&T()}})]})]}),(0,n.jsxs)(e_.A,{children:[(0,n.jsx)(eN.A,{value:"lineRange",defaultChecked:"lineRange"===v}),(0,n.jsx)(e_.A.Label,{children:"Line range"}),"lineRange"===v&&(0,n.jsxs)(e_.A.Caption,{className:"d-flex align-items-center",children:[(0,n.jsx)(eI,{isLeftSelected:S,setIsLeftSelected:_}),(0,n.jsx)(ew.A,{autoComplete:"off",className:"ml-1","aria-label":"Line number",name:"lineNumber",value:N,onChange:e=>w(e.target.value),onKeyDown:e=>{"Enter"===e.key&&T()}}),(0,n.jsx)(d.ArrowRightIcon,{className:"mt-2 mx-2"}),(0,n.jsx)(ew.A,{autoComplete:"off",className:"ml-1","aria-label":"Line number",name:"lineNumber",value:j,onChange:e=>E(e.target.value),onKeyDown:e=>{"Enter"===e.key&&T()}})]})]}),(0,n.jsxs)(e_.A,{children:[(0,n.jsx)(eN.A,{value:"file",defaultChecked:"file"===v}),(0,n.jsx)(e_.A.Label,{children:"File"})]}),R&&(0,n.jsx)(eS.A.Validation,{variant:"error",children:R})]})}),u[14]=j,u[15]=R,u[16]=y,u[17]=S,u[18]=v,u[19]=N,u[20]=T,u[21]=o):o=u[21],u[22]!==s||u[23]!==o?(c=(0,n.jsxs)("div",{className:"ml-1",children:[s,o]}),u[22]=s,u[23]=o,u[24]=c):c=u[24],c}let eL="Left (L)",eD="Right (R)";function eI(e){let t,i,r,l,s,o=(0,a.c)(12),{isLeftSelected:d,setIsLeftSelected:c}=e,u=d?eL:eD;return o[0]!==u?(t=(0,n.jsx)(ej.W.Button,{children:u}),o[0]=u,o[1]=t):t=o[1],o[2]!==c?(i=(0,n.jsx)(eE.l.Item,{onSelect:()=>{c(!0)},children:eL}),o[2]=c,o[3]=i):i=o[3],o[4]!==c?(r=(0,n.jsx)(eE.l.Item,{onSelect:()=>{c(!1)},children:eD}),o[4]=c,o[5]=r):r=o[5],o[6]!==i||o[7]!==r?(l=(0,n.jsx)(ej.W.Overlay,{children:(0,n.jsxs)(eE.l,{children:[i,r]})}),o[6]=i,o[7]=r,o[8]=l):l=o[8],o[9]!==t||o[10]!==l?(s=(0,n.jsxs)(ej.W,{children:[t,l]}),o[9]=t,o[10]=l,o[11]=s):s=o[11],s}function eT(e,t,i){return i?"F0":`${e?"L":"R"}${t}`}try{eR.displayName||(eR.displayName="ChangeCommentLineNumberButton")}catch{}try{eI.displayName||(eI.displayName="MoveCommentLineNumberDropdown")}catch{}var eA=i(91747);function ek(e){let t,i,r,s,m,f,p,g,x,y,b,v,C,S,_,N,w,j,E,R,L,D=(0,a.c)(56);if(D[0]!==e){let{addCommentDialogTitle:n,isLeftSide:a,fileLevelComment:l,filePath:o,focusOnMount:d,lineNumber:c,onAddComment:u,onClose:h,viewerData:v,threadsConnectionId:C,showOnCloseIcon:S,..._}=e;t=n,s=a,i=l,r=o,x=d,m=c,f=u,p=h,b=v,y=S,g=_,D[0]=e,D[1]=t,D[2]=i,D[3]=r,D[4]=s,D[5]=m,D[6]=f,D[7]=p,D[8]=g,D[9]=x,D[10]=y,D[11]=b}else t=D[1],i=D[2],r=D[3],s=D[4],m=D[5],f=D[6],p=D[7],g=D[8],x=D[9],y=D[10],b=D[11];let I=void 0===x||x,T=void 0===y||y,[A,k]=(0,l.useState)(void 0),O=(0,eA.u)("move_new_comments_ui"),M=(0,eA.u)("pr_simple_diffs"),P=O&&!M,{disableDialogMode:U}=F(Z);D[12]!==f?(v=e=>{let{commentText:t,onCompleted:i,onError:n,submitBatch:a}=e;f({text:t,onError:n,onCompleted:(e,t)=>{t&&h(t.toString()),i?.(e,t)},submitBatch:a})},D[12]=f,D[13]=v):v=D[13];let $=v;D[14]!==U||D[15]!==p?(C=()=>{p?.(),U()},D[14]=U,D[15]=p,D[16]=C):C=D[16];let B=C,q=`diff-comment-positioning-${(0,l.useId)()}`,H=b.avatarUrl||"";D[17]!==H||D[18]!==b.login?(S=(0,n.jsx)(o.r,{alt:b.login,size:24,src:H,className:"mr-2"}),D[17]=H,D[18]=b.login,D[19]=S):S=D[19],D[20]!==t||D[21]!==i||D[22]!==P?(_=!P&&(i?(0,n.jsx)(n.Fragment,{children:"Add comment on file"}):(0,n.jsx)("span",{children:t?`Add a comment on ${t}`:"Add a comment"})),D[20]=t,D[21]=i,D[22]=P,D[23]=_):_=D[23],D[24]!==t||D[25]!==q||D[26]!==i||D[27]!==s||D[28]!==m||D[29]!==P||D[30]!==g?(N=P&&(0,n.jsxs)("div",{className:"d-flex flex-items-center",id:q,children:[(0,n.jsxs)("div",{className:"pt-1",children:["Add ",i?"":"a"," comment on "]}),(0,n.jsx)(eR,{ariaLabelId:q,currentLineNumberText:i?"file":t??"",baseEndLineNumber:m,baseStartLineNumber:g.startLineNumber,diffSide:s?"LEFT":"RIGHT",setCommentLineChangeConfig:k})]}),D[24]=t,D[25]=q,D[26]=i,D[27]=s,D[28]=m,D[29]=P,D[30]=g,D[31]=N):N=D[31],D[32]!==S||D[33]!==_||D[34]!==N?(w=(0,n.jsxs)(c.A,{as:"h4",className:"f5 ml-1 pt-1 pb-2 d-flex",children:[S,_,N]}),D[32]=S,D[33]=_,D[34]=N,D[35]=w):w=D[35],D[36]!==p||D[37]!==B||D[38]!==T?(j=p&&T&&(0,n.jsx)(u.K,{variant:"invisible",icon:d.XIcon,onClick:B,"aria-label":"Cancel"}),D[36]=p,D[37]=B,D[38]=T,D[39]=j):j=D[39],D[40]!==j||D[41]!==w?(E=(0,n.jsxs)("div",{className:"d-flex flex-justify-between flex-items-center",children:[w,j]}),D[40]=j,D[41]=w,D[42]=E):E=D[42];let G=i??!1,V=s?"LEFT":"RIGHT";return D[43]!==A||D[44]!==r||D[45]!==I||D[46]!==$||D[47]!==m||D[48]!==B||D[49]!==g||D[50]!==G||D[51]!==V?(R=(0,n.jsx)(eb,{focusOnMount:I,condensed:!1,fileLevelComment:G,filePath:r,lineNumber:m,onAddComment:$,onCancelComment:B,commentLineChangeConfig:A,side:V,...g}),D[43]=A,D[44]=r,D[45]=I,D[46]=$,D[47]=m,D[48]=B,D[49]=g,D[50]=G,D[51]=V,D[52]=R):R=D[52],D[53]!==E||D[54]!==R?(L=(0,n.jsxs)("div",{className:"px-2 pb-2 pt-1",children:[E,R]}),D[53]=E,D[54]=R,D[55]=L):L=D[55],L}try{ek.displayName||(ek.displayName="StartThreadComment")}catch{}var eO=i(33671),eM=i(8934),eP=i(97286),eF=i(73017),eU=i(69726);function e$(e){let t,i,r,l,s,o,d=(0,a.c)(29),{queryConfig:c,initialData:u}=e;if(u&&(u.proseDiffHtml||u.renderInfo||u.dependencyDiffPath)){let e;d[0]!==u.dependencyDiffPath||d[1]!==u.proseDiffHtml||d[2]!==u.renderInfo?(e={proseDiffHtml:u.proseDiffHtml,renderInfo:u.renderInfo,dependencyDiffPath:u.dependencyDiffPath},d[0]=u.dependencyDiffPath,d[1]=u.proseDiffHtml,d[2]=u.renderInfo,d[3]=e):e=d[3],o=e}let m=c?.key,h=c?.args;d[4]!==m||d[5]!==h?(t=[m,h],d[4]=m,d[5]=h,d[6]=t):t=d[6],d[7]!==c?(i=async()=>await c?.fetcher(c.args)||{},d[7]=c,d[8]=i):i=d[8];let f=!!c;d[9]!==o||d[10]!==t||d[11]!==i||d[12]!==f?(r={queryKey:t,queryFn:i,initialData:o,staleTime:1/0,enabled:f},d[9]=o,d[10]=t,d[11]=i,d[12]=f,d[13]=r):r=d[13];let p=(0,eP.I)(r);d[14]!==o||d[15]!==c||d[16]!==p?(l=c?p:{data:o,isLoading:!1},d[14]=o,d[15]=c,d[16]=p,d[17]=l):l=d[17];let{data:g,isLoading:x}=l;d[18]!==g?(s=g||{},d[18]=g,d[19]=s):s=d[19];let{proseDiffHtml:y,renderInfo:b,dependencyDiffPath:v}=s;if(x){let e;return d[20]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"d-flex flex-justify-center p-4",children:(0,n.jsx)(eU.A,{size:"large"})}),d[20]=e):e=d[20],e}if(y){let e;return d[21]!==y?(e=(0,n.jsx)("div",{className:"prose-diff position-relative",children:(0,n.jsx)(eF.vb,{html:y})}),d[21]=y,d[22]=e):e=d[22],e}if(b){let e;return d[23]!==b?(e=(0,n.jsx)(eO.default,{...b,viewportClassName:"RichDiff-module__fileRendererViewport--EBwd1",iframeClassName:"RichDiff-module__fileRendererIframe--svTsY"}),d[23]=b,d[24]=e):e=d[24],e}if(v){let e,t;return d[25]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsxs)("div",{className:"text-center py-3",children:[(0,n.jsx)(eU.A,{size:"medium"}),(0,n.jsx)("p",{className:"color-fg-muted my-2",children:"Loading Dependency Review..."})]}),d[25]=e):e=d[25],d[26]!==v?(t=(0,n.jsx)("div",{children:(0,n.jsx)(eM.x,{src:v,children:e})}),d[26]=v,d[27]=t):t=d[27],t}{let e;return d[28]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"d-flex flex-justify-center p-4",children:"This rich diff is not supported at the moment."}),d[28]=e):e=d[28],e}}try{e$.displayName||(e$.displayName="RichDiff")}catch{}var eB=i(59523),eq=i(19976),eH=i(84268),eG=i(69599);function eV(e){let t,i,r,s,o,c,u,m,h,f,p=(0,a.c)(27),{children:g,helpText:y,helpUrl:b,onLoadDiff:v,diffAnchor:C}=e,S=b&&y,[_,N]=(0,l.useState)("initial");p[0]!==v?(t=async()=>{try{N("loading"),await v()}catch{N("error")}},p[0]=v,p[1]=t):t=p[1];let w=t;return p[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,x.$)("HiddenDiffPatch-module__gridColumnTemplate--gSfuk"),p[2]=i):i=p[2],p[3]===Symbol.for("react.memo_cache_sentinel")?(r={maxWidth:"340px"},p[3]=r):r=p[3],p[4]===Symbol.for("react.memo_cache_sentinel")?(s=(0,n.jsx)("svg",{"aria-hidden":!0,height:"84",style:r,viewBox:"0 0 340 84",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{clipPath:"url(#diff-placeholder)",d:"M0 0h340v84H0z",fillRule:"evenodd",style:{fill:"var(--bgColor-muted, var(--color-canvas-subtle))"}})}),p[4]=s):s=p[4],p[5]!==_?(o="loading"===_&&(0,n.jsx)(eU.A,{size:"medium"}),p[5]=_,p[6]=o):o=p[6],p[7]!==_?(c="error"===_&&(0,n.jsx)(d.AlertIcon,{size:24}),p[7]=_,p[8]=c):c=p[8],p[9]!==_||p[10]!==w?(u="initial"===_&&(0,n.jsx)(ev.Q,{className:"h4 mx-auto fgColor-accent",variant:"invisible",onClick:()=>{w(),N("loading")},children:"Load Diff"}),p[9]=_,p[10]=w,p[11]=u):u=p[11],p[12]!==g||p[13]!==y||p[14]!==b||p[15]!==_||p[16]!==w||p[17]!==S?(m="error"===_?(0,n.jsxs)("span",{className:"fgColor-muted mt-1",children:["The contents of the file couldn't be loaded."," ",(0,n.jsx)(eH.A,{inline:!0,as:"button",onClick:()=>{w(),N("loading")},children:"Retry"})]}):(0,n.jsxs)("span",{className:"fgColor-muted mt-1",children:[g,S&&(0,n.jsx)(eH.A,{inline:!0,href:b,children:y})]}),p[12]=g,p[13]=y,p[14]=b,p[15]=_,p[16]=w,p[17]=S,p[18]=m):m=p[18],p[19]!==o||p[20]!==c||p[21]!==u||p[22]!==m?(h=(0,n.jsxs)("div",{className:i,children:[s," ",(0,n.jsxs)("div",{className:"d-flex flex-justify-center flex-column flex-column text-center flex-items-center",children:[o,c,u,m]})]}),p[19]=o,p[20]=c,p[21]=u,p[22]=m,p[23]=h):h=p[23],p[24]!==C||p[25]!==h?(f=(0,n.jsx)("div",{className:"px-3 py-4 fgColor-muted","data-diff-anchor":C,children:h}),p[24]=C,p[25]=h,p[26]=f):f=p[26],f}try{eV.displayName||(eV.displayName="HiddenDiffPatch")}catch{}let eK="final-hunk-header-line";function eW(e,t){return e.startBlobLineNumber-t.startBlobLineNumber}function ez(e,t){if("HUNK"===e.type&&e.__id===eK)return{currentHunk:t[t.length-1],previousHunk:t[t.length-2]};let i=t.sort(eW).findIndex(t=>t.startBlobLineNumber<=e.blobLineNumber&&t.endBlobLineNumber>=e.blobLineNumber);return{currentHunk:t[i],nextHunk:t[i+1],previousHunk:t[i-1]}}function eQ(e){let t,i=[],n=0;for(let a=1;a<e.length;a++){let r=e[a];if(r&&!(0,j.Po)(r)&&(t=r,"HUNK"===r.type)){let t,l=e[n];if(!l||(0,j.Po)(l))continue;let s=a-1;for(;(!t||(0,j.Po)(t))&&(t=e[s],-1!=--s););t&&!(0,j.Po)(t)&&i.push({startBlobLineNumber:l.blobLineNumber,endBlobLineNumber:t.blobLineNumber}),r.__id===eK&&i.push({startBlobLineNumber:r.blobLineNumber,endBlobLineNumber:r.blobLineNumber+20}),n=a;continue}}if(t&&"HUNK"!==t.type){let a=e[n];a&&!(0,j.Po)(a)&&i.push({startBlobLineNumber:a.blobLineNumber,endBlobLineNumber:t.blobLineNumber})}return i}var eX=i(45800),eY=i(35750),eJ=i(18150),eZ=i(85242),e0=i(88243),e1=i(16213),e2=i(50467),e3=new WeakMap,e4=new WeakMap,e5=new WeakMap,e6=new WeakMap,e7=new WeakMap,e8=new WeakMap,e9=new WeakSet,te=new WeakSet,tt=new WeakSet,ti=new WeakSet,tn=new WeakSet,ta=new WeakSet,tr=new WeakSet,tl=new WeakSet;let GridNavigator=class GridNavigator{moveToNextItem(e,t){let i,n=(0,eY._)(this,e4).get(this.focusedGridCell?.cellId??"");if(!n)return;let[a]=n,[,r]=n;switch(("ArrowDown"===e||"ArrowUp"===e)&&(0,e0._)(this,tn,tu).call(this,a)&&(0,eY._)(this,e6)&&(r=(0,eY._)(this,e6),(0,eZ._)(this,e6,void 0)),!0){case t&&"Home"===e:this.focusFirstGridCell();break;case t&&"End"===e:{let e=(0,eY._)(this,e3).length-1,t=(0,eY._)(this,e3)[e]?.length;t&&(i=(0,eY._)(this,e3)[e]?.[t-1]);break}case"ArrowUp"===e:(0,e0._)(this,tn,tu).call(this,a-1)?((0,e0._)(this,tl,tf).call(this,r),i=(0,eY._)(this,e3)[a-1]?.[0]):i=(0,eY._)(this,e3)[a-1]?.[r];break;case"ArrowDown"===e:(0,e0._)(this,tn,tu).call(this,a+1)?((0,e0._)(this,tl,tf).call(this,r),i=(0,eY._)(this,e3)[a+1]?.[0]):i=(0,eY._)(this,e3)[a+1]?.[r];break;case"ArrowLeft"===e:i=(0,eY._)(this,e3)[a]?.[r-1];break;case"ArrowRight"===e:i=(0,eY._)(this,e3)[a]?.[r+1]}return i&&(this.focusedGridCell=i),this.focusedGridCell}reinitializeGrid(e,t){(0,e0._)(this,te,to).call(this,e,t)}focusFirstGridCell(e){e&&(0,eY._)(this,e4).get(e)?this.focusGridCell(e):this.focusedGridCell=(0,eY._)(this,e3)[0]?.[0]}focusGridCell(e){if(this.focusedGridCell?.cellId===e)return;let t=(0,eY._)(this,e4).get(e);if(!t)return;let[i,n]=t;this.focusedGridCell=(0,eY._)(this,e3)[i]?.[n]}getNextSelectableCell(e){let t,i=this.getValidSelectableRowCell()||this.focusedGridCell,n=this.lastSelectedGridCell||i,a=(0,eY._)(this,e4).get(n?.cellId??"");if(!a)return;let[r,l]=a;if("ArrowUp"===e){let e=r-1;for(;!t&&e>=0;)t=(0,e0._)(this,e9,ts).call(this,{rowIndex:e,columnIndex:l}),e--}if("ArrowDown"===e){let e=r+1;for(;!t&&e<(0,eY._)(this,e3).length;)t=(0,e0._)(this,e9,ts).call(this,{rowIndex:e,columnIndex:l}),e++}return t&&(this.lastSelectedGridCell=t),t}getValidSelectableRowCell(){if(this.focusedGridCell?.isHunk)return;if(!this.focusedGridCell?.isEmpty)return this.focusedGridCell;let e=(0,eY._)(this,e4).get(this.focusedGridCell.cellId)?.[0];if(e)return this.focusedGridCell.columnIndex<=1&&!(0,eY._)(this,e8)?(0,eY._)(this,e3)[e]?.[this.focusedGridCell.columnIndex+1]:this.focusedGridCell.columnIndex<2&&(0,eY._)(this,e8)?(0,eY._)(this,e3)[e]?.[this.focusedGridCell.columnIndex+2]:(0,eY._)(this,e3)[e]?.[this.focusedGridCell.columnIndex-2]}clearLastSelectedCell(){this.lastSelectedGridCell=void 0}getFirstCodeCell(){let e=(0,eY._)(this,e3).find(e=>e[0]&&!e[0].isHunk);return e?.find(e=>!e.isEmpty)}getLastCodeCell(){let e=(0,eY._)(this,e3).slice().reverse().find(e=>e[0]&&!e[0].isHunk);return e?.slice().reverse().find(e=>!e.isEmpty)}hasLine(e,t,i){let n=(0,j.qX)((0,eY._)(this,e7),e,t),a=(0,j.u6)(n,0),r=(0,eY._)(this,e4).get(a);if(!r)return!1;let[l]=r;return!!i===(0,e0._)(this,tn,tu).call(this,l)}constructor(e,t,i,n,a){(0,e1._)(this,e9),(0,e1._)(this,te),(0,e1._)(this,tt),(0,e1._)(this,ti),(0,e1._)(this,tn),(0,e1._)(this,ta),(0,e1._)(this,tr),(0,e1._)(this,tl),(0,eJ._)(this,e3,{writable:!0,value:[]}),(0,eJ._)(this,e4,{writable:!0,value:new Map}),(0,eJ._)(this,e5,{writable:!0,value:new Set}),(0,e2._)(this,"focusedGridCell",void 0),(0,e2._)(this,"lastSelectedGridCell",void 0),(0,eJ._)(this,e6,{writable:!0,value:void 0}),(0,eJ._)(this,e7,{writable:!0,value:void 0}),(0,eJ._)(this,e8,{writable:!0,value:void 0}),(0,eZ._)(this,e7,e),(0,eZ._)(this,e8,t),(0,e0._)(this,te,to).call(this,i,n),this.focusFirstGridCell(a)}};function ts({rowIndex:e,columnIndex:t}){let i=(0,eY._)(this,e3)[e],n=i?.[t];switch(!0){case n?.isHunk:return;case n?.orientation==="left"&&n.isEmpty:return i?.[t+2];case n?.orientation==="right"&&n.isEmpty&&(0,eY._)(this,e8):return i?.[t-2];case n?.orientation==="right"&&n.isEmpty&&!(0,eY._)(this,e8):return i?.[t+1];default:return i?.[t]}}function to(e,t){(0,eZ._)(this,e3,[]),(0,eZ._)(this,e4,new Map),(0,eZ._)(this,e5,new Set);for(let i=0;i<e.length;i++){let n=[],a=e[i];if((0,eY._)(this,e8)){let e=(t||[])[i],r=(0,j.qX)((0,eY._)(this,e7),a,e);(0,j.Po)(a)||a?.type!=="HUNK"?(0,e0._)(this,ta,tm).call(this,{leftLine:a,rightLine:e,row:n,rowIdentifier:r,rowIndex:i}):(0,e0._)(this,ti,tc).call(this,n,r,i,a)}else{let e=(0,j.qX)((0,eY._)(this,e7),a,a);(0,j.Po)(a)||a?.type!=="HUNK"?(0,e0._)(this,tr,th).call(this,{diffLine:a,row:n,rowIdentifier:e,rowIndex:i}):(0,e0._)(this,ti,tc).call(this,n,e,i,a)}(0,eY._)(this,e3).push(n)}}function td({cellIndex:e,diffLine:t,orientation:i,row:n,rowIdentifier:a,rowIndex:r,isSplit:l}){let s,o,d=(0,j.u6)(a,e);o=!(l||(0,j.Po)(t))&&t?.type==="DELETION"&&1===e||!(l||(0,j.Po)(t))&&t?.type==="ADDITION"&&0===e||(0,j.Po)(t),(0,j.Po)(t)||"left"!==i||(s=t?.left),(0,j.Po)(t)||"right"!==i||(s=t?.right),n.push({lineNumber:s,orientation:i,isEmpty:o,isHunk:!1,cellId:(0,j.u6)(a,e),columnIndex:e,lineKey:!(0,j.Po)(t)&&t?.key?t.key:void 0}),(0,eY._)(this,e4).set(d,[r,e])}function tc(e,t,i,n){let a=(0,j.u6)(t,0);e.push({isHunk:!0,isEmpty:!1,cellId:a,columnIndex:0,lineKey:n.key}),(0,eY._)(this,e4).set(a,[i,0]),(0,eY._)(this,e5).add(i)}function tu(e){return(0,eY._)(this,e5).has(e)}function tm({leftLine:e,rightLine:t,row:i,rowIdentifier:n,rowIndex:a}){(0,e0._)(this,tt,td).call(this,{cellIndex:0,diffLine:e,orientation:"left",row:i,rowIdentifier:n,rowIndex:a,isSplit:!0}),(0,e0._)(this,tt,td).call(this,{cellIndex:1,diffLine:e,orientation:"left",row:i,rowIdentifier:n,rowIndex:a,isSplit:!0}),(0,e0._)(this,tt,td).call(this,{cellIndex:2,diffLine:t,orientation:"right",row:i,rowIdentifier:n,rowIndex:a,isSplit:!0}),(0,e0._)(this,tt,td).call(this,{cellIndex:3,diffLine:t,orientation:"right",row:i,rowIdentifier:n,rowIndex:a,isSplit:!0})}function th({diffLine:e,row:t,rowIdentifier:i,rowIndex:n}){let a=(0,j.Po)(e)||e?.type!=="DELETION"?"right":"left";(0,e0._)(this,tt,td).call(this,{cellIndex:0,diffLine:e,orientation:"left",row:t,rowIdentifier:i,rowIndex:n,isSplit:!1}),(0,e0._)(this,tt,td).call(this,{cellIndex:1,diffLine:e,orientation:"right",row:t,rowIdentifier:i,rowIndex:n,isSplit:!1}),(0,e0._)(this,tt,td).call(this,{cellIndex:2,diffLine:e,orientation:a,row:t,rowIdentifier:i,rowIndex:n,isSplit:!1})}function tf(e){(0,e0._)(this,tn,tu).call(this,e)||(0,eZ._)(this,e6,e)}function tp(e){e&&setTimeout(()=>{0!==e.tabIndex&&(e.tabIndex=0)})}var tg=i(97068);let tx={ArrowLeft:tg.z0.ArrowHorizontal,ArrowDown:tg.z0.ArrowVertical,ArrowUp:tg.z0.ArrowVertical,ArrowRight:tg.z0.ArrowHorizontal,h:tg.z0.HL,j:tg.z0.JK,k:tg.z0.JK,l:tg.z0.HL,a:tg.z0.AD,s:tg.z0.WS,w:tg.z0.WS,d:tg.z0.AD,Tab:tg.z0.Tab,Home:tg.z0.HomeAndEnd,End:tg.z0.HomeAndEnd,Backspace:tg.z0.Backspace},ty=tg.z0.ArrowAll|tg.z0.HomeAndEnd|tg.z0.AD,tb={avatarUrl:"https://avatars.githubusercontent.com/ghost",id:"ghost",login:"ghost",url:"/ghost",__typename:"Author"};function tv(e){return e in tx&&(tx[e]&ty)>0}function tC({addLineToSelection:e,clearSelectedLines:t,containerRef:i,fileAnchor:n,getfirstLineSelectionOnDrag:r,isSplitDiff:s,leftLines:o,rightLines:d,selectMultipleLines:c,disabled:u}){var m;let h,f,p,g,x,y,b,v,C=(0,l.useRef)(void 0),S=(0,l.useMemo)(()=>new GridNavigator(n,s,o,d,C.current?.focusedGridCell?.cellId),[n,s,o,d]);(0,l.useEffect)(()=>{C.current=S},[S]),(0,l.useEffect)(()=>{let e=i.current,t=()=>{S.clearLastSelectedCell()};return e?.addEventListener("mousedown",t),()=>e?.removeEventListener("mousedown",t)},[i,S]),m=C.current,(p=(0,a.c)(8))[0]!==i||p[1]!==n||p[2]!==S||p[3]!==o||p[4]!==m||p[5]!==d?(h=()=>{if(m&&document.activeElement){let e=function(e,t,i){let n=[];for(let a=0;a<t.length;a++){let r=t[a],l=i?.[a]??r,s=!(0,j.Po)(r)&&r?.type==="HUNK";r&&l&&!e.hasLine(r,l,s)&&n.push(r)}return n}(m,o,d);if(0!==e.length){if(document.activeElement===document.body){let t,i,a,r=o.indexOf(e[e.length-1]),l=o[r+1],s=e[0];l&&!(0,j.Po)(l)&&"HUNK"===l.type&&(t=(0,j.u6)((0,j.qX)(n,l,l),0),i=document.querySelector(`[data-grid-cell-id=${t}]`),a=i?.querySelector("button[data-direction=down], button[data-direction=all]")),a||(t=(0,j.u6)((0,j.qX)(n,s,s),0),i=document.querySelector(`[data-grid-cell-id=${t}]`),a=i?.querySelector("button[data-direction=up], button[data-direction=all]")),t&&i&&(a?a.focus():i.focus(),S.focusGridCell(t),tp(i))}else if("BUTTON"===document.activeElement.tagName)tp(document.activeElement.closest("td"));else if("TD"===document.activeElement.tagName){let e=document.activeElement.getAttribute("data-grid-cell-id"),t=S.focusedGridCell?.cellId;if(e!==t){let e=i.current?.querySelector(`[data-grid-cell-id=${t}]`);e?.focus()}}}}},f=[n,o,S,d,m,i],p[0]=i,p[1]=n,p[2]=S,p[3]=o,p[4]=m,p[5]=d,p[6]=h,p[7]=f):(h=p[6],f=p[7]),(0,l.useEffect)(h,f),(b=(0,a.c)(6))[0]!==S?(g=e=>{let t=e.target.getAttribute("data-grid-cell-id");t&&S.focusGridCell(t)},b[0]=S,b[1]=g):g=b[1],v=g,b[2]!==i||b[3]!==v?(x=()=>{let e=i.current;return e?.addEventListener("focusin",v),()=>e?.removeEventListener("focusin",v)},y=[i,v],b[2]=i,b[3]=v,b[4]=x,b[5]=y):(x=b[4],y=b[5]),(0,l.useEffect)(x,y);let _=(0,l.useCallback)((i,n,a)=>{let l=S.getValidSelectableRowCell();switch(!0){case(a.metaKey||a.ctrlKey)&&"KeyA"===a.code:{let e=S.getFirstCodeCell(),t=S.getLastCodeCell();if(!e||!t)return n;return e.lineKey&&e.lineNumber&&e.orientation&&c({endLineKey:t.lineKey,endOrientation:t.orientation,startLineKey:e.lineKey,startOrientation:e.orientation,firstLineSelectionOnDrag:{lineKey:e.lineKey,lineNumber:e.lineNumber,orientation:e.orientation,shouldStartConversation:!1}},ef),n}case a.shiftKey&&"ArrowDown"===a.key:{let t=S.getNextSelectableCell("ArrowDown");if(!t||!l)return n;return r()?e({lineKey:t.lineKey,orientation:t.orientation},ef):l.lineKey&&l.lineNumber&&l.orientation&&c({endLineKey:t.lineKey,endOrientation:t.orientation,startLineKey:l.lineKey,startOrientation:l.orientation,firstLineSelectionOnDrag:{lineKey:l.lineKey,lineNumber:l.lineNumber,orientation:l.orientation,shouldStartConversation:!1}},ef),tS(t.cellId),n}case a.shiftKey&&"ArrowUp"===a.key:{let t=S.getNextSelectableCell("ArrowUp");if(!t||!l)return n;return r()?e({lineKey:t.lineKey,orientation:t.orientation},ef):l.lineKey&&l.lineNumber&&l.orientation&&c({endLineKey:l.lineKey,endOrientation:l.orientation,startLineKey:t.lineKey,startOrientation:t.orientation,firstLineSelectionOnDrag:{lineKey:l.lineKey,lineNumber:l.lineNumber,orientation:l.orientation,shouldStartConversation:!1}},ef),tS(t.cellId),n}case"ArrowLeft"===a.key&&a.metaKey&&a.shiftKey:return n;default:{let e=S.moveToNextItem(a.key,a.ctrlKey),i=e&&document.querySelector(`[data-grid-cell-id=${e.cellId}]`);return t(),S.clearLastSelectedCell(),i??void 0}}},[e,r,S,c,t]);return(0,eX.G)({containerRef:i,bindKeys:ty,getNextFocusable:_,focusableElementFilter:e=>"TD"===e.tagName&&"gridcell"===e.getAttribute("role"),focusInStrategy:"previous",disabled:u},[_]),{gridNavigator:S}}function tS(e){let t=p.XC?.querySelector(`[data-grid-cell-id=${e}]`);!function(e){if(!p.XC||!p.cg||!e)return!1;let t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(p.cg.innerHeight||p.XC.documentElement.clientHeight)&&t.right<=(p.cg.innerWidth||p.XC.documentElement.clientWidth)}(t)&&t?.scrollIntoView({block:"nearest",inline:"nearest"})}var t_=i(21537),tN=i(30459),tw=i(50899),tj=i(11529);function tE(e,t){let i,n,r,l,s=(0,a.c)(16),{sendAnalyticsEvent:o}=(0,tN.s)(),d=F(K),c=(0,C.ww)(),u=F(X),{isServer:m}=(0,tj.V)();s[0]!==d||s[1]!==e?(i=function(t){var i;let n;if(!t||t.startLineNumber===t.endLineNumber&&t.startOrientation===t.endOrientation)return"DELETION"!==e.type;let a="right"===t.startOrientation&&"right"===t.endOrientation,r=d(t)?.selectedRightLines[0],l=r&&(0,j.qK)(r)&&(0,j.Ji)(r);return!!a&&!l||(i=t,!(n=d(i)?.selectedLeftLines)||!(n.length>0)||n.every(tR))},s[0]=d,s[1]=e,s[2]=i):i=s[2],s[3]!==d||s[4]!==m||s[5]!==e?(n=function(t){let i=t?d(t)?.selectedRightLines:[];if(t&&i&&i.length>1)return m?"":(0,j.Ls)(i);if(!e)return"";let[n]=(0,j.dv)(e.text,e.type);return n},s[3]=d,s[4]=m,s[5]=e,s[6]=n):n=s[6];let h=n;s[7]!==h||s[8]!==c||s[9]!==i||s[10]!==o?(r=function(e,t){let n=!!(i(e)&&!c);return{isValidSuggestionRange:n,showSuggestChangesButton:n,sourceContentFromDiffLines:n?h(e):void 0,onInsertSuggestedChange:()=>{o("diff.add_suggested_change","ADD_SUGGESTED_CHANGE_BUTTON")},shouldInsertSuggestedChange:t}},s[7]=h,s[8]=c,s[9]=i,s[10]=o,s[11]=r):r=s[11];let f=(0,tw.K)(r);return s[12]!==f||s[13]!==u||s[14]!==t?(l={getSelectedLineRange:u,configureSuggestedChangesFromLineRange:f,shouldStartNewConversationWithSuggestedChange:t},s[12]=f,s[13]=u,s[14]=t,s[15]=l):l=s[15],l}function tR(e){return"empty-diff-line"!==e&&"DELETION"!==e.type}function tL(e){let t,i=(0,a.c)(4),{line:n,isRowSelected:r}=e,l=F(eo);e:{let e;if(!r){let e;i[0]!==n?(e=!!n&&(0,j.xB)(n),i[0]=n,i[1]=e):e=i[1],t=e;break e}i[2]!==l?(e=l(),i[2]=l,i[3]=e):e=i[3],t=e}return t}var tD=i(20622),tI=i(48845),tT=i(97665),tA=i(94747),tk=i(96379),tO=i(24937),tM=i(43362);function tP(){let e,t,i,n=(0,a.c)(12),r=(0,C.Kp)(),l=(0,tT.jE)(),o=`${r}/page_data/${tD.uT.createReviewComment}`,{updateThread:d}=(0,C.an)(),{onCommentThreadAdded:c}=(0,C.Ud)(),{addPendingComment:u,clearPendingReview:m}=(0,C._N)();return n[0]!==o?(e=async e=>{let t=await (0,tk.Sr)(`${o}`,{method:"POST",headers:{Accept:"application/json"},body:e}),i=await (0,tI.hp)(t);return(0,tI.R)(t,i),i},n[0]=o,n[1]=e):e=n[1],n[2]!==u||n[3]!==r||n[4]!==m||n[5]!==c||n[6]!==l||n[7]!==d?(t=(e,t)=>{let i=t.subjectType===s.Wr.File?"FILE":"right"===t.side?`R${t.line}`:`L${t.line}`,n=t.startSide&&t.startLine?"right"===t.startSide?`R${t.startLine}`:`L${t.startLine}`:void 0;void 0!==t.submitBatch&&!t.submitBatch&&e.thread&&u(Number(e.thread.id)),t.submitBatch&&m(),d(Number(e.thread.id),t.path,i,()=>{let i=(0,tM.YY)(t);return e.thread.subject=i,e.thread.positioning=i,e.thread}),c({path:t.path,diffLineKey:i,startPosition:n,threadID:e.thread.id}),l.invalidateQueries({queryKey:(0,tO.XG)(r)})},n[2]=u,n[3]=r,n[4]=m,n[5]=c,n[6]=l,n[7]=d,n[8]=t):t=n[8],n[9]!==e||n[10]!==t?(i={mutationFn:e,onSuccess:t},n[9]=e,n[10]=t,n[11]=i):i=n[11],(0,tA.n)(i)}var tF=new WeakMap,tU=new WeakMap,t$=new WeakMap,tB=new WeakMap,tq=new WeakMap,tH=new WeakMap,tG=new WeakMap,tV=new WeakSet,tK=new WeakSet,tW=new WeakSet;let ReviewCommentFactory=class ReviewCommentFactory{fileRequestData(){return{...(0,e0._)(this,tW,tX).call(this),path:(0,eY._)(this,tU),subjectType:s.Wr.File}}lineRequestData(e){let{lineNumber:t,side:i}=e;return{...(0,e0._)(this,tW,tX).call(this),line:t,path:(0,e0._)(this,tV,tz).call(this,i),positioning:{type:s.Wr.Line,baseCommitOid:(0,eY._)(this,tF),headCommitOid:(0,eY._)(this,t$),path:(0,e0._)(this,tV,tz).call(this,i),line:t,commitOid:(0,e0._)(this,tK,tQ).call(this,i)},side:i,subjectType:s.Wr.Line}}multilineRequestData(e){let{endLineNumber:t,endSide:i,startLineNumber:n,startSide:a}=e;return{...(0,e0._)(this,tW,tX).call(this),line:t,path:(0,e0._)(this,tV,tz).call(this,i),positioning:{baseCommitOid:(0,eY._)(this,tF),headCommitOid:(0,eY._)(this,t$),type:s.Wr.Multiline,startPath:(0,e0._)(this,tV,tz).call(this,a),startLine:n,startCommitOid:(0,e0._)(this,tK,tQ).call(this,a),endPath:(0,e0._)(this,tV,tz).call(this,i),endLine:t,endCommitOid:(0,e0._)(this,tK,tQ).call(this,i)},side:i,startLine:n,startSide:a,subjectType:s.Wr.Multiline}}constructor({filePath:e,newTreeEntry:t,oldTreeEntry:i,effectiveDiffRange:n,submitBatch:a,text:r}){(0,e1._)(this,tV),(0,e1._)(this,tK),(0,e1._)(this,tW),(0,eJ._)(this,tF,{writable:!0,value:void 0}),(0,eJ._)(this,tU,{writable:!0,value:void 0}),(0,eJ._)(this,t$,{writable:!0,value:void 0}),(0,eJ._)(this,tB,{writable:!0,value:void 0}),(0,eJ._)(this,tq,{writable:!0,value:void 0}),(0,eJ._)(this,tH,{writable:!0,value:void 0}),(0,eJ._)(this,tG,{writable:!0,value:void 0}),(0,eZ._)(this,tF,n.baseOid),(0,eZ._)(this,tU,e),(0,eZ._)(this,t$,n.headOid),(0,eZ._)(this,tB,t),(0,eZ._)(this,tq,i),(0,eZ._)(this,tH,a),(0,eZ._)(this,tG,r)}};function tz(e){return"left"===e&&(0,eY._)(this,tq)?.path&&(0,eY._)(this,tB)?.path&&(0,eY._)(this,tq).path!==(0,eY._)(this,tB).path?(0,eY._)(this,tq).path:(0,eY._)(this,tU)}function tQ(e){return"left"===e?(0,eY._)(this,tF):(0,eY._)(this,t$)}function tX(){return{comparisonEndOid:(0,eY._)(this,t$),comparisonStartOid:(0,eY._)(this,tF),text:(0,eY._)(this,tG),submitBatch:(0,eY._)(this,tH)}}function tY(e){let t,i,r,s,o,d,c,u,m,h,f,p,g,x,y,b,v=(0,a.c)(45);if(v[0]!==e){let{diffAnchor:n,isInDialogMode:a,isLeftSide:l,isOpen:h,isRowSelected:f,onCloseCommentDialog:p,onCommentCreated:g,diffLine:x,shouldStartNewConversationWithSuggestedChange:y,...b}=e;i=a,r=l,s=h,o=f,d=p,c=g,t=x,m=y,u=b,v[0]=e,v[1]=t,v[2]=i,v[3]=r,v[4]=s,v[5]=o,v[6]=d,v[7]=c,v[8]=u,v[9]=m}else t=v[1],i=v[2],r=v[3],s=v[4],o=v[5],d=v[6],c=v[7],u=v[8],m=v[9];let{sendAnalyticsEvent:S}=(0,tN.s)(),_=(0,l.useRef)(null),N=F(X);v[10]!==t||v[11]!==r||v[12]!==o?(h={line:t,isLeftSide:r,isRowSelected:o},v[10]=t,v[11]=r,v[12]=o,v[13]=h):h=v[13];let w=function(e){let t,i,n,r,l,s,o=(0,a.c)(18),{line:d,isLeftSide:c,isRowSelected:u}=e,m=F(W),h=F(X);o[0]!==u||o[1]!==d?(t={line:d,isRowSelected:u},o[0]=u,o[1]=d,o[2]=t):t=o[2];let f=tL(t);e:{let e,t;if(!u){i=d.blobLineNumber;break e}o[3]!==h?(e=h(),o[3]=h,o[4]=e):e=o[4];let n=e;if(!n){i=d.blobLineNumber;break e}if(!c){i=n.endLineNumber;break e}if(!f){i=n.endLineNumber??d.blobLineNumber;break e}if(o[5]!==m){let e=m();t=(0,j.Lp)(e),o[5]=m,o[6]=t}else t=o[6];let a=t.leftLines,r=a[a.length-1];i=r?.blobLineNumber??d.blobLineNumber}let p=i;t:{let e,t;if(!u){n=void 0;break t}o[7]!==h?(e=h(),o[7]=h,o[8]=e):e=o[8];let i=e;if(!i){n=void 0;break t}if(!c){n=i.startLineNumber;break t}if(!f){n=i?.startLineNumber;break t}if(o[9]!==m){let e=m();t=(0,j.Lp)(e),o[9]=m,o[10]=t}else t=o[10];let a=t.leftLines[0];n=a?.blobLineNumber}let g=n;i:{if(!d||!(0,j.xB)(d)){r=c;break i}if(!u||f){r=!1;break i}let e=h();r=e?"left"===e.endOrientation:c}let x=r;n:{if(!u){l=c;break n}if(f){l=!1;break n}let e=h();l=e?"left"===e.startOrientation:c}let y=l,b=!!g&&g!==p,v=g??void 0,C=x?"left":"right",S=b?y?"left":"right":void 0;return o[11]!==f||o[12]!==b||o[13]!==p||o[14]!==v||o[15]!==C||o[16]!==S?(s={lineNumber:p,startLineNumber:v,side:C,startSide:S,isMultiline:b,allLinesAreRetargetable:f},o[11]=f,o[12]=b,o[13]=p,o[14]=v,o[15]=C,o[16]=S,o[17]=s):s=o[17],s}(h),E=tE(t,m),{newTreeEntry:R,oldTreeEntry:L}=F(ea),{effectiveRange:D}=(0,C.L3)(),{baseOid:I,headOid:T}=(0,C.E4)(),A=(0,eA.u)("cotd_ui"),k=function(e){let t;if(e.isMultiline){let i="left"===e.startSide?"L":"R",n="left"===e.side?"L":"R";t=` lines ${i}${e.startLineNumber} to ${n}${e.lineNumber}`}else{let i="left"===e.side?"L":"R";t=` line ${i}${e.lineNumber}`}return t}(w),{mutate:O}=tP();v[14]!==A||v[15]!==O||v[16]!==t||v[17]!==D||v[18]!==T||v[19]!==R||v[20]!==L||v[21]!==c||v[22]!==u||v[23]!==w||v[24]!==I?(f=e=>{let{onCompleted:i,onError:n,submitBatch:a,text:r}=e;if(t)if(A){let e=new ReviewCommentFactory({filePath:u.filePath,newTreeEntry:R,oldTreeEntry:L,effectiveDiffRange:D,submitBatch:a,text:r});O(w.isMultiline?e.multilineRequestData({startLineNumber:w.startLineNumber,startSide:w.startSide,endLineNumber:w.lineNumber,endSide:w.side}):e.lineRequestData({lineNumber:w.lineNumber,side:w.side}),{onError:n,onSuccess:e=>{i?.(e.thread.id,e.comment?.databaseId),c?.()}})}else O({text:r,line:w.lineNumber,path:u.filePath,side:w.side,startSide:w.startSide,submitBatch:a,startLine:w.startLineNumber,comparisonEndOid:T,comparisonStartOid:I},{onError:n,onSuccess:e=>{i?.(e.thread.id,e.comment?.databaseId),c?.()}})},v[14]=A,v[15]=O,v[16]=t,v[17]=D,v[18]=T,v[19]=R,v[20]=L,v[21]=c,v[22]=u,v[23]=w,v[24]=I,v[25]=f):f=v[25];let M=f;e:{if(s&&E?.configureSuggestedChangesFromLineRange){let e;if(v[26]!==N||v[27]!==E){let t=N();e=E.configureSuggestedChangesFromLineRange(t,E?.shouldStartNewConversationWithSuggestedChange),v[26]=N,v[27]=E,v[28]=e}else e=v[28];p=e;break e}p=void 0}let P=p;if(!s)return null;v[29]===Symbol.for("react.memo_cache_sentinel")?(g=e=>{e.target===_.current&&_.current.querySelector("textarea")?.focus()},v[29]=g):g=v[29];let U=g,$=i?0:-1;v[30]!==d||v[31]!==S?(x=e=>{d(e),S("comments.cancel_thread_reply","CANCEL_REVIEW_THREAD_BUTTON")},v[30]=d,v[31]=S,v[32]=x):x=v[32];let B="left"===w.side;return v[33]!==k||v[34]!==P||v[35]!==M||v[36]!==u||v[37]!==w.lineNumber||v[38]!==w.startLineNumber||v[39]!==x||v[40]!==B?(y=(0,n.jsx)(ek,{onClose:x,showOnCloseIcon:!1,suggestedChangesConfig:P,onAddComment:M,addCommentDialogTitle:k,lineNumber:w.lineNumber,startLineNumber:w.startLineNumber,isLeftSide:B,...u}),v[33]=k,v[34]=P,v[35]=M,v[36]=u,v[37]=w.lineNumber,v[38]=w.startLineNumber,v[39]=x,v[40]=B,v[41]=y):y=v[41],v[42]!==$||v[43]!==y?(b=(0,n.jsx)("div",{className:"rounded-2 bgColor-default","data-marker-navigation-new-thread":!0,"data-marker-id":"new-comment",ref:_,tabIndex:$,onFocus:U,children:y}),v[42]=$,v[43]=y,v[44]=b):b=v[44],b}try{tY.displayName||(tY.displayName="StartConversation")}catch{}var tJ=i(2265);let tZ=tg.z0.ArrowAll;tg.z0.ArrowHorizontal,tg.z0.ArrowVertical,tg.z0.ArrowVertical,tg.z0.ArrowHorizontal;let MarkerNavigator=class MarkerNavigator{focusMarker(e){let t=this.markers.findIndex(t=>t.id.toString()===e.toString());-1!==t&&(this.currentMarkerPosition={markerId:e,index:t})}get focusedMarker(){if(this.currentMarkerPosition)return this.markers[this.currentMarkerPosition.index]}moveToFirstComment(e){if(0!==this.markers.length&&!e)return}moveToNextMarker(e,t){let i;if(0===this.markers.length)return;if(t){let e=t.closest("[data-marker-id]"),i=e?.getAttribute("data-marker-id");i&&(this.currentMarkerPosition={markerId:i,index:this.markers.findIndex(e=>e.id.toString()===i.toString())})}if(!this.currentMarkerPosition){let t="ArrowUp"===e?this.markers.length-1:0,i=this.markers[t];if(!i)return;return this.currentMarkerPosition={markerId:i.id,index:t},this.markers[t]}let n=0===this.currentMarkerPosition.index,a=this.currentMarkerPosition.index===this.markers.length-1;switch(e){case"ArrowDown":if(a)return;i=(this.currentMarkerPosition.index+1)%this.markers.length;break;case"ArrowUp":if(n)return;i=(this.currentMarkerPosition.index-1+this.markers.length)%this.markers.length;break;default:return}let r=this.markers[i];if(r)return this.currentMarkerPosition={markerId:r.id,index:i},r}moveToNextMarkerItem(e,t){let i;if(!t||!this.markerComments)return;let n=t.closest("[data-marker-id]"),a=n?.getAttribute("data-marker-id");if(!n||!a)return;let r=this.markerComments[a]||[];if(0===r.length)return;let l=t.getAttribute("data-marker-navigation-comment-id"),s=r.findIndex(e=>e.id===l);if(-1===s)return;let o=s===r.length-1;switch(e){case"ArrowDown":if(o)return;i=s+1;break;case"ArrowUp":if(0===s)return;i=s-1;break;default:return}let d=r[i];if(d)return this.currentMarkerCommentPosition={markerId:d.id,index:i},d}constructor(e,t,i){if((0,e2._)(this,"markers",void 0),(0,e2._)(this,"markerComments",null),(0,e2._)(this,"currentMarkerPosition",null),(0,e2._)(this,"currentMarkerCommentPosition",null),this.markers=e.map(e=>{let t=e.id;return{...e,id:t}}),this.markerComments=e.reduce((e,t)=>{let i=document.querySelectorAll(`[data-marker-navigation-comment-thread-id="${t.id}"]`);if(i){let n=Array.from(i).map(e=>({id:e.getAttribute("data-marker-navigation-comment-id")}));return{...e,[t.id.toString()]:n}}return e},{}),t&&!i){const e=this.markers.findIndex(e=>e.id.toString()===t.toString());-1!==e&&(this.currentMarkerPosition={markerId:t,index:e})}}};function t0({containerRef:e,markers:t,disabled:i=!1,focusInStrategy:n="previous"}){let a=(0,l.useRef)(void 0),r=(0,l.useRef)(void 0);(0,l.useEffect)(()=>{r.current=new MarkerNavigator(t,a.current?.focusedMarker?.id||void 0),a.current=r.current},[t]);let s=(0,l.useCallback)((e,t,i)=>{let n=i.key,a=!t1(t)&&!t2(t)&&!t6(t)&&!t3(t);switch(!0){case a&&("ArrowUp"===n||"ArrowDown"===n||"ArrowRight"===n||"ArrowLeft"===n):return t5(t)||t4(t)||void 0;case"ArrowUp"===n||"ArrowDown"===n:if(r.current&&t1(t)){let e=r.current.moveToNextMarker(n,t4(t));if(e)return document.querySelector(`[data-marker-id="${e.id}"]`)||void 0;return t}if(r.current&&t3(t)){let e=r.current.moveToNextMarker(n,t3(t));if(e)return document.querySelector(`[data-marker-id="${e.id}"]`)||void 0;return t}if(r.current&&t6(t)){let e=r.current.moveToNextMarkerItem(n,t6(t));if(e)return document.querySelector(`[data-marker-navigation-comment-id="${e.id}"]`)||void 0;return t}if(r.current&&t2(t)){let e=r.current.moveToNextMarkerItem(n,t);if(e)return document.querySelector(`[data-marker-navigation-comment-id="${e.id}"]`)||void 0}return t;case"ArrowRight"===n:if(t2(t))return t5(t);if(t1(t))return t?.querySelector('[data-first-thread-comment="true"]')||void 0;return t;case"ArrowLeft"===n:if(t1(t))return t4(t);if(t3(t))return t3(t);if(t6(t))return t6(t);if(t2(t))return t?.closest("[data-marker-id]")||void 0;return t;default:return t??void 0}},[r]);return(0,eX.G)({containerRef:e,bindKeys:tZ,getNextFocusable:s,focusableElementFilter:e=>!i&&!!(e.hasAttribute("data-marker-id")&&e.hasAttribute("data-marker-navigation-comment-id")),focusInStrategy:n,disabled:i},[s,i]),{markerNavigator:r}}function t1(e){return!!e?.hasAttribute("data-marker-id")}function t2(e){return!!e?.hasAttribute("data-marker-navigation-comment-id")}function t3(e){return e?.closest("[data-marker-navigation-new-thread]")??void 0}function t4(e){return e?.closest("[data-marker-id]")??void 0}function t5(e){return e?.closest("[data-marker-navigation-comment-id]")??void 0}function t6(e){return e?.closest("[data-marker-navigation-thread-reply]")??void 0}var t7=i(48505);let t8="a, audio, button, details, embed, iframe, img, input, keygen, label, object, select, textarea, video";function t9(e){for(let t of(e?.setAttribute("aria-hidden","false"),Array.from(e?.querySelectorAll("*")??[])))t?.setAttribute("aria-hidden","false");for(let t of Array.from(e?.querySelectorAll(t8)??[]))t.setAttribute("tabindex","0")}function ie(e){let t,i,n=(0,a.c)(7),{commentSubjectType:r,gridCellId:s,markerRef:o,isThread:d,thread:c}=e,u=void 0!==d&&d,m=B(s);n[0]!==r||n[1]!==m||n[2]!==u||n[3]!==o||n[4]!==c?(t=()=>{let e=null;if(!u||c){if(m)"commit"===r?e=setTimeout(()=>{t9(o.current)},100):t9(o.current);else{var t;t=o.current,t?.setAttribute("aria-hidden","true"),function e(i=0){setTimeout(()=>{let i=Array.from(t?.querySelectorAll("*")??[]),n=Array.from(t?.querySelectorAll(t8)??[]);if(0===n.length)return e(200);for(let e of i)e?.setAttribute("aria-hidden","true");for(let e of n)e.setAttribute("tabindex","-1")},i)}()}return()=>{e&&clearTimeout(e)}}},i=[m,r,o,u,c],n[0]=r,n[1]=m,n[2]=u,n[3]=o,n[4]=c,n[5]=t,n[6]=i):(t=n[5],i=n[6]),(0,l.useEffect)(t,i)}var it=i(86909);function ii(e){let t,i,r,s,o=(0,a.c)(14),{annotation:d,gridCellId:c,isFirstMarker:u}=e,m=(0,l.useRef)(null),h=B(c);o[0]!==c?(t={commentSubjectType:"pull request",gridCellId:c,markerRef:m},o[0]=c,o[1]=t):t=o[1],ie(t);let f=`annotation_${d.databaseId}`,p=u?"mb-1":"mb-2";o[2]!==p?(i=(0,x.$)("border rounded-2 color-border-default color-shadow-small overflow-hidden",p,"InlineAnnotation-module__inlineAnnotation--bVDzc"),o[2]=p,o[3]=i):i=o[3];let g=`annotation-${d.id}`,y=`${d.id}`,b=h?0:-1;return o[4]!==d?(r=(0,n.jsx)(it.YH,{annotation:d}),o[4]=d,o[5]=r):r=o[5],o[6]!==d.annotationLevel||o[7]!==f||o[8]!==i||o[9]!==g||o[10]!==y||o[11]!==b||o[12]!==r?(s=(0,n.jsx)("div",{id:f,ref:m,className:i,"data-level":d.annotationLevel,"data-testid":g,"data-marker-id":y,tabIndex:b,children:r}),o[6]=d.annotationLevel,o[7]=f,o[8]=i,o[9]=g,o[10]=y,o[11]=b,o[12]=r,o[13]=s):s=o[13],s}try{ii.displayName||(ii.displayName="InlineAnnotation")}catch{}var ia=i(33643),ir=i(75202),il=i(26607),is=i(72511),io=i(76720);function id(){let e,t,i,r=(0,a.c)(3);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(io.E.Visual,{children:(0,n.jsx)(d.AlertIcon,{size:24,className:"fgColor-muted mt-3 mb-3"})}),r[0]=e):e=r[0],r[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(io.E.Heading,{children:(0,n.jsx)("strong",{children:"Comments cannot be loaded right now"})}),r[1]=t):t=r[1],r[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)("div",{className:"position-relative",children:(0,n.jsxs)(io.E,{border:!0,children:[e,t,(0,n.jsx)("div",{className:"mb-n2",children:(0,n.jsx)(io.E.Description,{children:"Refresh the page or try again later"})}),(0,n.jsx)(io.E.SecondaryAction,{href:"https://www.githubstatus.com/",children:"GitHub status"})]})}),r[2]=i):i=r[2],i}try{id.displayName||(id.displayName="CommentErrorFallback")}catch{}let ic="InlineReviewThread-module__inlineReviewThreadHeading--CBLMR";var iu=i(11738),im=i(96760),ih=i(11680),ip=i(80081),ig=i(95542),ix=i(24058);function iy(e){let t,i,r,s,o,d,c,u,m,f,g=(0,a.c)(82),{batchingEnabled:x,commentAnchorPrefix:y,lineMarkersKey:b,disableDialogMode:v,enableDialogMode:S,filePath:_,gridCellId:N,isInlineComment:w,isInDialogMode:j,onDeleteLineComment:E,thread:R,threadPositionNumber:L,shouldLimitHeight:D,suggestedChangesConfig:I,viewerData:T,ghostUser:A}=e,k=void 0===D||D,[O,M]=(0,l.useState)(!1),[P,F]=(0,l.useState)(void 0),{sendAnalyticsEvent:U}=(0,tN.s)(),$=(0,C.Kp)(),B=(0,l.useRef)(null),q=(0,l.useRef)(null),{mutate:H}=function(e,t){let i,n,r,l=(0,a.c)(13),s=(0,C.Kp)(),o=(0,tT.jE)(),d=`${s}/page_data/${tD.uT.createReviewComment}`,{updateThread:c}=(0,C.an)(),{addPendingComment:u,clearPendingReview:m}=(0,C._N)();return l[0]!==d?(i=async e=>{let t=await (0,tk.Sr)(`${d}`,{method:"POST",headers:{Accept:"application/json"},body:e}),i=await (0,tI.hp)(t);return(0,tI.R)(t,i),i},l[0]=d,l[1]=i):i=l[1],l[2]!==u||l[3]!==s||l[4]!==m||l[5]!==e||l[6]!==t||l[7]!==o||l[8]!==c?(n=(i,n)=>(void 0!==n.submitBatch&&!n.submitBatch&&i.thread&&u(Number(i.thread.id)),n.submitBatch&&m(),c(Number(i.thread.id),e,t,e=>i.thread),o.invalidateQueries({queryKey:(0,tO.XG)(s)})),l[2]=u,l[3]=s,l[4]=m,l[5]=e,l[6]=t,l[7]=o,l[8]=c,l[9]=n):n=l[9],l[10]!==i||l[11]!==n?(r={mutationFn:i,onSuccess:n},l[10]=i,l[11]=n,l[12]=r):r=l[12],(0,tA.n)(r)}(_,b),{baseOid:G,headOid:V}=(0,C.E4)();g[0]!==H||g[1]!==V||g[2]!==_||g[3]!==U||g[4]!==G||g[5]!==R.commentsData?.comments?(t=e=>{let{commentText:t,onCompleted:i,onError:n,submitBatch:a}=e,r=R.commentsData?.comments[R.commentsData?.comments.length-1];H({text:t,submitBatch:a,inReplyTo:r?.databaseId,path:_,comparisonEndOid:V,comparisonStartOid:G},{onError:n,onSuccess:e=>{var t;(t=e.comment.databaseId)&&h(t.toString()),i?.()}}),U("comments.add","ADD_COMMENT_BUTTON")},g[0]=H,g[1]=V,g[2]=_,g[3]=U,g[4]=G,g[5]=R.commentsData?.comments,g[6]=t):t=g[6];let K=t;g[7]!==U?(i=()=>{M(!1),F(void 0),U("comments.cancel_thread_reply","CANCEL_REVIEW_THREAD_BUTTON"),p.cg?.requestAnimationFrame(()=>B.current?.focus())},g[7]=U,g[8]=i):i=g[8];let W=i;g[9]===Symbol.for("react.memo_cache_sentinel")?(r=e=>{F(e),M(!0)},g[9]=r):r=g[9];let z=r;if(!R.commentsData||null===R.commentsData.comments||R.commentsData.comments.length<1)return null;g[10]!==R?(s=(0,ip.Lm)(R),g[10]=R,g[11]=s):s=g[11];let Q=s;g[12]!==Q||g[13]!==R.subjectType?(o=R.subjectType?.toLowerCase()==="line"?{lineRange:Q}:void 0,g[12]=Q,g[13]=R.subjectType,g[14]=o):o=g[14];let X=o;g[15]!==O?(d=e=>{q.current===e.target&&(O?q.current?.querySelector("textarea")?.focus():B.current?.focus())},g[15]=O,g[16]=d):d=g[16];let Y=d;if(g[17]!==X||g[18]!==$||g[19]!==y||g[20]!==v||g[21]!==S||g[22]!==_||g[23]!==A||g[24]!==N||g[25]!==j||g[26]!==w||g[27]!==b||g[28]!==E||g[29]!==I||g[30]!==R.commentsData.__id||g[31]!==R.commentsData.comments||g[32]!==R.id||g[33]!==R.isResolved||g[34]!==R.positioning?.isOutdated||g[35]!==L||g[36]!==T){let e;g[38]!==X||g[39]!==$||g[40]!==y||g[41]!==v||g[42]!==S||g[43]!==_||g[44]!==A||g[45]!==N||g[46]!==j||g[47]!==w||g[48]!==b||g[49]!==E||g[50]!==I||g[51]!==R.commentsData.__id||g[52]!==R.commentsData.comments.length||g[53]!==R.id||g[54]!==R.isResolved||g[55]!==R.positioning?.isOutdated||g[56]!==L||g[57]!==T?(e=(e,t)=>(function(e,t){return e.reviewVariantType===t7.hH.Automated&&0===t})(e,t)?(0,n.jsx)(ir.t,{fallback:(0,n.jsx)(ig.k,{}),boundaryName:"AutomatedReviewThreadComment",children:(0,n.jsx)(ig.y,{anchorPrefix:y,basePath:$,comment:e,isAnchorable:!0,isInDialogMode:j,isOutdated:R.positioning?.isOutdated,onQuoteReply:z,threadId:R.id,threadPositionNumber:L},e.id)},e.id):(0,n.jsx)(ix.U,{lineMarkersKey:b,isAnchorable:!0,index:t,threadPositionNumber:L,isFirstComment:0===t,isInlineComment:w,isLastChild:t===(R.commentsData?.comments.length??0)-1,anchorPrefix:y,comment:e,commentConnectionId:R.commentsData?.__id,disableDialogMode:v,enableDialogMode:S,filePath:_,gridCellId:N,isInDialogMode:j,isOutdated:R.positioning?.isOutdated,threadId:R.id,onDeleteLineComment:E,onQuoteReply:z,threadCommentCount:R.commentsData?.comments.length,isThreadResolved:!!R.isResolved,suggestedChangesConfig:I,applySuggestedChangesValidationData:X,viewerData:T,ghostUser:A},e.id),g[38]=X,g[39]=$,g[40]=y,g[41]=v,g[42]=S,g[43]=_,g[44]=A,g[45]=N,g[46]=j,g[47]=w,g[48]=b,g[49]=E,g[50]=I,g[51]=R.commentsData.__id,g[52]=R.commentsData.comments.length,g[53]=R.id,g[54]=R.isResolved,g[55]=R.positioning?.isOutdated,g[56]=L,g[57]=T,g[58]=e):e=g[58],c=R.commentsData.comments.map(e),g[17]=X,g[18]=$,g[19]=y,g[20]=v,g[21]=S,g[22]=_,g[23]=A,g[24]=N,g[25]=j,g[26]=w,g[27]=b,g[28]=E,g[29]=I,g[30]=R.commentsData.__id,g[31]=R.commentsData.comments,g[32]=R.id,g[33]=R.isResolved,g[34]=R.positioning?.isOutdated,g[35]=L,g[36]=T,g[37]=c}else c=g[37];return g[59]!==R.reviewCommentsLimit||g[60]!==R.reviewCommentsLimitExceeded?(u=R.reviewCommentsLimitExceeded&&(0,n.jsx)(ih.l,{"aria-label":"Warning",title:"Warning",variant:"warning",hideTitle:!0,description:`Only the first ${(R.reviewCommentsLimit||0)-1} replies are currently being shown.`,className:"m-3"}),g[59]=R.reviewCommentsLimit,g[60]=R.reviewCommentsLimitExceeded,g[61]=u):u=g[61],g[62]!==K||g[63]!==x||g[64]!==W||g[65]!==_||g[66]!==Y||g[67]!==j||g[68]!==O||g[69]!==Q?.endLineNumber||g[70]!==Q?.startLineNumber||g[71]!==P||g[72]!==U||g[73]!==I||g[74]!==R.id||g[75]!==R.viewerCanReply?(m=R.viewerCanReply&&(0,n.jsxs)("div",{id:im.Bq.issueCommentComposer,className:"rounded-bottom-2 p-2 bgColor-inset","data-marker-navigation-comment-thread-id":R.id,"data-marker-navigation-comment-id":`${R.id}-reply-comment`,"data-marker-navigation-thread-reply":!0,tabIndex:j?0:-1,onFocus:Y,ref:q,children:[O&&(0,n.jsx)(eb,{startLineNumber:Q?.startLineNumber,lineNumber:Q?.endLineNumber,batchingEnabled:x,condensed:!1,fileLevelComment:!0,filePath:_,focusOnMount:!0,isReplying:!0,onCancelComment:W,quotedText:P,threadId:R.id,onAddComment:K,suggestedChangesConfig:I}),!O&&(0,n.jsx)(iu.z,{ref:B,onClick:()=>{U("comments.start_thread_reply","REPLY_TO_THREAD_INPUT_BUTTON"),M(!0)},children:"Write a reply"})]}),g[62]=K,g[63]=x,g[64]=W,g[65]=_,g[66]=Y,g[67]=j,g[68]=O,g[69]=Q?.endLineNumber,g[70]=Q?.startLineNumber,g[71]=P,g[72]=U,g[73]=I,g[74]=R.id,g[75]=R.viewerCanReply,g[76]=m):m=g[76],g[77]!==k||g[78]!==m||g[79]!==c||g[80]!==u?(f=(0,n.jsx)("div",{"data-testid":"review-thread",children:(0,n.jsxs)("div",{className:"ReviewThread-module__ReviewThreadContainer--s6e8A","data-limit-height":k,children:[c,u,m]})}),g[77]=k,g[78]=m,g[79]=c,g[80]=u,g[81]=f):f=g[81],f}try{iy.displayName||(iy.displayName="ReviewThread")}catch{}var ib=i(97695),iv=i(39698),iC=i(59672),iS=i(21067);function i_(e){if(e?.commentsData?.comments[0]?.automatedComment){let t=e.commentsData?.comments[0]?.automatedComment;return{...e,isResolved:!1,resolvedBy:void 0,commentsData:{...e.commentsData,comments:[{...e.commentsData.comments[0],automatedComment:{...t,isDismissed:!1,viewerCanDismiss:!0,viewerCanReopen:!1}},...e.commentsData.comments.slice(1)]}}}}var iN=i(73262);function iw(e){let t,i,r,l=(0,a.c)(20),{automatedComment:s,thread:o,filePath:d,lineMarkersKey:c,setErrorMessage:u,setIsCollapsed:m,safeLocalStorage:h}=e,{mutate:f,isPending:p,error:g}=function(e,t){let i,n,r,l,s=(0,a.c)(12),o=(0,C.Kp)();s[0]===Symbol.for("react.memo_cache_sentinel")?(i=(0,iS.cj)(),s[0]=i):i=s[0];let d=i,c=(0,tT.jE)(),{updateThread:u}=(0,C.an)();return s[1]!==o?(n=async e=>{let{automatedReviewCommentId:t,reason:i,resolutionNote:n}=e,a=(0,iC.L7I)({basePath:o,automatedReviewCommentId:t}),r=await (0,tI.q$)(a,{method:"PUT",body:{reason:i,resolution_note:n}});(0,tI.R)(r)},s[1]=o,s[2]=n):n=s[2],s[3]!==o||s[4]!==e||s[5]!==t||s[6]!==c||s[7]!==u?(r=(i,n)=>{u(Number(n.threadId),e,t,e=>{if(e?.commentsData?.comments[0]?.automatedComment){let t=e.commentsData?.comments[0]?.automatedComment;return{...e,isResolved:!0,resolvedBy:d,commentsData:{...e.commentsData,comments:[{...e.commentsData.comments[0],automatedComment:{...t,isDismissed:!0,viewerCanDismiss:!1,viewerCanReopen:!0}},...e.commentsData.comments.slice(1)]}}}}),c.invalidateQueries({queryKey:(0,tO.XG)(o)})},s[3]=o,s[4]=e,s[5]=t,s[6]=c,s[7]=u,s[8]=r):r=s[8],s[9]!==n||s[10]!==r?(l={mutationFn:n,onSuccess:r},s[9]=n,s[10]=r,s[11]=l):l=s[11],(0,tA.n)(l)}(d,c);l[0]!==s.id||l[1]!==f||l[2]!==h||l[3]!==u||l[4]!==m||l[5]!==o.id?(t=(e,t)=>{let{reason:i,resolutionNote:n}=e,{onSuccess:a}=t;f({automatedReviewCommentId:s.id,threadId:o.id,reason:i,resolutionNote:n},{onError:()=>u("Failed to dismiss"),onSuccess:()=>{a(),m(!0),h.removeItem(`reviewThreadIsCollapsed_${o.id}`)}})},l[0]=s.id,l[1]=f,l[2]=h,l[3]=u,l[4]=m,l[5]=o.id,l[6]=t):t=l[6];let x=t,{mutate:y,isPending:b}=function(e,t){let i,n,r,l=(0,a.c)(11),s=(0,C.Kp)(),o=(0,tT.jE)(),{updateThread:d}=(0,C.an)();return l[0]!==s?(i=async e=>{let{automatedReviewCommentId:t}=e,i=(0,iC.Aav)({basePath:s,automatedReviewCommentId:t}),n=await (0,tI.q$)(i,{method:"PUT"});(0,tI.R)(n)},l[0]=s,l[1]=i):i=l[1],l[2]!==s||l[3]!==e||l[4]!==t||l[5]!==o||l[6]!==d?(n=(i,n)=>{d(Number(n.threadId),e,t,i_),o.invalidateQueries({queryKey:(0,tO.XG)(s)})},l[2]=s,l[3]=e,l[4]=t,l[5]=o,l[6]=d,l[7]=n):n=l[7],l[8]!==i||l[9]!==n?(r={mutationFn:i,onSuccess:n},l[8]=i,l[9]=n,l[10]=r):r=l[10],(0,tA.n)(r)}(d,c);l[7]!==s.id||l[8]!==y||l[9]!==h||l[10]!==u||l[11]!==m||l[12]!==o.id?(i=()=>{y({automatedReviewCommentId:s.id,threadId:o.id},{onError:()=>u("Failed to reopen"),onSuccess:()=>{m(!1),h.removeItem(`reviewThreadIsCollapsed_${o.id}`)}})},l[7]=s.id,l[8]=y,l[9]=h,l[10]=u,l[11]=m,l[12]=o.id,l[13]=i):i=l[13];let v=i,S=p||b;return l[14]!==s||l[15]!==g||l[16]!==x||l[17]!==v||l[18]!==S?(r=(0,n.jsx)(iN.K,{automatedComment:s,dismissError:g,isButtonDisabled:S,onDismiss:x,onReopen:v,className:"p-2 border-top"}),l[14]=s,l[15]=g,l[16]=x,l[17]=v,l[18]=S,l[19]=r):r=l[19],r}try{iw.displayName||(iw.displayName="InlineAutomatedReviewThreadActions")}catch{}function ij(e){let t,i=(0,a.c)(2),{children:r}=e;return i[0]!==r?(t=(0,n.jsx)("span",{className:"text-semibold fgColor-default",children:r}),i[0]=r,i[1]=t):t=i[1],t}function iE({thread:e}){if(void 0===e)return null;let t=e.positioning??e.subject;return void 0!==t&&t.endDiffSide&&t.endLine?t.startLine&&t.startDiffSide&&t.startLine!==t.endLine?iL({positioning:t}):iR({positioning:t}):null}function iR(e){let t,i=(0,a.c)(3),{positioning:r}=e,l="LEFT"===r.endDiffSide?"L":"R",s=r.endLine??"";return i[0]!==l||i[1]!==s?(t=(0,n.jsxs)("h2",{className:ic,children:["Comment on line"," ",(0,n.jsxs)(ij,{children:[l,s]})]}),i[0]=l,i[1]=s,i[2]=t):t=i[2],t}function iL(e){let t,i,r,l=(0,a.c)(9),{positioning:s}=e,o="LEFT"===s.startDiffSide?"L":"R",d="LEFT"===s.endDiffSide?"L":"R",c=s.startLine??"";l[0]!==o||l[1]!==c?(t=(0,n.jsxs)(ij,{children:[o,c]}),l[0]=o,l[1]=c,l[2]=t):t=l[2];let u=s.endLine??"";return l[3]!==d||l[4]!==u?(i=(0,n.jsxs)(ij,{children:[d,u]}),l[3]=d,l[4]=u,l[5]=i):i=l[5],l[6]!==t||l[7]!==i?(r=(0,n.jsxs)("h2",{className:ic,children:["Comment on lines"," ",t," ","to"," ",i]}),l[6]=t,l[7]=i,l[8]=r):r=l[8],r}function iD(e){let t,i,r,s,o,c,m,h,f,p,g,y,b,v,S,_,N,w,j,E,R,D,I,T,A,k,O,M,P,U,$,q,H=(0,a.c)(99);H[0]!==e?({fileAnchor:t,filePath:i,gridCellId:s,onDeleteLineComment:m,threadId:p,threadPositionNumber:g,lineMarkersKey:c,threadsConnectionId:y,isFirstThread:o,ghostUser:r,suggestedChangesConfig:f,...h}=e,H[0]=e,H[1]=t,H[2]=i,H[3]=r,H[4]=s,H[5]=o,H[6]=c,H[7]=m,H[8]=h,H[9]=f,H[10]=p,H[11]=g,H[12]=y):(t=H[1],i=H[2],r=H[3],s=H[4],o=H[5],c=H[6],m=H[7],h=H[8],f=H[9],p=H[10],g=H[11],y=H[12]);let G=(0,C._W)(p,i,c),{mutate:V}=(0,ib.H)(i,c),K=()=>{G&&(V({threadId:G.id},{onError:()=>J("Failed to resolve thread"),onSuccess:()=>{ei(!0),z.removeItem(`reviewThreadIsCollapsed_${p}`)}}),ed("comments.resolve_thread","RESOLVE_CONVERSATION_BUTTON"))},W=(0,l.useRef)(null),z=(0,L.A)("localStorage"),Q=G?.isResolved,[X,Y]=(0,l.useState)(""),J=Y,[ee,et]=(0,l.useState)(Q??!1),ei=et,en=B(s),{disableDialogMode:ea,enableDialogMode:er}=F(Z);H[13]!==Q||H[14]!==p?(b=[Q,p],H[13]=Q,H[14]=p,H[15]=b):b=H[15],(0,l.useEffect)(()=>{let e=localStorage.getItem(`reviewThreadIsCollapsed_${p}`);null!==e?ei(JSON.parse(e)):Q&&ei(!0)},b);let el=()=>{window.requestAnimationFrame(()=>{z.setItem(`reviewThreadIsCollapsed_${p}`,JSON.stringify(!ee))}),ei(iT)};H[16]!==s||H[17]!==G?(v={commentSubjectType:"pull request",gridCellId:s,markerRef:W,isThread:!0,thread:G},H[16]=s,H[17]=G,H[18]=v):v=H[18],ie(v);e:{let e=G?.positioning??G?.subject;if(!e){S=void 0;break e}if(t&&G&&e.startDiffSide&&e.endDiffSide&&e.startLine&&e.endLine&&f?.configureSuggestedChangesFromLineRange){let i,n=e.startLine??e.endLine,a=e.startDiffSide??e.endDiffSide,r="LEFT"===e.endDiffSide?"left":"right",l="LEFT"===a?"left":"right",s="LEFT"===a?"left":"right";if(H[19]!==t||H[20]!==e.endLine||H[21]!==n||H[22]!==f||H[23]!==r||H[24]!==l||H[25]!==s){let a={diffAnchor:t,endLineNumber:e.endLine,endOrientation:r,startLineNumber:n,startOrientation:l,firstSelectedLineNumber:n,firstSelectedOrientation:s};i=f?.configureSuggestedChangesFromLineRange(a),H[19]=t,H[20]=e.endLine,H[21]=n,H[22]=f,H[23]=r,H[24]=l,H[25]=s,H[26]=i}else i=H[26];S=i;break e}S=void 0}let es=S,{sendAnalyticsEvent:eo}=(0,tN.s)(),ed=eo,{mutate:ec}=(0,iv.i)(i,c);H[27]!==z||H[28]!==ed||H[29]!==J||H[30]!==ei||H[31]!==G||H[32]!==ec?(_=()=>{G&&(ec({threadId:G.id},{onError:()=>J("Failed to unresolve thread"),onSuccess:()=>{ei(!1),z.removeItem(`reviewThreadIsCollapsed_${G.id}`)}}),ed("comments.unresolve_thread","RESOLVE_CONVERSATION_BUTTON"))},H[27]=z,H[28]=ed,H[29]=J,H[30]=ei,H[31]=G,H[32]=ec,H[33]=_):_=H[33];let eu=_,em=G?.commentsData?.comments[0]?.reviewVariantType===t7.hH.Automated,eh=em?G.commentsData?.comments[0]?.automatedComment:null,ef=eh&&eh.dismissable,ep=eh&&eh.source===t7.vk.LicenseCompliance;if(!G||!((G.commentsData?.comments?.length??0)>0))return null;let eg=!!G.isResolved;H[34]===Symbol.for("react.memo_cache_sentinel")?(N=(0,iS.M3)(),H[34]=N):N=H[34];let ex=N;H[35]!==G.commentsData?.comments?(w=ex&&G.commentsData?.comments?.some(iI),H[35]=G.commentsData?.comments,H[36]=w):w=H[36];let ey=w,eb=G.commentsData?.comments?.[0]?.createdAt,eC=G.commentsData?.comments?.[0]?.author?.login??"Unknown Author",eS=`${Q?"Unresolve":"Resolve"} comment`;if(eb){let e;H[37]!==eb?(e=(0,ia.C)(new Date(eb)),H[37]=eb,H[38]=e):e=H[38];let t=e;eS=`${Q?"Unresolve":"Resolve"} ${eC}'s comment, ${t}`}H[39]===Symbol.for("react.memo_cache_sentinel")?(j=(0,n.jsx)(id,{}),H[39]=j):j=H[39],H[40]===Symbol.for("react.memo_cache_sentinel")?(E=(0,x.$)("px-1","InlineReviewThread-module__ReviewThreadContainer--MW9GI"),H[40]=E):E=H[40];let e_=ee?"Expand comment":"Collapse comment",eN=ee?d.ChevronRightIcon:d.ChevronDownIcon;return H[41]!==el||H[42]!==o||H[43]!==e_||H[44]!==eN?(R=(0,n.jsx)(u.K,{"aria-label":e_,icon:eN,size:"small",variant:"invisible",onClick:el,"data-is-first-collapse-button":o}),H[41]=el,H[42]=o,H[43]=e_,H[44]=eN,H[45]=R):R=H[45],H[46]!==G?(D=(0,n.jsx)(iE,{thread:G}),H[46]=G,H[47]=D):D=H[47],H[48]!==G.positioning?.isOutdated?(I=G.positioning?.isOutdated&&(0,n.jsx)(il.A,{variant:"secondary",children:"Outdated"}),H[48]=G.positioning?.isOutdated,H[49]=I):I=H[49],H[50]!==em||H[51]!==eg?(T=eg&&!em&&(0,n.jsx)(il.A,{variant:"secondary",children:"Resolved"}),H[50]=em,H[51]=eg,H[52]=T):T=H[52],H[53]!==eh?.isDismissed?(A=eh?.isDismissed&&(0,n.jsx)(il.A,{variant:"secondary",children:"Dismissed"}),H[53]=eh?.isDismissed,H[54]=A):A=H[54],H[55]!==I||H[56]!==T||H[57]!==A?(k=(0,n.jsxs)("div",{className:"InlineReviewThread-module__ResolvableContainer--FkZ8G",children:[I,T,A]}),H[55]=I,H[56]=T,H[57]=A,H[58]=k):k=H[58],H[59]!==R||H[60]!==D||H[61]!==k?(O=(0,n.jsxs)("div",{className:E,children:[R,D,k]}),H[59]=R,H[60]=D,H[61]=k,H[62]=O):O=H[62],H[63]===Symbol.for("react.memo_cache_sentinel")?(M=(0,n.jsxs)("div",{className:"InlineReviewThread-module__ThreadLoading--UIhR9",children:[(0,n.jsx)(eU.A,{}),(0,n.jsx)("p",{children:"Loading comments"})]}),H[63]=M):M=H[63],H[64]!==X?(P=X&&(0,n.jsxs)(is.A,{variant:"danger",className:"m-2",children:[(0,n.jsx)(d.StopIcon,{className:"mr-2"}),X]}),H[64]=X,H[65]=P):P=H[65],H[66]!==eh||H[67]!==es||H[68]!==ea||H[69]!==ef||H[70]!==er||H[71]!==i||H[72]!==r||H[73]!==s||H[74]!==K||H[75]!==eu||H[76]!==ee||H[77]!==en||H[78]!==ey||H[79]!==Q||H[80]!==eg||H[81]!==ep||H[82]!==c||H[83]!==m||H[84]!==eS||H[85]!==h||H[86]!==z||H[87]!==J||H[88]!==ei||H[89]!==G||H[90]!==g||H[91]!==y?(U=!ee&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(iy,{lineMarkersKey:c,disableDialogMode:ea,enableDialogMode:er,filePath:i,gridCellId:s,onDeleteLineComment:m,isInlineComment:!0,isInDialogMode:en,thread:G,threadPositionNumber:g,threadsConnectionId:y,suggestedChangesConfig:es,shouldLimitHeight:!1,...h,ghostUser:r}),ey&&!ef&&!ep&&(0,n.jsxs)("div",{className:"d-flex flex-items-center p-2 border-top flex-wrap",children:[(0,n.jsx)(ev.Q,{"aria-label":eS,onClick:eg?eu:K,className:"mr-2",children:Q?"Unresolve comment":"Resolve comment"}),eg&&G.resolvedBy&&(0,n.jsxs)("span",{className:"fgColor-muted f6",children:[(0,n.jsx)("b",{children:G.resolvedBy})," marked this comment as resolved"]})]}),ef&&(0,n.jsx)(iw,{automatedComment:eh,thread:G,filePath:i,lineMarkersKey:c,setErrorMessage:J,setIsCollapsed:ei,safeLocalStorage:z})]}),H[66]=eh,H[67]=es,H[68]=ea,H[69]=ef,H[70]=er,H[71]=i,H[72]=r,H[73]=s,H[74]=K,H[75]=eu,H[76]=ee,H[77]=en,H[78]=ey,H[79]=Q,H[80]=eg,H[81]=ep,H[82]=c,H[83]=m,H[84]=eS,H[85]=h,H[86]=z,H[87]=J,H[88]=ei,H[89]=G,H[90]=g,H[91]=y,H[92]=U):U=H[92],H[93]!==P||H[94]!==U?($=(0,n.jsxs)(l.Suspense,{fallback:M,children:[P,U]}),H[93]=P,H[94]=U,H[95]=$):$=H[95],H[96]!==O||H[97]!==$?(q=(0,n.jsx)(ir.t,{boundaryName:"InlineReviewThread",fallback:j,children:(0,n.jsxs)("div",{className:"rounded-2 bgColor-default",ref:W,children:[O,$]})}),H[96]=O,H[97]=$,H[98]=q):q=H[98],q}function iI(e){return e.state?.toUpperCase()!=="PENDING"}function iT(e){return!e}try{ij.displayName||(ij.displayName="Emphasis")}catch{}try{iE.displayName||(iE.displayName="ThreadBanner")}catch{}try{iR.displayName||(iR.displayName="SingleLineThreadBanner")}catch{}try{iL.displayName||(iL.displayName="MultineLineThreadBanner")}catch{}try{iD.displayName||(iD.displayName="InlineReviewThread")}catch{}function iA(e,t,i){let n,r=(0,a.c)(5),{enableDialogMode:l}=F(Z);return r[0]!==t||r[1]!==i||r[2]!==l||r[3]!==e?(n=(n,a)=>{t.current?.classList.contains("diff-text-cell")&&(l(e),i("USER_EXPANDED_MARKERS"),(void 0===n?{shouldFocusFirstMarker:!0}:n).shouldFocusFirstMarker?setTimeout(()=>{t.current?.querySelector('[data-first-marker="true"]')?.focus()},0):a&&setTimeout(()=>{t.current?.querySelector(`[data-marker-id="${a}"]`)?.focus()},0))},r[0]=t,r[1]=i,r[2]=l,r[3]=e,r[4]=n):n=r[4],n}let ik={[t7.UZ.Failure]:0,[t7.UZ.Warning]:1,[t7.UZ.Notice]:2};function iO(e){let t,i=(0,a.c)(2);return i[0]!==e?(t=(0,n.jsx)(tJ.j,{children:(0,n.jsx)(iM,{...e})}),i[0]=e,i[1]=t):t=i[1],t}function iM(e){let t,i,r,s,o,c,m,h,f,g,y,b,v,S,_,N,w,j,E,R,L,D,I,T,A,k,O,M,P,U,$,q,H,G,V,K,W=(0,a.c)(109);if(W[0]!==e){let{annotations:n,cellRef:a,diffLine:l,dispatchMarkersStatus:d,children:u,conversationListThreads:p,inlineMarkersRef:x,isRowSelected:C,lineMarkersKey:R,fileAnchor:L,filePath:D,gridCellId:I,gutterSizeOffset:T,lineType:A,onCloseConversationList:k,onCloseFocusMode:O,onDeleteLineComment:M,threadsConnectionId:P,shouldStartNewConversationWithSuggestedChange:F,ghostUser:U,shouldListenForEscapeKey:$,...B}=e;t=n,i=a,o=l,c=d,r=u,s=p,b=x,v=R,m=L,h=D,g=I,y=T,S=O,_=M,E=P,j=F,f=U,w=$,N=B,W[0]=e,W[1]=t,W[2]=i,W[3]=r,W[4]=s,W[5]=o,W[6]=c,W[7]=m,W[8]=h,W[9]=f,W[10]=g,W[11]=y,W[12]=b,W[13]=v,W[14]=S,W[15]=_,W[16]=N,W[17]=w,W[18]=j,W[19]=E}else t=W[1],i=W[2],r=W[3],s=W[4],o=W[5],c=W[6],m=W[7],h=W[8],f=W[9],g=W[10],y=W[11],b=W[12],v=W[13],S=W[14],_=W[15],N=W[16],w=W[17],j=W[18],E=W[19];let z=B(g),{disableDialogMode:Q,enableDialogMode:X}=F(Z),Y=iA(g,i,c),J=(0,eA.u)("pr_simple_diffs"),ee=tE(o,j),et=(0,l.useRef)(null);W[20]!==t?(R=[...t].sort(i$),W[20]=t,W[21]=R):R=W[21];let ei=R;e:{let e;if(r){let e,t;W[22]===Symbol.for("react.memo_cache_sentinel")?(e={id:"new-comment"},W[22]=e):e=W[22],W[23]!==s||W[24]!==ei?(t=[...s,e,...ei],W[23]=s,W[24]=ei,W[25]=t):t=W[25],L=t;break e}W[26]!==s||W[27]!==ei?(e=[...s,...ei],W[26]=s,W[27]=ei,W[28]=e):e=W[28],L=e}let en=L,ea=iU;W[29]!==Q||W[30]!==g||W[31]!==S||W[32]!==w?(D=e=>{let t=e.target,i=e.target,n=i.closest(`[data-grid-cell-id=${g}]`);if(w&&n?.contains(t)&&e?.key==="Escape"){S(),Q(),n?.focus();return}if(n?.contains(t)&&"true"===i.getAttribute("data-exit-dialog-mode-button")&&!e?.shiftKey&&e?.key==="Tab"){e.preventDefault(),n?.querySelector('[data-is-first-collapse-button="true"]')?.focus();return}if(n?.contains(t)&&"true"===i.getAttribute("data-is-first-collapse-button")&&e?.shiftKey&&e?.key==="Tab"){e.preventDefault(),n?.querySelector('[data-exit-dialog-mode-button="true"]')?.focus();return}},W[29]=Q,W[30]=g,W[31]=S,W[32]=w,W[33]=D):D=W[33];let er=D;W[34]!==X||W[35]!==g||W[36]!==z?(I=e=>{ea(e),z||X(g)},W[34]=X,W[35]=g,W[36]=z,W[37]=I):I=W[37];let el=I;W[38]!==Q||W[39]!==z?(T=e=>{e.target&&z&&(e.target.closest("[data-inline-markers]")||Q())},W[38]=Q,W[39]=z,W[40]=T):T=W[40];let es=T;W[41]!==es?(A=()=>(p.XC?.addEventListener("mousedown",es),()=>p.XC?.removeEventListener("mousedown",es)),k=[es],W[41]=es,W[42]=A,W[43]=k):(A=W[42],k=W[43]),(0,l.useEffect)(A,k);let eo=(0,C.mF)(),ed=(0,l.useRef)(null);W[44]!==t||W[45]!==s||W[46]!==Y||W[47]!==eo?(O=()=>{if(eo&&ed.current!==eo){let e=s.map(iF),i=t.map(iP);(e.includes(eo)||i.includes(eo))&&(ed.current=eo,Y({shouldFocusFirstMarker:!1},eo))}},M=[eo,Y,s,t],W[44]=t,W[45]=s,W[46]=Y,W[47]=eo,W[48]=O,W[49]=M):(O=W[48],M=W[49]),(0,l.useEffect)(O,M);let ec=!z;W[50]!==en||W[51]!==ec?(P={containerRef:et,markers:en,disabled:ec},W[50]=en,W[51]=ec,W[52]=P):P=W[52],t0(P);let eu=z?"InlineMarkers-module__markersDialogActive--v0PSm":"";W[53]!==eu?(U=(0,x.$)("d-flex pt-1",eu),W[53]=eu,W[54]=U):U=W[54];let em=`-${y}`;W[55]!==em?($={marginRight:em},W[55]=em,W[56]=$):$=W[56];let eh=z?"false":"true";if(W[57]!==s||W[58]!==m||W[59]!==h||W[60]!==f||W[61]!==g||W[62]!==z||W[63]!==v||W[64]!==en||W[65]!==_||W[66]!==N||W[67]!==ee||W[68]!==E){let e;W[70]!==m||W[71]!==h||W[72]!==f||W[73]!==g||W[74]!==z||W[75]!==v||W[76]!==en||W[77]!==_||W[78]!==N||W[79]!==ee||W[80]!==E?(e=(e,t)=>(0,n.jsx)("div",{className:(0,x.$)("mt-1 border rounded-2 color-border-default color-shadow-small",t===en.length-1?"mb-1":"mb-2"),"data-first-marker":0===t,"data-marker-id":`${e.id}`,tabIndex:z?0:-1,children:(0,n.jsx)(iD,{threadPositionNumber:t+1,isFirstThread:0===t,filePath:h,lineMarkersKey:v,fileAnchor:m,gridCellId:g,onDeleteLineComment:_,threadId:e.id,threadsConnectionId:E,suggestedChangesConfig:ee,ghostUser:f,...N})},`review-thread-${e.id}`),W[70]=m,W[71]=h,W[72]=f,W[73]=g,W[74]=z,W[75]=v,W[76]=en,W[77]=_,W[78]=N,W[79]=ee,W[80]=E,W[81]=e):e=W[81],q=s.map(e),W[57]=s,W[58]=m,W[59]=h,W[60]=f,W[61]=g,W[62]=z,W[63]=v,W[64]=en,W[65]=_,W[66]=N,W[67]=ee,W[68]=E,W[69]=q}else q=W[69];if(W[82]!==g||W[83]!==en||W[84]!==ei){let e;W[86]!==g||W[87]!==en?(e=(e,t)=>{let i=0===t&&e===en[0];return(0,n.jsx)(ii,{annotation:e,gridCellId:g,isFirstMarker:i},`annotation-${e.id}`)},W[86]=g,W[87]=en,W[88]=e):e=W[88],H=ei.map(e),W[82]=g,W[83]=en,W[84]=ei,W[85]=H}else H=W[85];return W[89]!==r||W[90]!==q||W[91]!==H?(G=(0,n.jsxs)("div",{className:"InlineMarkers-module__markersWrapper--Fw1hl",ref:et,children:[q,r,H]}),W[89]=r,W[90]=q,W[91]=H,W[92]=G):G=W[92],W[93]!==i||W[94]!==s.length||W[95]!==Q||W[96]!==z||W[97]!==S||W[98]!==J?(V=z&&(0,n.jsx)(u.K,{icon:d.UndoIcon,className:(0,x.$)("InlineMarkers-module__closeMarkersDialogButton--wdW2G","ml-2 position-relative",0===s.length?"mt-2":"mt-1"),"aria-label":"Return to code","data-exit-dialog-mode-button":"true",variant:"default",size:"small",onMouseUp:()=>{S(),Q(),J&&i.current?.focus()},onKeyDown:e=>{("Enter"===e.key||"Space"===e.code)&&(S(),Q(),J&&i.current?.focus())}}),W[93]=i,W[94]=s.length,W[95]=Q,W[96]=z,W[97]=S,W[98]=J,W[99]=V):V=W[99],W[100]!==el||W[101]!==er||W[102]!==b||W[103]!==U||W[104]!==$||W[105]!==eh||W[106]!==G||W[107]!==V?(K=(0,n.jsxs)("div",{className:U,style:$,"aria-hidden":eh,onFocus:el,onClick:ea,onKeyDown:er,onKeyUp:ea,onMouseDown:ea,onMouseUp:ea,"data-inline-markers":!0,ref:b,children:[G,V]}),W[100]=el,W[101]=er,W[102]=b,W[103]=U,W[104]=$,W[105]=eh,W[106]=G,W[107]=V,W[108]=K):K=W[108],K}function iP(e){return e.id}function iF(e){return e.id}function iU(e){return e.stopPropagation()}function i$(e,t){return ik[e.annotationLevel]-ik[t.annotationLevel]}try{iO.displayName||(iO.displayName="InlineMarkers")}catch{}try{iM.displayName||(iM.displayName="InlineMarkersInternal")}catch{}var iB=i(18799),iq=i(40260);async function iH({diffLine:e,diffLines:t,getSelectedDiffLines:i,getSelectedLineRange:n,isSplit:a,isLeftSide:r}){let l,s=window.getSelection();if(s&&""!==s.toString())return void document.execCommand("copy");let o=i().length<=1;switch(!0){case o:l=iV(e);break;case a:l=iK({diffLines:t,diffOrientation:r?"left":"right",getSelectedLineRange:n});break;default:l=iG({diffLines:t,getSelectedLineRange:n})}await (0,iq.D)(l)}let iG=({diffLines:e,getSelectedLineRange:t})=>{let i=t();if(!i)return"";let{startOrientation:n,endOrientation:a,startLineNumber:r,endLineNumber:l}=i,s=0,o=0;return e.length>1&&(s=e.findIndex(e=>"left"===n?e.left===r:e.right===r),o=e.findIndex(e=>"left"===a?e.left===l:e.right===l)),(0,j.Ls)(e.slice(s,o+1))},iV=e=>(0,j.Po)(e)||!e?"":(0,j.Ls)([e]),iK=({diffLines:e,diffOrientation:t,getSelectedLineRange:i})=>{if(void 0===t)return"";let n=i();if(!n)return"";let a=(0,j.Mk)(e),{selectedRightLines:r,selectedLeftLines:l}=E({selectedLineRange:n,leftLines:a.leftLines,rightLines:a.rightLines});return"left"===t?(0,j.Ls)(l):(0,j.Ls)(r)},iW=(0,l.createContext)(null);function iz(e){let t,i,r,s,o,d,c=(0,a.c)(14),{children:u}=e,[m,h]=(0,l.useState)(!1),[f,p]=(0,l.useState)(),[g,x]=(0,l.useState)(),[y,b]=(0,l.useState)(),[v,C]=(0,l.useState)(),S=!!f||!!g||!!y||!!v;c[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{h(!0)},c[0]=t):t=c[0];let _=t;c[1]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{h(!1)},c[1]=i):i=c[1];let N=i;c[2]===Symbol.for("react.memo_cache_sentinel")?(r=(e,t,i)=>{switch(e){case"context-menu":p(t),C(void 0),b(void 0),x(void 0);break;case"new-conversation":C({cellId:t,withSuggestedChange:i?.withSuggestedChange}),p(void 0),b(void 0),x(void 0);break;case"marker-details":b(t),p(void 0),x(void 0),C(void 0);break;case"marker-list":x(t),p(void 0),C(void 0),b(void 0)}},c[2]=r):r=c[2];let w=r;c[3]===Symbol.for("react.memo_cache_sentinel")?(s=e=>{switch(e){case"context-menu":p(void 0);break;case"new-conversation":C(void 0);break;case"marker-details":b(void 0);break;case"marker-list":x(void 0)}},c[3]=s):s=c[3];let j=s;c[4]!==S||c[5]!==m||c[6]!==f||c[7]!==y||c[8]!==g||c[9]!==v?(o={isActionBarVisible:m,showActionBar:_,hideActionBar:N,closeDialog:j,openDialog:w,anyMenuOpen:S,openContextMenuCell:f,openMarkersListCell:g,openMarkerDetailsCell:y,openNewConversationCell:v},c[4]=S,c[5]=m,c[6]=f,c[7]=y,c[8]=g,c[9]=v,c[10]=o):o=c[10];let E=o;return c[11]!==u||c[12]!==E?(d=(0,n.jsx)(iW,{value:E,children:u}),c[11]=u,c[12]=E,c[13]=d):d=c[13],d}function iQ(){let e=(0,l.use)(iW);if(!e)throw Error("useMarkersDialogContext must be used within a MarkersDialogContextProvider");return e}try{iW.displayName||(iW.displayName="MarkersDialogContext")}catch{}try{iz.displayName||(iz.displayName="MarkersDialogContextProvider")}catch{}function iX(e){let t,i,n,r,s,o,d,c=(0,a.c)(27),{cellId:u,actionBarRef:m}=e,[h,f]=(0,l.useState)(m),{openDialog:p,closeDialog:g,openContextMenuCell:x,anyMenuOpen:y}=iQ(),b=x===u;c[0]!==u||c[1]!==p?(t=()=>{p("context-menu",u)},c[0]=u,c[1]=p,c[2]=t):t=c[2];let v=t;c[3]!==m||c[4]!==v?(i=()=>{f(m),v()},c[3]=m,c[4]=v,c[5]=i):i=c[5];let C=i;c[6]!==g?(n=()=>{g("context-menu")},c[6]=g,c[7]=n):n=c[7];let S=n;c[8]!==S||c[9]!==b||c[10]!==v?(r=()=>{b?S():v()},c[8]=S,c[9]=b,c[10]=v,c[11]=r):r=c[11];let _=r;c[12]!==m||c[13]!==_?(s=()=>{f(m),_()},c[12]=m,c[13]=_,c[14]=s):s=c[14];let N=s;c[15]!==g?(o=()=>{g("marker-list")},c[15]=g,c[16]=o):o=c[16];let w=o;return c[17]!==y||c[18]!==S||c[19]!==w||c[20]!==b||c[21]!==v||c[22]!==C||c[23]!==h||c[24]!==_||c[25]!==N?(d={isContextMenuOpen:b,openContextMenu:v,openContextMenuFromActionBar:C,closeContextMenu:S,toggleContextMenu:_,toggleContextMenuFromActionBar:N,closeMarkerListDialog:w,returnFocusRef:h,anyMenuOpen:y},c[17]=y,c[18]=S,c[19]=w,c[20]=b,c[21]=v,c[22]=C,c[23]=h,c[24]=_,c[25]=N,c[26]=d):d=c[26],d}function iY(e){let t,i,n,r,l,s=(0,a.c)(17),{cellId:o,onOpenDialog:d}=e,{openDialog:c,closeDialog:u,openNewConversationCell:m}=iQ(),{sendAnalyticsEvent:h}=(0,tN.s)(),f=m?.cellId===o;s[0]!==o||s[1]!==d||s[2]!==c?(t=e=>{d?.(),c("new-conversation",o,e)},s[0]=o,s[1]=d,s[2]=c,s[3]=t):t=s[3];let p=t;s[4]!==p?(i=()=>{p()},s[4]=p,s[5]=i):i=s[5];let g=i;s[6]!==p||s[7]!==h?(n=()=>{p({withSuggestedChange:!0}),h("diff.start_new_conversation_with_suggested_change","CELL_CONTEXT_MENU")},s[6]=p,s[7]=h,s[8]=n):n=s[8];let x=n;s[9]!==u?(r=()=>{u("new-conversation")},s[9]=u,s[10]=r):r=s[10];let y=r,b=m?.withSuggestedChange;return s[11]!==y||s[12]!==f||s[13]!==b||s[14]!==g||s[15]!==x?(l={isNewConversationDialogOpen:f,startNewConversation:g,startNewConversationWithSuggestedChange:x,closeNewConversation:y,shouldStartNewConversationWithSuggestedChange:b},s[11]=y,s[12]=f,s[13]=b,s[14]=g,s[15]=x,s[16]=l):l=s[16],l}function iJ(e){let t,i,n,r,s,o,d,c,u=(0,a.c)(29),{cellRef:m}=e,{showActionBar:h,hideActionBar:f,anyMenuOpen:p}=iQ(),[g,x]=(0,l.useState)(!1);u[0]!==h?(t=()=>{h()},u[0]=h,u[1]=t):t=u[1];let y=t;u[2]!==p||u[3]!==m||u[4]!==f?(i=e=>{p||m.current&&m.current.contains(e.relatedTarget)||f()},u[2]=p,u[3]=m,u[4]=f,u[5]=i):i=u[5];let b=i;u[6]!==h?(n=()=>{h()},u[6]=h,u[7]=n):n=u[7];let v=n;u[8]!==p||u[9]!==m||u[10]!==f?(r=()=>{p||m.current===document.activeElement||m.current?.contains(document.activeElement)&&document.activeElement?.getAttribute("data-add-comment-button")!=="true"||f()},u[8]=p,u[9]=m,u[10]=f,u[11]=r):r=u[11];let C=r;u[12]!==p||u[13]!==m||u[14]!==f?(s=e=>{m.current&&(p||(m.current.contains(e.relatedTarget)?m.current===e.relatedTarget&&x(!1):(f(),x(!1))))},u[12]=p,u[13]=m,u[14]=f,u[15]=s):s=u[15];let S=s;u[16]!==p?(o=e=>{p||(e.stopPropagation(),x(!0))},u[16]=p,u[17]=o):o=u[17];let _=o;u[18]!==p?(d=e=>{!p&&tv(e.key)&&e.stopPropagation()},u[18]=p,u[19]=d):d=u[19];let N=d;return u[20]!==S||u[21]!==_||u[22]!==N||u[23]!==b||u[24]!==y||u[25]!==v||u[26]!==C||u[27]!==g?(c={isActionBarFocused:g,handleCellBlur:b,handleCellFocus:y,handleCellMouseEnter:v,handleCellMouseLeave:C,handleActionBarBlur:S,handleActionBarFocusCapture:_,handleActionBarKeydownCapture:N},u[20]=S,u[21]=_,u[22]=N,u[23]=b,u[24]=y,u[25]=v,u[26]=C,u[27]=g,u[28]=c):c=u[28],c}var iZ=i(21513),i0=i(73783),i1=i(24494),i2=i(79036);let i3={compact:{avatarSize:18},relaxed:{avatarSize:20}};function i4({shouldAnimateRef:e,lineSpacingPreference:t="relaxed",threads:i,annotations:a}){(0,l.useEffect)(()=>{e?.current&&(e.current=!1)},[e]);let{avatarSize:r}=i3[t],s=i.length+a.length;if(0===s)return null;let d={},c=[];a.map(e=>{e?.annotationLevel&&c.push({id:e.id,level:e.annotationLevel})}),i.map(e=>e?.commentsData?.comments?.map(e=>{e?.author?d[e?.author.login]=e.author:tb?.login&&(d[tb.login]=tb)}));let u=[...c.sort((e,t)=>(i2.GF[e.level]?.priority||0)<(i2.GF[t.level]?.priority||0)?-1:1).map(t=>e?.current?(0,n.jsx)(i2.S,{annotationLevel:t.level},t.id):(0,n.jsx)(i2.Xh,{annotationLevel:t.level},t.id)),...Object.keys(d).map(e=>{let t=d[e]?.login,i=d[e]?.avatarUrl??(tb?.avatarUrl||" ");return(0,n.jsx)(o.r,{alt:t,size:20,src:i},t)})].slice(0,3),m=s>9?"9+":`${s}`;return(0,n.jsxs)("div",{className:(0,x.$)("d-flex","flex-justify-between","flex-items-center","CommentIndicator-module__commentIndicatorContainer--GS12p"),children:[(0,n.jsx)(i1.A,{disableExpand:!0,size:r,className:(0,x.$)("CommentIndicator-module__AvatarStack--LfU8D","relaxed"===t?"CommentIndicator-module__Relaxed--oSXaK":"CommentIndicator-module__Compact--Q1u86"),children:u}),(0,n.jsx)("span",{className:(0,x.$)("fgColor-default","ml-1","CommentIndicator-module__textStyles--ZLD5t"),children:m})]})}try{i4.displayName||(i4.displayName="CommentIndicator")}catch{}var i5=i(89141);function i6(e){let t,i,n,r,l=(0,a.c)(18),{currentHunk:s,nextHunk:o,previousHunk:d}=e,{addInjectedContextLines:c}=F(en),u=!!s&&0!==s.startBlobLineNumber,m=!!s&&!!o;l[0]!==c||l[1]!==u||l[2]!==s||l[3]!==d?(t=()=>{if(!u||!s)return;let e=d&&s&&d.endBlobLineNumber+20>s.startBlobLineNumber,t={start:Math.max(0,s.startBlobLineNumber-20),end:s.startBlobLineNumber};e&&(t.start=d.endBlobLineNumber+1),c(t)},l[0]=c,l[1]=u,l[2]=s,l[3]=d,l[4]=t):t=l[4];let h=t;l[5]!==c||l[6]!==m||l[7]!==s?(i=()=>{m&&s&&c({start:s.endBlobLineNumber+1,end:s.endBlobLineNumber+1+20})},l[5]=c,l[6]=m,l[7]=s,l[8]=i):i=l[8];let f=i;l[9]!==c||l[10]!==d?(n=()=>{d&&c({start:d.endBlobLineNumber+1,end:d.endBlobLineNumber+1+20})},l[9]=c,l[10]=d,l[11]=n):n=l[11];let p=n;return l[12]!==m||l[13]!==u||l[14]!==f||l[15]!==p||l[16]!==h?(r={expandStartOfHunk:h,expandEndOfHunk:f,expandEndOfPreviousHunk:p,canExpandEndOfHunk:m,canExpandStartOfHunk:u},l[12]=m,l[13]=u,l[14]=f,l[15]=p,l[16]=h,l[17]=r):r=l[17],r}var i7=i(29255);let i8={left:"L",right:"R"},i9="Add comment",ne="Suggest change";function nt(e,t,i){let n=i&&!(0,j.xB)(t)?i8.left:i8.right;return`${e} on line ${n}${t.blobLineNumber}`}function ni(e){let t,i,r,l,s,o,c,u,m,h,f,p,g,x,y,b=(0,a.c)(63),{diffLine:v,handleStartConversationWithSuggestedChange:C,handleStartConversation:S,isLeftSide:_,isSplit:N}=e,{selectMultipleLines:w}=F(ei),E=F(W),R=F(X);b[0]!==R?(t=R(),b[0]=R,b[1]=t):t=b[1];let L=t;b[2]!==E?(i=(0,j.Lp)(E()),b[2]=E,b[3]=i):i=b[3];let D=i,I=!!L;b[4]!==v||b[5]!==I?(r={line:v,isRowSelected:I},b[4]=v,b[5]=I,b[6]=r):r=b[6];let T=tL(r),A=D.leftLines[0],k=D.leftLines[D.leftLines.length-1];b[7]!==D.leftLines?(l=D.leftLines.every(nn),b[7]=D.leftLines,b[8]=l):l=b[8];let O=l,M=D.rightLines[0],P=D.rightLines[D.rightLines.length-1],U=0===D.rightLines.length,$=0===D.leftLines.length;b[9]!==A||b[10]!==S||b[11]!==C||b[12]!==k||b[13]!==w||b[14]!==L?(s=(e,t)=>{L&&k&&A&&A.left&&k.left&&A.key&&(w({endLineKey:k.key,endOrientation:"left",startLineKey:A.key,startOrientation:"left",firstLineSelectionOnDrag:{lineKey:A.key,lineNumber:A.left,orientation:"left",shouldStartConversation:!1}},ef),t?.withSuggestedChange?C():S())},b[9]=A,b[10]=S,b[11]=C,b[12]=k,b[13]=w,b[14]=L,b[15]=s):s=b[15];let B=s;b[16]!==M||b[17]!==S||b[18]!==C||b[19]!==P||b[20]!==w||b[21]!==L?(o=(e,t)=>{L&&P&&M&&M.right&&P.right&&M.key&&(w({endLineKey:P.key,endOrientation:"right",startLineKey:M.key,startOrientation:"right",firstLineSelectionOnDrag:{lineKey:M.key,lineNumber:M.right,orientation:"right",shouldStartConversation:!1}},ef),t?.withSuggestedChange?C():S())},b[16]=M,b[17]=S,b[18]=C,b[19]=P,b[20]=w,b[21]=L,b[22]=o):o=b[22];let q=o,H="DELETION"!==v.type;e:{if(!L){c=!1;break e}if(L.startOrientation!==L.endOrientation||L.startLineNumber!==L.endLineNumber){c=!0;break e}c=!1}let G=c,V=!1,K=!1;if(L&&G){let e,t=i8[L.startOrientation],i=i8[L.endOrientation];if(h=` on lines ${t}${L.startLineNumber}-${i}${L.endLineNumber}`,A&&k){let e;(V=!0,b[23]!==A||b[24]!==k||b[25]!==U)?(e=A.left===k.left?U?` on line L${A.left}`:`, original line L${A.left}`:U?` on lines L${A.left}-L${k.right}`:`, original lines L${A.left}-L${k.left}`,b[23]=A,b[24]=k,b[25]=U,b[26]=e):e=b[26],u=e}if(M&&P){let e;(K=!0,b[27]!==T||b[28]!==M||b[29]!==N||b[30]!==P||b[31]!==$)?(e=M.right===P.right?$||N&&T?` on line R${M.right}`:`, modified line R${P.right}`:$||N&&T?` on lines R${M.right}-R${P.right}`:`, modified lines R${M.right}-R${P.right}`,b[27]=T,b[28]=M,b[29]=N,b[30]=P,b[31]=$,b[32]=e):e=b[32],m=e}return b[33]!==T||b[34]!==O||b[35]!==H||b[36]!==S||b[37]!==C||b[38]!==q||b[39]!==B||b[40]!==N||b[41]!==U||b[42]!==m||b[43]!==u||b[44]!==K||b[45]!==V||b[46]!==h?(e=(0,n.jsx)(n.Fragment,{children:N?(0,n.jsx)(n.Fragment,{children:T?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(eE.l.Item,{onSelect:q,children:[(0,n.jsx)(eE.l.LeadingVisual,{children:(0,n.jsx)(d.PlusIcon,{})}),i9+m,(0,n.jsx)(eE.l.TrailingVisual,{children:(0,n.jsx)(i7.U,{keys:"Alt+n"})})]}),(0,n.jsxs)(eE.l.Item,{onSelect:e=>q(e,{withSuggestedChange:!0}),children:[(0,n.jsx)(eE.l.LeadingVisual,{children:(0,n.jsx)(d.PlusCircleIcon,{})}),ne+m]})]}):(0,n.jsxs)(n.Fragment,{children:[V?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(eE.l.Item,{onSelect:B,children:[(0,n.jsx)(eE.l.LeadingVisual,{children:(0,n.jsx)(d.PlusIcon,{})}),i9+u,(0,n.jsx)(eE.l.TrailingVisual,{children:(0,n.jsx)(i7.U,{keys:U?"Alt+n":"Alt+Shift+N"})})]}),O&&(0,n.jsxs)(eE.l.Item,{onSelect:e=>B(e,{withSuggestedChange:!0}),children:[(0,n.jsx)(eE.l.LeadingVisual,{children:(0,n.jsx)(d.PlusCircleIcon,{})}),ne+u]})]}):null,K?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(eE.l.Item,{onSelect:q,children:[(0,n.jsx)(eE.l.LeadingVisual,{children:(0,n.jsx)(d.PlusIcon,{})}),i9+m,(0,n.jsx)(eE.l.TrailingVisual,{children:(0,n.jsx)(i7.U,{keys:"Alt+n"})})]}),(0,n.jsxs)(eE.l.Item,{onSelect:e=>q(e,{withSuggestedChange:!0}),children:[(0,n.jsx)(eE.l.LeadingVisual,{children:(0,n.jsx)(d.PlusCircleIcon,{})}),ne+m]})]}):null]})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(eE.l.Item,{onSelect:S,children:[(0,n.jsx)(eE.l.LeadingVisual,{children:(0,n.jsx)(d.PlusIcon,{})}),i9+h]}),H&&O&&(0,n.jsxs)(eE.l.Item,{onSelect:C,children:[(0,n.jsx)(eE.l.LeadingVisual,{children:(0,n.jsx)(d.PlusCircleIcon,{})}),ne+h]})]})}),b[33]=T,b[34]=O,b[35]=H,b[36]=S,b[37]=C,b[38]=q,b[39]=B,b[40]=N,b[41]=U,b[42]=m,b[43]=u,b[44]=K,b[45]=V,b[46]=h,b[47]=e):e=b[47],e}return b[48]===Symbol.for("react.memo_cache_sentinel")?(f=(0,n.jsx)(eE.l.LeadingVisual,{children:(0,n.jsx)(d.PlusIcon,{})}),b[48]=f):f=b[48],b[49]!==_||b[50]!==v?(p=nt(i9,v,_),b[49]=_,b[50]=v,b[51]=p):p=b[51],b[52]!==S||b[53]!==p?(g=(0,n.jsxs)(eE.l.Item,{onSelect:S,children:[f,p]}),b[52]=S,b[53]=p,b[54]=g):g=b[54],b[55]!==H||b[56]!==C||b[57]!==_||b[58]!==v?(x=H&&(0,n.jsxs)(eE.l.Item,{onSelect:C,children:[(0,n.jsx)(eE.l.LeadingVisual,{children:(0,n.jsx)(d.PlusCircleIcon,{})}),nt(ne,v,_)]}),b[55]=H,b[56]=C,b[57]=_,b[58]=v,b[59]=x):x=b[59],b[60]!==g||b[61]!==x?(y=(0,n.jsxs)(n.Fragment,{children:[g,x]}),b[60]=g,b[61]=x,b[62]=y):y=b[62],y}function nn(e){return"DELETION"!==e.type}try{ni.displayName||(ni.displayName="StartConversationContextMenuItems")}catch{}var na=i(66358);function nr(e){let t,i,r,l,s,o,d,c=(0,a.c)(27);return c[0]!==e?(t=(0,n.jsx)(nc,{...e}),c[0]=e,c[1]=t):t=c[1],c[2]!==e.copilotChatReference||c[3]!==e.diffAnchor||c[4]!==e.diffLine||c[5]!==e.isLeftSide||c[6]!==e.viewerData.shouldDisplayComments?(i=e.viewerData.shouldDisplayComments&&(0,n.jsx)(no,{diffAnchor:e.diffAnchor,diffLine:e.diffLine,fileDiffReference:e.copilotChatReference,isLeftSide:e.isLeftSide}),c[2]=e.copilotChatReference,c[3]=e.diffAnchor,c[4]=e.diffLine,c[5]=e.isLeftSide,c[6]=e.viewerData.shouldDisplayComments,c[7]=i):i=c[7],c[8]!==e.handleCopyCode?(r=(0,n.jsx)(np,{handleCopyCode:e.handleCopyCode}),c[8]=e.handleCopyCode,c[9]=r):r=c[9],c[10]!==e.diffAnchor?(l=(0,n.jsx)(nd,{diffAnchor:e.diffAnchor}),c[10]=e.diffAnchor,c[11]=l):l=c[11],c[12]!==e.diffAnchor||c[13]!==e.diffLine||c[14]!==e.viewerData.shouldDisplayComments?(s=e.viewerData.shouldDisplayComments&&(0,n.jsx)(nl,{diffAnchor:e.diffAnchor,diffLine:e.diffLine}),c[12]=e.diffAnchor,c[13]=e.diffLine,c[14]=e.viewerData.shouldDisplayComments,c[15]=s):s=c[15],c[16]!==e.currentHunk||c[17]!==e.nextHunk||c[18]!==e.previousHunk?(o=(0,n.jsx)(nx,{currentHunk:e.currentHunk,nextHunk:e.nextHunk,previousHunk:e.previousHunk}),c[16]=e.currentHunk,c[17]=e.nextHunk,c[18]=e.previousHunk,c[19]=o):o=c[19],c[20]!==t||c[21]!==i||c[22]!==r||c[23]!==l||c[24]!==s||c[25]!==o?(d=(0,n.jsxs)(n.Fragment,{children:[t,i,r,l,s,o]}),c[20]=t,c[21]=i,c[22]=r,c[23]=l,c[24]=s,c[25]=o,c[26]=d):d=c[26],d}function nl(e){let t,i,r,l,s=(0,a.c)(8),{diffLine:o,diffAnchor:c}=e,u=F(X);s[0]!==c||s[1]!==u||s[2]!==o?(t=()=>{let e=u(),t=(0,j.j2)({line:o,range:e,fileAnchor:c});t&&(0,iq.D)(t)},s[0]=c,s[1]=u,s[2]=o,s[3]=t):t=s[3];let m=t;return s[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(eE.l.LeadingVisual,{children:(0,n.jsx)(d.LinkIcon,{})}),s[4]=i):i=s[4],s[5]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsx)(eE.l.TrailingVisual,{children:(0,n.jsx)(i7.U,{keys:"Mod+Alt+y"})}),s[5]=r):r=s[5],s[6]!==m?(l=(0,n.jsxs)(eE.l.Item,{onSelect:m,onMouseDown:ns,children:[i,"Copy link",r]}),s[6]=m,s[7]=l):l=s[7],l}function ns(e){window.getSelection()?.toString()!==""&&e.preventDefault()}let no=e=>{let t,i,r=(0,a.c)(8),l=F(X);if(r[0]!==l||r[1]!==e.diffAnchor||r[2]!==e.diffLine||r[3]!==e.isLeftSide){let i=l();t=(0,j.Av)(i,e.diffLine,e.isLeftSide,e.diffAnchor),r[0]=l,r[1]=e.diffAnchor,r[2]=e.diffLine,r[3]=e.isLeftSide,r[4]=t}else t=r[4];let s=t;return e.fileDiffReference?(r[5]!==s||r[6]!==e.fileDiffReference?(i=(0,n.jsx)(i5.w,{showDivider:!0,selectedRange:s,fileDiffReference:e.fileDiffReference}),r[5]=s,r[6]=e.fileDiffReference,r[7]=i):i=r[7],i):null};function nd(e){let t,i,r,l,s=(0,a.c)(6),{diffAnchor:o}=e;s[0]!==o?(t=()=>{setTimeout(()=>{document.querySelector(`table[data-diff-anchor="${o}"]`)?.dispatchEvent(new KeyboardEvent("keydown",{key:"a",code:"KeyA",ctrlKey:!0}))})},s[0]=o,s[1]=t):t=s[1];let c=t;return s[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(eE.l.LeadingVisual,{children:(0,n.jsx)(d.MultiSelectIcon,{})}),s[2]=i):i=s[2],s[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsx)(eE.l.TrailingVisual,{children:(0,n.jsx)(i7.U,{keys:"Mod+a"})}),s[3]=r):r=s[3],s[4]!==c?(l=(0,n.jsxs)(eE.l.Item,{onSelect:c,children:[i,"Select all",r]}),s[4]=c,s[5]=l):l=s[5],l}function nc(e){let t,i,r,l,s=(0,a.c)(21),{diffLine:o,handleViewMarkersSelection:d,isLeftSide:c,isSplit:u,shouldDisplayCollapseComments:m,showStartConversation:h,startConversationCurrentLine:f,startConversationWithSuggestedChange:p,threads:g,annotations:x,viewerData:y}=e,b=x.length>0;return h||g||b?(s[0]!==o||s[1]!==c||s[2]!==u||s[3]!==h||s[4]!==f||s[5]!==p||s[6]!==y.shouldDisplayComments?(t=y.shouldDisplayComments&&h&&(0,n.jsx)(ni,{diffLine:o,handleStartConversation:f,handleStartConversationWithSuggestedChange:p,isLeftSide:c,isSplit:u}),s[0]=o,s[1]=c,s[2]=u,s[3]=h,s[4]=f,s[5]=p,s[6]=y.shouldDisplayComments,s[7]=t):t=s[7],s[8]!==x||s[9]!==o||s[10]!==d||s[11]!==c||s[12]!==u||s[13]!==m||s[14]!==g||s[15]!==y?(i=(0,n.jsx)(nu,{threads:g,annotations:x,diffLine:o,handleViewMarkersSelection:d,isLeftSide:c,isSplit:u,shouldDisplayCollapseComments:m,viewerData:y}),s[8]=x,s[9]=o,s[10]=d,s[11]=c,s[12]=u,s[13]=m,s[14]=g,s[15]=y,s[16]=i):i=s[16],s[17]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsx)(eE.l.Divider,{}),s[17]=r):r=s[17],s[18]!==t||s[19]!==i?(l=(0,n.jsxs)(n.Fragment,{children:[t,i,r]}),s[18]=t,s[19]=i,s[20]=l):l=s[20],l):null}function nu(e){let t,i=(0,a.c)(14),{diffLine:r,handleViewMarkersSelection:l,isLeftSide:s,isSplit:o,threads:d,annotations:c,shouldDisplayCollapseComments:u,viewerData:m}=e;if(m.commentsPreference===iB.sI.Visible)return null;if(!o){let e,t;return i[0]!==l?(e=()=>l(),i[0]=l,i[1]=e):e=i[1],i[2]!==c||i[3]!==r||i[4]!==u||i[5]!==e||i[6]!==d?(t=(0,n.jsx)(nh,{threads:d,annotations:c,diffLine:r,onSelect:e,shouldDisplayCollapseComments:u}),i[2]=c,i[3]=r,i[4]=u,i[5]=e,i[6]=d,i[7]=t):t=i[7],t}return i[8]!==c||i[9]!==l||i[10]!==s||i[11]!==u||i[12]!==d?(t=(0,n.jsx)(nm,{threads:d,annotations:c,handleViewMarkersSelection:l,isLeftSide:s,shouldDisplayCollapseComments:u}),i[8]=c,i[9]=l,i[10]=s,i[11]=u,i[12]=d,i[13]=t):t=i[13],t}function nm(e){let t,i,r=(0,a.c)(13),{handleViewMarkersSelection:l,isLeftSide:s,shouldDisplayCollapseComments:o,threads:d,annotations:c}=e,u=d.length>0,m=c.length>0;if(s){let e,t;return r[0]!==l||r[1]!==u||r[2]!==o?(e=u&&(0,n.jsx)(nf,{text:o?"Collapse comments":"Expand comments",onSelect:()=>l("LEFT")}),r[0]=l,r[1]=u,r[2]=o,r[3]=e):e=r[3],r[4]!==e?(t=(0,n.jsx)(n.Fragment,{children:e}),r[4]=e,r[5]=t):t=r[5],t}return r[6]!==l||r[7]!==m||r[8]!==u||r[9]!==o?(t=(u||m)&&(0,n.jsx)(nf,{text:o?"Collapse comments":"Expand comments",onSelect:()=>l("RIGHT")}),r[6]=l,r[7]=m,r[8]=u,r[9]=o,r[10]=t):t=r[10],r[11]!==t?(i=(0,n.jsx)(n.Fragment,{children:t}),r[11]=t,r[12]=i):i=r[12],i}function nh(e){let t,i,r=(0,a.c)(5),{diffLine:l,onSelect:s,threads:o,annotations:d,shouldDisplayCollapseComments:c}=e;if(!(l&&(o.length>0||d.length>0)))return null;let u=c?"Collapse comments":"Expand comments";return r[0]!==s?(t=()=>s(),r[0]=s,r[1]=t):t=r[1],r[2]!==u||r[3]!==t?(i=(0,n.jsx)(nf,{text:u,onSelect:t}),r[2]=u,r[3]=t,r[4]=i):i=r[4],i}function nf(e){let t,i,r=(0,a.c)(4),{onSelect:l,text:s}=e;return r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(eE.l.LeadingVisual,{children:(0,n.jsx)(d.CommentDiscussionIcon,{})}),r[0]=t):t=r[0],r[1]!==l||r[2]!==s?(i=(0,n.jsxs)(eE.l.Item,{onSelect:l,children:[t,s]}),r[1]=l,r[2]=s,r[3]=i):i=r[3],i}function np(e){let t,i,r,l=(0,a.c)(4),{handleCopyCode:s}=e;return l[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(eE.l.LeadingVisual,{children:(0,n.jsx)(d.CopyIcon,{})}),l[0]=t):t=l[0],l[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(eE.l.TrailingVisual,{children:(0,n.jsx)(i7.U,{keys:"Mod+c"})}),l[1]=i):i=l[1],l[2]!==s?(r=(0,n.jsxs)(eE.l.Item,{onSelect:s,onMouseDown:ng,children:[t,"Copy",i]}),l[2]=s,l[3]=r):r=l[3],r}function ng(e){window.getSelection()?.toString()!==""&&e.preventDefault()}function nx(e){let t,i,r,l,s=(0,a.c)(12),{currentHunk:o,nextHunk:d,previousHunk:c}=e,u=F(J);s[0]!==o||s[1]!==d||s[2]!==c?(t={currentHunk:o,nextHunk:d,previousHunk:c},s[0]=o,s[1]=d,s[2]=c,s[3]=t):t=s[3];let{canExpandStartOfHunk:m,canExpandEndOfHunk:h}=i6(t);return m||h||c||d?(s[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(eE.l.Divider,{}),s[4]=i):i=s[4],s[5]!==o||s[6]!==u||s[7]!==d||s[8]!==c?(r=u.has(na.YR.expandLines)?null:(0,n.jsx)(ny,{currentHunk:o,nextHunk:d,previousHunk:c}),s[5]=o,s[6]=u,s[7]=d,s[8]=c,s[9]=r):r=s[9],s[10]!==r?(l=(0,n.jsxs)(n.Fragment,{children:[i,r]}),s[10]=r,s[11]=l):l=s[11],l):null}function ny(e){let t,i,r,l,s=(0,a.c)(13),{currentHunk:o,nextHunk:c,previousHunk:u}=e;s[0]!==o||s[1]!==c||s[2]!==u?(t={currentHunk:o,nextHunk:c,previousHunk:u},s[0]=o,s[1]=c,s[2]=u,s[3]=t):t=s[3];let{canExpandStartOfHunk:m,expandEndOfHunk:h,expandStartOfHunk:f,canExpandEndOfHunk:p}=i6(t);return s[4]!==m||s[5]!==f?(i=m&&(0,n.jsxs)(eE.l.Item,{onSelect:f,children:[(0,n.jsx)(eE.l.LeadingVisual,{children:(0,n.jsx)(d.FoldUpIcon,{})}),"Expand above"]}),s[4]=m,s[5]=f,s[6]=i):i=s[6],s[7]!==p||s[8]!==h?(r=p&&(0,n.jsxs)(eE.l.Item,{onSelect:h,children:[(0,n.jsx)(eE.l.LeadingVisual,{children:(0,n.jsx)(d.FoldDownIcon,{})}),"Expand below"]}),s[7]=p,s[8]=h,s[9]=r):r=s[9],s[10]!==i||s[11]!==r?(l=(0,n.jsxs)(n.Fragment,{children:[i,r]}),s[10]=i,s[11]=r,s[12]=l):l=s[12],l}try{nr.displayName||(nr.displayName="CellContextMenu")}catch{}try{nl.displayName||(nl.displayName="CopyAnchorLink")}catch{}try{nd.displayName||(nd.displayName="SelectAllListItem")}catch{}try{nc.displayName||(nc.displayName="MarkerListItems")}catch{}try{nu.displayName||(nu.displayName="ViewMarkerListItems")}catch{}try{nm.displayName||(nm.displayName="SplitDiffMarkersListItems")}catch{}try{nh.displayName||(nh.displayName="UnifiedDiffMarkerListItem")}catch{}try{nf.displayName||(nf.displayName="MarkerListItem")}catch{}try{np.displayName||(np.displayName="CopyContentListItems")}catch{}try{nx.displayName||(nx.displayName="HunkListItems")}catch{}try{ny.displayName||(ny.displayName="ExpandHunksListItems")}catch{}var nb=i(17998);function nv(e){let t,i=(0,a.c)(4),{authorAvatarUrl:r,authorLogin:l,lineSpacingPreference:s}=e,o="compact"===s?18:20,c=`${l}'s avatar image with pending indicator`;return i[0]!==r||i[1]!==o||i[2]!==c?(t=(0,n.jsx)(nb.k,{altText:c,icon:d.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",square:!1,size:o,src:r,backgroundClassName:"InProgressCommentIndicator-module__statusAvatarBackground--xzHl8",className:"InProgressCommentIndicator-module__statusAvatar--BNNHX"}),i[0]=r,i[1]=o,i[2]=c,i[3]=t):t=i[3],t}try{nv.displayName||(nv.displayName="InProgressCommentIndicator")}catch{}let nC="ActionBar-module__action-bar-position--cMcOj",nS="ActionBar-module__addCommentButton--gIYSg",n_="ActionBar-module__addCommentButtonDraftCompact--HKIKU",nN="ActionBar-module__addCommentButtonDraftRelaxed--_qJPM",nw="ActionBar-module__addCommentButtonNew--j1kFj",nj="ActionBar-module__actionBarArrowSizing--L93H4",nE="ActionBar-module__actionBarHeight--wiyuB",nR="ActionBar-module__actionBarStartCommentWidth--TTHf8",nL="ActionBar-module__action-bar-button-group--G1uFN";var nD=i(85933),nI=i(82518),nT=i(73349);function nA({ref:e=null,annotations:t,authorAvatarUrl:i,authorLogin:a,cellId:r,cellRef:s,copilotChatReference:o,currentHunk:c,diffAnchor:u,diffLine:m,enterDialogMode:h,hasDraftComment:f,handleCopyCode:p,isLeftSide:g,isSplit:y,nextHunk:b,onMouseDownAddCommentButton:v,onMouseLeaveAddCommentButton:C,previousHunk:S,shouldDisplayCollapseComments:_,shouldDisplayMinimizedComments:N,showStartConversation:w,threads:j,toggleViewingMarkers:E,viewerData:R}){let L=(0,l.useRef)(null),D=(0,l.useRef)(null),{lineSpacingPreference:I,commentsPreference:T}=R,A=(0,l.useRef)(null),{sendAnalyticsEvent:k}=(0,tN.s)(),O=(0,nT.J)(),M=L.current?L:D;(0,iZ.T)(e,M);let P=j.reduce((e,t)=>e+(t.commentsData?.comments.length??0),0),F=t.length,{isActionBarFocused:U,handleActionBarBlur:$,handleActionBarFocusCapture:B,handleActionBarKeydownCapture:q}=iJ({cellRef:s}),{isContextMenuOpen:H,anyMenuOpen:G,toggleContextMenu:V,toggleContextMenuFromActionBar:K}=iX({cellId:r,actionBarRef:A}),{startNewConversation:W,startNewConversationWithSuggestedChange:z}=iY({cellId:r,onOpenDialog:h}),Q=(0,l.useCallback)(e=>{let t=O();(0,nD.X)()?.registerCallback({event:e.nativeEvent,cb:e=>{k("diff-lines.inp_interaction","PRS_ADD_COMMENT_BUTTON_CLICK",{latency:e.latency}),(0,nI.au)({name:"PRS_ADD_COMMENT_BUTTON_CLICK",tags:t,value:e.latency})}}),e.stopPropagation(),W()},[O,W,k]),X=P+F>0&&T===iB.sI.Collapsed,Y={onBlur:$,onFocusCapture:B,onKeyDownCapture:q},J=(0,l.useCallback)(e=>{(1===j.length||1===t.length)&&e.preventDefault(),E?.()},[t.length,j.length,E]);return(0,n.jsxs)(n.Fragment,{children:[w&&(0,n.jsx)("div",{"aria-hidden":!U,className:(0,x.$)("d-flex","flex-row",nS),children:(0,n.jsx)(n.Fragment,{children:f?(0,n.jsx)(ev.Q,{"aria-label":"Continue comment in progress",size:"small",className:(0,x.$)("py-0","compact"===I?n_:nN,nE),onClick:W,...Y,children:(0,n.jsx)(nv,{lineSpacingPreference:I,authorAvatarUrl:i,authorLogin:a})}):(0,n.jsx)(ev.Q,{icon:d.PlusIcon,"aria-label":"Add comment",ref:D,size:"small","data-add-comment-button":!0,className:(0,x.$)("fgColor-muted","bgColor-accent-emphasis","borderColor-accent-emphasis","fgColor-onEmphasis","px-0",nw,nE,nR),onClick:Q,onMouseDown:v,onMouseLeave:C,...Y})})}),(0,n.jsx)("div",{"aria-hidden":!U,className:(0,x.$)("d-flex","flex-row",nC),children:(0,n.jsxs)(i0.A,{className:nL,...Y,children:[X&&N&&(0,n.jsx)(ev.Q,{ref:L,"aria-expanded":G,"aria-label":"View comments",size:"small",className:(0,x.$)("py-0","px-1",nE),onClick:J,children:(0,n.jsx)(i4,{threads:j,annotations:t,lineSpacingPreference:I})}),(0,n.jsxs)(ej.W,{anchorRef:A,open:H,onOpenChange:V,children:[(0,n.jsx)(ej.W.Anchor,{children:(0,n.jsx)(ev.Q,{ref:A,"aria-haspopup":"true","aria-label":"More actions",icon:d.TriangleDownIcon,size:"small",className:(0,x.$)("fgColor-muted",nj),onClick:K})}),(0,n.jsx)(ej.W.Overlay,{width:"medium",children:(0,n.jsx)(eE.l,{children:(0,n.jsx)(nr,{threads:j,annotations:t,currentHunk:c,diffAnchor:u,diffLine:m,shouldDisplayCollapseComments:_,copilotChatReference:o,showStartConversation:w,handleCopyCode:p,handleViewMarkersSelection:E,isLeftSide:g,isSplit:y,nextHunk:b,previousHunk:S,startConversationCurrentLine:W,startConversationWithSuggestedChange:z,viewerData:R})})})]})]})})]})}function nk(e){let t,i,r=(0,a.c)(5),{threadCount:l,annotationCount:s}=e;r[0]!==s||r[1]!==l?(t=function(e,t){let i=t>0,n=e>0;switch(!0){case i&&n:return"Code has comments and alerts. Press enter to view.";case n:return"Code has comments. Press enter to view.";case i:return"Code has alerts. Press enter to view.";default:return""}}(l,s),r[0]=s,r[1]=l,r[2]=t):t=r[2];let o=t;return o?(r[3]!==o?(i=(0,n.jsx)("span",{className:"sr-only user-select-none",children:o}),r[3]=o,r[4]=i):i=r[4],i):null}nA.displayName="ActionBar";try{nk.displayName||(nk.displayName="DiffLineScreenReaderSummary")}catch{}function nO(e){let t,i,r,s,o,d,c,u,m,h,f,p,g,x,y,b,v,C,S,_,N,w,E,R,L,D,I,T,A,k=(0,a.c)(64);if(k[0]!==e){let{ref:n,cellId:a,children:l,className:N,columnIndex:w,diffLine:j,diffAnchor:E,handleDiffCellMouseDown:R,handleExitDialogMode:L,handleHideMarkersFromFocus:D,handleDiffSideCellSelectionBlocking:I,handleStartConversation:T,handleUserClosedMarkersDialog:A,isLeftSide:O,isRowSelected:M,isSplit:P,lineAnchor:F,commentDialogOpen:U,enterDialogMode:$,hasThreads:B,role:q,...H}=e;u=n,t=a,i=l,r=N,s=w,d=j,o=E,m=R,f=L,h=I,p=T,g=A,y=O,_=M,b=P,v=F,c=$,x=B,S=q,C=H,k[0]=e,k[1]=t,k[2]=i,k[3]=r,k[4]=s,k[5]=o,k[6]=d,k[7]=c,k[8]=u,k[9]=m,k[10]=h,k[11]=f,k[12]=p,k[13]=g,k[14]=x,k[15]=y,k[16]=b,k[17]=v,k[18]=C,k[19]=S,k[20]=_}else t=k[1],i=k[2],r=k[3],s=k[4],o=k[5],d=k[6],c=k[7],u=k[8],m=k[9],h=k[10],f=k[11],p=k[12],g=k[13],x=k[14],y=k[15],b=k[16],v=k[17],C=k[18],S=k[19],_=k[20];let O=void 0!==_&&_,M=d,P=(0,l.useRef)(null),U=F(X),{sendAnalyticsEvent:$}=(0,tN.s)();k[21]===Symbol.for("react.memo_cache_sentinel")?(N=()=>P.current,w=[],k[21]=N,k[22]=w):(N=k[21],w=k[22]),(0,l.useImperativeHandle)(u,N,w);let{disableDialogMode:B}=F(Z);k[23]!==o||k[24]!==U||k[25]!==M?(E=()=>{let e=U(),t=(0,j.j2)({line:M,range:e,fileAnchor:o});t&&(0,iq.D)(t)},k[23]=o,k[24]=U,k[25]=M,k[26]=E):E=k[26];let q=E,H=F(Q),{clearFirstLineSelectionOnDrag:G}=F(ei);k[27]!==G||k[28]!==H||k[29]!==p||k[30]!==$?(R=e=>{(0,nD.X)()?.registerCallback({event:e.nativeEvent,cb:e=>{$("diff-lines.inp_interaction","CELL_MULTI_SELECT",{latency:e.latency})}});let t=H();t?.shouldStartConversation&&p?.(),G()},k[27]=G,k[28]=H,k[29]=p,k[30]=$,k[31]=R):R=k[31];let V=R;k[32]!==m||k[33]!==h?(L=e=>{e.shiftKey&&e.preventDefault(),m?.(e),h?.(e)},k[32]=m,k[33]=h,k[34]=L):L=k[34];let K=L;k[35]!==B||k[36]!==f||k[37]!==g?(D=()=>{P.current?.focus(),B(),f?.(),g?.()},k[35]=B,k[36]=f,k[37]=g,k[38]=D):D=k[38];let Y=D,J=F(W),ee=F(z);k[39]!==q||k[40]!==d||k[41]!==c||k[42]!==Y||k[43]!==ee||k[44]!==J||k[45]!==U||k[46]!==p||k[47]!==x||k[48]!==y||k[49]!==b?(I=async e=>{if(e.target===P.current&&(e?.metaKey||e?.ctrlKey)&&"c"===e.key){e.preventDefault();let t=ee();await iH({diffLine:d,diffLines:t,getSelectedDiffLines:J,getSelectedLineRange:U,isSplit:b,isLeftSide:y});return}e.target===P.current&&(e?.metaKey||e?.ctrlKey)&&e.altKey&&"y"===e.key?q():P.current?.contains(e.target)&&e?.key==="Escape"?Y():e.target===P.current&&"Enter"===e.key&&(c?.(),!1===x&&p?.(),e.preventDefault())},k[39]=q,k[40]=d,k[41]=c,k[42]=Y,k[43]=ee,k[44]=J,k[45]=U,k[46]=p,k[47]=x,k[48]=y,k[49]=b,k[50]=I):I=k[50];let et=I,en=`Cell-left:${M.left}-right:${M.right}-leftSide:${y}`,ea=!!O,er=S??"gridcell";k[51]===Symbol.for("react.memo_cache_sentinel")?(T={userSelect:"none",position:"relative"},k[51]=T):T=k[51];let el=r?`focusable-grid-cell ${r} ${s<3?"left-side":""}`:"focusable-grid-cell";return k[52]!==t||k[53]!==i||k[54]!==K||k[55]!==V||k[56]!==et||k[57]!==en||k[58]!==v||k[59]!==C||k[60]!==er||k[61]!==el||k[62]!==ea?(A=(0,n.jsx)("td",{ref:P,"data-grid-cell-id":t,"data-line-anchor":v,"data-selected":ea,role:er,style:T,tabIndex:-1,valign:"top",className:el,onKeyDown:et,onMouseDown:K,onMouseUp:V,...C,children:i},en),k[52]=t,k[53]=i,k[54]=K,k[55]=V,k[56]=et,k[57]=en,k[58]=v,k[59]=C,k[60]=er,k[61]=el,k[62]=ea,k[63]=A):A=k[63],A}try{nO.displayName||(nO.displayName="Cell")}catch{}let nM=new Set,nP=!1,nF=e=>{let t=e.target instanceof Node?e.target:null;for(let e of nM){let{element:i,shouldIgnore:n,onPointerExit:a}=e;if(!i.isConnected){nM.delete(e);continue}if(t&&i.contains(t)){e.pendingExit=!1;continue}e.pendingExit=!0,n?.()||(e.pendingExit=!1,a())}0===nM.size&&nU()},nU=()=>{nP&&p.XC&&!(nM.size>0)&&(p.XC.removeEventListener("pointermove",nF),nP=!1)};function n$(e){let{element:t}=e;if(!t)return()=>{};let i={...e,pendingExit:!1};return nM.add(i),!nP&&p.XC&&(p.XC.addEventListener("pointermove",nF),nP=!0),()=>{nM.delete(i),nU()}}var nB=i(78200);function nq(e){let t,i,r,s,o,c,u,m,h,f,g,y,b,v,S,_,N,w,E,R,L,D,I,T,A,k,O,P,U,$,q,H,V,K,Y,J,Z,ee,et,en,ea,er,es,eo,ed,ec,eu,em,eh,ep,eg=(0,a.c)(257),{ref:ex,annotationsAtPosition:ey,columnIndex:eb,commentsPreference:ev,copilotChatReference:eC,currentHunk:eS,diffAnchor:e_,diffLine:eN,dispatchMarkersStatus:ew,filePath:ej,handleDiffSideCellSelectionBlocking:eE,isLeftSide:eR,isRowSelected:eL,isSplit:eD,lineAnchor:eI,markersStatus:eT,nextHunk:ek,previousHunk:eO,rowId:eM,threadsAtPosition:eP,viewerData:eU}=e;eg[0]!==eN.html||eg[1]!==eN.type?(t=(0,j.x_)(eN.html,eN.type),eg[0]=eN.html,eg[1]=eN.type,eg[2]=t):t=eg[2];let[e$,eB]=t;eg[3]!==eB?(i=eB&&["+","-"].includes(eB),eg[3]=eB,eg[4]=i):i=eg[4];let eq=i,{isActionBarVisible:eH,hideActionBar:eG,anyMenuOpen:eV}=iQ(),eK=(0,eA.u)("move_new_comments_ui");eg[5]!==ev||eg[6]!==eU?(r={...eU,commentsPreference:ev},eg[5]=ev,eg[6]=eU,eg[7]=r):r=eg[7];let eW=r;eg[8]!==eb||eg[9]!==eM?(s=(0,j.u6)(eM,eb),eg[8]=eb,eg[9]=eM,eg[10]=s):s=eg[10];let ez=s,eQ=B(ez),eX=eR?"LEFT":"RIGHT",eY="RIGHT"===eX?eN.right:eN.left;eg[11]!==eY||eg[12]!==eX?(o=(0,j.oH)(eY,eX),eg[11]=eY,eg[12]=eX,eg[13]=o):o=eg[13];let eJ=o,eZ=G(eJ??""),e0=eP.length,e1=ey.length,e2=(0,l.useRef)(null),e3=(0,l.useRef)(null);(eg[14]===Symbol.for("react.memo_cache_sentinel")?(c=()=>e3.current,u=[],eg[14]=c,eg[15]=u):(c=eg[14],u=eg[15]),(0,l.useImperativeHandle)(ex,c,u),eg[16]!==e1||eg[17]!==ev||eg[18]!==e0)?(m=0!==e0+e1,h=(0,j.S4)({hasThreads:m&&ev===iB.sI.Collapsed}),eg[16]=e1,eg[17]=ev,eg[18]=e0,eg[19]=m,eg[20]=h):(m=eg[19],h=eg[20]);let e4=h;eg[21]===Symbol.for("react.memo_cache_sentinel")?(f={cellRef:e3},eg[21]=f):f=eg[21];let{handleCellBlur:e5,handleCellFocus:e6,handleCellMouseEnter:e7,handleCellMouseLeave:e8}=iJ(f);eg[22]!==eV||eg[23]!==eG||eg[24]!==eH?(g=()=>{if(eH&&e3.current)return n$({element:e3.current,shouldIgnore:()=>{let e,t;return eV||(e=p.XC?.activeElement,!!(t=e3.current)&&!!e&&(t===e||t.contains(e)))},onPointerExit:eG})},y=[eV,eG,eH],eg[22]=eV,eg[23]=eG,eg[24]=eH,eg[25]=g,eg[26]=y):(g=eg[25],y=eg[26]),(0,l.useEffect)(g,y);let e9=(0,l.useRef)(null),te=iA(ez,e3,ew),tt=F(z),ti=F(W),tn=F(el),ta=F(X),tr=(0,eA.u)("cotd_ui");eg[27]!==ew?(b=e=>{(void 0===e||e)&&requestAnimationFrame(()=>e3.current?.focus()),ew("USER_MINIMIZED_MARKERS")},eg[27]=ew,eg[28]=b):b=eg[28];let tl=b;eg[29]!==tl||eg[30]!==ev||eg[31]!==te||eg[32]!==eT.showMarkers?(v=()=>{ev===iB.sI.Collapsed&&eT.showMarkers?tl():te()},eg[29]=tl,eg[30]=ev,eg[31]=te,eg[32]=eT.showMarkers,eg[33]=v):v=eg[33];let ts=v;eg[34]!==ez?(S={cellId:ez,actionBarRef:e2},eg[34]=ez,eg[35]=S):S=eg[35];let{closeMarkerListDialog:to,isContextMenuOpen:td}=iX(S);eg[36]!==e_||eg[37]!==te||eg[38]!==ej||eg[39]!==ta||eg[40]!==eG||eg[41]!==eR||eg[42]!==eN.blobLineNumber||eg[43]!==eU.shouldDisplayComments?(_=()=>{te(),eU.shouldDisplayComments||eG();let e=ta();e||(e={startLineNumber:eN.blobLineNumber,endLineNumber:eN.blobLineNumber,startOrientation:eR?"left":"right",endOrientation:eR?"left":"right",diffAnchor:e_});let t=new M.L(e,ej);p.cg?.dispatchEvent(t)},eg[36]=e_,eg[37]=te,eg[38]=ej,eg[39]=ta,eg[40]=eG,eg[41]=eR,eg[42]=eN.blobLineNumber,eg[43]=eU.shouldDisplayComments,eg[44]=_):_=eg[44];let tc=_;eg[45]!==ez||eg[46]!==tc?(N={cellId:ez,onOpenDialog:tc},eg[45]=ez,eg[46]=tc,eg[47]=N):N=eg[47];let{isNewConversationDialogOpen:tu,shouldStartNewConversationWithSuggestedChange:tm,startNewConversation:th,closeNewConversation:tf}=iY(N);e:{if(!eH){w=!1;break e}if(!eU.shouldDisplayComments)if(tr){let e;eg[48]!==eN?(e=(0,j.Po)(eN),eg[48]=eN,eg[49]=e):e=eg[49],w=!e;break e}else{let e;eg[50]!==ti||eg[51]!==eN?(e=(0,j.a1)(eN,(0,j.Mk)(ti())),eg[50]=ti,eg[51]=eN,eg[52]=e):e=eg[52],w=e;break e}if(tu||!eU.viewerCanComment){w=!1;break e}if(tr){let e;eg[53]!==eN?(e=(0,j.Po)(eN),eg[53]=eN,eg[54]=e):e=eg[54],w=!e}else{let e;eg[55]!==ti||eg[56]!==eN?(e=(0,j.a1)(eN,(0,j.Mk)(ti())),eg[55]=ti,eg[56]=eN,eg[57]=e):e=eg[57],w=e}}let tp=w;eg[58]!==eP.length?(E=()=>{eP.length<=1&&setTimeout(()=>e3.current?.focus())},eg[58]=eP.length,eg[59]=E):E=eg[59];let tg=E;eg[60]!==te||eg[61]!==th?(R=()=>{te?.(),th?.()},eg[60]=te,eg[61]=th,eg[62]=R):R=eg[62];let tx=R;eg[63]!==tn||eg[64]!==tx||eg[65]!==eN.key||eg[66]!==eJ||eg[67]!==eK?(L=()=>{eK&&eN.key&&tn(eJ,tx,eN.key)},eg[63]=tn,eg[64]=tx,eg[65]=eN.key,eg[66]=eJ,eg[67]=eK,eg[68]=L):L=eg[68],eg[69]!==tn||eg[70]!==tx||eg[71]!==eN||eg[72]!==eJ||eg[73]!==eK?(D=[tn,tx,eN,eJ,eK],eg[69]=tn,eg[70]=tx,eg[71]=eN,eg[72]=eJ,eg[73]=eK,eg[74]=D):D=eg[74],(0,l.useEffect)(L,D);let ty=(0,l.useRef)(!0),tv=(0,C.mF)();t:{if(!tv){I=!1;break t}let e=eP.map(nG),t=ey.map(nH);I=e.includes(tv)||t.includes(tv)}let tC=I;i:{if(!eU.shouldDisplayComments||!ev){T=!1;break i}if(tC){T=!0;break i}if(m&&ev===iB.sI.Collapsed){T=!eT.userMinimized||tu;break i}if(!tu&&!m){T=!1;break i}if(ev===iB.sI.Collapsed&&(tu||eQ)||ev===iB.sI.Visible&&(m||tu||eT.showMarkers)){T=!0;break i}T=!1}let tS=T,t_=(0,j.dT)(eN),{addLineToSelection:tN,clearSelectedLines:tw,selectLine:tj}=F(ei),tE=F(Q);eg[75]!==ev||eg[76]!==tx||eg[77]!==eZ?(A=()=>{eZ&&ev===iB.sI.Visible&&tx()},k=[eZ,tx,ev],eg[75]=ev,eg[76]=tx,eg[77]=eZ,eg[78]=A,eg[79]=k):(A=eg[78],k=eg[79]),(0,l.useEffect)(A,k),eg[80]!==ta||eg[81]!==eR||eg[82]!==eN.left||eg[83]!==eN.right?(O=()=>{let e=ta();return!!e&&("right"===e.endOrientation&&!eR&&e.endLineNumber===eN.right||!!e&&"left"===e.endOrientation&&!!eR&&e.endLineNumber===eN.left)},eg[80]=ta,eg[81]=eR,eg[82]=eN.left,eg[83]=eN.right,eg[84]=O):O=eg[84];let tR=O;eg[85]!==tw||eg[86]!==tR?(P=()=>{tR()||tw()},eg[85]=tw,eg[86]=tR,eg[87]=P):P=eg[87];let tL=P,tD=(0,C.gW)();eg[88]!==tN||eg[89]!==e_||eg[90]!==e8||eg[91]!==tR||eg[92]!==eR||eg[93]!==eL||eg[94]!==eN.key||eg[95]!==eN.left||eg[96]!==eN.right||eg[97]!==tj||eg[98]!==tD?(U=e=>{if(1!==e.buttons)return;e8();let t=eR?eN.left:eN.right,i=eN.key;i&&(eL||!t||tR()?tN({lineKey:i,orientation:eR?"left":"right"},ef):(tj({lineKey:i,firstLineSelectionOnDrag:{lineNumber:t,orientation:eR?"left":"right",lineKey:i,shouldStartConversation:!0}},ef),tD((0,nB.Y)(e_))))},eg[88]=tN,eg[89]=e_,eg[90]=e8,eg[91]=tR,eg[92]=eR,eg[93]=eL,eg[94]=eN.key,eg[95]=eN.left,eg[96]=eN.right,eg[97]=tj,eg[98]=tD,eg[99]=U):U=eg[99];let tI=U;eg[100]!==tN||eg[101]!==tE||eg[102]!==e7||eg[103]!==eR||eg[104]!==eN.key?($=e=>{let t=tE();1===e.buttons&&t&&eN.key&&tN({lineKey:eN.key,orientation:eR?"left":"right"},ef),e7()},eg[100]=tN,eg[101]=tE,eg[102]=e7,eg[103]=eR,eg[104]=eN.key,eg[105]=$):$=eg[105];let tT=$;eg[106]!==ta||eg[107]!==tE||eg[108]!==e8||eg[109]!==eG||eg[110]!==td||eg[111]!==eR||eg[112]!==eN.left||eg[113]!==eN.right||eg[114]!==eU.shouldDisplayComments?(q=()=>{let e=tE();if(!e){eU.shouldDisplayComments||td||eG(),e8();return}let t=ta(),i=t?.startOrientation==="right"&&"right"===e.orientation&&!eR&&eN.right===e.lineNumber,n=t?.startOrientation==="left"&&"left"===e.orientation&&eR&&eN.left===e.lineNumber;i||n||e8()},eg[106]=ta,eg[107]=tE,eg[108]=e8,eg[109]=eG,eg[110]=td,eg[111]=eR,eg[112]=eN.left,eg[113]=eN.right,eg[114]=eU.shouldDisplayComments,eg[115]=q):q=eg[115];let tA=q;eg[116]!==ew?(H=()=>{ew("USER_EXITED_MARKERS_DIALOG")},eg[116]=ew,eg[117]=H):H=eg[117];let tk=H;eg[118]!==ew?(V=()=>{ew("USER_MINIMIZED_MARKERS")},eg[118]=ew,eg[119]=V):V=eg[119];let tO=V;eg[120]!==tl||eg[121]!==tf?(K=e=>{tl(void 0===e||e),tf()},eg[120]=tl,eg[121]=tf,eg[122]=K):K=eg[122];let tM=K;eg[123]!==eN||eg[124]!==tt||eg[125]!==ti||eg[126]!==ta||eg[127]!==eR||eg[128]!==eD?(Y=async()=>{let e=tt();await iH({diffLine:eN,diffLines:e,getSelectedDiffLines:ti,getSelectedLineRange:ta,isSplit:eD,isLeftSide:eR})},eg[123]=eN,eg[124]=tt,eg[125]=ti,eg[126]=ta,eg[127]=eR,eg[128]=eD,eg[129]=Y):Y=eg[129];let tP=Y,tF=`ContentCell-left:${eN.left}-right:${eN.right}-leftSide:${eR}`,tU=`inline-dialog-heading-${(0,l.useId)()}`,t$=`diff-text-cell ${eR?"left-side-diff-cell":"right-side-diff-cell"} ${t_?"pt-4":""}`,tB=eR&&"HUNK"!==eN.type;eg[130]!==t$||eg[131]!==tB?(J=(0,x.$)(t$,{"border-right":tB}),eg[130]=t$,eg[131]=tB,eg[132]=J):J=eg[132],eg[133]!==eL||eg[134]!==eN.type?(Z=(0,j.Yf)(eN.type,!1,eL),eg[133]=eL,eg[134]=eN.type,eg[135]=Z):Z=eg[135],eg[136]!==e4||eg[137]!==Z?(ee={backgroundColor:Z,paddingRight:e4},eg[136]=e4,eg[137]=Z,eg[138]=ee):ee=eg[138];let tq=eQ?tU:void 0,tH=eQ?"dialog":"gridcell";eg[139]!==tU||eg[140]!==eQ?(et=eQ&&(0,n.jsx)("h1",{id:tU,className:"sr-only",children:"Comment view"}),eg[139]=tU,eg[140]=eQ,eg[141]=et):et=eg[141];let tG="ADDITION"===eN.type,tV="DELETION"===eN.type;eg[142]!==tG||eg[143]!==tV?(en=(0,x.$)("diff-text syntax-highlighted-line",{addition:tG,deletion:tV}),eg[142]=tG,eg[143]=tV,eg[144]=en):en=eg[144],eg[145]!==eB||eg[146]!==eq?(ea=eq&&(0,n.jsx)("span",{className:"diff-text-marker",children:eB}),eg[145]=eB,eg[146]=eq,eg[147]=ea):ea=eg[147];let tK="HUNK"===eN.type;return eg[148]!==tK?(er=(0,x.$)("diff-text-inner",{"color-fg-muted":tK}),eg[148]=tK,eg[149]=er):er=eg[149],eg[150]!==e$||eg[151]!==er?(es=(0,n.jsx)(eF.$6,{html:e$,className:er}),eg[150]=e$,eg[151]=er,eg[152]=es):es=eg[152],eg[153]!==en||eg[154]!==ea||eg[155]!==es?(eo=(0,n.jsxs)("code",{className:en,children:[ea,es]}),eg[153]=en,eg[154]=ea,eg[155]=es,eg[156]=eo):eo=eg[156],eg[157]!==eN.displayNoNewLineWarning?(ed=eN.displayNoNewLineWarning&&(0,n.jsx)(d.NoEntryIcon,{size:16,className:"fgColor-danger"}),eg[157]=eN.displayNoNewLineWarning,eg[158]=ed):ed=eg[158],eg[159]!==ey||eg[160]!==ez||eg[161]!==eC||eg[162]!==eS||eg[163]!==e_||eg[164]!==eN||eg[165]!==ta||eg[166]!==tP||eg[167]!==tL||eg[168]!==tI||eg[169]!==eZ||eg[170]!==eH||eg[171]!==eR||eg[172]!==eD||eg[173]!==eN.isLastSelected||eg[174]!==eN.left||eg[175]!==eN.right||eg[176]!==eT.showMarkers||eg[177]!==ek||eg[178]!==tc||eg[179]!==eO||eg[180]!==tp||eg[181]!==eP||eg[182]!==ts||eg[183]!==eU.avatarUrl||eg[184]!==eU.login||eg[185]!==eU.shouldDisplayComments||eg[186]!==eW?(ec=(eH||eN.isLastSelected&&eR&&ta()?.endOrientation==="left"&&eN.left===ta()?.endLineNumber||!eR&&ta()?.endOrientation==="right"&&eN.right===ta()?.endLineNumber)&&(0,n.jsx)(nA,{authorAvatarUrl:eU.avatarUrl,authorLogin:eU.login,ref:e2,cellId:ez,cellRef:e3,copilotChatReference:eC,currentHunk:eS,diffAnchor:e_,diffLine:eN,threads:eP,annotations:ey,enterDialogMode:tc,handleCopyCode:tP,hasDraftComment:eZ,isLeftSide:eR,isSplit:eD,nextHunk:ek,onMouseDownAddCommentButton:tL,onMouseLeaveAddCommentButton:tI,previousHunk:eO,showStartConversation:tp,shouldDisplayMinimizedComments:eU.shouldDisplayComments,shouldDisplayCollapseComments:eT.showMarkers,toggleViewingMarkers:ts,viewerData:eW}),eg[159]=ey,eg[160]=ez,eg[161]=eC,eg[162]=eS,eg[163]=e_,eg[164]=eN,eg[165]=ta,eg[166]=tP,eg[167]=tL,eg[168]=tI,eg[169]=eZ,eg[170]=eH,eg[171]=eR,eg[172]=eD,eg[173]=eN.isLastSelected,eg[174]=eN.left,eg[175]=eN.right,eg[176]=eT.showMarkers,eg[177]=ek,eg[178]=tc,eg[179]=eO,eg[180]=tp,eg[181]=eP,eg[182]=ts,eg[183]=eU.avatarUrl,eg[184]=eU.login,eg[185]=eU.shouldDisplayComments,eg[186]=eW,eg[187]=ec):ec=eg[187],eg[188]!==ey||eg[189]!==ez||eg[190]!==tl||eg[191]!==to||eg[192]!==e4||eg[193]!==ev||eg[194]!==e_||eg[195]!==ew||eg[196]!==te||eg[197]!==ej||eg[198]!==tg||eg[199]!==eZ||eg[200]!==eQ||eg[201]!==eR||eg[202]!==tu||eg[203]!==eL||eg[204]!==eN||eg[205]!==eJ||eg[206]!==tM||eg[207]!==tm||eg[208]!==tS||eg[209]!==eP||eg[210]!==eW?(eu=tS?(0,n.jsx)(iO,{gridCellId:ez,gutterSizeOffset:e4,inlineMarkersRef:e9,cellRef:e3,dispatchMarkersStatus:ew,lineMarkersKey:eJ,annotations:ey,batchingEnabled:!0,conversationListThreads:eP,fileAnchor:e_,filePath:ej,onCloseFocusMode:tl,isRowSelected:eL,lineType:eN.type,diffLine:eN,shouldStartNewConversationWithSuggestedChange:tm,onCloseConversationList:to,onDeleteLineComment:tg,viewerData:eW,ghostUser:tb,children:tu&&(0,n.jsx)("div",{className:(0,x.$)(" border rounded-2 color-border-default",(eP.length,"mt-2 mb-1")),children:(0,n.jsx)(tY,{diffLine:eN,diffAnchor:e_,batchingEnabled:!0,filePath:ej,focusOnMount:!(eZ&&ev===iB.sI.Visible),isLeftSide:eR,isInDialogMode:eQ,isOpen:tu,isRowSelected:eL,shouldStartNewConversationWithSuggestedChange:tm,viewerData:eW,onCommentCreated:te,onCloseCommentDialog:tM})})}):null,eg[188]=ey,eg[189]=ez,eg[190]=tl,eg[191]=to,eg[192]=e4,eg[193]=ev,eg[194]=e_,eg[195]=ew,eg[196]=te,eg[197]=ej,eg[198]=tg,eg[199]=eZ,eg[200]=eQ,eg[201]=eR,eg[202]=tu,eg[203]=eL,eg[204]=eN,eg[205]=eJ,eg[206]=tM,eg[207]=tm,eg[208]=tS,eg[209]=eP,eg[210]=eW,eg[211]=eu):eu=eg[211],eg[212]!==ey||eg[213]!==ev||eg[214]!==eZ||eg[215]!==eH||eg[216]!==eP||eg[217]!==eU.avatarUrl||eg[218]!==eU.lineSpacingPreference||eg[219]!==eU.login||eg[220]!==eU.shouldDisplayComments?(em=!eH&&ev===iB.sI.Collapsed&&eU.shouldDisplayComments&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{"aria-hidden":"true",style:{left:"compact"===eU.lineSpacingPreference?"-8px":"-9px"},className:(0,x.$)("position-absolute top-0 d-flex user-select-none","ContentCell-module__in-progress-comment-indicator--Onob7"),children:eZ&&(0,n.jsx)(nv,{lineSpacingPreference:eU.lineSpacingPreference,authorAvatarUrl:eU.avatarUrl,authorLogin:eU.login})}),(0,n.jsx)("div",{"aria-hidden":"true",className:(0,x.$)("position-absolute top-0 d-flex user-select-none","ContentCell-module__comment-indicator--Avv5C"),children:(0,n.jsx)(i4,{threads:eP,annotations:ey,shouldAnimateRef:ty,lineSpacingPreference:eU.lineSpacingPreference})})]}),eg[212]=ey,eg[213]=ev,eg[214]=eZ,eg[215]=eH,eg[216]=eP,eg[217]=eU.avatarUrl,eg[218]=eU.lineSpacingPreference,eg[219]=eU.login,eg[220]=eU.shouldDisplayComments,eg[221]=em):em=eg[221],eg[222]!==e1||eg[223]!==e0?(eh=(0,n.jsx)(nk,{annotationCount:e1,threadCount:e0}),eg[222]=e1,eg[223]=e0,eg[224]=eh):eh=eg[224],eg[225]!==ez||eg[226]!==eb||eg[227]!==e_||eg[228]!==eN||eg[229]!==te||eg[230]!==e5||eg[231]!==e6||eg[232]!==eE||eg[233]!==tk||eg[234]!==tT||eg[235]!==tA||eg[236]!==tx||eg[237]!==tO||eg[238]!==m||eg[239]!==eR||eg[240]!==tu||eg[241]!==eL||eg[242]!==eD||eg[243]!==tF||eg[244]!==eI||eg[245]!==J||eg[246]!==ee||eg[247]!==tq||eg[248]!==tH||eg[249]!==et||eg[250]!==eo||eg[251]!==ed||eg[252]!==ec||eg[253]!==eu||eg[254]!==em||eg[255]!==eh?(ep=(0,n.jsxs)(nO,{ref:e3,cellId:ez,columnIndex:eb,commentDialogOpen:tu,diffAnchor:e_,diffLine:eN,enterDialogMode:te,handleDiffSideCellSelectionBlocking:eE,handleExitDialogMode:tk,handleUserClosedMarkersDialog:tO,lineAnchor:eI,handleStartConversation:tx,hasThreads:m,isLeftSide:eR,isRowSelected:eL,isSplit:eD,className:J,style:ee,onBlur:e5,onFocus:e6,onMouseEnter:tT,onMouseLeave:tA,"aria-labelledby":tq,role:tH,children:[et,eo,ed,ec,eu,em,eh]},tF),eg[225]=ez,eg[226]=eb,eg[227]=e_,eg[228]=eN,eg[229]=te,eg[230]=e5,eg[231]=e6,eg[232]=eE,eg[233]=tk,eg[234]=tT,eg[235]=tA,eg[236]=tx,eg[237]=tO,eg[238]=m,eg[239]=eR,eg[240]=tu,eg[241]=eL,eg[242]=eD,eg[243]=tF,eg[244]=eI,eg[245]=J,eg[246]=ee,eg[247]=tq,eg[248]=tH,eg[249]=et,eg[250]=eo,eg[251]=ed,eg[252]=ec,eg[253]=eu,eg[254]=em,eg[255]=eh,eg[256]=ep):ep=eg[256],ep}function nH(e){return e.id}function nG(e){return e.id}let nV=(0,l.memo)(nq);try{nq.displayName||(nq.displayName="ContentCellUnmemoized")}catch{}try{nV.displayName||(nV.displayName="ContentCell")}catch{}let nK=["CONTEXT","INJECTED_CONTEXT"],nW=(0,l.memo)(nz);function nz(e){let t,i,r,s,o,d,c,u,m,h,f,p,g,y,b,v,S,_,N,w,E,R,L,D,I,T,A=(0,a.c)(76);if(A[0]!==e){let{children:n,columnIndex:a,diffAnchor:l,diffLine:x,handleDiffSideCellSelectionBlocking:v,isLeftSide:C,isRowSelected:S,isSplit:_,filePath:N,copilotChatReference:w,contentRef:j,contentColumnIndex:E,dispatchMarkersStatus:R,rowId:L,threadsAtPosition:D,annotationsAtPosition:I,...T}=e;i=n,r=a,d=l,c=x,m=v,h=C,f=S,p=_,o=j,s=E,u=R,y=L,b=D,t=I,g=T,A[0]=e,A[1]=t,A[2]=i,A[3]=r,A[4]=s,A[5]=o,A[6]=d,A[7]=c,A[8]=u,A[9]=m,A[10]=h,A[11]=f,A[12]=p,A[13]=g,A[14]=y,A[15]=b}else t=A[1],i=A[2],r=A[3],s=A[4],o=A[5],d=A[6],c=A[7],u=A[8],m=A[9],h=A[10],f=A[11],p=A[12],g=A[13],y=A[14],b=A[15];let k=(0,l.useRef)(null),O=c,M=F(Q),{addLineToSelection:P}=F(ei),U=(0,C.gW)(),{sendAnalyticsEvent:$}=(0,tN.s)(),B=(0,nT.J)();A[16]!==P||A[17]!==M||A[18]!==h||A[19]!==O.key?(v=e=>{1!==e.buttons||M()&&O.key&&P({lineKey:O.key,orientation:h?"left":"right"},ef)},A[16]=P,A[17]=M,A[18]=h,A[19]=O.key,A[20]=v):v=A[20];let q=v,{selectLine:H}=F(ei),G=F(X);A[21]!==P||A[22]!==d||A[23]!==B||A[24]!==G||A[25]!==h||A[26]!==O.key||A[27]!==O.left||A[28]!==O.right||A[29]!==H||A[30]!==$||A[31]!==U?(S=e=>{let t=B();if((0,nD.X)()?.registerCallback({event:e.nativeEvent,cb:e=>{$("diff-lines.inp_interaction","PULL_REQUESTS_DIFF_LINE_NUMBER_CLICK",{latency:e.latency}),(0,nI.au)({name:"PULL_REQUESTS_DIFF_LINE_NUMBER_CLICK",tags:t,value:e.latency})}}),G()&&e.shiftKey)return void P({lineKey:O.key,orientation:h?"left":"right"},ef);let i=h?O.left:O.right;i&&O.key&&(H({lineKey:O.key,firstLineSelectionOnDrag:{orientation:h?"left":"right",lineNumber:i,shouldStartConversation:!1,lineKey:O.key}},ef),U((0,nB.Y)(d)))},A[21]=P,A[22]=d,A[23]=B,A[24]=G,A[25]=h,A[26]=O.key,A[27]=O.left,A[28]=O.right,A[29]=H,A[30]=$,A[31]=U,A[32]=S):S=A[32];let V=S,K=`LineNumberCell-left:${O.left}-right:${O.right}-leftSide:${h}`;A[33]!==s||A[34]!==y?(_=(0,j.u6)(y,s),A[33]=s,A[34]=y,A[35]=_):_=A[35];let W=_,z=iA(W,o,u);A[36]!==W||A[37]!==z?(N={cellId:W,onOpenDialog:z},A[36]=W,A[37]=z,A[38]=N):N=A[38];let{startNewConversation:Y}=iY(N);A[39]!==r||A[40]!==y?(w=(0,j.u6)(y,r),A[39]=r,A[40]=y,A[41]=w):w=A[41];let J=w;A[42]!==O.type?(E=(0,x.$)("diff-line-number position-relative",nK.includes(O.type)&&"diff-line-number-neutral"),A[42]=O.type,A[43]=E):E=A[43];let Z=!p&&0===r,ee=b.length+t.length;if(A[44]!==h||A[45]!==p||A[46]!==O||A[47]!==ee){var et,en;et=h,en=p,R=("CONTEXT"!==O.type||!et||!en)&&ee>0,A[44]=h,A[45]=p,A[46]=O,A[47]=ee,A[48]=R}else R=A[48];return A[49]!==f||A[50]!==O.type?(L=(0,j.Yf)(O.type,!0,f),A[49]=f,A[50]=O.type,A[51]=L):L=A[51],A[52]!==L?(D={backgroundColor:L,textAlign:"center"},A[52]=L,A[53]=D):D=A[53],A[54]!==i?(I=(0,n.jsx)("code",{children:i}),A[54]=i,A[55]=I):I=A[55],A[56]!==J||A[57]!==r||A[58]!==d||A[59]!==c||A[60]!==z||A[61]!==m||A[62]!==V||A[63]!==q||A[64]!==h||A[65]!==f||A[66]!==p||A[67]!==K||A[68]!==g||A[69]!==Y||A[70]!==D||A[71]!==I||A[72]!==E||A[73]!==Z||A[74]!==R?(T=(0,n.jsx)(nO,{ref:k,cellId:J,className:E,columnIndex:r,diffAnchor:d,diffLine:c,"data-first-unified-line-number-cell":Z,enterDialogMode:z,handleDiffSideCellSelectionBlocking:m,hasThreads:R,style:D,handleDiffCellMouseDown:V,handleStartConversation:Y,isLeftSide:h,isRowSelected:f,isSplit:p,onMouseEnter:q,...g,children:I},K),A[56]=J,A[57]=r,A[58]=d,A[59]=c,A[60]=z,A[61]=m,A[62]=V,A[63]=q,A[64]=h,A[65]=f,A[66]=p,A[67]=K,A[68]=g,A[69]=Y,A[70]=D,A[71]=I,A[72]=E,A[73]=Z,A[74]=R,A[75]=T):T=A[75],T}try{nW.displayName||(nW.displayName="LineNumberCell")}catch{}try{nz.displayName||(nz.displayName="LineNumberCellUnmemoized")}catch{}function nQ(e){let t,i,r=(0,a.c)(9),{columnIndex:l,diffAnchor:s,diffLine:o,isLeftSide:d,isSplit:c,showRightBorder:u}=e;return r[0]!==u?(t=(0,x.$)("empty-diff-line",{"border-right":u}),r[0]=u,r[1]=t):t=r[1],r[2]!==l||r[3]!==s||r[4]!==o||r[5]!==d||r[6]!==c||r[7]!==t?(i=(0,n.jsx)(nO,{className:t,columnIndex:l,diffAnchor:s,diffLine:o,isLeftSide:d,isSplit:c}),r[2]=l,r[3]=s,r[4]=o,r[5]=d,r[6]=c,r[7]=t,r[8]=i):i=r[8],i}try{nQ.displayName||(nQ.displayName="EmptyCell")}catch{}function nX(e,t){switch(t){case"SHOW_MARKERS":return{userMinimized:!1,showMarkers:!0};case"USER_EXPANDED_MARKERS":return{showMarkers:!0,userMinimized:!1};case"USER_MINIMIZED_MARKERS":return{userMinimized:!0,showMarkers:!1};case"USER_EXITED_MARKERS_DIALOG":return{...e,showMarkers:!1}}}var nY=i(87825);function nJ(e){let t,i,r=(0,a.c)(3),{children:l}=e;return r[0]===Symbol.for("react.memo_cache_sentinel")?(t={left:"-1px",zIndex:"1"},r[0]=t):t=r[0],r[1]!==l?(i=(0,n.jsx)("span",{className:"position-absolute",style:t,children:l}),r[1]=l,r[2]=i):i=r[2],i}try{nJ.displayName||(nJ.displayName="DiffCodeAlert")}catch{}let nZ=e=>{let t,i,r,s,o,d,c=(0,a.c)(66),{annotationsAtPosition:u,commentsPreference:m,copilotChatReference:h,currentHunk:f,diffAnchor:p,diffLine:g,filePath:x,lineAnchor:y,handleDiffSideCellSelectionBlocking:b,hasHiddenUnicodeCharacters:v,isLeftSide:C,isRowSelected:S,isSplit:_,nextHunk:N,previousHunk:w,rowId:j,threadsAtPosition:E,viewerData:R}=e,L=(0,l.useRef)(null),D="ADDITION"!==g.type,I=!_||C,T="DELETION"!==g.type,A=!_||!C;c[0]!==b?(t=()=>{b&&b("left")},c[0]=b,c[1]=t):t=c[1];let k=t;c[2]!==b?(i=()=>{b&&b("right")},c[2]=b,c[3]=i):i=c[3];let O=i,M=_?C?1:3:2,[P,F]=function(e){let t,i,n,r,s=(0,a.c)(7),o=e===iB.sI.Collapsed;s[0]!==o?(t={userMinimized:o,showMarkers:!1},s[0]=o,s[1]=t):t=s[1];let[d,c]=(0,l.useReducer)(nX,t),u=(0,l.useRef)(e);return s[2]!==e?(i=()=>{u.current!==e&&(u.current=e,e===iB.sI.Visible?c("SHOW_MARKERS"):c("USER_MINIMIZED_MARKERS"))},n=[e,c],s[2]=e,s[3]=i,s[4]=n):(i=s[3],n=s[4]),(0,l.useEffect)(i,n),s[5]!==d?(r=[d,c],s[5]=d,s[6]=r):r=s[6],r}(m??iB.sI.Visible);c[4]!==u||c[5]!==M||c[6]!==h||c[7]!==p||c[8]!==g||c[9]!==F||c[10]!==x||c[11]!==O||c[12]!==v||c[13]!==C||c[14]!==S||c[15]!==_||c[16]!==g.left||c[17]!==j||c[18]!==D||c[19]!==I||c[20]!==T||c[21]!==E?(r=I&&(0,n.jsxs)(nW,{threadsAtPosition:E,annotationsAtPosition:u,copilotChatReference:h,columnIndex:0,contentColumnIndex:M,contentRef:L,diffAnchor:p,diffLine:g,dispatchMarkersStatus:F,filePath:x,handleDiffSideCellSelectionBlocking:O,isLeftSide:C,isRowSelected:S,isSplit:_,rowId:j,children:[v&&!T&&(0,n.jsx)(nJ,{children:(0,n.jsx)(nY.o,{})}),D&&g.left]}),c[4]=u,c[5]=M,c[6]=h,c[7]=p,c[8]=g,c[9]=F,c[10]=x,c[11]=O,c[12]=v,c[13]=C,c[14]=S,c[15]=_,c[16]=g.left,c[17]=j,c[18]=D,c[19]=I,c[20]=T,c[21]=E,c[22]=r):r=c[22],c[23]!==u||c[24]!==M||c[25]!==h||c[26]!==p||c[27]!==g||c[28]!==F||c[29]!==x||c[30]!==k||c[31]!==v||c[32]!==C||c[33]!==S||c[34]!==_||c[35]!==g.right||c[36]!==j||c[37]!==T||c[38]!==A||c[39]!==E?(s=A&&(0,n.jsxs)(nW,{annotationsAtPosition:u,copilotChatReference:h,columnIndex:_?2:1,contentColumnIndex:M,contentRef:L,diffAnchor:p,diffLine:g,dispatchMarkersStatus:F,filePath:x,handleDiffSideCellSelectionBlocking:k,isLeftSide:C,isRowSelected:S,isSplit:_,rowId:j,threadsAtPosition:E,children:[v&&T&&(0,n.jsx)(nJ,{children:(0,n.jsx)(nY.o,{})}),T&&g.right]}),c[23]=u,c[24]=M,c[25]=h,c[26]=p,c[27]=g,c[28]=F,c[29]=x,c[30]=k,c[31]=v,c[32]=C,c[33]=S,c[34]=_,c[35]=g.right,c[36]=j,c[37]=T,c[38]=A,c[39]=E,c[40]=s):s=c[40];let U=C?O:k;return c[41]!==u||c[42]!==m||c[43]!==M||c[44]!==h||c[45]!==f||c[46]!==p||c[47]!==g||c[48]!==F||c[49]!==x||c[50]!==C||c[51]!==S||c[52]!==_||c[53]!==y||c[54]!==P||c[55]!==N||c[56]!==w||c[57]!==j||c[58]!==U||c[59]!==E||c[60]!==R?(o=(0,n.jsx)(nV,{annotationsAtPosition:u,commentsPreference:m,copilotChatReference:h,columnIndex:M,currentHunk:f,diffAnchor:p,diffLine:g,dispatchMarkersStatus:F,filePath:x,lineAnchor:y,handleDiffSideCellSelectionBlocking:U,isLeftSide:C,isRowSelected:S,isSplit:_,markersStatus:P,nextHunk:N,previousHunk:w,ref:L,rowId:j,threadsAtPosition:E,viewerData:R}),c[41]=u,c[42]=m,c[43]=M,c[44]=h,c[45]=f,c[46]=p,c[47]=g,c[48]=F,c[49]=x,c[50]=C,c[51]=S,c[52]=_,c[53]=y,c[54]=P,c[55]=N,c[56]=w,c[57]=j,c[58]=U,c[59]=E,c[60]=R,c[61]=o):o=c[61],c[62]!==r||c[63]!==s||c[64]!==o?(d=(0,n.jsxs)(iz,{children:[r,s,o]}),c[62]=r,c[63]=s,c[64]=o,c[65]=d):d=c[65],d},n0=e=>{let t,i=(0,a.c)(40),{annotationsAtPosition:r,commentsPreference:l,copilotChatReference:s,currentHunk:o,diffLine:d,diffAnchor:c,filePath:u,handleDiffSideCellSelectionBlocking:m,hasHiddenUnicodeCharacters:h,isLeftSide:f,isRowSelected:p,isSplit:g,nextHunk:x,previousHunk:y,rowId:b,threadsAtPosition:v,viewerData:C}=e;if((0,j.Po)(d)){let e,t,a,r=2*!f;i[0]!==c||i[1]!==d||i[2]!==f||i[3]!==g||i[4]!==r?(e=(0,n.jsx)(nQ,{columnIndex:r,diffAnchor:c,diffLine:d,isLeftSide:f,isSplit:g}),i[0]=c,i[1]=d,i[2]=f,i[3]=g,i[4]=r,i[5]=e):e=i[5];let l=f?1:3;return i[6]!==c||i[7]!==d||i[8]!==f||i[9]!==g||i[10]!==l?(t=(0,n.jsx)(nQ,{columnIndex:l,diffAnchor:c,diffLine:d,isLeftSide:f,isSplit:g}),i[6]=c,i[7]=d,i[8]=f,i[9]=g,i[10]=l,i[11]=t):t=i[11],i[12]!==e||i[13]!==t?(a=(0,n.jsxs)(n.Fragment,{children:[e,t]}),i[12]=e,i[13]=t,i[14]=a):a=i[14],a}if(i[15]!==c||i[16]!==d.left||i[17]!==d.right||i[18]!==d.type||i[19]!==f){let e=f?"left":(0,w.XU)(d.type),n="left"===e?d.left:d.right;t=(0,w.IQ)(c,e,n??0),i[15]=c,i[16]=d.left,i[17]=d.right,i[18]=d.type,i[19]=f,i[20]=t}else t=i[20];let S=t;switch(d.type){case"HUNK":return null;case"ADDITION":case"DELETION":case"CONTEXT":case"INJECTED_CONTEXT":{let e;return i[21]!==r||i[22]!==l||i[23]!==s||i[24]!==o||i[25]!==c||i[26]!==d||i[27]!==u||i[28]!==m||i[29]!==h||i[30]!==f||i[31]!==p||i[32]!==g||i[33]!==S||i[34]!==x||i[35]!==y||i[36]!==b||i[37]!==v||i[38]!==C?(e=(0,n.jsx)(n2,{annotationsAtPosition:r,commentsPreference:l,copilotChatReference:s,currentHunk:o,diffAnchor:c,diffLine:d,filePath:u,handleDiffSideCellSelectionBlocking:m,hasHiddenUnicodeCharacters:h,isLeftSide:f,isRowSelected:p,isSplit:g,lineAnchor:S,nextHunk:x,previousHunk:y,rowId:b,threadsAtPosition:v,viewerData:C}),i[21]=r,i[22]=l,i[23]=s,i[24]=o,i[25]=c,i[26]=d,i[27]=u,i[28]=m,i[29]=h,i[30]=f,i[31]=p,i[32]=g,i[33]=S,i[34]=x,i[35]=y,i[36]=b,i[37]=v,i[38]=C,i[39]=e):e=i[39],e}default:throw Error(`cannot handle type ${d.type}`)}},n1=l.memo(n0),n2=l.memo(nZ);try{nZ.displayName||(nZ.displayName="CodeDiffLineUnmemoized")}catch{}try{n0.displayName||(n0.displayName="DiffLineSideUnmemoized")}catch{}try{n1.displayName||(n1.displayName="DiffLineSide")}catch{}try{n2.displayName||(n2.displayName="CodeDiffLine")}catch{}function n3(e){let t,i,r,l=(0,a.c)(5),{isSplit:s}=e,o=!s&&"hunk-kebab-icon-unified";return l[0]!==o?(t=(0,x.$)("hunk-kebab-icon pr-2 pb-1",o),l[0]=o,l[1]=t):t=l[1],l[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(d.KebabHorizontalIcon,{}),l[2]=i):i=l[2],l[3]!==t?(r=(0,n.jsx)("div",{className:t,children:i}),l[3]=t,l[4]=r):r=l[4],r}try{n3.displayName||(n3.displayName="HunkKebabIcon")}catch{}function n4(e){tv(e.key)&&e.stopPropagation()}function n5(e){let t,i,r,s,o,d=(0,a.c)(18),{diffAnchor:c,diffLine:u,isLeftSide:m,isSplit:h,renderHunkButton:f}=e,p=(0,l.useRef)(null),[g,x]=function(e){let t,i,n,r,s,o,d,c=(0,a.c)(17),[u,m]=(0,l.useState)(!1),[h,f]=(0,l.useState)(!1),p=u?0:-1;c[0]!==e?(t=t=>{e.current&&e.current.contains(t.relatedTarget)||m(!1)},c[0]=e,c[1]=t):t=c[1];let g=t;c[2]!==e?(i=()=>{e.current===document.activeElement&&m(!0)},c[2]=e,c[3]=i):i=c[3];let x=i;c[4]!==e?(n=t=>{e.current&&!e.current.contains(t.relatedTarget)&&m(!1),f(!1)},c[4]=e,c[5]=n):n=c[5];let y=n;c[6]===Symbol.for("react.memo_cache_sentinel")?(r=e=>{e.stopPropagation(),f(!0)},c[6]=r):r=c[6];let b=r;c[7]!==g||c[8]!==x?(s={onFocus:x,onBlur:g},c[7]=g,c[8]=x,c[9]=s):s=c[9];let v=s,C=!h;c[10]!==p||c[11]!==y||c[12]!==C?(o={"aria-hidden":C,tabIndex:p,onBlur:y,onFocusCapture:b,onKeyDownCapture:n4},c[10]=p,c[11]=y,c[12]=C,c[13]=o):o=c[13];let S=o;return c[14]!==S||c[15]!==v?(d=[v,S],c[14]=S,c[15]=v,c[16]=d):d=c[16],d}(p);if((0,j.Po)(u))return null;let y=`HunkCell-left:${u.left}-right:${u.right}`;d[0]===Symbol.for("react.memo_cache_sentinel")?(t={backgroundColor:"var(--bgColor-accent-muted, var(--color-accent-subtle))",flexGrow:1},d[0]=t):t=d[0],d[1]!==x||d[2]!==h||d[3]!==f?(i=f?.(x)??(0,n.jsx)(n3,{isSplit:h}),d[1]=x,d[2]=h,d[3]=f,d[4]=i):i=d[4];let b=u.html;return d[5]!==b?(r=(0,n.jsx)("code",{className:"diff-text-cell hunk",children:(0,n.jsx)(eF.$6,{className:"diff-text-inner color-fg-muted",html:b})}),d[5]=b,d[6]=r):r=d[6],d[7]!==i||d[8]!==r?(s=(0,n.jsxs)("div",{className:"d-flex flex-row",children:[i,r]}),d[7]=i,d[8]=r,d[9]=s):s=d[9],d[10]!==g||d[11]!==c||d[12]!==u||d[13]!==m||d[14]!==h||d[15]!==y||d[16]!==s?(o=(0,n.jsx)(nO,{className:"diff-hunk-cell",colSpan:4,columnIndex:0,diffAnchor:c,diffLine:u,isLeftSide:m,isSplit:h,ref:p,style:t,...g,children:s},y),d[10]=g,d[11]=c,d[12]=u,d[13]=m,d[14]=h,d[15]=y,d[16]=s,d[17]=o):o=d[17],o}try{n5.displayName||(n5.displayName="HunkCell")}catch{}let n6="ExpandableHunkHeaderDiffLine-module__expand-up-and-down--amzYl";function n7(e){let t,i,r,l,s,o,d,c,u,m,h,f,p=(0,a.c)(24);p[0]!==e?({direction:s,icon:t,isSplit:o,label:d,onClick:c,ariaLabel:r,className:l,...i}=e,p[0]=e,p[1]=t,p[2]=i,p[3]=r,p[4]=l,p[5]=s,p[6]=o,p[7]=d,p[8]=c):(t=p[1],i=p[2],r=p[3],l=p[4],s=p[5],o=p[6],d=p[7],c=p[8]);let{sendAnalyticsEvent:g}=(0,tN.s)();p[9]!==c||p[10]!==g?(u=()=>{c(),g("file_entry.expand_hunk","FILE_EXPANDER_BUTTON")},p[9]=c,p[10]=g,p[11]=u):u=p[11];let y=!o&&"ExpandableHunkHeaderDiffLine-module__expand-button-unified--pt9f0";p[12]!==l||p[13]!==y?(m=(0,x.$)("Button Button--iconOnly Button--invisible","ExpandableHunkHeaderDiffLine-module__expand-button-line--CbsbZ",y,l),p[12]=l,p[13]=y,p[14]=m):m=p[14];let b=r??d;return p[15]!==t?(h=(0,n.jsx)(t,{}),p[15]=t,p[16]=h):h=p[16],p[17]!==i||p[18]!==s||p[19]!==u||p[20]!==m||p[21]!==b||p[22]!==h?(f=(0,n.jsx)("button",{onClick:u,className:m,"aria-label":b,"data-direction":s,...i,children:h}),p[17]=i,p[18]=s,p[19]=u,p[20]=m,p[21]=b,p[22]=h,p[23]=f):f=p[23],f}function n8(e){let t,i,r,l,s,o,c,u,m,h,f,p=(0,a.c)(25),{currentHunk:g,diffAnchor:x,diffLine:y,isLeftSide:b,isSplit:v,nextHunk:C,nextLine:S,previousHunk:_,prevLine:N}=e;p[0]!==g||p[1]!==C||p[2]!==_?(t={currentHunk:g,nextHunk:C,previousHunk:_},p[0]=g,p[1]=C,p[2]=_,p[3]=t):t=p[3];let{expandStartOfHunk:w,expandEndOfPreviousHunk:j}=i6(t),E=0===y.position&&0!==y.blobLineNumber||!N,R=!S,L=0===y.blobLineNumber,D=F(et),I=E||R,T=R&&N?.blobLineNumber===D;e:{if(I||y.blobLineNumber<=0){i=!1;break e}if(y.blobLineNumber-N.blobLineNumber<=20||S.blobLineNumber-y.blobLineNumber>=20){i=!0;break e}i=!1}let A=i;t:{if(I||T){r=!1;break t}if(y.blobLineNumber-N.blobLineNumber>20){r=!0;break t}r=!1}let k=r;i:{if(y.blobLineNumber<=0||L){l=!1;break i}if(E){l=!0;break i}l=!1}let O=l;n:{if(E||T){s=!1;break n}if(R){s=!0;break n}s=!1}let M=s;a:{switch(!0){case A:o="expand-all";break a;case k:o="expand-up-and-down";break a;case O:o="expand-up";break a;case M:o="expand-down";break a}o=void 0}let P=o;p[4]!==w?(c=()=>w(),p[4]=w,p[5]=c):c=p[5];let U=c;p[6]!==j?(u=()=>j(),p[6]=j,p[7]=u):u=p[7];let $=u;p[8]!==w?(m=()=>w(),p[8]=w,p[9]=m):m=p[9];let B=m,q=F(J);p[10]!==P||p[11]!==U||p[12]!==B||p[13]!==$||p[14]!==q||p[15]!==v||p[16]!==S?.blobLineNumber||p[17]!==N?.blobLineNumber?(h=e=>{if(q.has(na.YR.expandLines))return null;switch(P){case"expand-all":return(0,n.jsx)(n7,{...e,direction:"all",icon:d.UnfoldIcon,isSplit:v,label:`Expand file from line ${N?.blobLineNumber||""} to line ${S?.blobLineNumber||""}`,onClick:B});case"expand-up-and-down":return(0,n.jsxs)("div",{className:"d-flex flex-column",children:[(0,n.jsx)(n7,{...e,direction:"down",icon:d.FoldDownIcon,isSplit:v,label:`Expand file down from line ${N?.blobLineNumber||""}`,className:n6,onClick:$}),(0,n.jsx)(n7,{...e,direction:"up",icon:d.FoldUpIcon,isSplit:v,label:`Expand file up from line ${S?.blobLineNumber||""}`,className:n6,onClick:U})]});case"expand-up":return(0,n.jsx)(n7,{...e,direction:"up",icon:d.FoldUpIcon,isSplit:v,label:`Expand file up from line ${S?.blobLineNumber||""}`,onClick:U});case"expand-down":return(0,n.jsx)(n7,{...e,direction:"down",icon:d.FoldDownIcon,isSplit:v,label:`Expand file down from line ${N?.blobLineNumber||""}`,onClick:$});default:return null}},p[10]=P,p[11]=U,p[12]=B,p[13]=$,p[14]=q,p[15]=v,p[16]=S?.blobLineNumber,p[17]=N?.blobLineNumber,p[18]=h):h=p[18];let H=h;return p[19]!==x||p[20]!==y||p[21]!==b||p[22]!==v||p[23]!==H?(f=(0,n.jsx)(n5,{renderHunkButton:H,diffAnchor:x,diffLine:y,isLeftSide:b,isSplit:v}),p[19]=x,p[20]=y,p[21]=b,p[22]=v,p[23]=H,p[24]=f):f=p[24],f}try{n7.displayName||(n7.displayName="ExpandButtonLine")}catch{}try{n8.displayName||(n8.displayName="ExpandableHunkHeaderDiffLine")}catch{}var n9=i(12918);let ae=(0,l.memo)(function(e){let t,i,r,l,s,o,d,c,u,m,h,f=(0,a.c)(52),{copilotChatReference:p,diffHasHiddenUnicodeCharacters:g,filePath:x,handleDiffSideCellSelectionBlocking:y,hunksData:b,leftDiffLine:v,nextDiffLine:S,prevDiffLine:_,rightDiffLine:N,showHiddenUnicode:w,viewerData:E}=e,R=F(ee);f[0]!==g||f[1]!==w?(t=e=>{let t=!1;return g&&!(0,j.Po)(e)&&(t=(0,t_.Y)(e.text),w&&t&&(e=e.html?{...e,html:(0,n9.Gx)(e.html)??e.html}:{...e,text:(0,t_.TA)(e.text)})),[e,t]},f[0]=g,f[1]=w,f[2]=t):t=f[2];let L=t,[D,I]=L(v),[T,A]=L(N),k=H((0,j.Po)(D)?void 0:D.key),O=H((0,j.Po)(T)?void 0:T.key);e:{let e;if((0,j.Po)(D)){i=D;break e}f[3]!==D||f[4]!==k?(e={...D,...k},f[3]=D,f[4]=k,f[5]=e):e=f[5],i=e}let M=i;t:{let e;if((0,j.Po)(T)){r=T;break t}f[6]!==T||f[7]!==O?(e={...T,...O},f[6]=T,f[7]=O,f[8]=e):e=f[8],r=e}let P=r;f[9]!==M?(l=(0,j.qK)(M)&&"HUNK"===M.type,f[9]=M,f[10]=l):l=f[10];let U=l;f[11]!==R||f[12]!==v||f[13]!==N?(s=(0,j.qX)(R,v,N),f[11]=R,f[12]=v,f[13]=N,f[14]=s):s=f[14];let $=s;f[15]!==M||f[16]!==P?(o=(0,j.Po)(M)?(0,j.Po)(P)?void 0:P:M,f[15]=M,f[16]=P,f[17]=o):o=f[17];let B=o;f[18]!==D?(d=(0,j.Po)(D)?void 0:(0,j.oH)(D.left,"LEFT"),f[18]=D,f[19]=d):d=f[19];let q=d,{threads:G,annotations:V,commentsPreference:K}=(0,C.rP)(x,q??"");f[20]!==T?(c=(0,j.Po)(T)?void 0:(0,j.oH)(T.right,"RIGHT"),f[20]=T,f[21]=c):c=f[21];let W=c,{threads:z,annotations:Q,commentsPreference:X}=(0,C.rP)(x,W??""),Y=K===iB.sI.Collapsed||X===iB.sI.Collapsed?iB.sI.Collapsed:iB.sI.Visible,J=!(((0,j.Po)(M)||!M.isSelected)&&((0,j.Po)(P)||!P.isSelected));if(!B)return null;f[22]!==B||f[23]!==b?(u=ez(B,b),f[22]=B,f[23]=b,f[24]=u):u=f[24];let{currentHunk:Z,nextHunk:et,previousHunk:ei}=u;return M?(f[25]!==p||f[26]!==Y||f[27]!==Z||f[28]!==R||f[29]!==x||f[30]!==y||f[31]!==U||f[32]!==J||f[33]!==V||f[34]!==v||f[35]!==I||f[36]!==M||f[37]!==G||f[38]!==S||f[39]!==et||f[40]!==_||f[41]!==ei||f[42]!==Q||f[43]!==A||f[44]!==P||f[45]!==z||f[46]!==$||f[47]!==E?(m=U?(0,n.jsx)(n8,{currentHunk:Z,diffAnchor:R,diffLine:v,isLeftSide:!0,isSplit:!0,nextHunk:et,nextLine:S,previousHunk:ei,prevLine:_}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(n1,{annotationsAtPosition:V,commentsPreference:Y,copilotChatReference:p,currentHunk:Z,diffLine:M,diffAnchor:R,filePath:x,handleDiffSideCellSelectionBlocking:y,hasHiddenUnicodeCharacters:I,isLeftSide:!0,isRowSelected:J,isSplit:!0,nextHunk:et,previousHunk:ei,rowId:$,threadsAtPosition:G,viewerData:E}),(0,n.jsx)(n1,{threadsAtPosition:z,annotationsAtPosition:Q,commentsPreference:Y,copilotChatReference:p,currentHunk:Z,diffLine:P,diffAnchor:R,filePath:x,handleDiffSideCellSelectionBlocking:y,hasHiddenUnicodeCharacters:A,isLeftSide:!1,isRowSelected:J,isSplit:!0,nextHunk:et,previousHunk:ei,rowId:$,viewerData:E})]}),f[25]=p,f[26]=Y,f[27]=Z,f[28]=R,f[29]=x,f[30]=y,f[31]=U,f[32]=J,f[33]=V,f[34]=v,f[35]=I,f[36]=M,f[37]=G,f[38]=S,f[39]=et,f[40]=_,f[41]=ei,f[42]=Q,f[43]=A,f[44]=P,f[45]=z,f[46]=$,f[47]=E,f[48]=m):m=f[48],f[49]!==$||f[50]!==m?(h=(0,n.jsx)("tr",{className:"diff-line-row",children:m},$),f[49]=$,f[50]=m,f[51]=h):h=f[51],h):null});try{ae.displayName||(ae.displayName="SplitDiffRow")}catch{}let at=(0,l.memo)(function(e){let t,i,r,l,o=(0,a.c)(23),{diffHasHiddenUnicodeCharacters:d,diffLines:c,fileAnchor:u,filePath:m,handleDiffSideCellSelectionBlocking:h,showHiddenUnicode:f,tableRef:p,copilotChatReference:g,viewerData:x}=e,{leftLines:y,rightLines:b}=function(e){let t,i,n=(0,a.c)(5);n[0]!==e?(t=function(e){let t=[],i=[],n=()=>{for(;t.length<i.length;)t.push(s.Vv);for(;i.length<t.length;)i.push(s.Vv)};for(let a of e)switch(a.type){case"ADDITION":i.push(a);break;case"DELETION":t.push(a);break;case"CONTEXT":case"INJECTED_CONTEXT":case"HUNK":n(),t.push(a),i.push(a)}return n(),{leftLines:t,rightLines:i}}(e),n[0]=e,n[1]=t):t=n[1];let{leftLines:r,rightLines:l}=t;return n[2]!==r||n[3]!==l?(i={leftLines:r,rightLines:l},n[2]=r,n[3]=l,n[4]=i):i=n[4],i}(c);o[0]!==y?(t=eQ(y),o[0]=y,o[1]=t):t=o[1];let v=t,{addLineToSelection:C,clearSelectedLines:S,selectMultipleLines:_}=F(ei),N=F(Q);return o[2]!==C||o[3]!==S||o[4]!==u||o[5]!==N||o[6]!==y||o[7]!==b||o[8]!==_||o[9]!==p?(i={addLineToSelection:C,clearSelectedLines:S,containerRef:p,fileAnchor:u,getfirstLineSelectionOnDrag:N,isSplitDiff:!0,leftLines:y,selectMultipleLines:_,rightLines:b,disabled:!1},o[2]=C,o[3]=S,o[4]=u,o[5]=N,o[6]=y,o[7]=b,o[8]=_,o[9]=p,o[10]=i):i=o[10],tC(i),o[11]!==g||o[12]!==d||o[13]!==m||o[14]!==h||o[15]!==v||o[16]!==y||o[17]!==b||o[18]!==f||o[19]!==x?(r=y.map((e,t)=>{let i=y[t],a=b[t],r=y[t-1],l=(0,j.Po)(y[t+1])?b[t+1]:y[t+1],s=`${(0,j.Po)(i)||!i?`empty-left-diff-${t}`:i.blobLineNumber}-${(0,j.Po)(a)||!a?`empty-right-diff-${t}`:a.blobLineNumber}`;return(0,n.jsx)(ae,{copilotChatReference:g,diffHasHiddenUnicodeCharacters:d,filePath:m,handleDiffSideCellSelectionBlocking:h,hunksData:v,leftDiffLine:i,nextDiffLine:l,prevDiffLine:r,rightDiffLine:a,showHiddenUnicode:f,viewerData:x},s)}),o[11]=g,o[12]=d,o[13]=m,o[14]=h,o[15]=v,o[16]=y,o[17]=b,o[18]=f,o[19]=x,o[20]=r):r=o[20],o[21]!==r?(l=(0,n.jsx)(n.Fragment,{children:r}),o[21]=r,o[22]=l):l=o[22],l});try{at.displayName||(at.displayName="SplitDiffLines")}catch{}let ai=(0,l.memo)(function({copilotChatReference:e,diffHasHiddenUnicodeCharacters:t,filePath:i,hunksData:a,currentDiffLine:r,nextDiffLine:s,prevDiffLine:o,showHiddenUnicode:d,viewerData:c}){let u=F(ee),m=H(r.key),h=(0,l.useMemo)(()=>({...r,...m}),[r,m]),f=(0,l.useMemo)(()=>!!h.isSelected,[h.isSelected]),p="DELETION"!==r.type?"RIGHT":"LEFT",g="RIGHT"===p?r.right:r.left,x=(0,j.oH)(g,p),{threads:y,annotations:b,commentsPreference:v}=(0,C.rP)(i,x??""),S="HUNK"===h.type,_=(0,w.IQ)(u,(0,w.XU)(h.type),h.blobLineNumber),{currentHunk:N,nextHunk:E,previousHunk:R}=ez(h,a),L=(0,j.qX)(u,h,h),D=t&&(0,t_.Y)(h.text);d&&D&&(h=h.html?{...h,html:(0,n9.Gx)(h.html)??h.html}:{...h,text:(0,t_.TA)(h.text)});let I="DELETION"===h.type;return(0,n.jsx)("tr",{className:"diff-line-row",children:S?(0,n.jsx)(n8,{currentHunk:N,diffAnchor:u,diffLine:h,isLeftSide:I,isSplit:!1,nextHunk:E,nextLine:s,previousHunk:R,prevLine:o}):(0,n.jsx)(n2,{annotationsAtPosition:b,commentsPreference:v,copilotChatReference:e,currentHunk:N,diffAnchor:u,diffLine:h,filePath:i,hasHiddenUnicodeCharacters:D,isLeftSide:I,isRowSelected:f,isSplit:!1,lineAnchor:_,nextHunk:E,previousHunk:R,rowId:L,threadsAtPosition:y,viewerData:c})},L)});try{ai.displayName||(ai.displayName="UnifiedDiffRow")}catch{}let an=(0,l.memo)(function(e){let t,i,r,l,s=(0,a.c)(20),{diffHasHiddenUnicodeCharacters:o,diffLines:d,fileAnchor:c,filePath:u,tableRef:m,showHiddenUnicode:h,copilotChatReference:f,viewerData:p}=e;s[0]!==d?(t=eQ(d.map(aa)),s[0]=d,s[1]=t):t=s[1];let g=t,{addLineToSelection:x,clearSelectedLines:y,selectMultipleLines:b}=F(ei),v=F(Q);return s[2]!==x||s[3]!==y||s[4]!==c||s[5]!==v||s[6]!==b||s[7]!==d||s[8]!==m?(i={addLineToSelection:x,clearSelectedLines:y,containerRef:m,fileAnchor:c,getfirstLineSelectionOnDrag:v,isSplitDiff:!1,leftLines:d,selectMultipleLines:b,disabled:!1},s[2]=x,s[3]=y,s[4]=c,s[5]=v,s[6]=b,s[7]=d,s[8]=m,s[9]=i):i=s[9],tC(i),s[10]!==f||s[11]!==o||s[12]!==d||s[13]!==u||s[14]!==g||s[15]!==h||s[16]!==p?(r=d.map((e,t)=>{let i=d[t+1],a=d[t-1],r=`unified-diff-row-l:${e.left}-r:${e.right}-b:${e.blobLineNumber}`;return(0,n.jsx)(ai,{copilotChatReference:f,diffHasHiddenUnicodeCharacters:o,filePath:u,hunksData:g,currentDiffLine:e,nextDiffLine:i,prevDiffLine:a,showHiddenUnicode:h,viewerData:p},r)}),s[10]=f,s[11]=o,s[12]=d,s[13]=u,s[14]=g,s[15]=h,s[16]=p,s[17]=r):r=s[17],s[18]!==r?(l=(0,n.jsx)(n.Fragment,{children:r}),s[18]=r,s[19]=l):l=s[19],l});try{an.displayName||(an.displayName="UnifiedDiffLines")}catch{}function aa(e){return e}var ar=i(60745),al=i(73189);function as(e){let t,i,r,l=(0,a.c)(13),{hasDraftComment:s,handleMouseLeaveAddCommentButton:o,handleMouseDownAddCommentButton:c,lineSpacingPreference:u,openStartConversationDialog:m,authorLogin:h,authorAvatarUrl:f}=e,{sendAnalyticsEvent:p}=(0,tN.s)(),g=(0,nT.J)();l[0]!==g||l[1]!==m||l[2]!==p?(t=e=>{let t=g();(0,nD.X)()?.registerCallback({event:e.nativeEvent,cb:e=>{p("diff-lines.inp_interaction","PRS_ADD_COMMENT_BUTTON_CLICK",{latency:e.latency}),(0,nI.au)({name:"PRS_ADD_COMMENT_BUTTON_CLICK",tags:t,value:e.latency})}}),m()},l[0]=g,l[1]=m,l[2]=p,l[3]=t):t=l[3];let y=t;return l[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,x.$)("d-flex","flex-row",nS),l[4]=i):i=l[4],l[5]!==f||l[6]!==h||l[7]!==c||l[8]!==o||l[9]!==y||l[10]!==s||l[11]!==u?(r=(0,n.jsx)("div",{"aria-hidden":!1,className:i,children:s?(0,n.jsx)(ev.Q,{"aria-label":"Continue comment in progress",size:"small",className:(0,x.$)("py-0","compact"===u?n_:nN,nE),onClick:y,onKeyDown:ao,children:(0,n.jsx)(nv,{lineSpacingPreference:u,authorAvatarUrl:f,authorLogin:h})}):(0,n.jsx)(ev.Q,{icon:d.PlusIcon,"aria-label":"Add comment",size:"small","data-add-comment-button":!0,className:(0,x.$)("fgColor-muted","bgColor-accent-emphasis","borderColor-accent-emphasis","fgColor-onEmphasis","px-0",nw,nE,nR),onKeyDown:ao,onClick:y,onMouseDown:c,onMouseLeave:o,onMouseUp:y})}),l[5]=f,l[6]=h,l[7]=c,l[8]=o,l[9]=y,l[10]=s,l[11]=u,l[12]=r):r=l[12],r}function ao(e){"Tab"===e.key&&e.shiftKey&&(e.preventDefault(),e.currentTarget.closest("td")?.focus())}try{as.displayName||(as.displayName="SimpleAddCommentButton")}catch{}function ad(e){let t,i,r,s,o,c,u,m,h,f,p=(0,a.c)(53),{showStartConversation:g,viewerData:y,openStartConversationDialog:b,threads:v,annotations:C,shouldDisplayMinimizedComments:S,diffAnchor:_,diffLine:N,isLeftSide:w,isSplit:j,nextHunk:E,previousHunk:R,currentHunk:L,copilotChatReference:D,shouldDisplayCollapseComments:I,toggleViewingMarkers:T,setShouldStartNewConversationWithSuggestedChange:A,setIsContextMenuOpen:k,contextMenuOpen:O}=e,M=(0,l.useRef)(null),P=v.reduce(ac,0),U=C.length,{commentsPreference:$,lineSpacingPreference:B}=y,q=F(z),H=F(W),G=F(X);p[0]!==N||p[1]!==q||p[2]!==H||p[3]!==G||p[4]!==w||p[5]!==j?(t=async()=>{let e=q();await iH({diffLine:N,diffLines:e,getSelectedDiffLines:H,getSelectedLineRange:G,isSplit:j,isLeftSide:w})},p[0]=N,p[1]=q,p[2]=H,p[3]=G,p[4]=w,p[5]=j,p[6]=t):t=p[6];let V=t,K=P+U>0&&$===iB.sI.Collapsed;p[7]!==C.length||p[8]!==v.length||p[9]!==T?(i=e=>{(1===v.length||1===C.length)&&e.preventDefault(),T?.()},p[7]=C.length,p[8]=v.length,p[9]=T,p[10]=i):i=p[10];let Q=i;return p[11]===Symbol.for("react.memo_cache_sentinel")?(r=(0,x.$)("d-flex","flex-row",nC),p[11]=r):r=p[11],p[12]!==C||p[13]!==O||p[14]!==Q||p[15]!==B||p[16]!==S||p[17]!==v||p[18]!==K?(s=K&&S&&(0,n.jsx)(ev.Q,{"aria-expanded":O,"aria-label":"View comments",size:"small",className:(0,x.$)("py-0","px-1",nE),onClick:Q,children:(0,n.jsx)(i4,{threads:v,annotations:C,lineSpacingPreference:B})}),p[12]=C,p[13]=O,p[14]=Q,p[15]=B,p[16]=S,p[17]=v,p[18]=K,p[19]=s):s=p[19],p[20]!==O||p[21]!==k?(o=()=>k(!O),p[20]=O,p[21]=k,p[22]=o):o=p[22],p[23]===Symbol.for("react.memo_cache_sentinel")?(c=(0,x.$)("fgColor-muted",nj),p[23]=c):c=p[23],p[24]!==O||p[25]!==k?(u=(0,n.jsx)(ej.W.Anchor,{children:(0,n.jsx)(ev.Q,{ref:M,"aria-haspopup":"true","aria-label":"More actions",icon:d.TriangleDownIcon,size:"small",className:c,onClick:()=>k(!O)})}),p[24]=O,p[25]=k,p[26]=u):u=p[26],p[27]!==C||p[28]!==D||p[29]!==L||p[30]!==_||p[31]!==N||p[32]!==V||p[33]!==w||p[34]!==j||p[35]!==E||p[36]!==b||p[37]!==R||p[38]!==A||p[39]!==I||p[40]!==g||p[41]!==v||p[42]!==T||p[43]!==y?(m=(0,n.jsx)(ej.W.Overlay,{width:"medium",children:(0,n.jsx)(eE.l,{children:(0,n.jsx)(nr,{threads:v,annotations:C,currentHunk:L,diffAnchor:_,diffLine:N,shouldDisplayCollapseComments:I,copilotChatReference:D,showStartConversation:g,handleCopyCode:V,handleViewMarkersSelection:T,isLeftSide:w,isSplit:j,nextHunk:E,previousHunk:R,startConversationCurrentLine:b,startConversationWithSuggestedChange:A,viewerData:y})})}),p[27]=C,p[28]=D,p[29]=L,p[30]=_,p[31]=N,p[32]=V,p[33]=w,p[34]=j,p[35]=E,p[36]=b,p[37]=R,p[38]=A,p[39]=I,p[40]=g,p[41]=v,p[42]=T,p[43]=y,p[44]=m):m=p[44],p[45]!==O||p[46]!==o||p[47]!==u||p[48]!==m?(h=(0,n.jsxs)(ej.W,{anchorRef:M,open:O,onOpenChange:o,children:[u,m]}),p[45]=O,p[46]=o,p[47]=u,p[48]=m,p[49]=h):h=p[49],p[50]!==s||p[51]!==h?(f=(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{"aria-hidden":!1,className:r,children:(0,n.jsxs)(i0.A,{className:nL,children:[s,h]})})}),p[50]=s,p[51]=h,p[52]=f):f=p[52],f}function ac(e,t){return e+(t.commentsData?.comments.length??0)}try{ad.displayName||(ad.displayName="SimpleContextMenu")}catch{}function au(e){let t,i,r,s,o,d,c,u,m,h,f=(0,a.c)(54),{ref:g,annotations:x,authorAvatarUrl:y,authorLogin:b,copilotChatReference:v,currentHunk:C,diffAnchor:S,diffLine:_,hasDraftComment:N,handleMouseLeaveAddCommentButton:w,handleMouseDownAddCommentButton:j,isLeftSide:E,isSplit:R,nextHunk:L,previousHunk:D,shouldDisplayCollapseComments:I,shouldDisplayMinimizedComments:T,shouldDisplayComments:A,threads:k,toggleViewingMarkers:O,viewerData:P,openStartConversationDialog:U,setIsContextMenuOpen:$,cellId:B,isAddCommentBoxOpen:q,filePath:H,contextMenuOpen:G}=e,V=F(X);e:{if(!A){t=!0;break e}if(q||!P.viewerCanComment){t=!1;break e}t=!0}let K=t,W=F(ed);f[0]!==B||f[1]!==W?(i=()=>{W(B)},f[0]=B,f[1]=W,f[2]=i):i=f[2];let z=(0,l.useEffectEvent)(i);f[3]!==g||f[4]!==G||f[5]!==z?(r=()=>{if(g?.current)return n$({element:g?.current,shouldIgnore:()=>G,onPointerExit:z})},f[3]=g,f[4]=G,f[5]=z,f[6]=r):r=f[6],f[7]!==g||f[8]!==B||f[9]!==G?(s=[g,G,B],f[7]=g,f[8]=B,f[9]=G,f[10]=s):s=f[10],(0,l.useEffect)(r,s),f[11]!==S||f[12]!==_||f[13]!==H||f[14]!==V||f[15]!==E?(o=()=>{let e=V();e||(e={startLineNumber:_.blobLineNumber,endLineNumber:_.blobLineNumber,startOrientation:E?"left":"right",endOrientation:E?"left":"right",diffAnchor:S});let t=new M.L(e,H);p.cg?.dispatchEvent(t)},f[11]=S,f[12]=_,f[13]=H,f[14]=V,f[15]=E,f[16]=o):o=f[16];let Q=o;f[17]!==y||f[18]!==b||f[19]!==j||f[20]!==w||f[21]!==N||f[22]!==Q||f[23]!==U||f[24]!==K||f[25]!==P.lineSpacingPreference?(d=K&&(0,n.jsx)(as,{hasDraftComment:N,handleMouseLeaveAddCommentButton:w,handleMouseDownAddCommentButton:j,lineSpacingPreference:P.lineSpacingPreference,openStartConversationDialog:()=>{U(!1),Q()},authorLogin:b,authorAvatarUrl:y}),f[17]=y,f[18]=b,f[19]=j,f[20]=w,f[21]=N,f[22]=Q,f[23]=U,f[24]=K,f[25]=P.lineSpacingPreference,f[26]=d):d=f[26],f[27]!==Q||f[28]!==U?(c=()=>{U(!1),Q()},u=()=>{U(!0),Q()},f[27]=Q,f[28]=U,f[29]=c,f[30]=u):(c=f[29],u=f[30]);let Y=T??!1;return f[31]!==x||f[32]!==G||f[33]!==v||f[34]!==C||f[35]!==S||f[36]!==_||f[37]!==E||f[38]!==R||f[39]!==L||f[40]!==D||f[41]!==$||f[42]!==I||f[43]!==K||f[44]!==c||f[45]!==u||f[46]!==Y||f[47]!==k||f[48]!==O||f[49]!==P?(m=(0,n.jsx)(ad,{showStartConversation:K,viewerData:P,openStartConversationDialog:c,setShouldStartNewConversationWithSuggestedChange:u,setIsContextMenuOpen:$,contextMenuOpen:G,threads:k,annotations:x,shouldDisplayMinimizedComments:Y,diffAnchor:S,diffLine:_,isLeftSide:E,isSplit:R,nextHunk:L,previousHunk:D,currentHunk:C,copilotChatReference:v,shouldDisplayCollapseComments:I,toggleViewingMarkers:O}),f[31]=x,f[32]=G,f[33]=v,f[34]=C,f[35]=S,f[36]=_,f[37]=E,f[38]=R,f[39]=L,f[40]=D,f[41]=$,f[42]=I,f[43]=K,f[44]=c,f[45]=u,f[46]=Y,f[47]=k,f[48]=O,f[49]=P,f[50]=m):m=f[50],f[51]!==m||f[52]!==d?(h=(0,n.jsxs)(n.Fragment,{children:[d,m]}),f[51]=m,f[52]=d,f[53]=h):h=f[53],h}au.displayName="ActionBar";let am=(0,l.memo)(function(e){let t,i,r,l,s=(0,a.c)(11),{lineHtml:o,lineType:d,lineTypeCharacter:c}=e,u="ADDITION"===d,m="DELETION"===d;return s[0]!==u||s[1]!==m?(t=(0,x.$)("diff-text syntax-highlighted-line",{addition:u,deletion:m}),s[0]=u,s[1]=m,s[2]=t):t=s[2],s[3]!==c?(i=c&&(0,n.jsx)("span",{className:"diff-text-marker",children:c}),s[3]=c,s[4]=i):i=s[4],s[5]!==o?(r=(0,n.jsx)(eF.$6,{html:o,className:"diff-text-inner"}),s[5]=o,s[6]=r):r=s[6],s[7]!==t||s[8]!==i||s[9]!==r?(l=(0,n.jsxs)("code",{className:t,children:[i,r]}),s[7]=t,s[8]=i,s[9]=r,s[10]=l):l=s[10],l});try{am.displayName||(am.displayName="LineTextWrapper")}catch{}let ah="SimpleDiff-module__comment-indicator--MoOJu",af=e=>(e.target??void 0)?.nodeName==="TD",ap=e=>{let t=ax(e),i=t?.querySelector('[data-first-marker="true"]')??t?.querySelector("[data-marker-id]");i?.focus()},ag=e=>{let t=ax(e);t?.querySelector('[data-marker-id="new-comment"]')?.querySelector("textarea")?.focus()},ax=e=>{let t=e.currentTarget.classList.contains("new-diff-line-number")?e.currentTarget.nextElementSibling:e.currentTarget;return t?.classList.contains("new-diff-line-number")&&(t=t?.nextElementSibling),t},ay=["CONTEXT","INJECTED_CONTEXT"],ab="focusable-grid-cell new-diff-line-number empty-diff-line left-side",av="focusable-grid-cell new-diff-line-number left-side";function aC(e){let t,i,r,s,o,c,u,m,h,f,p,g=(0,a.c)(92),{diffLine:y,nextDiffLine:b,prevDiffLine:v,filePath:S,avatarURL:_,userLogin:N,viewerCanApplySuggestion:w,handleMouseDownOnNumberCell:E,handleMouseEnterCell:R,handleMouseUpRow:L,handleMouseLeaveAddCommentButton:D,handleMouseDownAddCommentButton:I,copilotChatReference:T,hunksData:A,viewerCanComment:k,shouldDisplayComments:O}=e,M="HUNK"===y.type,P="ADDITION"!==y.type,U="DELETION"!==y.type,$=H(y.key),q=F(ee),{enableDialogMode:K}=F(Z),W=(0,j.qX)(q,y,y),z=_??"",Q=N??"",X=w??!1,Y=k??!1;g[0]!==z||g[1]!==Q||g[2]!==X||g[3]!==Y?(t={avatarUrl:z,login:Q,viewerCanApplySuggestion:X,viewerCanComment:Y},g[0]=z,g[1]=Q,g[2]=X,g[3]=Y,g[4]=t):t=g[4];let J=t;g[5]!==y.type||g[6]!==$.isSelected?(i=(0,j.Yf)(y.type,!0,$.isSelected),g[5]=y.type,g[6]=$.isSelected,g[7]=i):i=g[7];let et=i;g[8]!==y.type||g[9]!==$.isSelected?(r=(0,j.Yf)(y.type,!1,$.isSelected),g[8]=y.type,g[9]=$.isSelected,g[10]=r):r=g[10];let ei=r;g[11]!==y.html||g[12]!==y.type?(s=(0,j.x_)(y.html,y.type),g[11]=y.html,g[12]=y.type,g[13]=s):s=g[13];let[en,ea]=s;g[14]!==ea?(o=ea&&["+","-"].includes(ea),g[14]=ea,g[15]=o):o=g[15];let er=o,[el,es]=(0,l.useState)(!1),[eo,eh]=(0,l.useState)(!1);g[16]!==y||g[17]!==A?(c=ez(y,A),g[16]=y,g[17]=A,g[18]=c):c=g[18];let{currentHunk:ef,nextHunk:ep,previousHunk:eg}=c,ex=`inline-dialog-heading-${(0,l.useId)()}`,ey="DELETION"!==y.type?"RIGHT":"LEFT",eb="RIGHT"===ey?y.right:y.left;g[19]!==eb||g[20]!==ey?(u=(0,j.oH)(eb,ey),g[19]=eb,g[20]=ey,g[21]=u):u=g[21];let ev=u,eC=G(ev??""),{threads:eS,annotations:e_,commentsPreference:eN}=(0,C.rP)(S,ev??""),ew=eS.length+e_.length!==0,ej=$.isSelected??!1,eE=eN===iB.sI.Collapsed,[eR,eL]=(0,l.useState)(!1),eD=ew&&eE;g[22]!==eD?(m=(0,j.S4)({hasThreads:eD}),g[22]=eD,g[23]=m):m=g[23];let eI=m,eT=(0,l.useRef)(null),eA=(0,l.useRef)(null),ek="DELETION"===y.type,[eO,eM]=(0,l.useState)(eS.length>0||e_.length>0||eC),[eP,eF]=(0,l.useState)(eC??!1),eU=O&&(!eE||eR||eP)&&(eO||ew||eC||eP),e$=(0,j.u6)(W,0),eB=(0,j.u6)(W,1),eq=(0,j.u6)(W,2),eH=B(eq);g[24]!==eq||g[25]!==K||g[26]!==eC||g[27]!==ew||g[28]!==eF?(h=e=>{!function(e,{hasThreads:t,hasStoredComment:i,enableDialogMode:n,codeCellId:a,setIsNewConversationDialogOpen:r}){if("Enter"===e.key&&af(e)){if(e.preventDefault(),i){n(a),ag(e);return}if(t){n(a),ap(e);return}r(!0)}}(e,{hasThreads:ew,hasStoredComment:eC,codeCellId:eq,enableDialogMode:K,setIsNewConversationDialogOpen:eF})},g[24]=eq,g[25]=K,g[26]=eC,g[27]=ew,g[28]=eF,g[29]=h):h=g[29];let eG=h,eV=F(ec),eK=F(ed),eW=F(eu),eQ=F(em),eX=V(eq);return g[30]!==e_||g[31]!==_||g[32]!==eQ||g[33]!==ei||g[34]!==eq||g[35]!==eI||g[36]!==eR||g[37]!==eE||g[38]!==eN||g[39]!==T||g[40]!==ef||g[41]!==q||g[42]!==y||g[43]!==S||g[44]!==I||g[45]!==E||g[46]!==R||g[47]!==D||g[48]!==eG||g[49]!==eC||g[50]!==eK||g[51]!==ex||g[52]!==eX||g[53]!==el||g[54]!==M||g[55]!==eH||g[56]!==ek||g[57]!==eP||g[58]!==ej||g[59]!==e$||g[60]!==en||g[61]!==ev||g[62]!==et||g[63]!==ey||g[64]!==ea||g[65]!==b||g[66]!==ep||g[67]!==v||g[68]!==eg||g[69]!==eB||g[70]!==eL||g[71]!==eW||g[72]!==es||g[73]!==eF||g[74]!==eh||g[75]!==eM||g[76]!==O||g[77]!==eU||g[78]!==eo||g[79]!==eV||g[80]!==P||g[81]!==er||g[82]!==U||g[83]!==eS||g[84]!==N||g[85]!==w||g[86]!==k||g[87]!==J?(f=M?(0,n.jsx)(n8,{currentHunk:ef,diffAnchor:q,diffLine:y,isLeftSide:ek,isSplit:!1,nextHunk:ep,nextLine:b,previousHunk:eg,prevLine:v}):(0,n.jsxs)(n.Fragment,{children:[P?(0,n.jsxs)("td",{className:(0,x.$)(av,ay.includes(y.type)&&"diff-line-number-neutral"),"data-diff-side":"left","data-diff-line-key":y.key,"data-first-unified-line-number-cell":"true","data-grid-cell-id":e$,"data-line-number":y.left,"data-selected":ej,role:"gridcell",style:{backgroundColor:et},tabIndex:-1,onKeyDown:eG,onMouseDown:E,onMouseEnter:R,children:[ek&&y.hasHiddenUnicode&&(0,n.jsx)(nJ,{children:(0,n.jsx)(nY.o,{})}),y.left]}):(0,n.jsx)("td",{style:{backgroundColor:et},"data-grid-cell-id":e$,"data-selected":ej,className:ab,role:"gridcell",onKeyDown:eG,tabIndex:-1}),U?(0,n.jsxs)("td",{className:(0,x.$)(av,ay.includes(y.type)&&"diff-line-number-neutral"),"data-diff-side":"right","data-diff-line-key":y.key,"data-first-unified-line-number-cell":"false","data-grid-cell-id":eB,"data-line-number":y.right,"data-selected":ej,role:"gridcell",style:{backgroundColor:et},tabIndex:-1,onKeyDown:eG,onMouseDown:E,onMouseEnter:R,children:[!ek&&y.hasHiddenUnicode&&(0,n.jsx)(nJ,{children:(0,n.jsx)(nY.o,{})}),y.right]}):(0,n.jsx)("td",{style:{backgroundColor:et},"data-grid-cell-id":eB,"data-selected":ej,className:ab,role:"gridcell",onKeyDown:eG,tabIndex:-1}),(0,n.jsxs)("td",{"data-grid-cell-id":eq,className:"diff-text-cell focusable-grid-cell left-side",style:{backgroundColor:ei,paddingRight:eI},"data-diff-line-key":y.key,"data-diff-side":ey.toLowerCase(),"data-line-number":ek?y.left:y.right,"data-selected":ej,onKeyDown:eG,onMouseEnter:e=>{eV(eq),R(e)},onMouseLeave:()=>eK(eq),onFocus:()=>eW(eq),onBlur:e=>{let t=e.relatedTarget;t instanceof Node&&e.currentTarget.contains(t)||eQ()},"aria-labelledby":eH?ex:void 0,role:eH?"dialog":"gridcell",ref:e=>{eX?eT.current=e:eT.current=null},tabIndex:-1,children:[eH&&(0,n.jsx)("h1",{id:ex,className:"sr-only",children:"Comment view"}),(0,n.jsx)(am,{lineHtml:en,lineType:y.type,lineTypeCharacter:er?ea:void 0}),y.displayNoNewLineWarning&&(0,n.jsx)(d.NoEntryIcon,{size:16,className:"fgColor-danger"}),eU?(0,n.jsx)(iO,{diffLine:y,gridCellId:eq,gutterSizeOffset:eI,inlineMarkersRef:eA,cellRef:eT,fileAnchor:q,dispatchMarkersStatus:al.l,shouldListenForEscapeKey:!0,batchingEnabled:!0,lineMarkersKey:ev,annotations:e_,conversationListThreads:eS,filePath:S,onCloseFocusMode:al.l,isRowSelected:ej,lineType:y.type,shouldStartNewConversationWithSuggestedChange:eo,viewerData:J,onCloseConversationList:()=>{eF(!1),eM(!1),eh(!1)},onDeleteLineComment:()=>{eF(!1),eM(!1),eh(!1)},children:(eP||eC)&&(0,n.jsx)("div",{className:(0,x.$)(" border rounded-2 color-border-default",(eS.length,"mt-2 mb-1")),children:(0,n.jsx)(tY,{diffLine:y,diffAnchor:q,batchingEnabled:!0,filePath:S,focusOnMount:!eC,isLeftSide:ek,isInDialogMode:!1,isOpen:!0,isRowSelected:ej,shouldStartNewConversationWithSuggestedChange:eo,viewerData:J,onCloseCommentDialog:()=>{eT.current?.focus(),eF(!1),eM(!1),eh(!1)}})})}):null,(eX||el)&&(0,n.jsx)(au,{openStartConversationDialog:e=>{eh(e),eF(!0),eM(!0)},authorAvatarUrl:_??"",authorLogin:N??"",ref:eT,copilotChatReference:T,currentHunk:ef,diffAnchor:q,diffLine:y,threads:eS,annotations:e_,hasDraftComment:eC,handleMouseLeaveAddCommentButton:D,handleMouseDownAddCommentButton:I,isLeftSide:ek,isSplit:!1,filePath:S,nextHunk:ep,previousHunk:eg,shouldDisplayComments:O,shouldDisplayMinimizedComments:O,shouldDisplayCollapseComments:eR,setIsContextMenuOpen:es,cellId:eq,contextMenuOpen:el,isAddCommentBoxOpen:eP,toggleViewingMarkers:()=>eL(!eR),viewerData:{avatarUrl:_??"",diffViewPreference:"unified",lineSpacingPreference:"compact",login:N??"",commentsPreference:eN,shouldDisplayComments:O??!0,shouldDisplayEditOptions:!0,tabSizePreference:8,viewerCanComment:k??!1,viewerCanApplySuggestion:w??!1}}),(eS.length>0||e_.length>0)&&eE&&(0,n.jsx)("div",{"aria-hidden":"true",className:(0,x.$)("position-absolute top-0 d-flex user-select-none",ah),children:(0,n.jsx)(i4,{threads:eS,annotations:e_,lineSpacingPreference:"compact"})})]})]}),g[30]=e_,g[31]=_,g[32]=eQ,g[33]=ei,g[34]=eq,g[35]=eI,g[36]=eR,g[37]=eE,g[38]=eN,g[39]=T,g[40]=ef,g[41]=q,g[42]=y,g[43]=S,g[44]=I,g[45]=E,g[46]=R,g[47]=D,g[48]=eG,g[49]=eC,g[50]=eK,g[51]=ex,g[52]=eX,g[53]=el,g[54]=M,g[55]=eH,g[56]=ek,g[57]=eP,g[58]=ej,g[59]=e$,g[60]=en,g[61]=ev,g[62]=et,g[63]=ey,g[64]=ea,g[65]=b,g[66]=ep,g[67]=v,g[68]=eg,g[69]=eB,g[70]=eL,g[71]=eW,g[72]=es,g[73]=eF,g[74]=eh,g[75]=eM,g[76]=O,g[77]=eU,g[78]=eo,g[79]=eV,g[80]=P,g[81]=er,g[82]=U,g[83]=eS,g[84]=N,g[85]=w,g[86]=k,g[87]=J,g[88]=f):f=g[88],g[89]!==L||g[90]!==f?(p=(0,n.jsx)("tr",{className:"diff-line-row",onMouseUp:L,children:f}),g[89]=L,g[90]=f,g[91]=p):p=g[91],p}try{aC.displayName||(aC.displayName="SimpleUnifiedDiffRow")}catch{}let aS=(0,l.memo)(function(e){let t,i,r,l=(0,a.c)(25),{diffAnchor:s,diffLines:o,filePath:d,tableRef:c,avatarURL:u,userLogin:m,viewerCanApplySuggestion:h,handleMouseDownOnNumberCell:f,handleMouseEnterCell:p,handleMouseUpRow:g,handleMouseLeaveAddCommentButton:x,handleMouseDownAddCommentButton:y,copilotChatReference:b,viewerCanComment:v,shouldDisplayComments:C}=e;l[0]!==o?(t=eQ(o.map(a_)),l[0]=o,l[1]=t):t=l[1];let S=t,{addLineToSelection:_,clearSelectedLines:N,selectMultipleLines:w}=F(ei),j=F(Q);return l[2]!==_||l[3]!==N||l[4]!==s||l[5]!==j||l[6]!==w||l[7]!==o||l[8]!==c?(i={addLineToSelection:_,clearSelectedLines:N,containerRef:c,fileAnchor:s,getfirstLineSelectionOnDrag:j,isSplitDiff:!1,leftLines:o,selectMultipleLines:w,disabled:!1},l[2]=_,l[3]=N,l[4]=s,l[5]=j,l[6]=w,l[7]=o,l[8]=c,l[9]=i):i=l[9],tC(i),l[10]!==u||l[11]!==b||l[12]!==o||l[13]!==d||l[14]!==y||l[15]!==f||l[16]!==p||l[17]!==x||l[18]!==g||l[19]!==S||l[20]!==C||l[21]!==m||l[22]!==h||l[23]!==v?(r=o.map((e,t)=>{let i=`unified-diff-row-l:${e.left}-r:${e.right}-b:${e.blobLineNumber}`,a=o[t+1],r=o[t-1];return(0,n.jsx)(aC,{hunksData:S,diffLine:e,nextDiffLine:a,prevDiffLine:r,filePath:d,handleMouseDownOnNumberCell:f,handleMouseEnterCell:p,handleMouseUpRow:g,handleMouseLeaveAddCommentButton:x,handleMouseDownAddCommentButton:y,copilotChatReference:b,avatarURL:u,userLogin:m,viewerCanApplySuggestion:h,viewerCanComment:v,shouldDisplayComments:C},i)}),l[10]=u,l[11]=b,l[12]=o,l[13]=d,l[14]=y,l[15]=f,l[16]=p,l[17]=x,l[18]=g,l[19]=S,l[20]=C,l[21]=m,l[22]=h,l[23]=v,l[24]=r):r=l[24],r});try{aS.displayName||(aS.displayName="SimpleUnifiedDiffLines")}catch{}function a_(e){return e}let aN=["CONTEXT","INJECTED_CONTEXT"],aw="focusable-grid-cell empty-diff-line left-side",aj="focusable-grid-cell new-diff-line-number left-side",aE="diff-text-cell v-align-top focusable-grid-cell";function aR(e){let t,i,r,s,o,c,u,m,h,f,p,g,y,b,v,S,_,N,w,E,R,L=(0,a.c)(124),{leftDiffLine:D,rightDiffLine:I,nextDiffLine:T,prevDiffLine:A,filePath:k,handleMouseDownOnNumberCell:O,handleMouseEnterCell:M,handleMouseUpRow:P,handleDiffSideCellSelectionBlocking:U,handleMouseLeaveAddCommentButton:$,handleMouseDownAddCommentButton:q,copilotChatReference:K,avatarURL:W,userLogin:z,viewerCanApplySuggestion:Q,hunksData:X,viewerCanComment:Y,shouldDisplayComments:J}=e,et=D?.type==="HUNK",ei=F(ee),en=H(D?.key),ea=H(I?.key);if(L[0]!==ei||L[1]!==D||L[2]!==I){let e=(0,j.qX)(ei,D??"empty-diff-line",I);i=(0,j.u6)(e,0),t=(0,j.u6)(e,1),r=(0,j.u6)(e,2),s=(0,j.u6)(e,3),L[0]=ei,L[1]=D,L[2]=I,L[3]=t,L[4]=i,L[5]=r,L[6]=s}else t=L[3],i=L[4],r=L[5],s=L[6];let er=s,{enableDialogMode:el}=F(Z),es=(en.isSelected||ea.isSelected)??!1;L[7]!==es||L[8]!==D?(o=D?(0,j.Yf)(D.type,!0,es):"",L[7]=es,L[8]=D,L[9]=o):o=L[9];let eo=o;L[10]!==es||L[11]!==I?(c=I?(0,j.Yf)(I.type,!0,es):"",L[10]=es,L[11]=I,L[12]=c):c=L[12];let eh=c;L[13]!==es||L[14]!==D?(u=D?(0,j.Yf)(D.type,!1,es):"",L[13]=es,L[14]=D,L[15]=u):u=L[15];let ef=u;L[16]!==es||L[17]!==I?(m=I?(0,j.Yf)(I.type,!1,es):"",L[16]=es,L[17]=I,L[18]=m):m=L[18];let ep=m,eg=`inline-dialog-heading-${(0,l.useId)()}`,ex=B(t),ey=B(er);L[19]!==D?(h=D?(0,j.x_)(D.html,D.type):[void 0,void 0],L[19]=D,L[20]=h):h=L[20];let[eb,ev]=h;L[21]!==ev?(f=ev&&["+","-"].includes(ev),L[21]=ev,L[22]=f):f=L[22];let eC=f;L[23]!==I?(p=I?(0,j.x_)(I.html,I.type):[void 0,void 0],L[23]=I,L[24]=p):p=L[24];let[eS,e_]=p;L[25]!==e_?(g=e_&&["+","-"].includes(e_),L[25]=e_,L[26]=g):g=L[26];let eN=g;L[27]!==D?(y=D?(0,j.oH)(D.left,"LEFT"):void 0,L[27]=D,L[28]=y):y=L[28];let ew=y,{threads:ej,annotations:eE}=(0,C.rP)(k,ew??""),eR=G(ew??""),eL=W??"",eD=z??"",eI=Q??!1,eT=Y??!1;L[29]!==eL||L[30]!==eD||L[31]!==eI||L[32]!==eT?(b={avatarUrl:eL,login:eD,viewerCanApplySuggestion:eI,viewerCanComment:eT},L[29]=eL,L[30]=eD,L[31]=eI,L[32]=eT,L[33]=b):b=L[33];let eA=b;L[34]!==I?(v=I?(0,j.oH)(I.right,"RIGHT"):void 0,L[34]=I,L[35]=v):v=L[35];let ek=v,eO=G(ek??""),{threads:eM,annotations:eP,commentsPreference:eF}=(0,C.rP)(k,ek??""),eU=eF===iB.sI.Collapsed,[e$,eB]=(0,l.useState)(!1),[eq,eH]=(0,l.useState)(!1),[eG,eV]=(0,l.useState)(eR??!1),[eK,eW]=(0,l.useState)(!1),[eQ,eX]=(0,l.useState)(!1),[eY,eJ]=(0,l.useState)(eO??!1),[eZ,e0]=(0,l.useState)(!1),[e1,e2]=(0,l.useState)(!1),[e3,e4]=(0,l.useState)(ej.length>0||eE.length>0||eG),[e5,e6]=(0,l.useState)(eM.length>0||eP.length>0||eY),e7=ej.length+eE.length!==0,e8=eM.length+eP.length!==0,e9=e7&&eU;L[36]!==e9?(S=(0,j.S4)({hasThreads:e9}),L[36]=e9,L[37]=S):S=L[37];let te=S,tt=e8&&eU;L[38]!==tt?(_=(0,j.S4)({hasThreads:tt}),L[38]=tt,L[39]=_):_=L[39];let ti=_,tn=(0,j.Po)(D)?(0,j.Po)(I)?void 0:I:D,ta=J&&(!eU||e$||eG)&&(e3||e7||eR||eG),tr=J&&(!eU||eq||eY)&&(e5||e8||eO||eY),tl=(0,l.useRef)(null),ts=(0,l.useRef)(null),to=(0,l.useRef)(null);L[40]!==el||L[41]!==eR||L[42]!==e7||L[43]!==eO||L[44]!==e8||L[45]!==t||L[46]!==er?(N=e=>{!function(e,{hasLeftThreads:t,hasRightThreads:i,hasRightStoredComment:n,hasLeftStoredComment:a,enableDialogMode:r,leftCodeCellId:l,rightCodeCellId:s,setIsLeftNewConversationDialogOpen:o,setIsRightNewConversationDialogOpen:d}){if("Enter"!==e.key||!af(e))return;e.preventDefault();let c=e.currentTarget.getAttribute("data-diff-side");if("left"===c){if(a){r(l),ag(e);return}if(t){r(l),ap(e);return}o(!0)}else if("right"===c){if(n){r(s),ag(e);return}if(i){r(s),ap(e);return}d(!0)}}(e,{hasLeftThreads:e7,hasRightThreads:e8,hasRightStoredComment:eO,hasLeftStoredComment:eR,enableDialogMode:el,leftCodeCellId:t,rightCodeCellId:er,setIsLeftNewConversationDialogOpen:eV,setIsRightNewConversationDialogOpen:eJ})},L[40]=el,L[41]=eR,L[42]=e7,L[43]=eO,L[44]=e8,L[45]=t,L[46]=er,L[47]=N):N=L[47];let td=N,tc=F(ec),tu=F(ed),tm=F(eu),th=F(em),tf=V(t),tp=V(er);if(!tn)return null;L[48]!==tn||L[49]!==X?(w=ez(tn,X),L[48]=tn,L[49]=X,L[50]=w):w=L[50];let{currentHunk:tg,nextHunk:tx,previousHunk:ty}=w;return L[51]!==W||L[52]!==th||L[53]!==eU||L[54]!==eF||L[55]!==K||L[56]!==tg||L[57]!==ei||L[58]!==k||L[59]!==U||L[60]!==q||L[61]!==O||L[62]!==M||L[63]!==$||L[64]!==td||L[65]!==eR||L[66]!==eO||L[67]!==tu||L[68]!==eg||L[69]!==et||L[70]!==tf||L[71]!==eK||L[72]!==ex||L[73]!==eG||L[74]!==tp||L[75]!==eZ||L[76]!==ey||L[77]!==eY||L[78]!==es||L[79]!==eE||L[80]!==ef||L[81]!==t||L[82]!==te||L[83]!==e$||L[84]!==D||L[85]!==eb||L[86]!==ew||L[87]!==eo||L[88]!==i||L[89]!==ev||L[90]!==ej||L[91]!==T||L[92]!==tx||L[93]!==A||L[94]!==ty||L[95]!==eP||L[96]!==ep||L[97]!==er||L[98]!==ti||L[99]!==eq||L[100]!==I||L[101]!==eS||L[102]!==ek||L[103]!==eh||L[104]!==r||L[105]!==e_||L[106]!==eM||L[107]!==tm||L[108]!==J||L[109]!==ta||L[110]!==tr||L[111]!==eQ||L[112]!==e1||L[113]!==tc||L[114]!==eC||L[115]!==eN||L[116]!==z||L[117]!==Q||L[118]!==Y||L[119]!==eA?(E=et?(0,n.jsx)(n8,{currentHunk:tg,diffAnchor:ei,diffLine:D,isLeftSide:!0,isSplit:!0,nextHunk:tx,nextLine:T,previousHunk:ty,prevLine:A}):(0,n.jsxs)(n.Fragment,{children:[D?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("td",{className:(0,x.$)(aj,aN.includes(D.type)&&"diff-line-number-neutral"),"data-diff-side":"left","data-diff-line-key":D.key,"data-grid-cell-id":i,"data-line-number":D.left,"data-selected":es,onMouseDown:O,onMouseEnter:M,onKeyDown:td,role:"gridcell",style:{backgroundColor:eo},tabIndex:-1,children:[D.hasHiddenUnicode&&(0,n.jsx)(nJ,{children:(0,n.jsx)(nY.o,{})}),D.left]}),(0,n.jsxs)("td",{className:(0,x.$)(aE,"left-side-diff-cell"),"data-grid-cell-id":t,"data-diff-line-key":D.key,"data-diff-side":"left","data-line-number":D.left,"data-selected":es,onKeyDown:td,onMouseDown:U,onMouseEnter:e=>{tc(t),M(e)},onMouseLeave:()=>tu(t),onFocus:()=>tm(t),onBlur:e=>{let t=e.relatedTarget;t instanceof Node&&e.currentTarget.contains(t)||th()},"aria-labelledby":ex?eg:void 0,role:ex?"dialog":"gridcell",ref:e=>{tf?ts.current=e:ts.current=null},style:{backgroundColor:ef,paddingRight:te},tabIndex:-1,children:[ex&&(0,n.jsx)("h1",{id:eg,className:"sr-only",children:"Comment view"}),(0,n.jsx)(am,{lineHtml:eb??"",lineType:D.type,lineTypeCharacter:eC?ev:void 0}),D.displayNoNewLineWarning&&(0,n.jsx)(d.NoEntryIcon,{size:16,className:"fgColor-danger"}),ta&&(0,n.jsx)(iO,{diffLine:D,gridCellId:t,shouldListenForEscapeKey:!0,gutterSizeOffset:te,inlineMarkersRef:tl,cellRef:ts,fileAnchor:ei,batchingEnabled:!0,dispatchMarkersStatus:al.l,lineMarkersKey:ew,annotations:eE,conversationListThreads:ej,filePath:k,onCloseFocusMode:al.l,isRowSelected:es,lineType:D.type,onCloseConversationList:()=>{eV(!1),e4(!1),eX(!1)},onDeleteLineComment:()=>{eV(!1),e4(!1),eX(!1)},viewerData:eA,children:(eG||eR)&&(0,n.jsx)("div",{className:(0,x.$)(" border rounded-2 color-border-default","mt-2 mb-1"),children:(0,n.jsx)(tY,{diffLine:D,diffAnchor:ei,batchingEnabled:!0,filePath:k,focusOnMount:!eR,isLeftSide:!0,isInDialogMode:!1,isOpen:!0,isRowSelected:es,viewerData:eA,shouldStartNewConversationWithSuggestedChange:eQ,onCloseCommentDialog:()=>{ts.current?.focus(),eV(!1),e4(!1),eX(!1)}})})}),(tf||eK)&&(0,n.jsx)(au,{openStartConversationDialog:e=>{eX(e),eV(!0),e4(!0)},isAddCommentBoxOpen:eG,authorAvatarUrl:W??"",authorLogin:z??"",ref:ts,copilotChatReference:K,currentHunk:tg,diffAnchor:ei,diffLine:D,threads:ej,annotations:eE,hasDraftComment:eR,handleMouseLeaveAddCommentButton:$,handleMouseDownAddCommentButton:q,isLeftSide:!0,isSplit:!0,contextMenuOpen:eK,setIsContextMenuOpen:eW,cellId:t,nextHunk:tx,previousHunk:ty,shouldDisplayComments:J,shouldDisplayMinimizedComments:J,shouldDisplayCollapseComments:e$,filePath:k,toggleViewingMarkers:()=>eB(!e$),viewerData:{avatarUrl:W??"",diffViewPreference:"split",lineSpacingPreference:"compact",login:z??"",commentsPreference:eF,shouldDisplayComments:J??!0,shouldDisplayEditOptions:!0,tabSizePreference:8,viewerCanComment:Y??!1,viewerCanApplySuggestion:Q??!1}}),(ej.length>0||eE.length>0)&&eU&&(0,n.jsx)("div",{"aria-hidden":"true",className:(0,x.$)("position-absolute top-0 d-flex user-select-none",ah),children:(0,n.jsx)(i4,{threads:ej,annotations:eE,lineSpacingPreference:"compact"})})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("td",{role:"gridcell",className:aw,tabIndex:-1}),(0,n.jsx)("td",{role:"gridcell",className:aw,tabIndex:-1})]}),I?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("td",{className:(0,x.$)(aj,aN.includes(I.type)&&"diff-line-number-neutral"),"data-diff-side":"right","data-diff-line-key":I.key,"data-grid-cell-id":r,"data-line-number":I.right,"data-selected":es,onKeyDown:td,onMouseDown:O,onMouseEnter:M,role:"gridcell",style:{backgroundColor:eh},tabIndex:-1,children:[I.hasHiddenUnicode&&(0,n.jsx)(nJ,{children:(0,n.jsx)(nY.o,{})}),I.right]}),(0,n.jsxs)("td",{className:(0,x.$)(aE,"right-side-diff-cell"),"data-grid-cell-id":er,"data-diff-line-key":I.key,"data-diff-side":"right","data-line-number":I.right,"data-selected":es,onKeyDown:td,onMouseDown:U,onMouseEnter:e=>{tc(er),M(e)},onMouseLeave:()=>tu(er),onFocus:()=>tm(er),onBlur:e=>{let t=e.relatedTarget;t instanceof Node&&e.currentTarget.contains(t)||th()},"aria-labelledby":ey?eg:void 0,role:ey?"dialog":"gridcell",ref:e=>{tp?to.current=e:to.current=null},style:{backgroundColor:ep,paddingRight:ti},tabIndex:-1,children:[ey&&(0,n.jsx)("h1",{id:eg,className:"sr-only",children:"Comment view"}),(0,n.jsx)(am,{lineHtml:eS??"",lineType:I.type,lineTypeCharacter:eN?e_:void 0}),I.displayNoNewLineWarning&&(0,n.jsx)(d.NoEntryIcon,{size:16,className:"fgColor-danger"}),tr&&(0,n.jsx)(iO,{diffLine:I,gridCellId:er,shouldListenForEscapeKey:!0,gutterSizeOffset:ti,inlineMarkersRef:tl,cellRef:to,fileAnchor:ei,batchingEnabled:!0,dispatchMarkersStatus:al.l,lineMarkersKey:ek,annotations:eP,conversationListThreads:eM,filePath:k,viewerData:eA,onCloseFocusMode:al.l,isRowSelected:es,lineType:I.type,onCloseConversationList:()=>{eJ(!1),e6(!1),e2(!1)},onDeleteLineComment:()=>{eJ(!1),e6(!1),e2(!1)},children:(eY||eO)&&(0,n.jsx)("div",{className:(0,x.$)(" border rounded-2 color-border-default","mt-2 mb-1"),children:(0,n.jsx)(tY,{diffLine:I,diffAnchor:ei,batchingEnabled:!0,filePath:k,focusOnMount:!eO,isLeftSide:!1,isInDialogMode:!1,isOpen:!0,isRowSelected:es,shouldStartNewConversationWithSuggestedChange:e1,viewerData:eA,onCloseCommentDialog:()=>{to.current?.focus(),eJ(!1),e6(!1),e2(!1)}})})}),(tp||eZ)&&(0,n.jsx)(au,{openStartConversationDialog:e=>{e2(e),eJ(!0),e6(!0)},authorAvatarUrl:W??"",authorLogin:z??"",ref:to,isAddCommentBoxOpen:eY,copilotChatReference:K,currentHunk:tg,diffAnchor:ei,diffLine:I,threads:eM,contextMenuOpen:eZ,setIsContextMenuOpen:e0,cellId:er,annotations:eP,hasDraftComment:eO,handleMouseLeaveAddCommentButton:$,handleMouseDownAddCommentButton:q,isLeftSide:!1,isSplit:!0,nextHunk:tx,previousHunk:ty,filePath:k,shouldDisplayComments:J,shouldDisplayMinimizedComments:J,shouldDisplayCollapseComments:eq,toggleViewingMarkers:()=>eH(!eq),viewerData:{avatarUrl:W??"",diffViewPreference:"split",lineSpacingPreference:"compact",login:z??"",commentsPreference:eF,shouldDisplayComments:J??!0,shouldDisplayEditOptions:!0,tabSizePreference:8,viewerCanComment:Y??!1,viewerCanApplySuggestion:Q??!1}}),(eM.length>0||eP.length>0)&&eU&&(0,n.jsx)("div",{"aria-hidden":"true",className:(0,x.$)("position-absolute top-0 d-flex user-select-none",ah),children:(0,n.jsx)(i4,{threads:eM,annotations:eP,lineSpacingPreference:"compact"})})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("td",{role:"gridcell",className:aw,tabIndex:-1}),(0,n.jsx)("td",{role:"gridcell",className:aw,tabIndex:-1})]})]}),L[51]=W,L[52]=th,L[53]=eU,L[54]=eF,L[55]=K,L[56]=tg,L[57]=ei,L[58]=k,L[59]=U,L[60]=q,L[61]=O,L[62]=M,L[63]=$,L[64]=td,L[65]=eR,L[66]=eO,L[67]=tu,L[68]=eg,L[69]=et,L[70]=tf,L[71]=eK,L[72]=ex,L[73]=eG,L[74]=tp,L[75]=eZ,L[76]=ey,L[77]=eY,L[78]=es,L[79]=eE,L[80]=ef,L[81]=t,L[82]=te,L[83]=e$,L[84]=D,L[85]=eb,L[86]=ew,L[87]=eo,L[88]=i,L[89]=ev,L[90]=ej,L[91]=T,L[92]=tx,L[93]=A,L[94]=ty,L[95]=eP,L[96]=ep,L[97]=er,L[98]=ti,L[99]=eq,L[100]=I,L[101]=eS,L[102]=ek,L[103]=eh,L[104]=r,L[105]=e_,L[106]=eM,L[107]=tm,L[108]=J,L[109]=ta,L[110]=tr,L[111]=eQ,L[112]=e1,L[113]=tc,L[114]=eC,L[115]=eN,L[116]=z,L[117]=Q,L[118]=Y,L[119]=eA,L[120]=E):E=L[120],L[121]!==P||L[122]!==E?(R=(0,n.jsx)("tr",{className:"diff-line-row",onMouseUp:P,children:E}),L[121]=P,L[122]=E,L[123]=R):R=L[123],R}try{aR.displayName||(aR.displayName="SimpleSplitDiffRow")}catch{}let aL=(0,l.memo)(function(e){let t,i,r,l=(0,a.c)(28),{diffAnchor:s,diffLines:o,filePath:d,avatarURL:c,userLogin:u,viewerCanApplySuggestion:m,handleMouseDownOnNumberCell:h,handleMouseEnterCell:f,handleMouseUpRow:p,handleDiffSideCellSelectionBlocking:g,handleMouseLeaveAddCommentButton:x,handleMouseDownAddCommentButton:y,copilotChatReference:b,viewerCanComment:v,shouldDisplayComments:C,tableRef:S}=e,{leftLines:_,rightLines:N}=function(e){let t,i,n=(0,a.c)(5);n[0]!==e?(t=function(e){let t=[],i=[],n=()=>{for(;t.length<i.length;)t.push(void 0);for(;i.length<t.length;)i.push(void 0)};for(let a of e)switch(a.type){case"ADDITION":i.push(a);break;case"DELETION":t.push(a);break;case"CONTEXT":case"INJECTED_CONTEXT":case"HUNK":n(),t.push(a),i.push(a)}return n(),{leftLines:t,rightLines:i}}(e),n[0]=e,n[1]=t):t=n[1];let{leftLines:r,rightLines:l}=t;return n[2]!==r||n[3]!==l?(i={leftLines:r,rightLines:l},n[2]=r,n[3]=l,n[4]=i):i=n[4],i}(o);l[0]!==o?(t=eQ(o.map(aD)),l[0]=o,l[1]=t):t=l[1];let w=t,{addLineToSelection:E,clearSelectedLines:R,selectMultipleLines:L}=F(ei),D=F(Q);return l[2]!==E||l[3]!==R||l[4]!==s||l[5]!==D||l[6]!==L||l[7]!==_||l[8]!==N||l[9]!==S?(i={addLineToSelection:E,clearSelectedLines:R,containerRef:S,fileAnchor:s,getfirstLineSelectionOnDrag:D,isSplitDiff:!0,leftLines:_,rightLines:N,selectMultipleLines:L,disabled:!1},l[2]=E,l[3]=R,l[4]=s,l[5]=D,l[6]=L,l[7]=_,l[8]=N,l[9]=S,l[10]=i):i=l[10],tC(i),l[11]!==c||l[12]!==b||l[13]!==d||l[14]!==g||l[15]!==y||l[16]!==h||l[17]!==f||l[18]!==x||l[19]!==p||l[20]!==w||l[21]!==_||l[22]!==N||l[23]!==C||l[24]!==u||l[25]!==m||l[26]!==v?(r=_.map((e,t)=>{let i=_[t],a=N[t],r=_[t-1],l=(0,j.Po)(_[t+1])?N[t+1]:_[t+1],s=`${(0,j.Po)(i)||!i?`empty-left-diff-${t}`:i.blobLineNumber}-${(0,j.Po)(a)||!a?`empty-right-diff-${t}`:a.blobLineNumber}`;return(0,n.jsx)(aR,{hunksData:w,leftDiffLine:i,rightDiffLine:a,prevDiffLine:r,nextDiffLine:l,filePath:d,handleMouseDownOnNumberCell:h,handleMouseEnterCell:f,handleMouseUpRow:p,handleDiffSideCellSelectionBlocking:g,handleMouseLeaveAddCommentButton:x,handleMouseDownAddCommentButton:y,copilotChatReference:b,avatarURL:c,userLogin:u,viewerCanApplySuggestion:m,viewerCanComment:v,shouldDisplayComments:C},s)}),l[11]=c,l[12]=b,l[13]=d,l[14]=g,l[15]=y,l[16]=h,l[17]=f,l[18]=x,l[19]=p,l[20]=w,l[21]=_,l[22]=N,l[23]=C,l[24]=u,l[25]=m,l[26]=v,l[27]=r):r=l[27],r});try{aL.displayName||(aL.displayName="SimpleSplitDiffLines")}catch{}function aD(e){return e}function aI(e){let t,i=(0,a.c)(3),{diffAnchor:r,children:l}=e;return i[0]!==l||i[1]!==r?(t=(0,n.jsx)("div",{className:"fgColor-muted p-2","data-diff-anchor":r,children:l}),i[0]=l,i[1]=r,i[2]=t):t=i[2],t}let aT=(0,l.memo)(function(e){let t,i=(0,a.c)(42),{diffEntryData:r,diffLinesManuallyUnhidden:l,baseHelpUrl:s,handleSetShowHiddenUnicodeCharacters:o,onHandleLoadDiff:d,copilotChatReference:c,hasExpandedAllRanges:u,isSplitView:m,showHiddenUnicodeCharacters:h,subjectId:f,tableAriaLabel:p,viewerData:g}=e,x=`diff-${r.pathDigest}`;if(r.isBinary){let e;return i[0]!==x?(e=(0,n.jsx)(aI,{diffAnchor:x,children:"Binary file not shown."}),i[0]=x,i[1]=e):e=i[1],e}if((0,eB.dK)(r)){let e;return i[2]!==x?(e=(0,n.jsx)(aI,{diffAnchor:x,children:"File renamed without changes."}),i[2]=x,i[3]=e):e=i[3],e}if((0,eB.Jc)(r)){let e;return i[4]!==x?(e=(0,n.jsx)(aI,{diffAnchor:x,children:"File copied without changes."}),i[4]=x,i[5]=e):e=i[5],e}if((0,eB.Sn)(r,r.status,r.oldTreeEntry?.mode,r.newTreeEntry?.mode)){let e;return i[6]!==x?(e=(0,n.jsx)(aI,{diffAnchor:x,children:"File mode changed."}),i[6]=x,i[7]=e):e=i[7],e}if(!l&&(0,eB.HI)(r)){let e,t,a=r.truncatedReason;return i[8]!==a?(e=(0,eB.l_)(a),i[8]=a,i[9]=e):e=i[9],i[10]!==x||i[11]!==d||i[12]!==e?(t=(0,n.jsx)(eV,{diffAnchor:x,onLoadDiff:d,children:e}),i[10]=x,i[11]=d,i[12]=e,i[13]=t):t=i[13],t}if((0,eB.s8)(r)){let e;return i[14]!==x?(e=(0,n.jsx)(aI,{diffAnchor:x,children:"Whitespace-only changes."}),i[14]=x,i[15]=e):e=i[15],e}if(!l&&(0,eB.lO)(r)){let e;return i[16]!==x||i[17]!==d?(e=(0,n.jsx)(eV,{diffAnchor:x,onLoadDiff:d,children:"This file was deleted."}),i[16]=x,i[17]=d,i[18]=e):e=i[18],e}if(!l&&(0,eB.xW)(r)){let e,t=`${s}/github/administering-a-repository/customizing-how-changed-files-appear-on-github`;return i[19]!==x||i[20]!==d||i[21]!==t?(e=(0,n.jsxs)(eV,{diffAnchor:x,helpText:"customizing how changed files appear on GitHub.",helpUrl:t,onLoadDiff:d,children:["Some generated files are not rendered by default. Learn more about"," "]}),i[19]=x,i[20]=d,i[21]=t,i[22]=e):e=i[22],e}if(r.isTooBig&&0===r.diffLines.length)if(l){let e,t,a=`${s}/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally`;return i[23]!==a?(e=(0,n.jsx)(eH.A,{inline:!0,href:a,children:"check out this pull request locally."}),i[23]=a,i[24]=e):e=i[24],i[25]!==x||i[26]!==e?(t=(0,n.jsxs)(aI,{diffAnchor:x,children:["Diff is too big to render. To view,"," ",e]}),i[25]=x,i[26]=e,i[27]=t):t=i[27],t}else{let e;return i[28]!==x||i[29]!==d?(e=(0,n.jsx)(eV,{diffAnchor:x,onLoadDiff:d,children:"Large diffs are not rendered by default."}),i[28]=x,i[29]=d,i[30]=e):e=i[30],e}return r.diffLines?(i[31]!==c||i[32]!==x||i[33]!==r||i[34]!==o||i[35]!==u||i[36]!==m||i[37]!==h||i[38]!==f||i[39]!==p||i[40]!==g?(t=(0,n.jsx)(aA,{diffAnchor:x,diffEntryData:r,viewerData:g,copilotChatReference:c,handleSetShowHiddenUnicodeCharacters:o,hasExpandedAllRanges:u,isSplitView:m,showHiddenUnicodeCharacters:h,subjectId:f,tableAriaLabel:p}),i[31]=c,i[32]=x,i[33]=r,i[34]=o,i[35]=u,i[36]=m,i[37]=h,i[38]=f,i[39]=p,i[40]=g,i[41]=t):t=i[41],t):null});function aA(e){let t,i,r,o,d,c,u,m,h,f,p,g,y,b,v,S,_,N,j,E,R,L,D,T=(0,a.c)(100),{diffAnchor:A,viewerData:k,diffEntryData:O,copilotChatReference:M,handleSetShowHiddenUnicodeCharacters:P,hasExpandedAllRanges:U,isSplitView:$,showHiddenUnicodeCharacters:B,subjectId:q,tableAriaLabel:H}=e,G=(0,l.useRef)(null),{clearSelectedLines:V}=F(ei),[K,z]=(0,l.useState)(null),J=O.newTreeEntry?.lineCount??O.oldTreeEntry?.lineCount??0;T[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,eG.G7)("pr_simple_diffs"),T[0]=t):t=T[0];let Z=t;e:{let e=O.diffLines[O.diffLines.length-1];if(e?.blobLineNumber&&e.blobLineNumber<J){let t;T[1]!==O.diffLines||T[2]!==e.blobLineNumber?(t=O.diffLines.concat({__id:eK,blobLineNumber:e.blobLineNumber+1,left:null,right:null,type:"HUNK",html:"",text:""}),T[1]=O.diffLines,T[2]=e.blobLineNumber,T[3]=t):t=T[3],i=t;break e}i=O.diffLines}let ee=i,{lineSpacingPreference:et,tabSizePreference:en}=k,ea=F(Y),er=(0,C.Py)(O.pathDigest);T[4]!==V||T[5]!==ea||T[6]!==er?(r=()=>{!er&&ea()&&(V(),(0,eh.i)("Selection Cleared"))},o=[V,ea,er],T[4]=V,T[5]=ea,T[6]=er,T[7]=r,T[8]=o):(r=T[7],o=T[8]),(0,l.useEffect)(r,o),T[9]!==ee?(d=(0,w.c7)(ee),T[9]=ee,T[10]=d):d=T[10];let el=d;T[11]===Symbol.for("react.memo_cache_sentinel")?(c=e=>{z(e)},T[11]=c):c=T[11];let es=c;T[12]===Symbol.for("react.memo_cache_sentinel")?(u=e=>{z(e.currentTarget.classList.contains("left-side-diff-cell")?"right":"left")},T[12]=u):u=T[12];let eo=u;T[13]!==O.path||T[14]!==U?(m=e=>{if(e.shiftKey&&e.metaKey&&"ArrowLeft"===e.key&&!U&&e.target?.getAttribute("role")==="gridcell"){let e=document.querySelector(`.js-expand-all-difflines-button[data-file-path="${O.path}"]`);e?.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0}))}},T[13]=O.path,T[14]=U,T[15]=m):m=T[15];let ed=m,ec=F(X),eu=F(W);T[16]!==ee||T[17]!==K||T[18]!==eu||T[19]!==ec||T[20]!==$?(h=async e=>{let t=document.getSelection();if(t&&t.rangeCount>=1){let i=[];for(let e=0;e<t.rangeCount;e++){let n=t.getRangeAt(e).cloneContents();if(n.querySelectorAll("td").length){let e=`td.diff-line-number, td.new-diff-line-number, span.diff-text-marker${$?`, ${"left"===K?"td.left-side-diff-cell":"td.right-side-diff-cell"}`:""}`;for(let t of n.querySelectorAll(e))t.parentNode&&t.parentNode.removeChild(t);for(let e of n.children){if(0===e.querySelectorAll("td.diff-text-cell").length&&!e.matches?.("td.diff-text-cell"))continue;let t=e.textContent;`
`===t?i.push(""):i.push(t)}}else if(1===t.rangeCount){let e=t.toString();if(!e)continue;i.push(e)}else{let e=n.textContent;if(!e)continue;i.push(e)}}e.clipboardData.setData("text/plain",i.join(`
`)),e.preventDefault();return}if(!Z||"TD"!==e.target.nodeName)return;let i=e.target.getAttribute("data-diff-side");if(!i)return;let n=eu()[0];n?await iH({diffLine:n,diffLines:ee,getSelectedDiffLines:eu,getSelectedLineRange:ec,isSplit:$,isLeftSide:"left"===i}):await (0,iq.D)(e.target.textContent)},T[16]=ee,T[17]=K,T[18]=eu,T[19]=ec,T[20]=$,T[21]=h):h=T[21];let em=h;T[22]!==ee?(f=ee.some(ak),T[22]=ee,T[23]=f):f=T[23];let ep=f;T[24]!==M||T[25]!==A||T[26]!==O.path||T[27]!==ep||T[28]!==ee||T[29]!==J||T[30]!==B||T[31]!==q||T[32]!==k?(p={diffHasHiddenUnicodeCharacters:ep,diffLines:ee,fileAnchor:A,fileLineCount:J,filePath:O.path,handleDiffSideCellSelectionBlocking:es,showHiddenUnicode:B,tableRef:G,copilotChatReference:M,subjectId:q,viewerData:k},T[24]=M,T[25]=A,T[26]=O.path,T[27]=ep,T[28]=ee,T[29]=J,T[30]=B,T[31]=q,T[32]=k,T[33]=p):p=T[33];let eg=p,{addLineToSelection:ex,selectLine:ey}=F(ei),eb=(0,C.gW)(),{sendAnalyticsEvent:ev}=(0,tN.s)(),eC=(0,nT.J)();T[34]!==ex||T[35]!==O.pathDigest||T[36]!==eC||T[37]!==ec||T[38]!==ey||T[39]!==ev||T[40]!==eb?(g=e=>{let t=e.target,i=t.getAttribute("data-diff-line-key"),n=t.getAttribute("data-diff-side");if(!I(i)||!(0,s.e)(n))return;let a=document.getSelection();a?.empty();let r=eC();if((0,nD.X)()?.registerCallback({event:e.nativeEvent,cb:e=>{ev("diff-lines.inp_interaction","PULL_REQUESTS_DIFF_LINE_NUMBER_CLICK",{latency:e.latency}),(0,nI.au)({name:"PULL_REQUESTS_DIFF_LINE_NUMBER_CLICK",tags:r,value:e.latency})}}),ec()&&e.shiftKey)return void ex({lineKey:i,orientation:n},ef);let l=t.getAttribute("data-line-number");l&&(ey({lineKey:i,firstLineSelectionOnDrag:{orientation:n,lineNumber:parseInt(l),shouldStartConversation:!1,lineKey:i}},ef),eb(O.pathDigest))},T[34]=ex,T[35]=O.pathDigest,T[36]=eC,T[37]=ec,T[38]=ey,T[39]=ev,T[40]=eb,T[41]=g):g=T[41];let eS=g,e_=F(Q),{clearFirstLineSelectionOnDrag:eN}=F(ei);T[42]!==eN||T[43]!==e_?(y=()=>{null!==e_()&&eN()},T[42]=eN,T[43]=e_,T[44]=y):y=T[44];let ew=y;T[45]!==ex||T[46]!==e_?(b=e=>{if(1!==e.buttons)return;let t=e.target,i=t.closest("[data-diff-line-key]")?.getAttribute("data-diff-line-key"),n=t.closest("[data-diff-side]")?.getAttribute("data-diff-side");I(i)&&(0,s.e)(n)&&e_()&&ex({lineKey:i,orientation:n},ef)},T[45]=ex,T[46]=e_,T[47]=b):b=T[47];let ej=b;T[48]!==ec?(v=(e,t)=>{let i=ec();if(!i)return!1;let n="left"===e;return"right"===i.endOrientation&&!n&&i.endLineNumber===t||!!i&&"left"===i.endOrientation&&!!n&&i.endLineNumber===t},T[48]=ec,T[49]=v):v=T[49];let eE=v;T[50]!==ex||T[51]!==O.pathDigest||T[52]!==eE||T[53]!==er||T[54]!==ey||T[55]!==eb?(S=e=>{if(1!==e.buttons)return;let t=e.target,i=t.closest("[data-diff-line-key]")?.getAttribute("data-diff-line-key"),n=t.closest("[data-diff-side]")?.getAttribute("data-diff-side"),a=t.closest("[data-selected]")?.getAttribute("data-selected"),r=t.closest("[data-line-number]")?.getAttribute("data-line-number"),l=r?parseInt(r,10):void 0;!I(i)||!(0,s.e)(n)||i&&(a||!l||eE(n,l)?ex({lineKey:i,orientation:n},ef):ey({lineKey:i,firstLineSelectionOnDrag:{lineNumber:l,orientation:n,lineKey:i,shouldStartConversation:!0}},ef),er||eb(O.pathDigest))},T[50]=ex,T[51]=O.pathDigest,T[52]=eE,T[53]=er,T[54]=ey,T[55]=eb,T[56]=S):S=T[56];let eR=S;T[57]!==V||T[58]!==eE?(_=e=>{let t=e.target,i=t.closest("[data-diff-side]")?.getAttribute("data-diff-side"),n=t.closest("[data-line-number]")?.getAttribute("data-line-number"),a=n?parseInt(n,10):void 0;(0,s.e)(i)&&a&&!eE(i,a)&&V()},T[57]=V,T[58]=eE,T[59]=_):_=T[59];let eL=_;T[60]!==ep||T[61]!==P||T[62]!==B?(N=ep&&(0,n.jsx)(ar.a,{isShown:B,toggleShowHiddenCharacters:()=>P(!B)}),T[60]=ep,T[61]=P,T[62]=B,T[63]=N):N=T[63];let eD="compact"===et;T[64]!==eD?(j=(0,x.$)("tab-size","width-full","DiffLines-module__tableLayoutFixed--UBX7h",{"DiffLines-module__compact--wxqBo":eD}),T[64]=eD,T[65]=j):j=T[65];let eI=`${el}px`,eT=`${2*parseFloat(el)}px`;return T[66]!==eI||T[67]!==eT?(E={"--line-number-cell-width":eI,"--line-number-cell-width-unified":eT},T[66]=eI,T[67]=eT,T[68]=E):E=T[68],T[69]!==M||T[70]!==A||T[71]!==O.path||T[72]!==ee||T[73]!==eg||T[74]!==eL||T[75]!==eS||T[76]!==ej||T[77]!==eR||T[78]!==ew||T[79]!==$||T[80]!==el||T[81]!==k.avatarUrl||T[82]!==k.login||T[83]!==k.shouldDisplayComments||T[84]!==k.viewerCanApplySuggestion||T[85]!==k.viewerCanComment?(R=$?(0,n.jsx)(eq.wj,{lineWidth:el,children:Z?(0,n.jsx)(aL,{diffAnchor:A,diffLines:ee,filePath:O.path,handleDiffSideCellSelectionBlocking:eo,handleMouseDownOnNumberCell:eS,handleMouseEnterCell:ej,handleMouseUpRow:ew,handleMouseLeaveAddCommentButton:eR,handleMouseDownAddCommentButton:eL,copilotChatReference:M,avatarURL:k.avatarUrl,userLogin:k.login,viewerCanApplySuggestion:k.viewerCanApplySuggestion,viewerCanComment:k.viewerCanComment,shouldDisplayComments:k.shouldDisplayComments,tableRef:G}):(0,n.jsx)(at,{...eg})}):(0,n.jsx)(eq.Qe,{lineWidth:el,children:Z?(0,n.jsx)(aS,{diffAnchor:A,diffLines:ee,filePath:O.path,handleMouseDownOnNumberCell:eS,handleMouseEnterCell:ej,handleMouseUpRow:ew,handleMouseLeaveAddCommentButton:eR,handleMouseDownAddCommentButton:eL,copilotChatReference:M,avatarURL:k.avatarUrl,userLogin:k.login,viewerCanApplySuggestion:k.viewerCanApplySuggestion,viewerCanComment:k.viewerCanComment,shouldDisplayComments:k.shouldDisplayComments,tableRef:G}):(0,n.jsx)(an,{...eg})}),T[69]=M,T[70]=A,T[71]=O.path,T[72]=ee,T[73]=eg,T[74]=eL,T[75]=eS,T[76]=ej,T[77]=eR,T[78]=ew,T[79]=$,T[80]=el,T[81]=k.avatarUrl,T[82]=k.login,T[83]=k.shouldDisplayComments,T[84]=k.viewerCanApplySuggestion,T[85]=k.viewerCanComment,T[86]=R):R=T[86],T[87]!==A||T[88]!==K||T[89]!==ed||T[90]!==em||T[91]!==j||T[92]!==E||T[93]!==R||T[94]!==en||T[95]!==H?(L=(0,n.jsx)("table",{"aria-label":H,onKeyDown:ed,ref:G,className:j,"data-block-diff-cell-selection":K,"data-diff-anchor":A,"data-tab-size":en,"data-paste-markdown-skip":!0,onCopy:em,role:"grid",style:E,children:R}),T[87]=A,T[88]=K,T[89]=ed,T[90]=em,T[91]=j,T[92]=E,T[93]=R,T[94]=en,T[95]=H,T[96]=L):L=T[96],T[97]!==N||T[98]!==L?(D=(0,n.jsxs)(n.Fragment,{children:[N,L]}),T[97]=N,T[98]=L,T[99]=D):D=T[99],D}function ak(e){return(0,t_.Y)(e.text)}try{aI.displayName||(aI.displayName="PlainTextStatus")}catch{}try{aT.displayName||(aT.displayName="DiffLines")}catch{}try{aA.displayName||(aA.displayName="CodeDiffLines")}catch{}var aO=i(8431),aM=i(46251),aP=i(78049);function aF(e){let t,i,r,l,s,o,c=(0,a.c)(28),{submodule:u}=e,{basePath:m,changedFiles:h,contentsUrl:f,newCommitOid:p,oldCommitOid:g,status:x,submoduleUrl:y}=u,b=u.summary.length>0&&u.contentsUrl&&"MODIFIED"===x;switch(x){case"ADDED":{let e;c[0]!==f||c[1]!==p?(e=(0,n.jsx)(aB,{commitOid:p,contentsUrl:f,type:"added"}),c[0]=f,c[1]=p,c[2]=e):e=c[2],t=e;break}case"DELETED":case"REMOVED":{let e;c[3]!==f||c[4]!==g?(e=(0,n.jsx)(aB,{commitOid:g,contentsUrl:f,type:"deleted"}),c[3]=f,c[4]=g,c[5]=e):e=c[5],t=e;break}default:{let e;c[6]!==h||c[7]!==f||c[8]!==p||c[9]!==g?(e=(0,n.jsx)(aq,{newCommitOid:p,oldCommitOid:g,changedFiles:h,contentsUrl:f}),c[6]=h,c[7]=f,c[8]=p,c[9]=g,c[10]=e):e=c[10],t=e}}let v=t,C=`px-3 py-2 ${b?"border-bottom bgColor-muted":""}`;return c[11]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(d.FileSubmoduleIcon,{className:"fgColor-muted mr-2",size:16}),c[11]=i):i=c[11],c[12]!==m||c[13]!==y?(r=(0,n.jsx)(aU,{basePath:m,submoduleUrl:y}),c[12]=m,c[13]=y,c[14]=r):r=c[14],c[15]!==v||c[16]!==C||c[17]!==r?(l=(0,n.jsxs)("div",{className:C,children:[i,r,v]}),c[15]=v,c[16]=C,c[17]=r,c[18]=l):l=c[18],c[19]!==f||c[20]!==p||c[21]!==g||c[22]!==b||c[23]!==u.summary?(s=b&&(0,n.jsx)(eE.l,{className:"SubmoduleDiff-module__filesActionList--sbPQt",showDividers:!0,variant:"full",children:u.summary.map(e=>(0,n.jsx)(aH,{compareUrl:`${f}/compare/${g}...${p}`,linesAdded:e.linesAdded,linesDeleted:e.linesDeleted,path:e.path,pathDigest:e.pathDigest,status:e.status},e.pathDigest))}),c[19]=f,c[20]=p,c[21]=g,c[22]=b,c[23]=u.summary,c[24]=s):s=c[24],c[25]!==l||c[26]!==s?(o=(0,n.jsxs)("div",{children:[l,s]}),c[25]=l,c[26]=s,c[27]=o):o=c[27],o}function aU(e){let t,i,r=(0,a.c)(5),{basePath:l,submoduleUrl:s}=e;return r[0]!==l||r[1]!==s?(t=s?(0,n.jsx)(eH.A,{inline:!0,href:s,children:l}):l,r[0]=l,r[1]=s,r[2]=t):t=r[2],r[3]!==t?(i=(0,n.jsxs)(n.Fragment,{children:["Submodule"," ",t," "]}),r[3]=t,r[4]=i):i=r[4],i}function a$(e){return e.slice(0,7)}function aB(e){let t=(0,a.c)(13),{commitOid:i,contentsUrl:r,type:l}=e,s=void 0===i?"":i,o="added"===l?"added at":"deleted from";if(r){let e,i,a,l=`${r}/tree/${s}`;return t[0]!==s?(e=a$(s),t[0]=s,t[1]=e):e=t[1],t[2]!==l||t[3]!==e?(i=(0,n.jsx)(eH.A,{inline:!0,href:l,children:e}),t[2]=l,t[3]=e,t[4]=i):i=t[4],t[5]!==i||t[6]!==o?(a=(0,n.jsxs)(n.Fragment,{children:[o," ",i]}),t[5]=i,t[6]=o,t[7]=a):a=t[7],a}{let e,i;return t[8]!==s?(e=a$(s),t[8]=s,t[9]=e):e=t[9],t[10]!==e||t[11]!==o?(i=(0,n.jsxs)(n.Fragment,{children:[o," ",e]}),t[10]=e,t[11]=o,t[12]=i):i=t[12],i}}function aq(e){let t,i,r,l=(0,a.c)(12),{newCommitOid:s,oldCommitOid:o,changedFiles:d,contentsUrl:c}=e,u=void 0===s?"":s,m=void 0===o?"":o,h=void 0===d?0:d;l[0]!==h||l[1]!==c||l[2]!==u||l[3]!==m?(t=h>0&&c?`${h} ${1===h?"file":"files"}`:`from ${a$(m)} to ${a$(u)}`,l[0]=h,l[1]=c,l[2]=u,l[3]=m,l[4]=t):t=l[4];let f=t;return l[5]!==f||l[6]!==c||l[7]!==u||l[8]!==m?(i=c?(0,n.jsx)(eH.A,{inline:!0,href:`${c}/compare/${m}...${u}`,children:f}):f,l[5]=f,l[6]=c,l[7]=u,l[8]=m,l[9]=i):i=l[9],l[10]!==i?(r=(0,n.jsxs)(n.Fragment,{children:["updated"," ",i]}),l[10]=i,l[11]=r):r=l[11],r}function aH(e){let t,i,l,s,o,d,c=(0,a.c)(16),{compareUrl:u,linesAdded:m,linesDeleted:h,path:f,pathDigest:p,status:g}=e,x=`${u}#diff-${p}`;return c[0]!==g?(t=(0,n.jsx)(aP.E,{status:g}),c[0]=g,c[1]=t):t=c[1],c[2]!==f?(i=(0,n.jsx)("span",{className:"SubmoduleDiff-module__path--hB1wm",children:f}),c[2]=f,c[3]=i):i=c[3],c[4]!==m||c[5]!==h?(l=(m>0||h>0)&&(0,n.jsxs)("div",{className:"d-flex flex-shrink-0 gap-1 flex-nowrap",children:[(0,n.jsx)("div",{className:"SubmoduleDiff-module__linesAdded--tJqtP",children:m>0&&(0,n.jsxs)(r.C,{isAddition:!0,children:["+",aG(m)]})}),(0,n.jsx)("div",{className:"SubmoduleDiff-module__linesDeleted--nr9cp",children:h>0&&(0,n.jsxs)(r.C,{isAddition:!1,children:["-",aG(h)]})})]}),c[4]=m,c[5]=h,c[6]=l):l=c[6],c[7]!==i||c[8]!==l?(s=(0,n.jsxs)("div",{className:"d-flex gap-1 flex-justify-between width-full",children:[i,l]}),c[7]=i,c[8]=l,c[9]=s):s=c[9],c[10]!==t||c[11]!==s?(o=(0,n.jsxs)(aM.B,{gap:"condensed",direction:"horizontal",align:"center",className:"SubmoduleDiff-module__fileRow--Y9n2E",children:[t,s]}),c[10]=t,c[11]=s,c[12]=o):o=c[12],c[13]!==x||c[14]!==o?(d=(0,n.jsx)(eE.l.LinkItem,{href:x,className:"SubmoduleDiff-module__fileRowLinkItem--Z1ES5",children:o}),c[13]=x,c[14]=o,c[15]=d):d=c[15],d}function aG(e){return e>999?`${(e/1e3).toFixed(1)}k`:e.toLocaleString()}try{aF.displayName||(aF.displayName="SubmoduleDiff")}catch{}try{aU.displayName||(aU.displayName="SubmodulePath")}catch{}try{aB.displayName||(aB.displayName="SubmoduleCommitChange")}catch{}try{aq.displayName||(aq.displayName="SubmoduleModified")}catch{}try{aH.displayName||(aH.displayName="SubmoduleFileRow")}catch{}let aV=({path:e,oid:t,repository:i})=>e&&t?{type:"file",url:(0,iC.IO9)({repo:i,commitish:t,action:"raw",path:e}),path:e,repoID:i.id,repoName:i.name,repoOwner:i.ownerLogin,ref:t,commitOID:t}:null;function aK(e){let t,i,r,o,c,m,h,f,p,g,y,b,v,C,S,_,N,w,j,E,R,D,I,T,A,k,O=(0,a.c)(69);if(O[0]!==e){let{fileAnchor:n,filePath:a,thread:l,isFirstThread:s,ghostUser:d,manuallyUpdateCommentsWithThisThreadId:u,...m}=e;t=a,c=l,r=s,i=d,o=m,O[0]=e,O[1]=t,O[2]=i,O[3]=r,O[4]=o,O[5]=c}else t=O[1],i=O[2],r=O[3],o=O[4],c=O[5];let M=(0,l.useRef)(null);O[6]===Symbol.for("react.memo_cache_sentinel")?(m=(0,L.A)("localStorage"),O[6]=m):m=O[6];let P=m,F=c?.isResolved,[U,$]=(0,l.useState)(""),[B,q]=(0,l.useState)(F??!1);O[7]!==F||O[8]!==c.id?(h=()=>{let e=localStorage.getItem(`reviewThreadIsCollapsed_${c.id}`);null!==e?q(JSON.parse(e)):F&&q(!0)},f=[F,c.id],O[7]=F,O[8]=c.id,O[9]=h,O[10]=f):(h=O[9],f=O[10]),(0,l.useEffect)(h,f),O[11]!==B||O[12]!==c.id?(p=()=>{window.requestAnimationFrame(()=>{P.setItem(`reviewThreadIsCollapsed_${c.id}`,JSON.stringify(!B))}),q(az)},O[11]=B,O[12]=c.id,O[13]=p):p=O[13];let H=p,{sendAnalyticsEvent:G}=(0,tN.s)(),{mutate:V}=(0,ib.H)(t,s.zW);O[14]!==V||O[15]!==G||O[16]!==c?(g=()=>{c&&!c.isResolved&&(V({threadId:c.id},{onError:()=>$("Failed to resolve thread"),onSuccess:()=>{q(!0),P.removeItem(`reviewThreadIsCollapsed_${c.id}`)}}),G("comments.resolve_thread","RESOLVE_CONVERSATION_BUTTON"))},O[14]=V,O[15]=G,O[16]=c,O[17]=g):g=O[17];let K=g,{mutate:W}=(0,iv.i)(t,s.zW);O[18]!==G||O[19]!==c||O[20]!==W?(y=()=>{c&&(W({threadId:c.id},{onError:()=>$("Failed to unresolve thread"),onSuccess:()=>{q(!1),P.removeItem(`reviewThreadIsCollapsed_${c.id}`)}}),G("comments.unresolve_thread","RESOLVE_CONVERSATION_BUTTON"))},O[18]=G,O[19]=c,O[20]=W,O[21]=y):y=O[21];let z=y;if(!c||!(c.commentsData?.comments&&c.commentsData.comments.length>0))return null;let Q=c?.commentsData?.comments[0]?.reviewVariantType===t7.hH.Automated?c.commentsData?.comments[0]?.automatedComment:null,X=Q&&Q.dismissable,Y=Q&&Q.source===t7.vk.LicenseCompliance,J=!!c.isResolved;O[22]===Symbol.for("react.memo_cache_sentinel")?(b=(0,iS.M3)(),O[22]=b):b=O[22];let Z=b;O[23]!==c.commentsData?.comments?(v=Z&&c.commentsData?.comments?.some(aW),O[23]=c.commentsData?.comments,O[24]=v):v=O[24];let ee=v,et=c.commentsData?.comments[0]?.createdAt,ei=c.commentsData?.comments[0]?.author?.login??"Unknown Author",en=`${F?"Unresolve":"Resolve"} comment`;if(et){let e;O[25]!==et?(e=(0,ia.C)(new Date(et)),O[25]=et,O[26]=e):e=O[26];let t=e;en=`${F?"Unresolve":"Resolve"} ${ei}'s comment, ${t}`}O[27]===Symbol.for("react.memo_cache_sentinel")?(C=(0,n.jsx)(id,{}),O[27]=C):C=O[27],O[28]===Symbol.for("react.memo_cache_sentinel")?(S=(0,x.$)("px-1","FileReviewThread-module__ReviewThreadContainer--InwxI"),O[28]=S):S=O[28];let ea=B?"Expand comment":"Collapse comment",er=B?d.ChevronRightIcon:d.ChevronDownIcon;return O[29]!==H||O[30]!==r||O[31]!==ea||O[32]!==er?(_=(0,n.jsx)(u.K,{"aria-label":ea,icon:er,size:"small",variant:"invisible",onClick:H,"data-is-first-collapse-button":r}),O[29]=H,O[30]=r,O[31]=ea,O[32]=er,O[33]=_):_=O[33],O[34]===Symbol.for("react.memo_cache_sentinel")?(N=(0,n.jsx)("h2",{className:"FileReviewThread-module__ReviewThreadHeading--oFg3s",children:"Comment on file"}),O[34]=N):N=O[34],O[35]!==c.positioning?.isOutdated?(w=c.positioning?.isOutdated&&(0,n.jsx)(il.A,{variant:"secondary",children:"Outdated"}),O[35]=c.positioning?.isOutdated,O[36]=w):w=O[36],O[37]!==J?(j=J&&(0,n.jsx)(il.A,{variant:"secondary",children:"Resolved"}),O[37]=J,O[38]=j):j=O[38],O[39]!==w||O[40]!==j?(E=(0,n.jsxs)("div",{className:"FileReviewThread-module__ReviewThreadInnerContainer--jYE3S",children:[w,j]}),O[39]=w,O[40]=j,O[41]=E):E=O[41],O[42]!==_||O[43]!==E?(R=(0,n.jsxs)("div",{className:S,children:[_,N,E]}),O[42]=_,O[43]=E,O[44]=R):R=O[44],O[45]===Symbol.for("react.memo_cache_sentinel")?(D=(0,n.jsxs)("div",{className:"FileReviewThread-module__SpinnerWrapper--zQOoj",children:[(0,n.jsx)(eU.A,{}),(0,n.jsx)("p",{children:"Loading comments"})]}),O[45]=D):D=O[45],O[46]!==U?(I=U&&(0,n.jsxs)(is.A,{variant:"danger",className:"m-2",children:[(0,n.jsx)(d.StopIcon,{className:"mr-2"}),U]}),O[46]=U,O[47]=I):I=O[47],O[48]!==Q||O[49]!==X||O[50]!==t||O[51]!==i||O[52]!==K||O[53]!==z||O[54]!==B||O[55]!==ee||O[56]!==F||O[57]!==J||O[58]!==Y||O[59]!==en||O[60]!==o||O[61]!==c?(T=!B&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(iy,{lineMarkersKey:s.zW,batchingEnabled:!0,filePath:t,gridCellId:`${t}-file-level-markers`,isInlineComment:!1,thread:c,shouldLimitHeight:!1,...o,ghostUser:i}),ee&&!X&&!Y&&(0,n.jsxs)("div",{className:"d-flex flex-items-center p-2 border-top flex-wrap",children:[(0,n.jsx)(ev.Q,{"aria-label":en,onClick:J?z:K,className:"mr-2",children:F?"Unresolve comment":"Resolve comment"}),J&&c.resolvedBy&&(0,n.jsxs)("span",{className:"fgColor-muted f6",children:[(0,n.jsx)("b",{children:c.resolvedBy})," marked this comment as resolved"]})]}),X&&(0,n.jsx)(iw,{automatedComment:Q,thread:c,filePath:t,lineMarkersKey:s.zW,setErrorMessage:$,setIsCollapsed:q,safeLocalStorage:P})]}),O[48]=Q,O[49]=X,O[50]=t,O[51]=i,O[52]=K,O[53]=z,O[54]=B,O[55]=ee,O[56]=F,O[57]=J,O[58]=Y,O[59]=en,O[60]=o,O[61]=c,O[62]=T):T=O[62],O[63]!==I||O[64]!==T?(A=(0,n.jsxs)(l.Suspense,{fallback:D,children:[I,T]}),O[63]=I,O[64]=T,O[65]=A):A=O[65],O[66]!==R||O[67]!==A?(k=(0,n.jsx)(ir.t,{boundaryName:"FileReviewThread",fallback:C,children:(0,n.jsxs)("div",{className:"rounded-2 bgColor-default",ref:M,children:[R,A]})}),O[66]=R,O[67]=A,O[68]=k):k=O[68],k}function aW(e){return e.state?.toUpperCase()!=="PENDING"}function az(e){return!e}try{aK.displayName||(aK.displayName="FileReviewThread")}catch{}function aQ(e){let t,i,r,s,o,d,c,u=(0,a.c)(19);if(u[0]!==e){let{conversationListThreads:n,filePath:a,manuallyUpdateCommentsWithThisThreadId:l,ghostUser:o,...d}=e;t=n,i=a,r=o,s=d,u[0]=e,u[1]=t,u[2]=i,u[3]=r,u[4]=s}else t=u[1],i=u[2],r=u[3],s=u[4];let m=(0,l.useRef)(null);if(u[5]!==t?(o={containerRef:m,markers:t,disabled:!1,focusInStrategy:"closest"},u[5]=t,u[6]=o):o=u[6],t0(o),u[7]!==t||u[8]!==i||u[9]!==r||u[10]!==s){let e;u[12]!==t.length||u[13]!==i||u[14]!==r||u[15]!==s?(e=(e,a)=>(0,n.jsx)("div",{className:(0,x.$)("mt-1 border rounded-2 color-border-default color-shadow-small",a===t.length-1?"mb-1":"mb-2"),"data-first-marker":0===a,"data-marker-id":`${e.id}`,tabIndex:0,children:(0,n.jsx)(aK,{viewerData:s.viewerData,filePath:i,thread:e,ghostUser:r},e.id)},`review-thread-${e.id}`),u[12]=t.length,u[13]=i,u[14]=r,u[15]=s,u[16]=e):e=u[16],d=t.map(e),u[7]=t,u[8]=i,u[9]=r,u[10]=s,u[11]=d}else d=u[11];return u[17]!==d?(c=(0,n.jsx)("div",{className:"d-flex pt-1 px-1",children:(0,n.jsx)("div",{className:"InlineMarkers-module__fileMarkersWrapper--rXaAB",ref:m,children:d})}),u[17]=d,u[18]=c):c=u[18],c}try{aQ.displayName||(aQ.displayName="FileMarkers")}catch{}let aX=new Set;function aY(e){let t,i,o,c,u,m,h,f,g,b,v,S,_,N,w,E,R,L,D,I,T,A,k,M=(0,a.c)(149),{ref:P,addFileCommentButtonRef:F,collapsed:$,currentUser:B,diffLines:q,diffManuallyExpanded:H,diffSize:G,helpUrl:V,estimatedDiffHeight:K,fileComments:W,headerStickyOffset:z,hiddenFeatures:Q,isAddingFileComment:X,isBinary:Y,isSelected:J,isSubmodule:Z,isTooBig:ee,leftSideContent:et,linesAdded:ei,linesChanged:en,linesDeleted:ea,newTreeEntry:er,newCommitOid:el,objectId:es,oldTreeEntry:eo,oldCommitOid:ed,onToggleCollapse:ec,path:eu,pathDigest:em,pullRequestGlobalRelayId:eh,repository:ef,richDiffState:ep,rightSideContent:eg,setIsAddingFileComment:ex,hasExpandedAllRanges:ey,expandAllContextLines:eb,canExpandOrCollapseLines:ev,status:eC,submodule:eS,truncatedReason:e_,addInjectedContextLines:eN,loadDiff:ew}=e,ej=void 0===K?0:K,eE=void 0===Q?aX:Q,eR=void 0!==J&&J,eL=Z&&!!eS,eD=!eL&&!ep?.showRichDiff,[eI,eT]=(0,l.useState)(H),eO=(0,C.j5)(),{comparisonView:eM}=(0,C.L3)(),eP=(0,C.Kp)(),[eF,eU]=(0,l.useState)(!1);if(M[0]!==q||M[1]!==eF){let e;M[3]!==eF?(e=e=>{let t,i;return{...(t=!1,i=e,t=(0,t_.Y)(e.text),i={...i,hasHiddenUnicode:t},eF&&t&&(i=e.html?{...i,html:(0,n9.Gx)(e.html)??e.html}:{...i,text:(0,t_.TA)(e.text)}),i),key:`b:${e.blobLineNumber}-l:${e.left}-r:${e.right}`}},M[3]=eF,M[4]=e):e=M[4],t=q.map(e),M[0]=q,M[1]=eF,M[2]=t}else t=M[2];let eB=t;M[5]!==eP||M[6]!==q||M[7]!==eu?(i=function(e,t,i){let n={};for(let a of e){let e="DELETION"===a.type?"LEFT":"RIGHT",r=O((0,y.sI)({diffSide:e,filePath:t,line:("LEFT"===e?a.left:a.right)??a.blobLineNumber,subjectId:i},!1)),l="DELETION"!==a.type?"RIGHT":"LEFT",s="RIGHT"===l?a.right:a.left,o=(0,j.oH)(s,l),d=!!r?.text?.trim();o&&d&&(n[o]=!0)}return n}(q,eu,eP),M[5]=eP,M[6]=q,M[7]=eu,M[8]=i):i=M[8];let eq=i;M[9]!==B.hasCopilotAccess||M[10]!==Y||M[11]!==Z||M[12]!==el||M[13]!==er||M[14]!==ed||M[15]!==eo||M[16]!==eu||M[17]!==em||M[18]!==ef||M[19]!==eC?(o={isBinary:Y,isSubmodule:Z,path:eu,status:eC,repository:ef,newCommitOid:el,newTreeEntry:er,oldCommitOid:ed,oldTreeEntry:eo,pathDigest:em,hasCopilotAccess:B.hasCopilotAccess},M[9]=B.hasCopilotAccess,M[10]=Y,M[11]=Z,M[12]=el,M[13]=er,M[14]=ed,M[15]=eo,M[16]=eu,M[17]=em,M[18]=ef,M[19]=eC,M[20]=o):o=M[20];let eH=function(e){let t,i=(0,a.c)(8),{isBinary:n,isSubmodule:r,path:l,status:s,repository:o,newCommitOid:d,newTreeEntry:c,oldCommitOid:u,oldTreeEntry:m,pathDigest:h,hasCopilotAccess:f}=e;e:{let e;if(!(({hasCopilotAccess:e,isBinary:t,isSubmodule:i,path:n,repository:a,status:r})=>!!e&&!t&&!i&&!!n&&"DELETED"!==r&&"REMOVED"!==r&&!!a.id&&!!a.name&&!!a.ownerLogin&&!0)({isBinary:n,isSubmodule:r,path:l,status:s,repository:o,hasCopilotAccess:f})){t=void 0;break e}i[0]!==d||i[1]!==c||i[2]!==u||i[3]!==m||i[4]!==l||i[5]!==h||i[6]!==o?(e=(({newCommitOid:e,newTreeEntry:t,oldCommitOid:i,oldTreeEntry:n,path:a,pathDigest:r,repository:l})=>{let s=i&&e?(0,iC.IO9)({repo:l,commitish:i,action:"raw",path:a}):"";return{baseFile:aV({path:n?.path,oid:i,repository:l}),headFile:aV({path:t?.path,oid:e,repository:l}),baseBranchRef:i,id:`#diff-${r}`,type:"file-diff",url:s}})({newCommitOid:d,newTreeEntry:c,oldCommitOid:u,oldTreeEntry:m,path:l,pathDigest:h,repository:o}),i[0]=d,i[1]=c,i[2]=u,i[3]=m,i[4]=l,i[5]=h,i[6]=o,i[7]=e):e=i[7],t=e}return t}(o);M[21]!==ew?(c=async()=>{await ew(),eT(!0)},M[21]=ew,M[22]=c):c=M[22];let eV=c,{baseOid:eK,headOid:eW}=(0,C.E4)(),ez=(0,eA.u)("cotd_ui");M[23]===Symbol.for("react.memo_cache_sentinel")?(u=(0,eG.G7)("pr_simple_diffs"),M[23]=u):u=M[23];let eQ=u,{effectiveRange:eX}=(0,C.L3)(),{mutate:eY}=tP();M[24]!==ex?(m=()=>{ex(!0)},M[24]=ex,M[25]=m):m=M[25];let eJ=m;M[26]!==eJ?(h={F0:{startNewComment:eJ,diffLineKey:"b:0-l:null-r:null"}},M[26]=eJ,M[27]=h):h=M[27];let eZ=h;M[28]!==ez||M[29]!==eY||M[30]!==eX||M[31]!==eW||M[32]!==eu||M[33]!==ex||M[34]!==eK?(f=e=>{let{onCompleted:t,onError:i,submitBatch:n,text:a}=e;ez?eY(new ReviewCommentFactory({filePath:eu,effectiveDiffRange:eX,submitBatch:n,text:a}).fileRequestData(),{onError:i,onSuccess:e=>{t?.(e.thread.id,e.comment.databaseId),ex(!1)}}):eY({text:a,path:eu,submitBatch:n,subjectType:s.Wr.File,comparisonEndOid:eW,comparisonStartOid:eK},{onError:i,onSuccess:e=>{t?.(e.thread.id,e.comment.databaseId),ex(!1)}})},M[28]=ez,M[29]=eY,M[30]=eX,M[31]=eW,M[32]=eu,M[33]=ex,M[34]=eK,M[35]=f):f=M[35];let e0=f;M[36]!==F||M[37]!==ex?(g=()=>{ex(!1),F?.current?.focus()},M[36]=F,M[37]=ex,M[38]=g):g=M[38];let e1=g,e2=B?.avatarURL??"",e3=B?.splitPreference,e4=B?.login??"",e5=B?.lineSpacing,e6=B?.shouldDisplayComments,e7=B?.shouldDisplayEditOptions,e8=B?.tabSize??4,e9=B?.canComment,te=B?.canApplySuggestion;M[39]!==e2||M[40]!==e3||M[41]!==e4||M[42]!==e5||M[43]!==e6||M[44]!==e7||M[45]!==e8||M[46]!==e9||M[47]!==te?(b={avatarUrl:e2,diffViewPreference:e3,login:e4,lineSpacingPreference:e5,shouldDisplayComments:e6,shouldDisplayEditOptions:e7,tabSizePreference:e8,viewerCanComment:e9,viewerCanApplySuggestion:te},M[39]=e2,M[40]=e3,M[41]=e4,M[42]=e5,M[43]=e6,M[44]=e7,M[45]=e8,M[46]=e9,M[47]=te,M[48]=b):b=M[48];let tt=b,ti=(0,l.useId)(),tn=`heading-${ti}`;e:{if("split"===new URLSearchParams(p.cg?.location.search).get("diff")){v=!0;break e}v="split"===B.splitPreference}let ta=v,tr=er?.lineCount??eo?.lineCount??0;eo?.path,er?.path;t:{let e,t=eo?.path,i=er?.path;if(!t&&!i){S=void 0;break t}e="RENAMED"===eC?`${t} renamed to ${i}`:"DELETED"===eC||"REMOVED"===eC?t:i,S=`Diff for: ${e}`}let tl=S;M[49]!==eB||M[50]!==Y||M[51]!==ee||M[52]!==en||M[53]!==el||M[54]!==er||M[55]!==es||M[56]!==ed||M[57]!==eo||M[58]!==eu||M[59]!==em||M[60]!==eC||M[61]!==e_?(_={diffLines:eB,isBinary:Y,isTooBig:ee,linesChanged:en,newTreeEntry:er,newCommitOid:el,objectId:es,oldTreeEntry:eo,oldCommitOid:ed,path:eu,pathDigest:em,status:eC,truncatedReason:e_},M[49]=eB,M[50]=Y,M[51]=ee,M[52]=en,M[53]=el,M[54]=er,M[55]=es,M[56]=ed,M[57]=eo,M[58]=eu,M[59]=em,M[60]=eC,M[61]=e_,M[62]=_):_=M[62];let ts=_,to=`diff-${em}`,td=`diff-${em}`;M[63]===Symbol.for("react.memo_cache_sentinel")?(N=(0,x.$)(aO.A.diffTargetable,aO.A.diff),M[63]=N):N=M[63];let tc=`${em}_${eB.length}`;M[64]!==ej?(w=eQ?{contentVisibility:"auto",containIntrinsicSize:`auto ${ej}px`}:void 0,M[64]=ej,M[65]=w):w=M[65];let tu=`${void 0===z?0:z}px`;M[66]!==tu?(E={"--header-sticky-offset":tu},M[66]=tu,M[67]=E):E=M[67];let tm=`#diff-${em}`,th=ep?.richDiff?.canToggleRichDiff,tf=er?.mode,tp=er?.path,tg=eo?.mode,tx=eo?.path;M[68]!==$||M[69]!==ec?(R=e=>ec(e,!$),M[68]=$,M[69]=ec,M[70]=R):R=M[70];let ty=ep?.onToggleRichDiff,tb=ep?.showRichDiff;return M[71]!==ev||M[72]!==$||M[73]!==G||M[74]!==eb||M[75]!==ey||M[76]!==tn||M[77]!==eE||M[78]!==Y||M[79]!==eO||M[80]!==et||M[81]!==ei||M[82]!==en||M[83]!==ea||M[84]!==eu||M[85]!==eg||M[86]!==eC||M[87]!==tm||M[88]!==th||M[89]!==tf||M[90]!==tp||M[91]!==tg||M[92]!==tx||M[93]!==R||M[94]!==ty||M[95]!==tb?(L=(0,n.jsx)(r.B,{headingId:tn,hiddenFeatures:eE,areLinesExpanded:ey,canExpandOrCollapseLines:ev,fileLinkHref:tm,isCollapsed:$,isBinary:Y,size:G,canToggleRichDiff:th,linesAdded:ei,linesChanged:en,linesDeleted:ea,newMode:tf,newPath:tp,oldMode:tg,oldPath:tx,patchStatus:eC,path:eu,onToggleExpandAllLines:eb,onToggleFileCollapsed:R,onToggleDiffDisplay:ty,additionalLeftSideContent:et,rightSideContent:eg,showRichDiff:tb,isInSingleFileMode:eO}),M[71]=ev,M[72]=$,M[73]=G,M[74]=eb,M[75]=ey,M[76]=tn,M[77]=eE,M[78]=Y,M[79]=eO,M[80]=et,M[81]=ei,M[82]=en,M[83]=ea,M[84]=eu,M[85]=eg,M[86]=eC,M[87]=tm,M[88]=th,M[89]=tf,M[90]=tp,M[91]=tg,M[92]=tx,M[93]=R,M[94]=ty,M[95]=tb,M[96]=L):L=M[96],M[97]!==E||M[98]!==L?(D=(0,n.jsx)("div",{className:aO.A.diffHeaderWrapper,style:E,children:L}),M[97]=E,M[98]=L,M[99]=D):D=M[99],M[100]!==$||M[101]!==eH||M[102]!==ts||M[103]!==W||M[104]!==e0||M[105]!==ey||M[106]!==V||M[107]!==X||M[108]!==ta||M[109]!==eI||M[110]!==e1||M[111]!==eV||M[112]!==eu||M[113]!==eh||M[114]!==ep||M[115]!==eD||M[116]!==eF||M[117]!==eL||M[118]!==eS||M[119]!==tl||M[120]!==tt?(I=$?null:(0,n.jsxs)("div",{className:"border position-relative rounded-bottom-2",children:[(0,n.jsxs)(n.Fragment,{children:[W.length>0&&(0,n.jsx)(aQ,{conversationListThreads:W,filePath:eu}),X&&(0,n.jsx)("div",{className:(0,x.$)("border rounded-2 color-border-default m-1 rounded-2 bgColor-default",aO.A.diffAddFileThread),children:(0,n.jsx)(ek,{batchingEnabled:!0,filePath:eu,fileLevelComment:!0,isLeftSide:void 0,viewerData:tt,onAddComment:e0,onClose:e1})})]}),eL&&(0,n.jsx)(aF,{submodule:eS}),ep?.showRichDiff&&(0,n.jsx)(e$,{queryConfig:ep.queryConfig,initialData:ep.richDiff}),eD&&(0,n.jsx)(aT,{hasExpandedAllRanges:ey,copilotChatReference:eH,diffEntryData:ts,baseHelpUrl:V,subjectId:eh||"",viewerData:tt,isSplitView:ta,diffLinesManuallyUnhidden:eI,handleSetShowHiddenUnicodeCharacters:eU,onHandleLoadDiff:eV,showHiddenUnicodeCharacters:eF,tableAriaLabel:tl})]}),M[100]=$,M[101]=eH,M[102]=ts,M[103]=W,M[104]=e0,M[105]=ey,M[106]=V,M[107]=X,M[108]=ta,M[109]=eI,M[110]=e1,M[111]=eV,M[112]=eu,M[113]=eh,M[114]=ep,M[115]=eD,M[116]=eF,M[117]=eL,M[118]=eS,M[119]=tl,M[120]=tt,M[121]=I):I=M[121],M[122]!==ej||M[123]!==tn||M[124]!==eR||M[125]!==P||M[126]!==td||M[127]!==tc||M[128]!==w||M[129]!==D||M[130]!==I?(T=(0,n.jsxs)("div",{"data-estimated-height":ej,role:"region",ref:P,"aria-labelledby":tn,id:td,className:N,"data-targeted":eR,style:w,children:[D,I]},tc),M[122]=ej,M[123]=tn,M[124]=eR,M[125]=P,M[126]=td,M[127]=tc,M[128]=w,M[129]=D,M[130]=I,M[131]=T):T=M[131],M[132]!==eM||M[133]!==eO?(A=eO&&(0,n.jsxs)("div",{className:aO.A.diffFooter,children:[(0,n.jsx)(d.InfoIcon,{size:16,"aria-hidden":"true"}),(0,n.jsx)("span",{className:"text-center",children:function(e){switch(e){case"COMMIT":return"Due to the large number of changes in the selected commit, only one file is being shown at a time.";case"RANGE":return"Due to the large number of changes in the selected commit range, only one file is being shown at a time.";default:return"Due to the large number of changes in this pull request, only one file is being shown at a time."}}(eM)})]}),M[132]=eM,M[133]=eO,M[134]=A):A=M[134],M[135]!==eN||M[136]!==eB||M[137]!==tr||M[138]!==eE||M[139]!==ta||M[140]!==er||M[141]!==eo||M[142]!==eu||M[143]!==eZ||M[144]!==eq||M[145]!==to||M[146]!==T||M[147]!==A?(k=(0,n.jsxs)(U,{addInjectedContextLines:eN,diffAnchor:to,diffLines:eB,fileLineCount:tr,path:eu,startNewConversationForLineOrFileMap:eZ,hiddenFeatures:eE,isSplitView:ta,oldTreeEntry:eo,newTreeEntry:er,storedCommentsMap:eq,children:[T,A]}),M[135]=eN,M[136]=eB,M[137]=tr,M[138]=eE,M[139]=ta,M[140]=er,M[141]=eo,M[142]=eu,M[143]=eZ,M[144]=eq,M[145]=to,M[146]=T,M[147]=A,M[148]=k):k=M[148],k}function aJ(e){let t,i,s,o,c,u=(0,a.c)(24),{path:m,pathDigest:h,linesAdded:f,linesChanged:p,linesDeleted:g,oldTreeEntry:y,newTreeEntry:b,status:v}=e,C=(0,l.useId)(),S=`heading-${C}`,[_,N]=(0,l.useState)(!1),w=`diff-${h}`;u[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,x.$)(aO.A.diffTargetable,aO.A.diff),u[0]=t):t=u[0];let j=`${h}_error`,E=b?.mode,R=b?.path,L=y?.mode,D=y?.path;return u[1]!==_?(i=()=>N(!_),u[1]=_,u[2]=i):i=u[2],u[3]!==S||u[4]!==_||u[5]!==f||u[6]!==p||u[7]!==g||u[8]!==m||u[9]!==v||u[10]!==E||u[11]!==R||u[12]!==L||u[13]!==D||u[14]!==i?(s=(0,n.jsx)("div",{className:aO.A.diffHeaderWrapper,children:(0,n.jsx)(r.B,{headingId:S,isCollapsed:_,isBinary:!1,linesAdded:f,linesChanged:p,linesDeleted:g,newMode:E,newPath:R,oldMode:L,oldPath:D,patchStatus:v,path:m,onToggleFileCollapsed:i})}),u[3]=S,u[4]=_,u[5]=f,u[6]=p,u[7]=g,u[8]=m,u[9]=v,u[10]=E,u[11]=R,u[12]=L,u[13]=D,u[14]=i,u[15]=s):s=u[15],u[16]!==_?(o=!_&&(0,n.jsx)("div",{className:"border position-relative rounded-bottom-2",children:(0,n.jsxs)(io.E,{children:[(0,n.jsx)(io.E.Visual,{children:(0,n.jsx)(d.AlertIcon,{size:"medium",className:"fgColor-muted"})}),(0,n.jsx)(io.E.Heading,{as:"h4",children:"There was an issue loading this file"}),(0,n.jsxs)(io.E.Description,{children:[" ","Try refreshing the page or if the problem persists"," ",(0,n.jsx)("a",{className:"fgColor-muted",href:"https://support.github.com/",children:(0,n.jsx)("u",{children:"contact support"})}),"."]})]})}),u[16]=_,u[17]=o):o=u[17],u[18]!==S||u[19]!==w||u[20]!==o||u[21]!==j||u[22]!==s?(c=(0,n.jsxs)("div",{role:"region","aria-labelledby":S,id:w,className:t,children:[s,o]},j),u[18]=S,u[19]=w,u[20]=o,u[21]=j,u[22]=s,u[23]=c):c=u[23],c}let aZ=(0,l.memo)(aY);try{aY.displayName||(aY.displayName="DiffUnmemoized")}catch{}try{aJ.displayName||(aJ.displayName="DiffErrorFallback")}catch{}try{aZ.displayName||(aZ.displayName="Diff")}catch{}},24058:(e,t,i)=>{i.d(t,{U:()=>en});var n=i(74848),a=i(16522),r=i(42118),l=i(64016),s=i(94420),o=i(81156),d=i(63352),c=i(73189),u=i(78809),m=i(73017),h=i(56038),f=i(43258),p=i(38621),g=i(72511),x=i(39414),y=i(34164),b=i(96540),v=i(59672),C=i(94747),S=i(93211),_=i(1932),N=i(96379);async function w(e){let{duration:t,hiddenReason:i,organizationLogin:n,notifyBlockedUser:a,shouldHideComment:r,userLogin:l}=e,s=new FormData;s.append("duration",t),s.append("hide_comment",r.toString()),i&&s.append("hidden_reason",i),s.append("login",l),s.append("send_notification",a.toString()),await (0,N.DI)((0,v.ggd)({owner:n}),{method:"POST",body:s,redirect:"manual"})}var j=i(48845),E=i(20622),R=i(24635),L=i(96518);async function D(e){let{organizationLogin:t,userLogin:i}=e;await (0,j.q$)(`${(0,v.ggd)({owner:t})}/${(0,L.QU)(i)}`,{method:"DELETE",redirect:"manual"})}function I(e){if(e)return{...e,isHidden:!1,minimizedReason:null}}var T=i(34784),A=i(8748),k=i(50625),O=i(93642),M=i(70109);let P="ReviewThreadComment-module__ReviewThreadWrapper--zXqpP";var F=i(40961),U=i(80081),$=i(3252);function B(){h.cg?.location.reload()}var q=i(91747),H=i(2265),G=i(30459),V=i(26607),K=i(21373),W=i(88008);function z(e){let t,i,r,l,s,o=(0,a.c)(32),{onOpenDialog:d,suggestedChange:c,canAddToBatch:u}=e,m=void 0===u||u,{sendAnalyticsEvent:h}=(0,G.s)(),f=(0,b.useRef)(null),p=c.commentDatabaseId||0;o[0]!==c.suggestionIndex||o[1]!==p?(t={commentDatabaseId:p,suggestionIndex:c.suggestionIndex},o[0]=c.suggestionIndex,o[1]=p,o[2]=t):t=o[2];let g=(0,S.Nk)(t),x=(0,S.RH)(),y=(0,q.u)("batch_suggested_changes"),{addSuggestionToBatch:v,removeSuggestionFromBatch:C}=(0,S.xJ)(),_=(0,S.WK)(),N=(0,S.Kp)(),w=(0,S.L3)();o[3]!==v||o[4]!==w||o[5]!==N||o[6]!==h||o[7]!==c.commentDatabaseId||o[8]!==c.lineRange||o[9]!==c.path||o[10]!==c.suggestionIndex||o[11]!==c.threadId||o[12]!==_?(i=()=>{if(!c.commentDatabaseId)return;let e={commentDatabaseId:c.commentDatabaseId,suggestionIndex:c.suggestionIndex,threadId:c.threadId,path:c.path,lineRange:c.lineRange};v(e),(0,W.CE)(N,w.fullDiff.headOid,[..._.activeBatch,e]),h("comments.add_suggested_change_to_batch","ADD_SUGGESTED_CHANGE_TO_BATCH_BUTTON")},o[3]=v,o[4]=w,o[5]=N,o[6]=h,o[7]=c.commentDatabaseId,o[8]=c.lineRange,o[9]=c.path,o[10]=c.suggestionIndex,o[11]=c.threadId,o[12]=_,o[13]=i):i=o[13];let j=i;o[14]!==w||o[15]!==N||o[16]!==C||o[17]!==h||o[18]!==c.commentDatabaseId||o[19]!==c.suggestionIndex||o[20]!==_?(r=()=>{if(!c.commentDatabaseId)return;let e={commentDatabaseId:c.commentDatabaseId,suggestionIndex:c.suggestionIndex};C(e),(0,W.CE)(N,w.fullDiff.headOid,_.activeBatch.filter(t=>t.commentDatabaseId!==e.commentDatabaseId||t.suggestionIndex!==e.suggestionIndex)),h("comments.remove_suggested_change_from_batch","REMOVE_SUGGESTED_CHANGE_FROM_BATCH_BUTTON")},o[14]=w,o[15]=N,o[16]=C,o[17]=h,o[18]=c.commentDatabaseId,o[19]=c.suggestionIndex,o[20]=_,o[21]=r):r=o[21];let E=r;o[22]!==d?(l=()=>{d(f)},o[22]=d,o[23]=l):l=o[23];let R=l;return o[24]!==y||o[25]!==m||o[26]!==j||o[27]!==R||o[28]!==E||o[29]!==g||o[30]!==x?(s=(0,n.jsx)("div",{className:"d-flex flex-row flex-items-center",children:y&&g?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(V.A,{variant:"attention",children:"Pending in batch"}),(0,n.jsx)("div",{className:"ml-auto",children:(0,n.jsx)(K.Q,{variant:"danger",onClick:E,children:"Remove from batch"})})]}):(0,n.jsxs)("div",{className:"d-flex gap-2 ml-auto flex-wrap-reverse",children:[!x&&(0,n.jsx)(K.Q,{variant:"default",onClick:R,ref:f,children:"Apply suggestion"}),y&&m&&(0,n.jsx)(K.Q,{variant:"primary",onClick:j,children:"Add suggestion to batch"})]})}),o[24]=y,o[25]=m,o[26]=j,o[27]=R,o[28]=E,o[29]=g,o[30]=x,o[31]=s):s=o[31],s}try{z.displayName||(z.displayName="ApplyOrAddToBatch")}catch{}var Q=i(3585);function X(e){let t,i,r=(0,a.c)(5),{reason:l,className:s}=e,o=void 0===s?"m-2":s;return r[0]!==l?(t=(0,n.jsx)("small",{className:"fgColor-muted",children:l}),r[0]=l,r[1]=t):t=r[1],r[2]!==o||r[3]!==t?(i=(0,n.jsx)("div",{className:o,children:t}),r[2]=o,r[3]=t,r[4]=i):i=r[4],i}try{X.displayName||(X.displayName="CodeSuggestionUnavailable")}catch{}function Y(e){let t,i,r,l,s,o,d,c,u,m,h,f,p,g,x,y,v=(0,a.c)(43),{suggestedChange:_}=e,{setIsDialogOpen:N}=(0,H.W)(),[w,R]=(0,b.useState)(!1),L=(0,b.useRef)(void 0),D=(0,q.u)("batch_suggested_changes"),I=(0,S.WK)();v[0]!==D||v[1]!==_.commentDatabaseId||v[2]!==_.suggestionIndex||v[3]!==I.activeBatch?(t=D&&void 0!==_.commentDatabaseId&&null!==_.commentDatabaseId&&I.activeBatch.some(e=>e.commentDatabaseId===_.commentDatabaseId&&e.suggestionIndex===_.suggestionIndex),v[0]=D,v[1]=_.commentDatabaseId,v[2]=_.suggestionIndex,v[3]=I.activeBatch,v[4]=t):t=v[4];let T=t;v[5]!==_.lineRange||v[6]!==_.path||v[7]!==_.threadId||v[8]!==I.activeBatch?(i=(0,U.EJ)({threadId:_.threadId,path:_.path,lineRange:_.lineRange},I.activeBatch),v[5]=_.lineRange,v[6]=_.path,v[7]=_.threadId,v[8]=I.activeBatch,v[9]=i):i=v[9];let{isValid:A,reason:k}=i;v[10]!==_?(r=[_],v[10]=_,v[11]=r):r=v[11];let O=r;v[12]!==O?(l=O.map(J),v[12]=O,v[13]=l):l=v[13];let M=l;v[14]!==N?(s=e=>{R(e),N?.(e)},v[14]=N,v[15]=s):s=v[15];let P=s;v[16]!==P?(o=()=>{if(P(!1),L.current){let e=L.current.current;setTimeout(()=>e?.focus())}},v[16]=P,v[17]=o):o=v[17];let F=o;v[18]!==P?(d=e=>{P(!0),L.current=e},v[18]=P,v[19]=d):d=v[19];let $=d,{mutate:G}=(g=(0,a.c)(2),x=(0,S.Kp)(),y=`${x}/page_data/${E.uT.submitSuggestedChanges}`,g[0]!==y?(p={mutationFn:async e=>{let{changes:t,currentOid:i,message:n}=e,a=await (0,j.q$)(y,{method:"POST",body:{changes:t,currentOid:i,message:n}}),r=await (0,j.hp)(a);return(0,j.R)(a,r),r},onSuccess:B},g[0]=y,g[1]=p):p=g[1],(0,C.n)(p)),{fullDiff:V}=(0,S.L3)(),{headOid:K}=V;v[20]!==O||v[21]!==F||v[22]!==K||v[23]!==G?(c=(e,t,i)=>{G({changes:O,message:e,currentOid:K},{onSuccess:()=>{F(),i()},onError:e=>{t(e,"submitSuggestedChanges","Failed to submit suggested changes")}})},v[20]=O,v[21]=F,v[22]=K,v[23]=G,v[24]=c):c=v[24];let W=c;return v[25]!==A||v[26]!==$||v[27]!==_?(u=(0,n.jsx)(z,{suggestedChange:_,onOpenDialog:$,canAddToBatch:A}),v[25]=A,v[26]=$,v[27]=_,v[28]=u):u=v[28],v[29]!==T||v[30]!==A||v[31]!==k?(m=!T&&!A&&k&&(0,n.jsx)(X,{reason:k,className:"m-0"}),v[29]=T,v[30]=A,v[31]=k,v[32]=m):m=v[32],v[33]!==M||v[34]!==O.length||v[35]!==F||v[36]!==W||v[37]!==w?(h=w&&(0,n.jsx)(Q.$,{authorLogins:M,batchSize:O.length,onClose:F,onCommit:W}),v[33]=M,v[34]=O.length,v[35]=F,v[36]=W,v[37]=w,v[38]=h):h=v[38],v[39]!==u||v[40]!==m||v[41]!==h?(f=(0,n.jsxs)("div",{className:"border-top p-2",children:[u,m,h]}),v[39]=u,v[40]=m,v[41]=h,v[42]=f):f=v[42],f}function J(e){return e.authorLogin}try{Y.displayName||(Y.displayName="CodeSuggestionActions")}catch{}function Z(e){let t,i,r=(0,a.c)(12),{applySuggestedChangesValidationData:l,comment:s,commentBodyRef:o,filePath:d,isOutdated:c,isThreadResolved:u,suggestedChangesConfig:m,databaseId:h,viewerCanApplySuggestion:f}=e,{state:p}=(0,S.Yp)(),g=(0,S.ww)(),x=function(e,t,i,n,r){let l,s,o=(0,a.c)(19),[d,c]=(0,b.useState)();o[0]!==r.lineRange||o[1]!==t.author?.login||o[2]!==t.databaseId||o[3]!==t.id||o[4]!==t.subjectType||o[5]!==e||o[6]!==i||o[7]!==n?(l=()=>{if(!e.current||t.subjectType?.toUpperCase()!=="LINE")return;let a=[...e.current.getElementsByClassName("js-apply-changes")];if(a.length>0){let e=[];for(let l=0;l<a.length;l++){let s=a[l];if(!s)continue;let o=s.closest("div.js-suggested-changes-blob");if(!o||!r.lineRange)continue;let d=(0,$.y)(o);e.push({authorLogin:t.author?.login??"ghost",commentId:t.id,commentDatabaseId:t.databaseId,path:i,ref:s,suggestion:d,lineRange:r.lineRange,threadId:n,suggestionIndex:l})}c(e)}},o[0]=r.lineRange,o[1]=t.author?.login,o[2]=t.databaseId,o[3]=t.id,o[4]=t.subjectType,o[5]=e,o[6]=i,o[7]=n,o[8]=l):l=o[8];let u=t.author?.login;return o[9]!==r.lineRange||o[10]!==t.bodyHTML||o[11]!==t.databaseId||o[12]!==t.id||o[13]!==t.subjectType||o[14]!==e||o[15]!==i||o[16]!==u||o[17]!==n?(s=[r.lineRange,u,t.bodyHTML,t.databaseId,t.id,t.subjectType,e,i,n],o[9]=r.lineRange,o[10]=t.bodyHTML,o[11]=t.databaseId,o[12]=t.id,o[13]=t.subjectType,o[14]=e,o[15]=i,o[16]=u,o[17]=n,o[18]=s):s=o[18],(0,b.useLayoutEffect)(l,s),d}(o,s,d,h,l);return r[0]!==l||r[1]!==s||r[2]!==g||r[3]!==c||r[4]!==u||r[5]!==p||r[6]!==x||r[7]!==m||r[8]!==f?(t=x?.length?x.map(e=>{let{isValid:t,reason:i}=(0,U.o_)({suggestedChange:e,hasCommitRange:g,isOutdated:c,isPending:"PENDING"===s.state.toUpperCase(),isResolved:u,pullRequestIsClosed:void 0===p||"CLOSED"===p||"MERGED"===p,pullRequestIsInMergeQueue:"QUEUED"===p,userCanApplySuggestion:!!f,applySuggestedChangesValidationData:l,suggestedChangesConfig:m});return!t&&i?(0,F.createPortal)((0,n.jsx)(X,{reason:i}),e.ref):(0,F.createPortal)((0,n.jsx)(Y,{suggestedChange:e}),e.ref)}):null,r[0]=l,r[1]=s,r[2]=g,r[3]=c,r[4]=u,r[5]=p,r[6]=x,r[7]=m,r[8]=f,r[9]=t):t=r[9],r[10]!==t?(i=(0,n.jsx)(n.Fragment,{children:t}),r[10]=t,r[11]=i):i=r[11],i}try{Z.displayName||(Z.displayName="SuggestedChangeView")}catch{}var ee=i(30721),et=i(83494),ei=i(20459);function en(e){let t,i,v,N,L,F,U,$,B,q,H,G,V,K,W,z,Q,X,Y,J,en,er,el,es,eo,ed,ec,eu,em,eh,ef,ep,eg,ex,ey,eb,ev,eC,eS,e_,eN,ew,ej,eE,eR=(0,a.c)(176),{isAnchorable:eL,index:eD,isInlineComment:eI,isLastChild:eT,isOutdated:eA,isThreadResolved:ek,lineMarkersKey:eO,anchorPrefix:eM,comment:eP,disableDialogMode:eF,enableDialogMode:eU,filePath:e$,gridCellId:eB,hideActions:eq,isFirstComment:eH,isInDialogMode:eG,onDeleteLineComment:eV,onQuoteReply:eK,threadCommentCount:eW,threadId:ez,threadPositionNumber:eQ,suggestedChangesConfig:eX,applySuggestedChangesValidationData:eY,viewerData:eJ,ghostUser:eZ,originalDiffPathUri:e0,headingLevel:e1}=e,e2=void 0!==eL&&eL,e3=void 0===eD?0:eD,e4=void 0!==eH&&eH,e5=void 0===eK?c.l:eK,e6=void 0===eZ?o.t.ghostUser:eZ,e7=void 0===e1?"h3":e1,{addToast:e8}=(0,f.Y6)(),[e9,te]=(0,b.useState)(!1),[tt,ti]=(0,b.useState)(eP.isHidden),[tn,ta]=(0,b.useState)(!1),[tr,tl]=(0,b.useState)(eP.body),[ts,to]=(0,b.useState)(!1),[td,tc]=(0,b.useState)(!1),[tu,tm]=(0,b.useState)(""),th=(0,S.Kp)(),tf="FILE"===eP.subjectType;eR[0]===Symbol.for("react.memo_cache_sentinel")?(t=e=>{let{text:t}=e;t&&tl(t)},eR[0]=t):t=eR[0],eR[1]!==th||eR[2]!==eP.id||eR[3]!==e$||eR[4]!==tf?(i={subjectId:th,filePath:e$,fileLevelComment:tf,threadId:eP.id,handlePersistedCommentExists:t},eR[1]=th,eR[2]=eP.id,eR[3]=e$,eR[4]=tf,eR[5]=i):i=eR[5];let{persistCommentToStorage:tp,removePersistedCommentFromStorage:tg}=(0,k.L4)(i),tx=(0,b.useRef)(null),ty=(0,b.useRef)(null),tb=(0,b.useRef)(null),[tv,tC]=(0,b.useState)("");eR[6]===Symbol.for("react.memo_cache_sentinel")?(v=()=>{tx.current?.focus()},eR[6]=v):v=eR[6];let tS=v;eR[7]!==e9?(N=()=>{if(e9){let e=window.setTimeout(tS);return()=>{window.clearTimeout(e)}}},L=[e9],eR[7]=e9,eR[8]=N,eR[9]=L):(N=eR[8],L=eR[9]),(0,b.useEffect)(N,L),eR[10]!==eV?(F=()=>{ta(!1),tc(!1),eV?.()},eR[10]=eV,eR[11]=F):F=eR[11],eR[12]!==e$||eR[13]!==eO||eR[14]!==F?(U={filePath:e$,lineMarkersKey:eO,onSuccess:F},eR[12]=e$,eR[13]=eO,eR[14]=F,eR[15]=U):U=eR[15];let{mutate:t_}=function(e){let t,i,n,r=(0,a.c)(15),{filePath:l,lineMarkersKey:s,onSuccess:o}=e,d=(0,S.Kp)(),{deleteThreadComment:c}=(0,S.an)(),{onCommentThreadDeleted:u}=(0,S.Ud)(),m=(0,S.SM)(),{removePendingComment:h}=(0,S._N)();return r[0]!==d||r[1]!==l||r[2]!==m||r[3]!==s?(t=async e=>{let{commentId:t,threadId:i}=e,n=m(Number(i),l,s)?.commentsData?.comments?.find(e=>e.id===t);if(!n)return;let a=`${d}/page_data/review_comments/${n.databaseId}`,r=await (0,j.q$)(`${a}`,{method:"DELETE"});if(204===r.status||200===r.status)return;let o=await (0,j.hp)(r);(0,j.R)(r,o)},r[0]=d,r[1]=l,r[2]=m,r[3]=s,r[4]=t):t=r[4],r[5]!==c||r[6]!==l||r[7]!==s||r[8]!==u||r[9]!==o||r[10]!==h?(i=(e,t)=>{let{commentId:i,threadId:n}=t,a=c(Number(n),i,l,s);h(Number(n)),"thread_deleted"===a&&("thread_deleted"===a&&u({path:l,threadID:n}),o?.())},r[5]=c,r[6]=l,r[7]=s,r[8]=u,r[9]=o,r[10]=h,r[11]=i):i=r[11],r[12]!==t||r[13]!==i?(n={mutationFn:t,onSuccess:i},r[12]=t,r[13]=i,r[14]=n):n=r[14],(0,C.n)(n)}(U);eR[16]!==eF?($=async()=>{eF?.(),ta(!0)},eR[16]=eF,eR[17]=$):$=eR[17];let tN=$;eR[18]!==e8||eR[19]!==eP.id||eR[20]!==t_||eR[21]!==eU||eR[22]!==e$||eR[23]!==eB||eR[24]!==ez?(B=e=>{"confirm"===e?(tc(!0),t_({commentId:eP.id,threadId:ez,filePath:e$},{onError:()=>{ta(!1),e8({type:"error",message:"Failed to delete comment"}),tc(!1)}})):(eB&&eU?.(eB),ta(!1),tc(!1))},eR[18]=e8,eR[19]=eP.id,eR[20]=t_,eR[21]=eU,eR[22]=e$,eR[23]=eB,eR[24]=ez,eR[25]=B):B=eR[25];let tw=B,{mutate:tj}=function(e,t){let i,n,r,l=(0,a.c)(9),s=(0,S.Kp)(),o=`${s}/page_data/${E.uT.hideComment}`,{updateThreadComment:d}=(0,S.an)();return l[0]!==o?(i=async e=>{let{commentDatabaseId:t,reason:i}=e,n=await (0,j.q$)(o,{method:"POST",body:{classifier:i,commentId:t}}),a=await (0,j.hp)(n);return(0,j.R)(n,a),a},l[0]=o,l[1]=i):i=l[1],l[2]!==e||l[3]!==t||l[4]!==d?(n=i=>{d({threadID:i.threadId,filePath:e,lineMarkersKey:t,match:e=>e.databaseId===i.commentDatabaseId,transform:e=>{if(e)return{...e,isHidden:!0,minimizedReason:i.reason}}})},l[2]=e,l[3]=t,l[4]=d,l[5]=n):n=l[5],l[6]!==i||l[7]!==n?(r={mutationFn:i,onSuccess:n},l[6]=i,l[7]=n,l[8]=r):r=l[8],(0,C.n)(r)}(e$,eO);eR[26]!==eP.databaseId||eR[27]!==tj?(q=e=>{if(!eP.databaseId)throw Error("Comment not found");tj({commentDatabaseId:eP.databaseId,reason:e},{onError:()=>{to(!1),tC("Failed to hide comment")},onSuccess:()=>ti(!0)})},eR[26]=eP.databaseId,eR[27]=tj,eR[28]=q):q=eR[28];let tE=q,{mutate:tR}=function(e,t){let i,n,r,l=(0,a.c)(9),s=(0,S.Kp)(),o=`${s}/page_data/${E.uT.unhideComment}`,{updateThreadComment:d}=(0,S.an)();return l[0]!==o?(i=async e=>{let{commentDatabaseId:t}=e,i=await (0,j.q$)(o,{method:"POST",body:{commentId:t}}),n=await (0,j.hp)(i);return(0,j.R)(i,n),n},l[0]=o,l[1]=i):i=l[1],l[2]!==e||l[3]!==t||l[4]!==d?(n=i=>{d({threadID:i.threadId,filePath:e,lineMarkersKey:t,match:e=>e.databaseId===i.commentDatabaseId,transform:I})},l[2]=e,l[3]=t,l[4]=d,l[5]=n):n=l[5],l[6]!==i||l[7]!==n?(r={mutationFn:i,onSuccess:n},l[6]=i,l[7]=n,l[8]=r):r=l[8],(0,C.n)(r)}(e$,eO);eR[29]!==eP.databaseId||eR[30]!==tR?(H=()=>{if(!eP.databaseId)throw Error("Comment not found");tR({commentDatabaseId:eP.databaseId},{onError:()=>{to(!1),tC("Failed to unhide comment")},onSuccess:()=>ti(!1)})},eR[29]=eP.databaseId,eR[30]=tR,eR[31]=H):H=eR[31];let tL=H,{mutate:tD}=function(){let e,t=(0,a.c)(2),{updateThreads:i}=(0,S.an)();return t[0]!==i?(e={mutationFn:w,onSuccess:(e,t)=>{i((0,_.jM)(e=>{let i=e.flatMap(e=>e.commentsData?.comments.filter(e=>e.author?.login===t.userLogin));if(0!==i.length)for(let e of i)e&&(e.viewerCanBlockFromOrg=!1,e.viewerCanUnblockFromOrg=!0,e.isHidden=t.shouldHideComment||e.isHidden,e.minimizedReason=t.hiddenReason||null)}))}},t[0]=i,t[1]=e):e=t[1],(0,C.n)(e)}();eR[32]!==tD?(G=(e,t,i,n,a,r)=>tD({duration:e,shouldHideComment:t,hiddenReason:i,organizationLogin:n,notifyBlockedUser:a,userLogin:r},{onError:()=>tC("Failed to block user"),onSuccess:()=>{t&&ti(!0)}}),eR[32]=tD,eR[33]=G):G=eR[33];let tI=G,{mutate:tT}=function(){let e,t=(0,a.c)(2),{updateThreads:i}=(0,S.an)();return t[0]!==i?(e={mutationFn:D,onSuccess:(e,t)=>{i((0,_.jM)(e=>{let i=e.flatMap(e=>e.commentsData?.comments.filter(e=>e.author?.login===t.userLogin));if(0!==i.length)for(let e of i)e&&(e.viewerCanBlockFromOrg=!0,e.viewerCanUnblockFromOrg=!1)}))}},t[0]=i,t[1]=e):e=t[1],(0,C.n)(e)}();eR[34]!==tT?(V=(e,t)=>tT({organizationLogin:e,userLogin:t},{onError:()=>tC("Failed to unblock user")}),eR[34]=tT,eR[35]=V):V=eR[35];let tA=V,{mutate:tk}=(0,R.u)(e$,eO);eR[36]!==e8||eR[37]!==eP.databaseId||eR[38]!==tk||eR[39]!==ez?(K=(e,t)=>{if(!eP.databaseId)throw Error("Comment not found");setTimeout(()=>tb.current?.focus(),0),tk({commentDatabaseId:eP.databaseId,threadId:ez,reaction:e,viewerHasReacted:t},{onError:()=>{to(!1),e8({type:"error",message:"Failed to react to comment"})}})},eR[36]=e8,eR[37]=eP.databaseId,eR[38]=tk,eR[39]=ez,eR[40]=K):K=eR[40];let tO=K;eR[41]===Symbol.for("react.memo_cache_sentinel")?(W=()=>{te(!0)},eR[41]=W):W=eR[41];let tM=W;eR[42]!==eP.body||eR[43]!==tg?(z=()=>{te(!1),tg(),tl(eP.body)},eR[42]=eP.body,eR[43]=tg,eR[44]=z):z=eR[44];let tP=z;eR[45]!==tp?(Q=e=>{tp({text:e}),tl(e),tm(void 0)},eR[45]=tp,eR[46]=Q):Q=eR[46];let tF=Q;eR[47]!==tg?(X=()=>{te(!1),to(!1),tg()},eR[47]=tg,eR[48]=X):X=eR[48],eR[49]!==e$||eR[50]!==eO||eR[51]!==X?(Y={filePath:e$,lineMarkersKey:eO,onSuccess:X},eR[49]=e$,eR[50]=eO,eR[51]=X,eR[52]=Y):Y=eR[52];let{mutate:tU}=function(e){let t,i,n,r=(0,a.c)(10),{filePath:l,lineMarkersKey:s,onSuccess:o}=e,d=(0,S.Kp)(),c=`${d}/page_data/${E.uT.updateReviewComment}`,{updateThreadComment:u}=(0,S.an)();return r[0]!==c?(t=async e=>{let{commentId:t,bodyVersion:i,body:n}=e,a=await (0,j.q$)(`${c}${i?`?body_version=${i}`:""}`,{method:"PUT",body:{body:n,commentId:t}}),r=await (0,j.hp)(a);return(0,j.R)(a,r),r},r[0]=c,r[1]=t):t=r[1],r[2]!==l||r[3]!==s||r[4]!==o||r[5]!==u?(i=e=>{u({threadID:e.threadId,filePath:l,lineMarkersKey:s,match:t=>t.databaseId===e.commentDatabaseId,transform:t=>{if(t)return{...t,body:e.body,bodyHTML:e.bodyHTML,bodyVersion:e.bodyVersion}}}),o?.()},r[2]=l,r[3]=s,r[4]=o,r[5]=u,r[6]=i):i=r[6],r[7]!==t||r[8]!==i?(n={mutationFn:t,onSuccess:i},r[7]=t,r[8]=i,r[9]=n):n=r[9],(0,C.n)(n)}(Y);eR[53]!==e8||eR[54]!==tr||eR[55]!==eP.bodyVersion||eR[56]!==eP.databaseId||eR[57]!==eX?.sourceContentFromDiffLines||eR[58]!==tU?(J=()=>{to(!0);let e=(0,O.u)(tr,eX?.sourceContentFromDiffLines??"");if(!e.isValid){tm(e.errorMessage),to(!1);return}tU({commentId:String(eP.databaseId),body:tr,bodyVersion:eP.bodyVersion},{onError:()=>{to(!1),e8({type:"error",message:"Failed to update comment"})}})},eR[53]=e8,eR[54]=tr,eR[55]=eP.bodyVersion,eR[56]=eP.databaseId,eR[57]=eX?.sourceContentFromDiffLines,eR[58]=tU,eR[59]=J):J=eR[59],eX?.sourceContentFromDiffLines;let t$=J;eR[60]!==eP.databaseId?(en=eP.databaseId?.toString(),eR[60]=eP.databaseId,eR[61]=en):en=eR[61];let tB=en,tq=tB?`${void 0===eM?"r":eM}${tB}`:void 0;eR[62]!==tq?(er=tq&&h.fV?new URL(`${h.fV.pathname}#${tq}`,h.fV.origin).toString():"",eR[62]=tq,eR[63]=er):er=eR[63];let tH=er,tG=(0,b.useRef)(null);eR[64]!==tq||eR[65]!==tB||eR[66]!==e2?(el={isAnchorable:e2,commentId:tB,commentAnchor:tq,containerRef:tG},eR[64]=tq,eR[65]=tB,eR[66]=e2,eR[67]=el):el=eR[67],(0,A.u)(el);let tV=e3>0,tK=e3>1,tW=e9?"editing":tt?"hidden":"visible";eR[68]!==e7?(es={as:e7},eR[68]=e7,eR[69]=es):es=eR[69];let tz=es,tQ=eP.author?.avatarUrl??e6.avatarUrl,tX=eP.reference.text??`#${eP.reference.number}`;eR[70]!==eP||eR[71]!==tH||eR[72]!==tX?(eo={...eP,url:tH,referenceText:tX},eR[70]=eP,eR[71]=tH,eR[72]=tX,eR[73]=eo):eo=eR[73];let tY=eP.author?.login??e6.login,tJ=eP.reference?.author?.login??"";eR[74]===Symbol.for("react.memo_cache_sentinel")?(ed={},eR[74]=ed):ed=eR[74];let tZ="copilot"===eP.reviewVariantType?"copilot-pull-request-reviewer":void 0,t0="copilot"===eP.reviewVariantType?l.S.Bot:void 0;eR[75]!==eq||eR[76]!==tt||eR[77]!==eA||eR[78]!==tV||eR[79]!==tI||eR[80]!==tN||eR[81]!==tE||eR[82]!==e5||eR[83]!==tA||eR[84]!==tL||eR[85]!==e0||eR[86]!==tz||eR[87]!==tQ||eR[88]!==eo||eR[89]!==tY||eR[90]!==tJ||eR[91]!==tZ||eR[92]!==t0?(ec={headingProps:tz,avatarUrl:tQ,comment:eo,commentRef:tG,deleteComment:tN,editComment:tM,editHistoryComponent:void 0,hideComment:tE,onBlock:tI,onUnblock:tA,onMinimize:ti,onSuccessfulBlock:ea,isMinimized:tt,commentAuthorLogin:tY,navigate:c.l,commentSubjectAuthorLogin:tJ,onReplySelect:e5,unhideComment:tL,hideActions:eq,isReply:tV,forceInlineAvatar:!0,containerStyle:ed,originalDiffPathUri:e0,isOutdated:eA,commentAuthorSlug:tZ,commentAuthorType:t0},eR[75]=eq,eR[76]=tt,eR[77]=eA,eR[78]=tV,eR[79]=tI,eR[80]=tN,eR[81]=tE,eR[82]=e5,eR[83]=tA,eR[84]=tL,eR[85]=e0,eR[86]=tz,eR[87]=tQ,eR[88]=eo,eR[89]=tY,eR[90]=tJ,eR[91]=tZ,eR[92]=t0,eR[93]=ec):ec=eR[93];let t1=ec;eR[94]!==e3||eR[95]!==tV||eR[96]!==eQ?(eu=()=>tV?void 0!==eQ?`Reply ${e3} to Comment ${eQ}`:`Reply ${e3}`:void 0!==eQ?`Comment ${eQ}`:"Comment",eR[94]=e3,eR[95]=tV,eR[96]=eQ,eR[97]=eu):eu=eR[97];let t2=eu;eR[98]!==eP.body||eR[99]!==e9||eR[100]!==e5?(em=()=>{if(e9)return;let e=h.cg?.getSelection(),t=e?.anchorNode?{anchorNode:e.anchorNode,range:e.getRangeAt(0)}:null;e5((0,ei.E)(tG?.current,t,eP.body))},eR[98]=eP.body,eR[99]=e9,eR[100]=e5,eR[101]=em):em=eR[101];let t3=em;eR[102]===Symbol.for("react.memo_cache_sentinel")?(eh=(0,ee.E7)(),eR[102]=eh):eh=eR[102];let t4=eh;eR[103]!==t3?(ef={"pull-requests-diff-view:quote-reply":t3},eR[103]=t3,eR[104]=ef):ef=eR[104];let t5=e2?tq:void 0,t6=eI?eG?0:-1:0,t7=eP.id;eR[105]!==t2||eR[106]!==eG?(ep=eG?{role:"document","aria-roledescription":"comment","aria-label":t2()}:{},eR[105]=t2,eR[106]=eG,eR[107]=ep):ep=eR[107];let t8=e2&&"ReviewThreadComment-module__anchorable--bXoU8",t9="hidden"===tW&&"pb-2";return eR[108]!==t8||eR[109]!==t9?(eg=(0,y.$)("ReviewThreadComment-module__ReviewThreadContainer--mI1dg",t8,t9),eR[108]=t8,eR[109]=t9,eR[110]=eg):eg=eR[110],eR[111]!==tK||eR[112]!==tV?(ex=tK&&(0,n.jsx)("div",{className:P,"data-is-reply":tV,children:(0,n.jsx)("div",{className:"ReviewThreadComment-module__ReviewThreadBox--Ddyuz"})}),eR[111]=tK,eR[112]=tV,eR[113]=ex):ex=eR[113],eR[114]!==t1||eR[115]!==eq?(ey=eq?void 0:(0,n.jsx)(T.RelayEnvironmentProvider,{environment:t4,children:(0,n.jsx)(s.p,{...t1})}),eR[114]=t1,eR[115]=eq,eR[116]=ey):ey=eR[116],eR[117]!==eP.body||eR[118]!==t1||eR[119]!==eG||eR[120]!==eA||eR[121]!==ey||eR[122]!==eW?(eb=(0,n.jsx)(l.v,{...t1,commentBody:eP.body,threadCommentCount:eW,isInDialogMode:eG,actions:ey,isOutdated:eA}),eR[117]=eP.body,eR[118]=t1,eR[119]=eG,eR[120]=eA,eR[121]=ey,eR[122]=eW,eR[123]=eb):eb=eR[123],eR[124]!==tK||eR[125]!==eb?(ev=(0,n.jsx)("div",{className:"ReviewThreadComment-module__ReviewThreadInnerContainer--xw85s","data-is-nested-reply":tK,children:eb}),eR[124]=tK,eR[125]=eb,eR[126]=ev):ev=eR[126],eR[127]!==tv?(eC=tv&&(0,n.jsxs)(g.A,{variant:"danger",className:"m-3",children:[(0,n.jsx)(p.StopIcon,{className:"mr-2"}),tv]}),eR[127]=tv,eR[128]=eC):eC=eR[128],eR[129]!==eT||eR[130]!==tV?(eS=tV&&(0,n.jsx)("div",{className:"ReviewThreadComment-module__ReplyWrapper--yIUaX","data-is-last-child":eT}),eR[129]=eT,eR[130]=tV,eR[131]=eS):eS=eR[131],eR[132]!==tr||eR[133]!==tW||eR[134]!==tu||eR[135]!==tV||eR[136]!==ts||eR[137]!==tP||eR[138]!==tF||eR[139]!==t$||eR[140]!==eX?(e_="editing"===tW&&(0,n.jsx)("div",{className:(0,y.$)("flex-1 min-width-0 pr-2 pt-1 pb-2",tV?"pl-0":"pl-2"),children:(0,n.jsxs)(M.S,{ref:tx,label:"Update comment",value:tr,onChange:tF,onPrimaryAction:t$,suggestedChangesConfig:eX,markdownErrorMessage:tu,children:[(0,n.jsx)(r.xR,{variant:"default",onClick:tP,children:"Cancel"}),(0,n.jsx)(r.xR,{disabled:ts||!tr.length,loading:ts,variant:"primary",onClick:t$,children:"Update"})]})}),eR[132]=tr,eR[133]=tW,eR[134]=tu,eR[135]=tV,eR[136]=ts,eR[137]=tP,eR[138]=tF,eR[139]=t$,eR[140]=eX,eR[141]=e_):e_=eR[141],eR[142]!==eY||eR[143]!==eP||eR[144]!==tW||eR[145]!==tn||eR[146]!==e$||eR[147]!==tw||eR[148]!==td||eR[149]!==eA||eR[150]!==tV||eR[151]!==ek||eR[152]!==tO||eR[153]!==eX||eR[154]!==eJ?.viewerCanApplySuggestion?(eN="visible"===tW&&(0,n.jsxs)("div",{className:"ReviewThreadComment-module__BodyHTMLContainer--O6lsx","data-is-reply":tV,children:[eP.bodyHTML&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.vb,{ref:ty,className:(0,y.$)("markdown-body","ReviewThreadComment-module__SafeHTMLBox--SVSQJ","ReviewThreadComment-module__SafeHTMLBoxWrapped--NYuTu"),"comment-testid":`Comment body html for comment ${eP.id}`,html:eP.bodyHTML}),"copilot"===eP.reviewVariantType&&(0,n.jsxs)("p",{className:"text-small color-fg-muted mt-2 mb-1",children:[(0,n.jsx)("a",{target:"_blank",rel:"noopener noreferrer",className:"Link--inTextBlock",href:"https://docs.github.com/en/copilot/responsible-use-of-github-copilot-features/responsible-use-of-github-copilot-code-review",children:"Copilot"})," ","uses AI. Check for mistakes."]}),(0,n.jsxs)("div",{className:"d-flex flex-direction-column gap-2",children:["copilot"===eP.reviewVariantType&&(0,n.jsx)("div",{className:"mt-2",children:(0,n.jsx)(d.Z,{commentUrl:eP.url,commentId:eP.databaseId?.toString()??""})}),eP.reactionGroups&&(0,n.jsx)("div",{className:"d-flex flex-direction-column mt-2",children:(0,n.jsx)(u.P,{ref:tb,reactionGroups:eP.reactionGroups,onReact:tO,canReact:eP.viewerCanReact})})]}),eY&&(0,n.jsx)(Z,{comment:eP,commentBodyRef:ty,filePath:e$,isOutdated:eA,isThreadResolved:ek,databaseId:eP.databaseId,suggestedChangesConfig:eX,applySuggestedChangesValidationData:eY,viewerCanApplySuggestion:eJ?.viewerCanApplySuggestion})]}),tn&&(0,n.jsx)(x.K,{title:"Delete comment?",confirmButtonContent:"Delete",confirmButtonType:"danger",confirmButtonLoading:td,onClose:tw,children:"Are you sure you want to delete this comment?"})]}),eR[142]=eY,eR[143]=eP,eR[144]=tW,eR[145]=tn,eR[146]=e$,eR[147]=tw,eR[148]=td,eR[149]=eA,eR[150]=tV,eR[151]=ek,eR[152]=tO,eR[153]=eX,eR[154]=eJ?.viewerCanApplySuggestion,eR[155]=eN):eN=eR[155],eR[156]!==tV||eR[157]!==eS||eR[158]!==e_||eR[159]!==eN?(ew=(0,n.jsxs)("div",{className:P,"data-is-reply":tV,children:[eS,e_,eN]}),eR[156]=tV,eR[157]=eS,eR[158]=e_,eR[159]=eN,eR[160]=ew):ew=eR[160],eR[161]!==eP.id||eR[162]!==e4||eR[163]!==t5||eR[164]!==t6||eR[165]!==ep||eR[166]!==eg||eR[167]!==ex||eR[168]!==ev||eR[169]!==eC||eR[170]!==ew||eR[171]!==ez?(ej=(0,n.jsxs)("div",{ref:tG,id:t5,tabIndex:t6,"data-first-thread-comment":e4,"data-marker-navigation-comment-thread-id":ez,"data-marker-navigation-comment-id":t7,...ep,className:eg,children:[ex,ev,eC,ew]}),eR[161]=eP.id,eR[162]=e4,eR[163]=t5,eR[164]=t6,eR[165]=ep,eR[166]=eg,eR[167]=ex,eR[168]=ev,eR[169]=eC,eR[170]=ew,eR[171]=ez,eR[172]=ej):ej=eR[172],eR[173]!==ef||eR[174]!==ej?(eE=(0,n.jsx)(et.tL,{commands:ef,children:ej}),eR[173]=ef,eR[174]=ej,eR[175]=eE):eE=eR[175],eE}function ea(){setTimeout(er,800)}function er(){return h.cg?.location.reload()}try{en.displayName||(en.displayName="ReviewThreadComment")}catch{}},24798:(e,t,i)=>{i.d(t,{o:()=>r});var n=i(16522),a=i(76648);function r(){let e,t=(0,n.c)(8),i=(0,a.B)()??{};if(i&&"header"in i)return i.header;let{aliveChannel:r,pullRequest:l,bannersData:s,repository:o,urls:d,user:c,pageTitle:u}=i;return t[0]!==r||t[1]!==s||t[2]!==u||t[3]!==l||t[4]!==o||t[5]!==d||t[6]!==c?(e={aliveChannel:r,pullRequest:l,bannersData:s,repository:o,urls:d,user:c,pageTitle:u},t[0]=r,t[1]=s,t[2]=u,t[3]=l,t[4]=o,t[5]=d,t[6]=c,t[7]=e):e=t[7],e}},24937:(e,t,i)=>{i.d(t,{XG:()=>o,CB:()=>d});var n=i(16522),a=i(20622),r=i(15610),l=i(96379);function s(e){return{thread:{id:e.threadId,isResolved:e.isResolved,isOutdated:e.isOutdated,line:e.line,subjectType:e.subjectType,subject:e.subject,commentsData:e.commentsData},previewInfo:{threadId:e.threadId,commentId:e.commentId,path:e.path,threadPreviewComments:e.threadPreviewComments,originalDiffPathUri:e.originalDiffPathUri,firstComment:e.firstComment,subject:e.subject}}}function o(e){return[a.uT.threadPreviews,e]}function d(e){let t,i,l,s=(0,n.c)(7),{pathName:d}=e;if(s[0]!==d?(t=o(d),s[0]=d,s[1]=t):t=s[1],s[2]!==d)i=`${d}/page_data/${a.uT.threadPreviews}`,s[2]=d,s[3]=i;else i=s[3];return s[4]!==t||s[5]!==i?(l={queryKey:t,initialPageParam:i,queryFn:u,getNextPageParam:c,staleTime:1/0},s[4]=t,s[5]=i,s[6]=l):l=s[6],(0,r.U)(l)}function c(e){return e.nextUrl??void 0}async function u(e){var t;let i,{pageParam:n}=e,a=await (0,l.QJ)(n);if(!a.ok)throw Error(`Failed to fetch thread previews from ${n}: HTTP ${a.status}`);let r=await a.json(),o=function(e,t){if(!e)return null;let i=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=RegExp(`<([^>]+)>;\\s*rel=["']?${i}["']?`,"i"),a=e.match(n);return a?.[1]??null}(a.headers.get("Link"),"next");return{data:i=r.length>0&&!(null!==(t=r[0])&&"object"==typeof t&&"previewInfo"in t)?r.map(s):r,nextUrl:o}}},26410:(e,t,i)=>{i.d(t,{J:()=>b,F:()=>x});var n=i(74848),a=i(96540),r=i(39111),l=i(96459),s=i(96379),o=i(84268),d=i(19579),c=i(72511),u=i(5524),m=i(81960),h=i(11196),f=i(98755),p=i(38621),g=i(34164);function x(e){let{httpAvailable:t,sshAvailable:i,httpUrl:m,showCloneWarning:f,sshUrl:g,sshCertificatesRequired:x,sshCertificatesAvailable:v,ghCliUrl:C,newSshKeyUrl:S,setProtocolPath:_}=e.protocolInfo,{defaultProtocol:N}=e.protocolInfo,[w,j]=(0,a.useState)(N),[E,R]=(0,a.useState)(""),{cloneUrl:L,visualStudioCloneUrl:D,showVisualStudioCloneButton:I,showXcodeCloneButton:T,xcodeCloneUrl:A,zipballUrl:k}=e.platformInfo,O=(0,r.X)(["windows","mac"]),M=(0,r.X)(["mac"]),P=(0,l.Z)(),F="mt-2 fgColor-muted text-normal",U=(0,a.useCallback)(e=>{if(w!==e){j(e);let t=new FormData;t.set("protocol_selector",e),(0,s.DI)(_,{method:"post",body:t})}},[w,j,_]),$=(0,a.useMemo)(()=>{let e=[];return t&&e.push({protocol:"http",displayName:"HTTPS",ariaLabel:"Clone with HTTPS",handler:()=>U("http")}),i&&e.push({protocol:"ssh",displayName:"SSH",ariaLabel:"Clone with SSH",handler:()=>U("ssh")}),e.push({protocol:"gh_cli",displayName:"GitHub CLI",ariaLabel:"Clone with GitHub CLI",handler:()=>U("gh_cli")}),e},[t,U,i]),B=(0,a.useMemo)(()=>{let e=[];return O&&e.push({name:"githubDesktop",text:"Open with GitHub Desktop",url:L,icon:p.DesktopDownloadIcon}),O&&I&&e.push({name:"visualStudio",text:"Open with Visual Studio",url:D}),M&&T&&e.push({name:"xcode",text:"Open with Xcode",url:A}),e.push({name:"zip",text:"Download ZIP",url:k,icon:p.FileZipIcon}),e},[L,M,O,I,T,D,A,k]);return(0,n.jsx)("div",{children:"githubDesktop"===E?(0,n.jsx)(y,{platform:"GitHub Desktop",href:"https://desktop.github.com/"}):"visualStudio"===E?(0,n.jsx)(y,{platform:"Visual Studio"}):"xcode"===E?(0,n.jsx)(y,{platform:"Xcode",href:"https://developer.apple.com/xcode/"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"m-3",children:[(0,n.jsxs)("div",{className:"d-flex flex-items-center",children:[(0,n.jsx)(p.TerminalIcon,{className:"mr-2"}),(0,n.jsx)("p",{className:"flex-1 text-bold mb-0",children:"Clone"}),(0,n.jsx)(h.m,{text:"Which remote URL should I use?",type:"label",direction:"w",children:(0,n.jsx)(o.A,{muted:!0,href:`${e.helpUrl}/articles/which-remote-url-should-i-use`,children:(0,n.jsx)(p.QuestionIcon,{className:"mr-1"})})})]}),(0,n.jsx)(d.O,{"aria-label":"Remote URL selector",className:"LocalTab-module__UnderlineNav--epbgw",children:$.map(e=>(0,n.jsx)(d.O.Item,{"aria-current":w===e.protocol?"page":void 0,"aria-label":e.ariaLabel,onClick:e.handler,children:e.displayName},e.protocol))}),"http"===w?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b,{inputId:"clone-with-https",inputLabel:"Clone with HTTPS url",url:m}),(0,n.jsx)("p",{className:F,children:"Clone using the web URL."})]}):"ssh"===w?(0,n.jsxs)(n.Fragment,{children:[f&&(0,n.jsxs)(c.A,{className:"mb-2",variant:"warning",children:["You don't have any public SSH keys in your GitHub account. ","You can"," ",(0,n.jsx)(o.A,{inline:!0,href:S,children:"add a new public key"}),", or try cloning this repository via HTTPS."]}),(0,n.jsx)(b,{inputId:"clone-with-ssh",inputLabel:"Clone with SSH url",url:g}),(0,n.jsx)("p",{className:F,children:x?"Use a password-protected SSH certificate.":v?"Use a password-protected SSH key or certificate.":"Use a password-protected SSH key."})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b,{buttonAriaLabel:"Copy command to clipboard",inputId:"clone-with-gh-cli",inputLabel:"Clone with GitHub CLI command",url:C}),(0,n.jsxs)("p",{className:F,children:["Work fast with our official CLI."," ",(0,n.jsx)(o.A,{inline:!0,href:"https://cli.github.com",target:"_blank","aria-label":"Learn more about the GitHub CLI",children:"Learn more"})]})]})]}),(0,n.jsx)(u.l,{variant:"inset",className:"border-top",children:B.map(e=>"zip"===e.name?(0,n.jsxs)(u.l.LinkItem,{"data-turbo":"false",href:e.url,rel:"nofollow",children:[e.icon&&(0,n.jsx)(u.l.LeadingVisual,{children:(0,n.jsx)(e.icon,{})}),e.text]},e.name):(0,n.jsxs)(u.l.Item,{onSelect:t=>{R(e.name),t.preventDefault(),P(e.url)},children:[e.icon&&(0,n.jsx)(u.l.LeadingVisual,{children:(0,n.jsx)(e.icon,{})}),e.text]},e.name))})]})})}function y({platform:e,href:t}){return(0,n.jsxs)("div",{className:(0,g.$)("p-3","LocalTab-module__PlatformContents--rz1GK"),children:[(0,n.jsx)(m.A,{as:"h4",variant:"small",className:"mb-3 text-center",children:`Launching ${e}`}),t&&(0,n.jsxs)("p",{className:"mb-3",children:["If nothing happens, ",(0,n.jsx)(o.A,{inline:!0,href:t,children:`download ${e}`})," and try again."]})]})}function b({buttonAriaLabel:e="Copy URL to clipboard",inputId:t,inputLabel:i,url:a}){return(0,n.jsxs)("div",{className:(0,g.$)("d-flex mb-2","LocalTab-module__CloneContainer--fne3C"),children:[(0,n.jsx)("label",{htmlFor:t,className:"sr-only",children:i}),(0,n.jsx)("input",{id:t,type:"text",className:"form-control input-monospace input-sm color-bg-subtle","data-autoselect":!0,value:a,readOnly:!0,style:{flexGrow:1}}),(0,n.jsx)(f.T,{className:(0,g.$)("ml-1 mr-0","LocalTab-module__CopyToClipboardButton--G8eJx"),textToCopy:a,ariaLabel:e,tooltipProps:{direction:"nw"}})]})}try{x.displayName||(x.displayName="LocalTab")}catch{}try{y.displayName||(y.displayName="LaunchingPlatformContents")}catch{}try{b.displayName||(b.displayName="CloneUrl")}catch{}},31675:(e,t,i)=>{i.d(t,{A:()=>n});let n={"hide-on-mobile":"responsive-module__hide-on-mobile--lWlU1","hide-on-desktop":"responsive-module__hide-on-desktop--op38F","hide-on-small":"responsive-module__hide-on-small--oDr47","hide-on-medium-up":"responsive-module__hide-on-medium-up--imsgz"}},32219:(e,t,i)=>{i.d(t,{q:()=>n});let n={SingleFileMode:"single_file_mode",CompactDiffLines:"compact_diff_lines",FilesChangedOptOut:"files_changed_opt_out"}},33195:(e,t,i)=>{i.d(t,{u:()=>o});var n=i(74848),a=i(16522),r=i(46589),l=i(34164),s=i(33578);function o(e){let t,i,o=(0,a.c)(7),{className:c,state:u}=e,m=s.a[u];if(u===s.Q.Unlisted){let e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsxs)("span",{className:"PullRequestStateLabel-module__unlisted--pcrfP",children:[(0,n.jsx)(d,{})," Unlisted"]}),o[0]=e):e=o[0],e}o[1]!==c?(t=(0,l.$)("flex-self-start",c),o[1]=c,o[2]=t):t=o[2];let h=m.status;return o[3]!==m.description||o[4]!==t||o[5]!==h?(i=(0,n.jsx)(r.A,{className:t,status:h,children:m.description}),o[3]=m.description,o[4]=t,o[5]=h,o[6]=i):i=o[6],i}function d(){let e,t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",fill:"currentColor",children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5 3.25C2.5 2.83579 2.83579 2.5 3.25 2.5C3.66421 2.5 4 2.83579 4 3.25C4 3.66421 3.66421 4 3.25 4C2.83579 4 2.5 3.66421 2.5 3.25ZM3.25 1C2.00736 1 1 2.00736 1 3.25C1 4.22966 1.62611 5.06309 2.5 5.37197V10.628C1.62611 10.9369 1 11.7703 1 12.75C1 13.9926 2.00736 15 3.25 15C4.49264 15 5.5 13.9926 5.5 12.75C5.5 11.7703 4.87389 10.9369 4 10.628V5.37197C4.87389 5.06309 5.5 4.22966 5.5 3.25C5.5 2.00736 4.49264 1 3.25 1ZM3.25 12C2.83579 12 2.5 12.3358 2.5 12.75C2.5 13.1642 2.83579 13.5 3.25 13.5C3.66421 13.5 4 13.1642 4 12.75C4 12.3358 3.66421 12 3.25 12Z"}),(0,n.jsx)("path",{d:"M14 7.5C14 8.19036 13.3844 8.75 12.625 8.75C11.8656 8.75 11.25 8.19036 11.25 7.5C11.25 6.80964 11.8656 6.25 12.625 6.25C13.3844 6.25 14 6.80964 14 7.5Z"}),(0,n.jsx)("path",{d:"M14 2.75C14 3.44036 13.3844 4 12.625 4C11.8656 4 11.25 3.44036 11.25 2.75C11.25 2.05964 11.8656 1.5 12.625 1.5C13.3844 1.5 14 2.05964 14 2.75Z"}),(0,n.jsx)("path",{d:"M10.2197 10.7197C10.5126 10.4268 10.9874 10.4268 11.2803 10.7197L14.2803 13.7197C14.5732 14.0126 14.5732 14.4874 14.2803 14.7803C13.9874 15.0732 13.5126 15.0732 13.2197 14.7803L10.2197 11.7803C9.92683 11.4874 9.92683 11.0126 10.2197 10.7197Z"})]}),t[0]=e):e=t[0],e}try{o.displayName||(o.displayName="PullRequestStateLabel")}catch{}try{d.displayName||(d.displayName="GitPullRequestUnlistedSvg")}catch{}},33578:(e,t,i)=>{i.d(t,{Q:()=>n,a:()=>a});let n={Open:"OPEN",Closed:"CLOSED",Merged:"MERGED",Queued:"QUEUED",Draft:"DRAFT",Unlisted:"UNLISTED"},a={[n.Open]:{description:"Open",status:"pullOpened"},[n.Closed]:{description:"Closed",status:"pullClosed"},[n.Queued]:{description:"Queued",status:"pullQueued"},[n.Merged]:{description:"Merged",status:"pullMerged"},[n.Draft]:{description:"Draft",status:"draft"},[n.Unlisted]:{description:"Unlisted",status:"unlisted"}}},33644:(e,t,i)=>{i.d(t,{A:()=>n});let n={stickyHeader:"use-sticky-header-module__stickyHeader--UQFpz"}},34261:(e,t,i)=>{i.d(t,{W:()=>c,f:()=>d});var n=i(16522),a=i(65510),r=i(20622),l=i(53885),s=i(96379),o=i(50129);function d(){let e,t=(0,n.c)(2),{basePageDataUrl:i}=(0,o.Yu)(),a=`basePageDataURL:${i}`;return t[0]!==a?(e=[r.uT.header,a],t[0]=a,t[1]=e):e=t[1],e}function c(e){let t,i,o=(0,n.c)(6),c=(0,l.e)(r.uT.header),u=d();return o[0]!==c?(t=async()=>{let e=await (0,s.QJ)(c);if(!e.ok)throw Error(`HTTP ${e.status}`);return await e.json()},o[0]=c,o[1]=t):t=o[1],o[2]!==e||o[3]!==u||o[4]!==t?(i={queryKey:u,queryFn:t,initialData:e,staleTime:1/0},o[2]=e,o[3]=u,o[4]=t,o[5]=i):i=o[5],(0,a.U)(i)}},34665:(e,t,i)=>{i.d(t,{a:()=>n});function n(e,t,i){try{let n=new URL(e,window.location.origin).pathname.split("/").filter(Boolean);if(n.length<7||"actions"!==n[2]||"runs"!==n[3]||"job"!==n[5])return null;let a=n[0],r=n[1],l=n[4],s=n[6];if(!a||!r||!s||!l)return null;return{type:"job",id:parseInt(s,10),repoName:r,repoOwner:a,workflow:{id:parseInt(l,10)},jobName:i||null,jobFailed:t}}catch{return null}}},37212:(e,t,i)=>{i.d(t,{Bz:()=>r,NP:()=>l});var n=i(99279),a=i(86320);i(13360);let r=n.G.createQueryRouteConfig("pullRequestsCommitsRoute",{path:"/:owner/:repo/pull/:pr_number/commits",queries:[(0,a.Y)()]});function l(){return r.queries.mainQuery.makeQueryKey()}},39029:(e,t,i)=>{i.d(t,{G:()=>o,og:()=>s});var n=i(16522),a=i(40235),r=i(70170),l=i(70263);function s(e,t,i,n){o(e,t,i,n)}function o(e,t,i,s){let o,d,c,u=(0,n.c)(9),m=(0,l.A)();u[0]!==t||u[1]!==m?(o=()=>{m()&&t()},u[0]=t,u[1]=m,u[2]=o):o=u[2];let h=s??2e3;u[3]!==o||u[4]!==h?(d=(0,r.n)(o,h),u[3]=o,u[4]=h,u[5]=d):d=u[5];let f=d;u[6]!==f||u[7]!==i?(c=e=>{if(i&&e.event_updates)for(let[t,n]of Object.entries(i))!!e.event_updates[t]==!!n&&window.setTimeout(f,e.wait||0);else window.setTimeout(f,e.wait||0)},u[6]=f,u[7]=i,u[8]=c):c=u[8];let p=c;(0,a.x)(e,p)}},39111:(e,t,i)=>{i.d(t,{X:()=>s});var n=i(16522),a=i(96540);function r(){return()=>{}}function l(){return!1}function s(e){let t,i=(0,n.c)(2);return i[0]!==e?(t=()=>{let t=function(){if("u"<typeof navigator);else if(/Windows/.test(navigator.userAgent))return"windows";else if(/Macintosh/.test(navigator.userAgent))return"mac";return null}();return null!==t&&e.includes(t)},i[0]=e,i[1]=t):t=i[1],(0,a.useSyncExternalStore)(r,t,l)}},39698:(e,t,i)=>{i.d(t,{i:()=>c});var n=i(16522),a=i(48845),r=i(20622),l=i(97665),s=i(94747),o=i(24937),d=i(93211);function c(e,t){let i,c,m,h=(0,n.c)(11),f=(0,d.Kp)(),p=`${f}/page_data/${r.uT.unresolveThread}`,g=(0,l.jE)(),{updateThread:x}=(0,d.an)();return h[0]!==p?(i=async e=>{let{threadId:t}=e,i=await (0,a.q$)(p,{method:"POST",body:{threadId:t}});(0,a.R)(i)},h[0]=p,h[1]=i):i=h[1],h[2]!==f||h[3]!==e||h[4]!==t||h[5]!==g||h[6]!==x?(c=(i,n)=>(x(Number(n.threadId),e,t,u),g.invalidateQueries({queryKey:(0,o.XG)(f)})),h[2]=f,h[3]=e,h[4]=t,h[5]=g,h[6]=x,h[7]=c):c=h[7],h[8]!==i||h[9]!==c?(m={mutationFn:i,onSuccess:c},h[8]=i,h[9]=c,h[10]=m):m=h[10],(0,s.n)(m)}function u(e){if(e)return{...e,isResolved:!1,resolvedBy:void 0}}},40493:(e,t,i)=>{i.d(t,{A:()=>n});let n={TabNav:"CodeDropdownButton-module__TabNav--zWa9N",NavItem:"CodeDropdownButton-module__NavItem--_hXZP",CodespacesSkeletonWrapper:"CodeDropdownButton-module__CodespacesSkeletonWrapper--KXl0V",SkeletonLoaderWrapper:"CodeDropdownButton-module__SkeletonLoaderWrapper--suXcn"}},43883:(e,t,i)=>{i.d(t,{Gl:()=>r,TC:()=>d,ai:()=>l,eh:()=>o});var n=i(21067);let a={};function r(e,t){let i=t?.currency??"USD";return(a[i]||(a[i]=new Intl.NumberFormat((0,n.JK)(),{currency:i,style:"currency"}))).format(e)}function l(e,t){return new Intl.NumberFormat((0,n.JK)(),{maximumFractionDigits:t?.precision}).format(e)}let s=["k","m","b"];function o(e,t){let{suffix:i=!0,capping:n=1/0,precision:a=1}=t??{},r="",o=Math.min(n,e);if(i){let e=c(o);r=s[e-1]||"",o/=1e3**e}let d=l(o,{precision:a})+r;return e>n?`${d}+`:d}function d(e){if(e<=1e4)return 1;let t=c(e);return e/1e3**t>=10?0:1}function c(e){let t=Math.floor(Math.log(Math.max(Math.abs(e),1))/Math.log(1e3));return Math.min(s.length,t)}},49086:(e,t,i)=>{i.d(t,{n:()=>N});var n=i(74848),a=i(82075),r=i(21373),l=i(1481),s=i(96540),o=i(13107),d=i(26410),c=i(16522),u=i(20622),m=i(53885),h=i(96379),f=i(65510),p=i(91747),g=i(31604),x=i(94236),y=i(38621);let b=({isPrimary:e,children:t,size:i,onOpenChange:a})=>{let l=(0,p.u)("accessible_code_button"),[o,d]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{l&&a&&a(o)},[o,l]),l)?(0,n.jsx)(g.T,{align:"end",focusZoneSettings:{disabled:!0},open:o,onOpen:()=>d(!0),onClose:()=>d(!1),renderAnchor:t=>(0,n.jsx)(r.Q,{...t,variant:e?"primary":void 0,leadingVisual:()=>(0,n.jsx)(y.CodeIcon,{className:"hide-sm"}),trailingVisual:()=>(0,n.jsx)(y.TriangleDownIcon,{}),size:i||"medium",children:"Code"}),children:t}):(0,n.jsxs)(x.W,{children:[(0,n.jsx)(x.W.Button,{variant:e?"primary":void 0,leadingVisual:()=>(0,n.jsx)(y.CodeIcon,{className:"hide-sm"}),size:i||"medium",children:"Code"}),(0,n.jsx)(x.W.Overlay,{width:"auto",align:"end",children:t})]})};try{b.displayName||(b.displayName="CodeMenuButton")}catch{}var v=i(40493);let C=(0,a.A)("localStorage"),S="local",_="cloud";function N(e){var t,i;let{primary:a,size:c,showCodespacesTab:u,isEnterprise:m,localTab:h,codespacesTab:f,localTabProps:p,codespacesPath:g}=e,x="code-button-default-tab",[y,N]=(0,s.useState)(S),j=(0,s.useCallback)(e=>{N(_),C.setItem(x,_),e?.preventDefault()},[]),E=(0,s.useCallback)(e=>{N(S),C.setItem(x,S),e?.preventDefault()},[]);(0,s.useEffect)(()=>{C.getItem(x)===_&&u&&j()},[]);let R=!m&&u;return(0,n.jsxs)(b,{size:c,isPrimary:a,children:[R&&(0,n.jsxs)(l.A,{className:v.A.TabNav,children:[(0,n.jsx)(l.A.Link,{as:r.Q,selected:y===S,onClick:E,className:v.A.NavItem,children:"Local"}),!m&&u&&(0,n.jsx)(l.A.Link,{as:r.Q,selected:y===_,onClick:j,className:v.A.NavItem,children:"Codespaces"})]}),(0,n.jsxs)("div",{className:"react-overview-code-button-action-list py-0",children:[y===S&&(h||((t=p)?(0,n.jsx)(d.F,{...t}):null)),y===_&&(f||((i=g)?(0,n.jsx)(o.VO,{children:(0,n.jsx)(w,{codespacesPath:i})}):null))]})]})}function w(e){let t,i,a,r,l,s=(r=(0,c.c)(7),l=(0,m.e)(u.uT.codeButton),r[0]!==l?(t=[u.uT.codeButton,l],i=async()=>{let e=await (0,h.QJ)(l);if(!e.ok)throw Error(`HTTP ${e.status}`);return await e.json()},r[0]=l,r[1]=t,r[2]=i):(t=r[1],i=r[2]),void 0!==r[3]||r[4]!==t||r[5]!==i?(a={queryKey:t,queryFn:i,initialData:void 0,staleTime:1/0},r[3]=void 0,r[4]=t,r[5]=i,r[6]=a):a=r[6],(0,f.U)(a)).data,d=(0,p.u)("copilot_swe_agent_progress_commands"),{repositoryPolicyInfo:g,...x}=s;return d?(0,n.jsx)(o.NF,{codespacesPath:e.codespacesPath,repoPolicyInfo:g,...x}):(0,n.jsx)(o.NF,{codespacesPath:e.codespacesPath,...s})}try{N.displayName||(N.displayName="CodeDropdownButton")}catch{}try{w.displayName||(w.displayName="SuspendedCodespacesTab")}catch{}},50129:(e,t,i)=>{i.d(t,{Kg:()=>s,Yu:()=>o});var n=i(74848),a=i(16522),r=i(96540);let l=(0,r.createContext)(null);function s(e){let t,i,r=(0,a.c)(5),{children:s,basePageDataUrl:o}=e;r[0]!==o?(t={basePageDataUrl:o},r[0]=o,r[1]=t):t=r[1];let d=t;return r[2]!==s||r[3]!==d?(i=(0,n.jsx)(l,{value:d,children:s}),r[2]=s,r[3]=d,r[4]=i):i=r[4],i}function o(){let e=(0,r.use)(l);if(!e)throw Error("usePageDataContext must be used within a PageDataContextProvider");return e}try{l.displayName||(l.displayName="PageDataContext")}catch{}try{s.displayName||(s.displayName="PageDataContextProvider")}catch{}},50625:(e,t,i)=>{i.d(t,{L4:()=>c,sI:()=>d});var n=i(16522),a=i(82075),r=i(96540);let{getItem:l,removeItem:s,setItem:o}=(0,a.D)("localStorage"),d=(e,t)=>{let{diffSide:i,filePath:n,line:a,subjectId:r}=e;if(t)return`PullRequest:${r}-File:${n}`;if(void 0!==a&&void 0!==i)return`PullRequest:${r}-File:${n}-Line:${a}-DiffSide:${i}`;throw Error("Cannot build diff line comment cache key for a comment without a line number or diff side")};function c(e){let t,i,a,c,u,m,h=(0,n.c)(16),{diffSide:f,filePath:p,handlePersistedCommentExists:g,line:x,subjectId:y,threadId:b,fileLevelComment:v}=e;e:{let e;if(b){t=b;break e}h[0]!==f||h[1]!==v||h[2]!==p||h[3]!==x||h[4]!==y||h[5]!==b?(e=b??d({diffSide:f,filePath:p,line:x,subjectId:y},v),h[0]=f,h[1]=v,h[2]=p,h[3]=x,h[4]=y,h[5]=b,h[6]=e):e=h[6],t=e}let C=t,{hasPersistedComment:S,removePersistedCommentFromStorage:_}=(u=l(C),m=!!u?.text?.trim(),(0,r.useEffect)(()=>{m&&g?.(u)},[m]),{hasPersistedComment:m,removePersistedCommentFromStorage:()=>{s(C),m=!1,u=null}});h[7]!==C?(i=e=>{let t={text:e.text};e.startLine&&e.startSide&&(t={...t,startLine:e.startLine,startSide:e.startSide}),o(C,t)},h[7]=C,h[8]=i):i=h[8];let N=i;h[9]!==y?(a=e=>{let t={shouldFocus:!0};e.text&&(t={...t,text:e.text}),e.startLine&&(t={...t,startLine:e.startLine,startSide:e.givenLineDiffSide,startLineKey:e.startLineKey,endLineKey:e.endLineKey}),o(d({diffSide:e.givenLineDiffSide,filePath:e.givenFilePath,line:e.givenLine,subjectId:y},e.shouldBeFileLevelComment),t)},h[9]=y,h[10]=a):a=h[10];let w=a;return h[11]!==S||h[12]!==w||h[13]!==N||h[14]!==_?(c={hasPersistedComment:S,persistCommentToStorage:N,persistCommentOnGivenLineToStorage:w,removePersistedCommentFromStorage:_},h[11]=S,h[12]=w,h[13]=N,h[14]=_,h[15]=c):c=h[15],c}},53885:(e,t,i)=>{i.d(t,{e:()=>l});var n=i(16522),a=i(37285),r=i(50129);function l(e,t){let i,l=(0,n.c)(2),{basePageDataUrl:s}=(0,r.Yu)(),o=`${s}/page_data/${e}`;return t&&(o+=`?${t}`),l[0]!==o?(i=(0,a.RD)(o),l[0]=o,l[1]=i):i=l[1],i}},55630:(e,t,i)=>{i.d(t,{A:()=>l});var n=i(74848),a=i(16522);function r(e){let t,i,r,l,s,o,d,c,u,m,h,f,p=(0,a.c)(26);if(p[0]!==e){let{size:n,as:a,icon:c,bg:u,"aria-label":m,style:h,className:f,...g}=e;d=n,t=c,r=u,i=m,o=h,l=f,s=g,p[0]=e,p[1]=t,p[2]=i,p[3]=r,p[4]=l,p[5]=s,p[6]=o,p[7]=d}else t=p[1],i=p[2],r=p[3],l=p[4],s=p[5],o=p[6],d=p[7];let g=void 0===d?32:d;return p[8]!==r||p[9]!==g?(c={backgroundColor:r,overflow:"hidden",borderWidth:0,borderRadius:"50%",borderStyle:"solid",borderColor:"var(--borderColor-default)",width:g,height:g},p[8]=r,p[9]=g,p[10]=c):c=p[10],p[11]!==g||p[12]!==o?(u={display:"flex",width:g,height:g,alignItems:"center",justifyContent:"center",...o},p[11]=g,p[12]=o,p[13]=u):u=p[13],p[14]!==t||p[15]!==i||p[16]!==g?(m=(0,n.jsx)(t,{size:g,"aria-label":i}),p[14]=t,p[15]=i,p[16]=g,p[17]=m):m=p[17],p[18]!==l||p[19]!==s||p[20]!==u||p[21]!==m?(h=(0,n.jsx)("div",{style:u,className:l,...s,children:m}),p[18]=l,p[19]=s,p[20]=u,p[21]=m,p[22]=h):h=p[22],p[23]!==c||p[24]!==h?(f=(0,n.jsx)("div",{style:c,children:h}),p[23]=c,p[24]=h,p[25]=f):f=p[25],f}let l=r;try{r.displayName||(r.displayName="CircleOcticon")}catch{}},65025:(e,t,i)=>{i.d(t,{r:()=>m});var n=i(74848),a=i(16522),r=i(38621),l=i(72511),s=i(84268),o=i(10095),d=i(20263);let c="FlashError-module__Flash--fKR6V";var u=i(34164);function m(e){let t,i=(0,a.c)(9),{prefix:r,errorMessageUsingPrefix:o,errorMessageNotUsingPrefix:m,hideRuleErrorsTitle:f,ruleErrors:p,helpUrl:g,flashRef:x}=e,y=(p?.length||0)>0;return i[0]!==m||i[1]!==o||i[2]!==x||i[3]!==g||i[4]!==f||i[5]!==y||i[6]!==r||i[7]!==p?(t=o||m?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.A,{id:"flash",variant:"danger",className:(0,u.$)("d-flex flex-items-center flex-justify-between",c),tabIndex:-1,ref:x,children:o?(0,n.jsxs)("div",{children:[r," ",(0,n.jsx)(d.BC,{className:"FlashError-module__SafeHTMLText--J8lL9",html:o}),y&&g&&(0,n.jsx)(s.A,{href:`${g}/repositories/configuring-branches-and-merges-in-your-repository/managing-rulesets/about-rulesets`,className:"FlashError-module__Link--doNrG",children:"Learn more about rulesets."})]}):m&&(0,n.jsx)("div",{children:m})}),y&&(0,n.jsxs)("div",{className:c,children:[!f&&(0,n.jsx)("div",{className:"FlashError-module__ruleViolationsTitle--rHHNU",children:"Repository rule violations found:"}),p?.map(h)]})]}):null,i[0]=m,i[1]=o,i[2]=x,i[3]=g,i[4]=f,i[5]=y,i[6]=r,i[7]=p,i[8]=t):t=i[8],t}function h(e){return(0,n.jsxs)("div",{className:"FlashError-module__ruleViolationRow--ekTTM",children:[(0,n.jsx)(o.A,{icon:r.XCircleFillIcon,size:16,className:"FlashError-module__Octicon--U4ZWa"}),(0,n.jsx)("div",{className:"FlashError-module__ruleViolationText--Oe758",children:e})]},e)}try{m.displayName||(m.displayName="FlashError")}catch{}},65771:(e,t,i)=>{i.d(t,{Bk:()=>s,Wo:()=>o});var n=i(16522),a=i(21067),r=i(59672),l=i(96379);function s(e,t){let i,a=(0,n.c)(5),r=(t??[]).filter(e=>!e.dismissed);if(a[0]!==r||a[1]!==e){let t;a[3]!==e?(t=t=>t.name===e,a[3]=e,a[4]=t):t=a[4],i=r.filter(t),a[0]=r,a[1]=e,a[2]=i}else i=a[2];return 0===i.length}function o(e,t){let i,o,d=(0,n.c)(5),c=s(e,t);d[0]!==c||d[1]!==e?(i=()=>{(0,a.M3)()&&!c&&(0,l.DI)((0,r.VB1)({noticeName:e}),{method:"POST"})},d[0]=c,d[1]=e,d[2]=i):i=d[2];let u=i;return d[3]!==u?(o={dismissNotice:u},d[3]=u,d[4]=o):o=d[4],o}},65820:(e,t,i)=>{i.d(t,{H:()=>a});var n=i(48845);async function a(e,t,i){let a=await (0,n.q$)(e);if(401===a.status){let e=i.getQueryData(t);if(!e)throw new n.ol;return e}let r=await (0,n.hp)(a);return(0,n.R)(a),r}},66446:(e,t,i)=>{i.d(t,{j:()=>l});var n=i(34418),a=i(99279),r=i(86320);let l=a.G.createQueryRouteConfig("pullRequestsLayoutRoute",{path:"/:owner/:repo/pull/:pr_number",queries:[(0,r.Y)(),{queryName:"tabCounts",queryDeps:({params:e})=>({pathname:`/${e.owner}/${e.repo}/pull/${e.pr_number}/page_data/tab_counts`}),queryFn:async e=>(0,n.X)(e)},{queryName:"diffstat",queryDeps:({params:e})=>({pathname:`/${e.owner}/${e.repo}/pull/${e.pr_number}/page_data/diffstat`}),queryFn:async e=>(0,n.X)(e)}]})},68874:(e,t,i)=>{i.d(t,{o:()=>m,V:()=>u});var n=i(74848),a=i(16522),r=i(69497),l=i(12683);let s=[{unit:"month",ms:2592e6},{unit:"day",ms:864e5},{unit:"hour",ms:36e5},{unit:"minute",ms:6e4},{unit:"second",ms:1e3}],o=new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:void 0,timeZoneName:"short"}),d=new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"numeric"}),c=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"});function u(e,t=!0){let i="",n=new Date,a=n.getTime()-e.getTime(),r=s.find(e=>e.ms<a);if(r&&"month"!==r.unit){let e=Math.floor(a/r.ms);i="day"===r.unit&&1===e?"yesterday":`${e} ${r.unit}${e>1?"s":""} ago`}else{let a=e.getFullYear()===n.getFullYear()?c:d;i=`${t?"on ":""}${a.format(e)}`}return i}function m(e){let t,i,s,d,c,m,h=(0,a.c)(24),{timestamp:f,usePreposition:p,linkUrl:g,sx:x}=e,y=void 0===p||p;h[0]!==f||h[1]!==y?(t=u(f,y),h[0]=f,h[1]=y,h[2]=t):t=h[2];let b=t;h[3]!==f?(i=o.format(f),h[3]=f,h[4]=i):i=h[4];let v=i;if(!g){let e,t;return h[5]!==v||h[6]!==x||h[7]!==b?(e=(0,n.jsx)(l.EY,{title:v,sx:x,children:b}),h[5]=v,h[6]=x,h[7]=b,h[8]=e):e=h[8],h[9]!==v||h[10]!==e?(t=(0,n.jsx)(r.A,{inline:!0,title:v,children:e}),h[9]=v,h[10]=e,h[11]=t):t=h[11],t}return h[12]!==x?(s={...x},h[12]=x,h[13]=s):s=h[13],h[14]!==v||h[15]!==b?(d=(0,n.jsx)("span",{title:v,className:"Ago-module__timestampText--rtBsS",children:b}),h[14]=v,h[15]=b,h[16]=d):d=h[16],h[17]!==v||h[18]!==d?(c=(0,n.jsx)(r.A,{inline:!0,title:v,children:d}),h[17]=v,h[18]=d,h[19]=c):c=h[19],h[20]!==g||h[21]!==s||h[22]!==c?(m=(0,n.jsx)(l.N_,{sx:s,href:g,target:"_blank",className:"Ago-module__AgoTimestampLink--cfwj_",children:c}),h[20]=g,h[21]=s,h[22]=c,h[23]=m):m=h[23],m}try{m.displayName||(m.displayName="Ago")}catch{}},69759:(e,t,i)=>{i.d(t,{B:()=>n});function n(e,t){let i=e.createElement("template");return i.innerHTML=t,e.importNode(i.content,!0)}},70109:(e,t,i)=>{i.d(t,{S:()=>s});var n=i(74848),a=i(16522),r=i(42118),l=i(93211);let s=e=>{let t,i,s,o,d,c,u,m,h=(0,a.c)(22);h[0]!==e?({ref:i,children:t,...s}=e,h[0]=e,h[1]=t,h[2]=i,h[3]=s):(t=h[1],i=h[2],s=h[3]);let f=(0,l.Yp)(),{baseRepository:p}=(0,l.GK)(),g=(0,l.L3)();h[4]!==f.id?(o={id:f.id},h[4]=f.id,h[5]=o):o=h[5];let x=`${p.ownerLogin}/${p.name}`;h[6]!==p.id||h[7]!==x?(d={databaseId:p.id,nwo:x,slashCommandsEnabled:!1},h[6]=p.id,h[7]=x,h[8]=d):d=h[8],h[9]!==g.effectiveRange.baseOid||h[10]!==g.effectiveRange.headOid?(c={startCommitOid:g.effectiveRange.baseOid,endCommitOid:g.effectiveRange.headOid},h[9]=g.effectiveRange.baseOid,h[10]=g.effectiveRange.headOid,h[11]=c):c=h[11],h[12]!==f.number||h[13]!==o||h[14]!==d||h[15]!==c?(u={type:"pull_request",id:o,pullRequestNumber:f.number,repository:d,comparison:c},h[12]=f.number,h[13]=o,h[14]=d,h[15]=c,h[16]=u):u=h[16];let y=u;return h[17]!==t||h[18]!==i||h[19]!==s||h[20]!==y?(m=(0,n.jsx)(r.hF,{...s,ref:i,placeholder:"Leave a comment",actions:t,subject:y,showLabel:!1}),h[17]=t,h[18]=i,h[19]=s,h[20]=y,h[21]=m):m=h[21],m};s.displayName="ConversationCommentBox"},72931:(e,t,i)=>{function n(){return{favicon:document.querySelector('.js-site-favicon[type="image/svg+xml"]'),faviconFallback:document.querySelector('.js-site-favicon[type="image/png"]')}}function a(e){let{favicon:t,faviconFallback:i}=n();if(!t||!i)return;let a=o();e=e.substr(0,e.lastIndexOf(".")),t.href=e=`${e}${a}.svg`;let r=t.href.substr(0,t.href.lastIndexOf("."));i.href=`${r}.png`}function r(){let{favicon:e,faviconFallback:t}=n();if(!e||!t)return;let i=o(),a=e.href.indexOf("-dark.svg"),r=e.href.substr(0,-1!==a?a:e.href.lastIndexOf("."));e.href=`${r}${i}.svg`,t.href=`${r}${i}.png`}function l(e){let{favicon:t,faviconFallback:i}=n();if(!t||!i)return;let a=t.getAttribute("data-base-href"),r="default"===e?"":`-${e}`,l=o();a&&(t.href=`${a}${r}${l}.svg`,i.href=`${a}${r}${l}.png`)}function s(){l("default")}function o(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"-dark":""}i.d(t,{Ow:()=>a,gd:()=>s,iD:()=>l,uQ:()=>r})},73262:(e,t,i)=>{i.d(t,{K:()=>c});var n=i(74848),a=i(16522),r=i(96540),l=i(21373),s=i(34164),o=i(48505),d=i(18373);function c(e){let t,i,c,u,m,h,f,p,g,x,y=(0,a.c)(21),{automatedComment:b,isButtonDisabled:v,dismissError:C,onDismiss:S,onReopen:_,className:N}=e,[w,j]=(0,r.useState)(!1),{isDismissable:E,isReopenable:R,resourceName:L,toggleButtonLabel:D}=(h=(0,a.c)(6),p=!(f=b.isDismissed),g="alert",b.source===o.vk.CodeQuality&&(g="finding"),x=f?`Reopen ${g}`:`Dismiss ${g}`,h[0]!==p||h[1]!==f||h[2]!==f||h[3]!==g||h[4]!==x?(m={isDismissed:f,isDismissable:p,isReopenable:f,resourceName:g,toggleButtonLabel:x},h[0]=p,h[1]=f,h[2]=f,h[3]=g,h[4]=x,h[5]=m):m=h[5],m),I=v||!b.viewerCanDismiss,T=v||!b.viewerCanReopen;return y[0]!==b||y[1]!==w||y[2]!==C||y[3]!==S?(t=w&&(0,n.jsx)(d.U,{setOpen:j,count:1,error:C,dismissalOptions:b.dismissalOptions,onSubmit:e=>{let{resolution:t,dismissalComment:i}=e;return S({reason:t,resolutionNote:i},{onSuccess:()=>j(!1)})},delegatedAlertDismissalEnabled:!1,codeSecurity:b.source===o.vk.CodeScanning}),y[0]=b,y[1]=w,y[2]=C,y[3]=S,y[4]=t):t=y[4],y[5]!==N||y[6]!==I||y[7]!==E||y[8]!==L||y[9]!==D?(i=E&&(0,n.jsxs)("div",{className:(0,s.$)("d-flex flex-items-center flex-wrap",N),children:[(0,n.jsx)(l.Q,{"aria-label":D,className:"mr-2",onClick:()=>j(!0),disabled:I,children:D}),(0,n.jsxs)("span",{className:"fgColor-muted f6",children:["Dismissing the ",L," will mark this conversation as resolved."]})]}),y[5]=N,y[6]=I,y[7]=E,y[8]=L,y[9]=D,y[10]=i):i=y[10],y[11]!==N||y[12]!==T||y[13]!==R||y[14]!==_||y[15]!==D?(c=R&&(0,n.jsx)("div",{className:(0,s.$)("d-flex flex-items-center flex-wrap",N),children:(0,n.jsx)(l.Q,{"aria-label":D,onClick:_,disabled:T,children:D})}),y[11]=N,y[12]=T,y[13]=R,y[14]=_,y[15]=D,y[16]=c):c=y[16],y[17]!==t||y[18]!==i||y[19]!==c?(u=(0,n.jsxs)(n.Fragment,{children:[t,i,c]}),y[17]=t,y[18]=i,y[19]=c,y[20]=u):u=y[20],u}try{c.displayName||(c.displayName="BaseAutomatedReviewCommentActions")}catch{}},73349:(e,t,i)=>{i.d(t,{J:()=>a});var n=i(15928);let a=()=>(0,n.Z)(r);function r(e){return e.getINPDiffTags}},76507:(e,t,i)=>{i.d(t,{K:()=>h,h:()=>m});var n=i(16522),a=i(65510),r=i(96379),l=i(53885),s=i(20622),o=i(66446),d=i(13360),c=i(43073),u=i(6923);function m(){let e,t=(0,n.c)(2),i=(0,l.e)(s.uT.diffstat);return t[0]!==i?(e={queryKey:[s.uT.diffstat,i],queryFn:async()=>{let e=await (0,r.QJ)(i);if(!e.ok)throw Error(`HTTP ${e.status}`);return await e.json()},staleTime:1/0},t[0]=i,t[1]=e):e=t[1],(0,a.U)(e)}function h(){if(u.X3||!(0,c.E)())return;let{data:e}=(0,d.xX)(o.j,s.uT.diffstat);return e?.diffstat}},78200:(e,t,i)=>{i.d(t,{Y:()=>a});let n="diff-";function a(e){return"string"==typeof e&&e.startsWith(n)?e.slice(n.length):""}},79036:(e,t,i)=>{i.d(t,{S:()=>o,Xh:()=>s,GF:()=>d});var n=i(74848),a=i(16522),r=i(34164),l=i(48505);function s({annotationLevel:e,...t}){let{icon:i,...a}=d[e];return function({fill:e,stroke:t,ariaLabel:i,svgHtml:a,className:r}){return(0,n.jsx)("svg",{"aria-label":i,className:r,fill:e,height:"24",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",style:{boxShadow:"none"},viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:a})}({...i,...a,...t})}function o(e){let t,i,l,o,d=(0,a.c)(8);return d[0]!==e?({className:t,...i}=e,d[0]=e,d[1]=t,d[2]=i):(t=d[1],i=d[2]),d[3]!==t?(l=(0,r.$)("AnnotationIcon-module__AnimatedAnnotationIcon--rXSEJ",t),d[3]=t,d[4]=l):l=d[4],d[5]!==i||d[6]!==l?(o=(0,n.jsx)(s,{...i,className:l}),d[5]=i,d[6]=l,d[7]=o):o=d[7],o}let d={[l.UZ.Failure]:{priority:1,ariaLabel:"Check failure",primaryColor:"danger.fg",primaryColorClass:"fgColor-danger",borderColor:"borderColor-danger-emphasis",icon:{fill:"var(--bgColor-danger-emphasis, var(--color-danger-emphasis))",stroke:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))",svgHtml:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,n.jsx)("line",{x1:"15",x2:"9",y1:"9",y2:"15"}),(0,n.jsx)("line",{x1:"9",x2:"15",y1:"9",y2:"15"})]})}},[l.UZ.Warning]:{priority:2,ariaLabel:"Check warning",primaryColor:"attention.fg",primaryColorClass:"fgColor-attention",borderColor:"borderColor-attention-emphasis",icon:{fill:"var(--bgColor-attention-emphasis, var(--color-attention-emphasis))",stroke:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))",svgHtml:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,n.jsx)("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),(0,n.jsx)("line",{x1:"12",x2:"12",y1:"16",y2:"16"})]})}},[l.UZ.Notice]:{priority:3,ariaLabel:"Check notice",primaryColor:"fg.muted",primaryColorClass:"fgColor-muted",borderColor:"fgColor-muted",icon:{fill:"var(--bgColor-neutral-emphasis, var(--color-neutral-emphasis))",stroke:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))",svgHtml:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,n.jsx)("line",{x1:"12",x2:"12",y1:"16",y2:"12"}),(0,n.jsx)("line",{x1:"12",x2:"12",y1:"8",y2:"8"})]})}}};try{s.displayName||(s.displayName="AnnotationIcon")}catch{}try{o.displayName||(o.displayName="AnimatedAnnotationIcon")}catch{}},80081:(e,t,i)=>{i.d(t,{EJ:()=>a,Lm:()=>r,o_:()=>n});function n({suggestedChange:e,hasCommitRange:t,isOutdated:i,isPending:n,isResolved:a,pullRequestIsClosed:r,pullRequestIsInMergeQueue:l,userCanApplySuggestion:s,applySuggestedChangesValidationData:o,suggestedChangesConfig:d}){let{lineRange:c}=o;if(i)return{isValid:!1,reason:"This suggestion is outdated and cannot be applied."};if(n)return{isValid:!1,reason:"This suggestion is part of a pending comment and cannot be applied."};if(a)return{isValid:!1,reason:"This suggestion is part of a resolved comment and cannot be applied."};if(r)return{isValid:!1,reason:"This suggestion cannot be applied because the pull request is closed."};if(l)return{isValid:!1,reason:"This suggestion cannot be applied because the pull request is queued to merge."};if(!s)return{isValid:!1,reason:"You do not have permission to apply this suggestion."};if(!c)return{isValid:!1,reason:"This suggestion does not have a valid line range."};if(t)return{isValid:!1,reason:"Unable to apply suggestions when viewing a specific commit range."};if(!d)return{isValid:!1,reason:"Unable to determine the validity of this suggestion."};if(!d?.isValidSuggestionRange)return{isValid:!1,reason:"Unable to apply suggestions on deleted lines."};let u=d?.sourceContentFromDiffLines,m=e.suggestion.join(`
`);return 0!==e.suggestion.length&&m===u?{isValid:!1,reason:"This suggestion is invalid because no changes were made to the code."}:{isValid:!0}}function a(e,t){return t.length>=50?{isValid:!1,reason:"Unable to commit due to too many changes in the batch."}:e.threadId&&t.find(t=>t.threadId===e.threadId)||function(e,t){if(!e.lineRange||!e.path)return!1;for(let a of t)if(a.lineRange&&a.path&&e.path===a.path){var i,n;if(i=e.lineRange,n=a.lineRange,i.endLineNumber>=n.startLineNumber&&i.startLineNumber<=n.endLineNumber)return!0}return!1}(e,t)?{isValid:!1,reason:"Unable to commit due to other pending changes affecting this line."}:{isValid:!0}}function r(e){if(!e||e.subjectType?.toUpperCase()!=="LINE")return;let t=e.positioning??e.subject;if(!t)return;let i=t.startDiffSide??t.endDiffSide;if(!i||"isOutdated"in t&&t.isOutdated||!t.endLine||!t.endDiffSide)return;let n=t.startLine??t.endLine;return{endLineNumber:t.endLine,endOrientation:t.endDiffSide,startLineNumber:n,startOrientation:i||"RIGHT"}}},82130:(e,t,i)=>{i.d(t,{q:()=>r});var n=i(16522),a=i(30459);function r(){let e,t,i=(0,n.c)(4),{sendAnalyticsEvent:r}=(0,a.s)();i[0]!==r?(e=(e,t,i)=>{r(e,t,void 0===i?{}:i)},i[0]=r,i[1]=e):e=i[1];let l=e;return i[2]!==l?(t={sendPullRequestAnalyticsEvent:l},i[2]=l,i[3]=t):t=i[3],t}},85149:(e,t,i)=>{i.d(t,{b:()=>ac});var n,a,r,l,s=i(74848),o=i(16522),d=i(70719),c=i(79472),u=i(18799),m=i(69599),h=i(83494),f=i(70843),p=i(57387),g=i(87555),x=i(34164),y=i(96540),b=i(70170),v=i(56051),C=i(5524),S=i(57478),_=i(96459),N=i(53627),w=i(82603),j=i(93211);function E(e){let t,i,n,a,r,l,d,c,u,m,h,f,p,g,x,E,L=(0,o.c)(62),{ref:D,basePath:I,fileFilterMenuOptions:T,fileFilterState:A,filterSize:k,viewerLogin:O,setFileFilterState:M}=e,[P]=(0,_.o)();L[0]!==I?(t={basePath:I},L[0]=I,L[1]=t):t=L[1];let{data:F}=(0,w.dG)(t),U=(0,y.useRef)(null);L[2]===Symbol.for("react.memo_cache_sentinel")?(i=()=>({focus:()=>{U.current?.focus()}}),L[2]=i):i=L[2],(0,y.useImperativeHandle)(D,i),L[3]!==A?(n={...A},L[3]=A,L[4]=n):n=L[4];let{filterText:$,fileExtensions:B,unselectedFileExtensions:q,showOnlyOwnedFiles:H,showDeletedFiles:G,showOnlyManifestFiles:V,showVendoredFiles:K,showViewedFiles:W}=n,{canSeeDeletedFilesFilter:z,canSeeOnlyManifestFilesFilter:Q,canSeeVendorFilesFilter:X}=T,Y=(0,j.q6)(),{clearAllFilters:J}=(0,j.or)(),{canSeeCodeownersFilter:Z}=T,ee=0;if(F){let e;Z=F.isViewerOneOfMultipleCodeowners,L[5]!==F.ownershipByPath?(e=Object.values(F.ownershipByPath).filter(R),L[5]=F.ownershipByPath,L[6]=e):e=L[6],ee=e.length}let et=(0,y.useRef)((0,b.s)(e=>en({filterText:e}),250)),ei=(e,t)=>{let i=q;"selectFileExtension"===e?i=new Set([...q].filter(e=>e!==t.extension)):"unselectFileExtension"===e&&(i=new Set([...q,t.extension]));let n=Object.keys(B).filter(e=>!i.has(e)),a=new URLSearchParams(P);a.delete("file-filters[]"),n.map(e=>{a.append("file-filters[]",e)}),en({unselectedFileExtensions:i},a)};L[7]!==M?(a=(e,t)=>{t&&(0,N.MM)(t),M({...e})},L[7]=M,L[8]=a):a=L[8];let en=a;L[9]!==J||L[10]!==P?(r=()=>{let e=new URLSearchParams(P);e.delete("file-filters[]"),e.delete("owned-by[]"),e.delete("show-deleted-files"),e.delete("manifests"),e.delete("show-vendored-files"),e.delete("show-viewed-files"),(0,N.MM)(e),J()},L[9]=J,L[10]=P,L[11]=r):r=L[11];let ea=r;return L[12]!==et?(l=e=>et.current(e),L[12]=et,L[13]=l):l=L[13],L[14]!==Z||L[15]!==ee||L[16]!==en||L[17]!==P||L[18]!==H||L[19]!==O?(d=Z&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C.l.Divider,{}),(0,s.jsx)(C.l.Group,{selectionVariant:"single",children:(0,s.jsx)(C.l.Item,{selected:H,onSelect:()=>{if(!O)return;let e=new URLSearchParams(P);H?e.delete("owned-by[]",O):e.set("owned-by[]",O),en({showOnlyOwnedFiles:!H},e)},children:(0,s.jsxs)(s.Fragment,{children:["Only files owned by you ",(0,s.jsx)(S.A,{children:ee})]})})})]}),L[14]=Z,L[15]=ee,L[16]=en,L[17]=P,L[18]=H,L[19]=O,L[20]=d):d=L[20],L[21]===Symbol.for("react.memo_cache_sentinel")?(c=(0,s.jsx)(C.l.Divider,{}),L[21]=c):c=L[21],L[22]!==Q||L[23]!==en||L[24]!==P||L[25]!==V?(u=Q&&(0,s.jsx)(C.l.Item,{selected:V,onSelect:()=>{let e=new URLSearchParams(P);e.set("manifests",`${!V}`),en({showOnlyManifestFiles:!V},e)},children:"Only manifest files"}),L[22]=Q,L[23]=en,L[24]=P,L[25]=V,L[26]=u):u=L[26],L[27]!==z||L[28]!==en||L[29]!==P||L[30]!==G?(m=z&&(0,s.jsx)(C.l.Item,{selected:G,onSelect:()=>{let e=new URLSearchParams(P);e.set("show-deleted-files",`${!G}`),en({showDeletedFiles:!G},e)},children:"Deleted files"}),L[27]=z,L[28]=en,L[29]=P,L[30]=G,L[31]=m):m=L[31],L[32]!==X||L[33]!==en||L[34]!==P||L[35]!==K?(h=X&&(0,s.jsx)(C.l.Item,{selected:K,onSelect:()=>{let e=new URLSearchParams(P);e.set("show-vendored-files",`${!K}`),en({showVendoredFiles:!K},e)},children:"Vendored files"}),L[32]=X,L[33]=en,L[34]=P,L[35]=K,L[36]=h):h=L[36],L[37]!==en||L[38]!==P||L[39]!==W?(f=()=>{let e=new URLSearchParams(P);e.set("show-viewed-files",`${!W}`),en({showViewedFiles:!W},e)},L[37]=en,L[38]=P,L[39]=W,L[40]=f):f=L[40],L[41]!==W||L[42]!==f?(p=(0,s.jsx)(C.l.Item,{selected:W,onSelect:f,children:"Viewed files"}),L[41]=W,L[42]=f,L[43]=p):p=L[43],L[44]!==m||L[45]!==h||L[46]!==p||L[47]!==u?(g=(0,s.jsxs)(C.l.Group,{"aria-label":"More",selectionVariant:"multiple",children:[u,m,h,p]}),L[44]=m,L[45]=h,L[46]=p,L[47]=u,L[48]=g):g=L[48],L[49]!==g||L[50]!==d?(x=(0,s.jsxs)(s.Fragment,{children:[d,c,g]}),L[49]=g,L[50]=d,L[51]=x):x=L[51],L[52]!==B||L[53]!==k||L[54]!==$||L[55]!==Y||L[56]!==ea||L[57]!==ei||L[58]!==x||L[59]!==l||L[60]!==q?(E=(0,s.jsx)(v.kF,{filterSize:k,filterText:$,fileExtensions:B,unselectedFileExtensions:q,onFilterTextChange:l,onFilterChange:ei,onClearAllFilters:ea,isFilteringActive:Y,additionalFilterGroups:x,ref:U}),L[52]=B,L[53]=k,L[54]=$,L[55]=Y,L[56]=ea,L[57]=ei,L[58]=x,L[59]=l,L[60]=q,L[61]=E):E=L[61],E}function R(e){return e.isOwnedByViewer}try{E.displayName||(E.displayName="FileFilter")}catch{}var L=i(60569),D=i(25556),I=i(35311),T=i(34535),A=i(38621),k=i(11196),O=i(84268),M=i(78049),P=i(56038),F=i(77046);function U(e){if(!e||!P.cg)return;let t=P.cg.scrollY??0,i=e.getBoundingClientRect().top+t-10-60;P.cg.scrollTo({top:i,left:0}),e.focus()}var $=i(85933),B=i(82518),q=i(30459),H=i(73349);let G=(0,y.memo)(function(e){let t,i=(0,o.c)(3),{changeType:n,isSymlink:a}=e;return i[0]!==n||i[1]!==a?(t=(0,s.jsx)(M.E,{status:n,isSymlink:a}),i[0]=n,i[1]=a,i[2]=t):t=i[2],t});G.displayName="FileStatusIconItem";let V=(0,y.memo)(function(e){let t,i,n,a,r,l,d,c,u,m,h=(0,o.c)(43),{file:f,depth:p,onSelect:g}=e,x=(0,y.useRef)(null),b=(0,y.useRef)(null),v=`#diff-${f.diff.pathDigest}`;h[0]===Symbol.for("react.memo_cache_sentinel")?(t={focusRowRef:x,mouseRowRef:x},h[0]=t):t=h[0];let C=(0,T.Z)(t),S=f.diff.totalCommentsCount??0,_=f.diff.highestAnnotationLevel,w=(0,j.E5)(),E=(0,j.Py)(f.diff.pathDigest),{sendAnalyticsEvent:R}=(0,q.s)(),D=(0,H.J)(),I=f.fileName??"This file",M=null;switch(S>0&&(I+=` has ${S<10?S:"9+"} ${S>1?"comments":"comment"}`),_){case"WARNING":{let e;I+=`${S>0?" and":""} has warning annotations`,h[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)("div",{className:"pl-1 fgColor-attention",children:(0,s.jsx)(A.AlertIcon,{})}),h[1]=e):e=h[1],M=e;break}case"NOTICE":{let e;I+=`${S>0?" and":""} has notice annotations`,h[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)("div",{className:"pl-1 fgColor-default",children:(0,s.jsx)(A.InfoIcon,{})}),h[2]=e):e=h[2],M=e;break}case"FAILURE":{let e;I+=`${S>0?" and":""} has failure annotations`,h[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)("div",{className:"pl-1 fgColor-danger",children:(0,s.jsx)(A.XCircleFillIcon,{})}),h[3]=e):e=h[3],M=e}}h[4]!==M||h[5]!==I?(i={screenReaderText:I,annotationElement:M},h[4]=M,h[5]=I,h[6]=i):i=h[6];let{screenReaderText:V,annotationElement:W}=i;h[7]!==E?(n=()=>{if(x.current&&E){let e=window.setTimeout(()=>{let e=P.XC?.getElementById("diff_file_tree")?.parentElement,t=x.current.offsetTop,i=P.cg?.innerHeight??0;e&&(e.scrollTop=t-i/2)},0);return()=>{window.clearTimeout(e)}}},h[7]=E,h[8]=n):n=h[8],h[9]!==f.diff.pathDigest||h[10]!==E?(a=[f.diff.pathDigest,E],h[9]=f.diff.pathDigest,h[10]=E,h[11]=a):a=h[11],(0,y.useEffect)(n,a),h[12]!==v||h[13]!==f.diff.pathDigest||h[14]!==D||h[15]!==g||h[16]!==R||h[17]!==w?(r=e=>{let t=D();if(e.nativeEvent instanceof KeyboardEvent){if(x?.current!==document.activeElement)return void e.preventDefault();if("Enter"===e.key||" "===e.key){e.preventDefault(),(0,$.X)()?.registerCallback({event:e.nativeEvent,cb:e=>{R("diff-lines.inp_interaction","PULL_REQUESTS_FILE_TREE_DIFF_FILE_KEYBOARD_SELECTION",{latency:e.latency}),(0,B.au)({name:"PULL_REQUESTS_FILE_TREE_DIFF_FILE_KEYBOARD_SELECTION",tags:t,value:e.latency})}}),w(f.diff.pathDigest),(0,N.Zu)(`diff-${f.diff.pathDigest}`),(0,N.kd)(window.location.href),g?.(),P.cg?.requestAnimationFrame(()=>{U(document.getElementById(`diff-${f.diff.pathDigest}`))});return}}if(e.nativeEvent instanceof MouseEvent){if(e.metaKey||e.ctrlKey||1===e.button){e.preventDefault(),window.open(v,"_blank");return}(0,$.X)()?.registerCallback({event:e.nativeEvent,cb:e=>{R("diff-lines.inp_interaction","PULL_REQUESTS_FILE_TREE_DIFF_FILE_CLICK",{latency:e.latency}),(0,B.au)({name:"PULL_REQUESTS_FILE_TREE_DIFF_FILE_CLICK",tags:t,value:e.latency})}}),w(f.diff.pathDigest),(0,N.Zu)(`diff-${f.diff.pathDigest}`),(0,N.kd)(window.location.href),g?.(),P.cg?.requestAnimationFrame(()=>{U(document.getElementById(`diff-${f.diff.pathDigest}`))})}},h[12]=v,h[13]=f.diff.pathDigest,h[14]=D,h[15]=g,h[16]=R,h[17]=w,h[18]=r):r=h[18];let z=r,Q=f.fileName??"";h[19]!==v||h[20]!==Q?(l=(0,s.jsx)(O.A,{href:v,muted:!0,ref:b,role:"presentation",className:"fgColor-default",tabIndex:-1,onClick:K,children:Q}),h[19]=v,h[20]=Q,h[21]=l):l=h[21];let X=l;return h[22]!==f.diff.changeType||h[23]!==f.diff.isSymlink?(d=(0,s.jsx)(L.G.LeadingVisual,{children:(0,s.jsx)(G,{changeType:f.diff.changeType,isSymlink:f.diff.isSymlink})}),h[22]=f.diff.changeType,h[23]=f.diff.isSymlink,h[24]=d):d=h[24],h[25]!==X||h[26]!==Q||h[27]!==C?(c=C?(0,s.jsx)(k.m,{text:Q,direction:"ne",children:X}):X,h[25]=X,h[26]=Q,h[27]=C,h[28]=c):c=h[28],h[29]!==W||h[30]!==_||h[31]!==S?(u=(!!S||_)&&(0,s.jsx)(L.G.TrailingVisual,{children:(0,s.jsxs)("div",{className:"d-flex flex-items-center flex-row",children:[!!S&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(A.CommentIcon,{}),(0,s.jsx)("div",{className:"ml-1 text-bold fgColor-default f6",children:S<10?S:"9+"})]}),W]})}),h[29]=W,h[30]=_,h[31]=S,h[32]=u):u=h[32],h[33]!==p||h[34]!==f.diff.path||h[35]!==f.diff.pathDigest||h[36]!==E||h[37]!==z||h[38]!==V||h[39]!==d||h[40]!==c||h[41]!==u?(m=(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(L.G.Item,{defaultExpanded:!0,"aria-label":V,"aria-level":p,current:E,id:f.diff.path,onSelect:z,ref:x,className:F.A["file-tree-row"],children:[d,c,u]},f.diff.pathDigest)}),h[33]=p,h[34]=f.diff.path,h[35]=f.diff.pathDigest,h[36]=E,h[37]=z,h[38]=V,h[39]=d,h[40]=c,h[41]=u,h[42]=m):m=h[42],m});try{V.displayName||(V.displayName="File")}catch{}function K(e){return e.preventDefault()}let W=(0,y.memo)(function e({directory:t,depth:i=0,leadingPath:n="",sortByDiffOrder:a,onSelect:r,fileNodeRenderer:l}){let o=n?`${n}/`:"",d=(0,y.useRef)(null),c=(0,y.useRef)(null),u=(0,T.Z)({focusRowRef:c,mouseRowRef:d});if(!t.files.length&&1===t.directories.length)return(0,s.jsx)(s.Fragment,{children:t.directories.map(n=>(0,s.jsx)(e,{depth:0===i?1:i,directory:n,leadingPath:`${o}${t.name}`,sortByDiffOrder:a,onSelect:r,fileNodeRenderer:l},n.path))});function m(){return(0,s.jsx)(z,{directory:t,depth:i,sortByDiffOrder:a,onSelect:r,fileNodeRenderer:l})}return 0===i?m():(0,s.jsxs)(L.G.Item,{ref:c,defaultExpanded:!0,id:t.path,children:[(0,s.jsx)(L.G.LeadingVisual,{children:(0,s.jsx)(L.G.DirectoryIcon,{})}),(0,s.jsx)("span",{ref:d,children:`${o}${t.name}`}),u&&(0,s.jsx)(D.m,{"data-testid":`${t.name}-directory-item-tooltip`,id:`${t.name}-directory-item-tooltip`,contentRef:c,"aria-label":`${o}${t.name}`,open:!0,direction:"ne"}),(0,s.jsx)(L.G.SubTree,{children:m()})]},t.path)}),z=(0,y.memo)(function(e){let t,i,n,a=(0,o.c)(17),{directory:r,fileNodeRenderer:l,sortByDiffOrder:d,depth:c,onSelect:u}=e,m=void 0===c?0:c;a[0]!==r.directories||a[1]!==r.files||a[2]!==d?(t=r.files.map(X).concat(r.directories.map(Y)),d?t.sort(J):t.sort(Z),a[0]=r.directories,a[1]=r.files,a[2]=d,a[3]=t):t=a[3];let h=t;if(a[4]!==m||a[5]!==l||a[6]!==h||a[7]!==u||a[8]!==d){let e;a[10]!==m||a[11]!==l||a[12]!==u||a[13]!==d?(e=e=>"file"!==e.pathType?(0,s.jsx)(W,{depth:m+1,directory:e.node,fileNodeRenderer:l,sortByDiffOrder:d,onSelect:u},e.path):l?l({onSelect:u,file:e.node,depth:m+1}):(0,s.jsx)(V,{depth:m+1,file:e.node,onSelect:u},e.path),a[10]=m,a[11]=l,a[12]=u,a[13]=d,a[14]=e):e=a[14],i=h.map(e),a[4]=m,a[5]=l,a[6]=h,a[7]=u,a[8]=d,a[9]=i}else i=a[9];return a[15]!==i?(n=(0,s.jsx)(s.Fragment,{children:i}),a[15]=i,a[16]=n):n=a[16],n}),Q=(0,y.memo)(function(e){let t,i,n,a=(0,o.c)(10),{diffs:r,fileNodeRenderer:l,sortByDiffOrder:d,className:c,onSelect:u}=e;a[0]!==r?(t=(0,I.xY)(r),a[0]=r,a[1]=t):t=a[1];let m=t;return a[2]!==l||a[3]!==m||a[4]!==u||a[5]!==d?(i=(0,s.jsx)(W,{directory:m,fileNodeRenderer:l,sortByDiffOrder:d,onSelect:u}),a[2]=l,a[3]=m,a[4]=u,a[5]=d,a[6]=i):i=a[6],a[7]!==c||a[8]!==i?(n=(0,s.jsx)(L.G,{"aria-label":"File Tree",className:c,children:i}),a[7]=c,a[8]=i,a[9]=n):n=a[9],n});try{W.displayName||(W.displayName="Directory")}catch{}try{z.displayName||(z.displayName="DirectoryRendering")}catch{}try{Q.displayName||(Q.displayName="PullRequestDiffFileTree")}catch{}function X(e){return{path:e.filePath,pathType:"file",node:e,sortOrder:e.sortOrder}}function Y(e){return{path:e.path,pathType:"directory",node:e,sortOrder:e.sortOrder}}function J(e,t){return e.sortOrder-t.sortOrder}function Z(e,t){return(0,I.wH)(e.path,t.path)}var ee=i(75202),et=i(81960),ei=i(69726),en=i(82130);function ea(){let e,t,i=(0,o.c)(5),{sendPullRequestAnalyticsEvent:n}=(0,en.q)(),a=(0,j.JA)();i[0]!==a||i[1]!==n?(e=e=>{let{isErrorState:t,unavailableReason:i,userPreferenceDisabled:r,hasGroups:l}=e,s=void 0!==t&&t,o=void 0!==r&&r,d=void 0!==l&&l;n("change_groups.presented","CHANGE_GROUPS_PRESENTED",{presented_and_visible:d&&!s&&!o,presented_and_not_visible:d&&!s&&o,has_groups:d,is_error_state:s,selected_group_id:a?.id,browser_width:"u">typeof window?window.innerWidth:0,...i&&{unavailable_reason:i},...a&&{selected_group_name:a.name}})},i[0]=a,i[1]=n,i[2]=e):e=i[2];let r=e;return i[3]!==r?(t={sendChangeGroupsPresentedEvent:r},i[3]=r,i[4]=t):t=i[4],t}var er=i(26108),el=i(64451),es=i(86877),eo=i(46720),ed=i(10576),ec=i(21373);function eu(e){let t,i,n,a,r=(0,o.c)(16),{onClose:l,onSubmit:d,returnFocusRef:c,feedbackOptions:u,precheckOther:m}=e,h=void 0!==m&&m,[f,g]=(0,y.useState)(!1);r[0]!==h?(t=h?["OTHER"]:[],r[0]=h,r[1]=t):t=r[1];let[x,b]=(0,y.useState)(t),[v,C]=(0,y.useState)("");r[2]!==x||r[3]!==d||r[4]!==v?(i=e=>{e.preventDefault(),g(!0),x.length&&d({type:"NEGATIVE",feedbackChoice:x,textResponse:v})},r[2]=x,r[3]=d,r[4]=v,r[5]=i):i=r[5];let S=i;return r[6]!==f||r[7]!==x||r[8]!==u||r[9]!==S||r[10]!==v?(n=()=>(0,s.jsxs)("form",{onSubmit:S,children:[(0,s.jsxs)(p.l.Body,{children:[(0,s.jsx)("div",{className:"mb-3",children:(0,s.jsxs)(el.A,{onChange:b,required:!0,children:[(0,s.jsx)(el.A.Label,{children:"Category"}),u.map(e=>(0,s.jsxs)(es.A,{id:`feedback_choice_${e.value}`,children:[(0,s.jsx)(eo.A,{value:e.value,checked:x.includes(e.value)}),(0,s.jsx)(es.A.Label,{children:e.label})]},e.value)),f&&!x.length&&(0,s.jsx)(el.A.Validation,{variant:"error",children:"Please select a feedback category"})]})}),(0,s.jsxs)(es.A,{id:"text_response",children:[(0,s.jsx)(es.A.Label,{children:"How should we improve this response?"}),(0,s.jsx)(ed.Ay,{block:!0,rows:2,wrap:"wrap",name:"text_response",value:v,resize:"vertical",onChange:e=>C(e.currentTarget.value)})]})]}),(0,s.jsx)(p.l.Footer,{children:(0,s.jsx)(ec.Q,{type:"submit",disabled:f&&(!v||!x),children:"Submit"})})]}),r[6]=f,r[7]=x,r[8]=u,r[9]=S,r[10]=v,r[11]=n):n=r[11],r[12]!==l||r[13]!==c||r[14]!==n?(a=(0,s.jsx)(p.l,{onClose:l,title:"Provide additional feedback",subtitle:"Please help us improve Groups by Copilot by sharing more details about these generated groups.",returnFocusRef:c,renderBody:n}),r[12]=l,r[13]=c,r[14]=n,r[15]=a):a=r[15],a}try{eu.displayName||(eu.displayName="NegativeFeedbackForm")}catch{}function em(e){let t,i,n=(0,o.c)(5),{disabled:a,onSubmit:r}=e;return n[0]!==r?(t=()=>r({type:"POSITIVE"}),n[0]=r,n[1]=t):t=n[1],n[2]!==a||n[3]!==t?(i=(0,s.jsx)(er.K,{size:"small",variant:"invisible",disabled:a,icon:A.ThumbsupIcon,"aria-label":"Positive feedback",onClick:t}),n[2]=a,n[3]=t,n[4]=i):i=n[4],i}function eh(e){let t,i,n,a,r,l=(0,o.c)(12),{disabled:d,onSubmit:c,feedbackOptions:u}=e,[m,h]=(0,y.useState)(!1),f=(0,y.useRef)(null);l[0]!==c?(t=e=>{c(e),h(!1)},l[0]=c,l[1]=t):t=l[1];let p=t;return l[2]!==m||l[3]!==u||l[4]!==p?(i=m&&(0,s.jsx)(eu,{onClose:()=>h(!1),onSubmit:p,returnFocusRef:f,feedbackOptions:u}),l[2]=m,l[3]=u,l[4]=p,l[5]=i):i=l[5],l[6]===Symbol.for("react.memo_cache_sentinel")?(n=()=>h(!0),l[6]=n):n=l[6],l[7]!==d?(a=(0,s.jsx)(er.K,{ref:f,size:"small",variant:"invisible",disabled:d,icon:A.ThumbsdownIcon,"aria-label":"Negative feedback",onClick:n}),l[7]=d,l[8]=a):a=l[8],l[9]!==i||l[10]!==a?(r=(0,s.jsxs)(s.Fragment,{children:[i,a]}),l[9]=i,l[10]=a,l[11]=r):r=l[11],r}try{em.displayName||(em.displayName="PositiveFeedbackButton")}catch{}try{eh.displayName||(eh.displayName="NegativeFeedbackButton")}catch{}var ef=i(20622),ep=i(53885),eg=i(94747),ex=i(48845);function ey(){let e,t=(0,o.c)(2),i=(0,ep.e)(ef.uT.submitCopilotGroupsFeedback);return t[0]!==i?(e={mutationFn:async e=>{let{type:t,feedbackChoice:n,textResponse:a}=e,r={feedback:t};a&&(r.text_response=a),n&&n.length>0&&(r.feedback_choice=n);let l=await (0,ex.q$)(i,{method:"POST",headers:{Accept:"application/json"},body:r}),s=await (0,ex.hp)(l);return(0,ex.R)(l,s),s}},t[0]=i,t[1]=e):e=t[1],(0,eg.n)(e)}let eb=e=>{let t,i,n,a,r,l=(0,o.c)(15),{onNegativeFeedbackSubmit:d}=e,[c,u]=(0,y.useState)(),{mutate:m}=ey(),h=(0,j.xW)().changeGroupFeedbackOptions;l[0]!==m?(t=e=>{u(e.type),m(e)},l[0]=m,l[1]=t):t=l[1];let f=t;l[2]!==f||l[3]!==d?(i=e=>{d(),f(e)},l[2]=f,l[3]=d,l[4]=i):i=l[4];let p=i;return l[5]!==f||l[6]!==c?(n="NEGATIVE"!==c&&(0,s.jsx)(em,{disabled:!!c,onSubmit:f}),l[5]=f,l[6]=c,l[7]=n):n=l[7],l[8]!==h||l[9]!==p||l[10]!==c?(a="POSITIVE"!==c&&(0,s.jsx)(eh,{disabled:!!c,onSubmit:p,feedbackOptions:h}),l[8]=h,l[9]=p,l[10]=c,l[11]=a):a=l[11],l[12]!==n||l[13]!==a?(r=(0,s.jsxs)("div",{className:"d-flex",children:[n,a]}),l[12]=n,l[13]=a,l[14]=r):r=l[14],r},ev=e=>{let t,i,n=(0,o.c)(5),{className:a,onNegativeFeedbackSubmit:r}=e;return n[0]!==r?(t=(0,s.jsx)(ee.t,{boundaryName:"GroupsFeedback",fallback:null,children:(0,s.jsx)(eb,{onNegativeFeedbackSubmit:r})}),n[0]=r,n[1]=t):t=n[1],n[2]!==a||n[3]!==t?(i=(0,s.jsx)("div",{className:a,children:t}),n[2]=a,n[3]=t,n[4]=i):i=n[4],i};try{eb.displayName||(eb.displayName="Feedback")}catch{}try{ev.displayName||(ev.displayName="GroupsFeedback")}catch{}var eC=i(70263),eS=i(40235),e_=i(97286),eN=i(96379);function ew(e){switch(e){case"CREATED":case"RUNNING":case"STARTED":case"WAITING":return!1;default:return!0}}function ej(e,t){let i,n,a,r,l,s=(0,o.c)(15),d=(0,ep.e)(ef.uT.changeGroups);s[0]!==t||s[1]!==d||s[2]!==e?(i=function({baseSha:e,headSha:t,changeGroupsURL:i}){return[ef.uT.changeGroups,i,`baseSha:${e}`,`headSha:${t}`]}({headSha:e,baseSha:t,changeGroupsURL:d}),s[0]=t,s[1]=d,s[2]=e,s[3]=i):i=s[3];let c=i,{updateChangeGroupGeneration:u}=(0,j.wL)(),m=(0,j.xW)();s[4]!==m?(n=()=>{let e=m.latestChangeGroupOrchestration?.state;if(e&&ew(e))return m},s[4]=m,s[5]=n):n=s[5];let h=n;return s[6]!==d||s[7]!==u?(a=async()=>{let e=await (0,eN.QJ)(d);if(!e.ok)throw Error(`HTTP ${e.status}`);let t=await e.json();return u(t),t},s[6]=d,s[7]=u,s[8]=a):a=s[8],s[9]!==h?(r=h(),s[9]=h,s[10]=r):r=s[10],s[11]!==c||s[12]!==a||s[13]!==r?(l={queryKey:c,queryFn:a,initialData:r,staleTime:1/0},s[11]=c,s[12]=a,s[13]=r,s[14]=l):l=s[14],(0,e_.I)(l)}var eE=i(82075);function eR(e){let t,i,n,a,r,l,d,c,u,m,h,f=(0,o.c)(46),{groups:p,activeGroupId:g,onSelectGroup:v,onClearActiveGroup:_,isLoadingState:N}=e,{sendPullRequestAnalyticsEvent:w}=(0,en.q)(),{sendChangeGroupsPresentedEvent:E}=ea(),{fullDiff:R}=(0,j.L3)(),L=(0,j.a_)(),D=(0,j.TV)(),I=(0,j.r$)(),T=(0,y.useRef)(null),{error:k}=ej(R.headOid,R.baseOid),O=!!k&&!N;!function(e,t,i){let n,a,r=(0,o.c)(7),l=(0,eC.A)(),{refetch:s}=ej(i,t);r[0]!==l||r[1]!==s?(n=(0,b.n)(()=>{l()&&s()},2e3),r[0]=l,r[1]=s,r[2]=n):n=r[2];let d=n;r[3]!==t||r[4]!==i||r[5]!==d?(a=e=>{e?.base_commit_oid===t&&e?.head_commit_oid===i&&window.setTimeout(()=>d(),e.wait||0)},r[3]=t,r[4]=i,r[5]=d,r[6]=a):a=r[6];let c=a;(0,eS.x)(e,c)}(L,R.baseOid,R.headOid),f[0]!==p.length||f[1]!==N||f[2]!==E||f[3]!==O||f[4]!==D?(t=()=>{N||(O||D?E({isErrorState:!0,unavailableReason:D||void 0}):p.length>0?E({isErrorState:!1,hasGroups:!0}):E({isErrorState:!1,hasGroups:!1}))},f[0]=p.length,f[1]=N,f[2]=E,f[3]=O,f[4]=D,f[5]=t):t=f[5],f[6]!==p||f[7]!==N||f[8]!==E||f[9]!==O||f[10]!==D?(i=[p,N,O,D,E],f[6]=p,f[7]=N,f[8]=E,f[9]=O,f[10]=D,f[11]=i):i=f[11],(0,y.useEffect)(t,i),f[12]!==_||f[13]!==w?(n=()=>{w("groups_list.clear_group","GROUPS_LIST_ITEM"),_()},f[12]=_,f[13]=w,f[14]=n):n=f[14];let M=n;f[15]!==M?(a=()=>{M(),requestAnimationFrame(()=>{T.current?.focus()})},f[15]=M,f[16]=a):a=f[16];let F=a,U=p.length>0,{isCollapsed:$,handleToggleCollapsed:B}=function(e){let t=(0,eE.A)("localStorage"),[i,n]=(0,y.useState)(!1),{sendPullRequestAnalyticsEvent:a}=(0,en.q)();return(0,y.useEffect)(()=>{let i=t.getItem(eT(e));null!==i&&n(JSON.parse(i))},[]),{isCollapsed:i,handleToggleCollapsed:()=>{let r=!i;P.cg?.requestAnimationFrame(()=>{t.setItem(eT(e),JSON.stringify(r))}),n(()=>r),a("groups_list.toggle_collapse","GROUPS_LIST_TOGGLE",{is_collapsed:r})}}}(I);f[17]!==B?(r=()=>{B(),requestAnimationFrame(()=>{T.current?.focus()})},f[17]=B,f[18]=r):r=f[18];let q=r;f[19]===Symbol.for("react.memo_cache_sentinel")?(l=(0,s.jsx)(et.A,{as:"h2",className:"h6",children:"Groups by Copilot"}),f[19]=l):l=f[19];let H=l;return f[20]===Symbol.for("react.memo_cache_sentinel")?(d=(0,x.$)("GroupsList-module__GroupsListContainer--x6dMy"),f[20]=d):d=f[20],f[21]!==p.length||f[22]!==B||f[23]!==U||f[24]!==$||f[25]!==N?(c=N?(0,s.jsxs)("div",{className:"d-flex flex-row flex-items-center fgColor-muted pt-2 px-2 pb-1",children:[H,(0,s.jsx)("span",{className:"ml-auto d-flex flex-items-center",children:(0,s.jsx)(ei.A,{size:"small","aria-label":"Loading change groups"})})]}):(0,s.jsxs)("button",{className:(0,x.$)("d-flex flex-row flex-items-center fgColor-muted","GroupsList-module__GroupsListToggle--KO5Om"),onClick:B,"aria-expanded":!$,ref:T,children:[H,$&&U&&(0,s.jsx)(S.A,{scheme:"secondary",className:"mx-2",children:p.length}),$?(0,s.jsx)(A.ChevronDownIcon,{className:"ml-auto"}):(0,s.jsx)(A.ChevronUpIcon,{className:"ml-auto"})]}),f[21]=p.length,f[22]=B,f[23]=U,f[24]=$,f[25]=N,f[26]=c):c=f[26],f[27]!==g||f[28]!==p||f[29]!==M||f[30]!==F||f[31]!==U||f[32]!==$||f[33]!==v||f[34]!==q?(u=U&&(0,s.jsxs)("div",{className:(0,x.$)("mt-n2","GroupsList-module__GroupsListItemsShiftLeft--PGMNM"),children:[$&&!g?(0,s.jsx)("div",{className:"pb-2"}):(0,s.jsxs)(C.l,{children:[!$&&(0,s.jsx)(C.l.Item,{active:void 0===g,onSelect:M,children:"All files"},"All files"),p.toSorted(eL).map(e=>(0,s.jsx)(eI,{group:e,activeGroupId:g,onSelectGroup:v,isListCollapsed:$,onClickGroupWhenCollapsed:F},e.id)).filter(Boolean)]}),!$&&(0,s.jsx)(ev,{className:"ml-2",onNegativeFeedbackSubmit:q})]}),f[27]=g,f[28]=p,f[29]=M,f[30]=F,f[31]=U,f[32]=$,f[33]=v,f[34]=q,f[35]=u):u=f[35],f[36]!==U||f[37]!==$||f[38]!==N||f[39]!==O||f[40]!==D?(m=!$&&!U&&!N&&(0,s.jsx)("div",{className:"px-2 pb-2 pt-0 f6 fgColor-muted",children:D?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"mb-0 d-inline",children:function(e){switch(e){case"DIFF_TOO_LARGE":case"TOO_MANY_GROUPS":return"Groups are unavailable because the PR exceeds the size limit.";case"DIFF_TOO_SMALL":case"TOO_FEW_GROUPS":return"Grouping was skipped because all changes are closely related.";default:return"Copilot was unable to generate groups for this pull request."}}(D)})," ",(0,s.jsx)(eD,{})]}):O&&(0,s.jsx)("p",{className:"mb-0",children:"No groups created"})}),f[36]=U,f[37]=$,f[38]=N,f[39]=O,f[40]=D,f[41]=m):m=f[41],f[42]!==m||f[43]!==c||f[44]!==u?(h=(0,s.jsxs)("div",{className:d,children:[c,u,m]}),f[42]=m,f[43]=c,f[44]=u,f[45]=h):h=f[45],h}function eL(e,t){return t.priority-e.priority}function eD(){let e,t,i,n,a=(0,o.c)(9),r=(0,y.useRef)(null),{mutate:l}=ey(),[d,c]=(0,y.useState)(!1),u=(0,j.xW)().changeGroupFeedbackOptions;a[0]!==l?(e=e=>{l(e),c(!1)},a[0]=l,a[1]=e):e=a[1];let m=e;return a[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,s.jsx)(O.A,{className:"d-inline",as:"button",ref:r,inline:!0,muted:!0,onClick:()=>c(!0),children:"Give feedback"}),a[2]=t):t=a[2],a[3]!==d||a[4]!==u||a[5]!==m?(i=d&&(0,s.jsx)(eu,{feedbackOptions:u,onSubmit:m,onClose:()=>c(!1),returnFocusRef:r,precheckOther:!0}),a[3]=d,a[4]=u,a[5]=m,a[6]=i):i=a[6],a[7]!==i?(n=(0,s.jsxs)(s.Fragment,{children:[t,i]}),a[7]=i,a[8]=n):n=a[8],n}function eI(e){let t,i,n,a,r,l,d=(0,o.c)(20),{group:c,activeGroupId:u,isListCollapsed:m,onSelectGroup:h,onClickGroupWhenCollapsed:f}=e,{sendPullRequestAnalyticsEvent:p}=(0,en.q)(),g=(0,y.useRef)(null);d[0]===Symbol.for("react.memo_cache_sentinel")?(t={focusRowRef:g,mouseRowRef:g},d[0]=t):t=d[0];let b=(0,T.Z)(t);d[1]!==c.id||d[2]!==h||d[3]!==p?(i=()=>{p("groups_list.select_group","GROUPS_LIST_ITEM"),h(c.id)},d[1]=c.id,d[2]=h,d[3]=p,d[4]=i):i=d[4];let v=i,S=u===c.id;if(m&&!S)return null;let _=`${c.name}-${m?"collapsed":"expanded"}`,N=m?void 0:v;d[5]===Symbol.for("react.memo_cache_sentinel")?(n=(0,x.$)("GroupsList-module__GroupItem--vAFCe","PRIVATE_TreeView-item-content-text"),d[5]=n):n=d[5],d[6]!==c.name?(a=(0,s.jsx)("div",{className:n,children:c.name}),d[6]=c.name,d[7]=a):a=d[7],d[8]!==m||d[9]!==f?(r=m?(0,s.jsx)(C.l.TrailingAction,{as:"button",label:"Clear active group",icon:A.XIcon,onClick:e=>{e.preventDefault(),e.stopPropagation(),f()}}):null,d[8]=m,d[9]=f,d[10]=r):r=d[10],d[11]!==S||d[12]!==_||d[13]!==N||d[14]!==a||d[15]!==r?(l=(0,s.jsxs)(C.l.Item,{active:S,onSelect:N,ref:g,children:[a,r]},_),d[11]=S,d[12]=_,d[13]=N,d[14]=a,d[15]=r,d[16]=l):l=d[16];let w=l;if(b){let e;return d[17]!==c.name||d[18]!==w?(e=(0,s.jsx)(k.m,{text:c.name,direction:"ne",children:w}),d[17]=c.name,d[18]=w,d[19]=e):e=d[19],e}return w}function eT(e){return`GroupsListIsCollapsed_${e}`}try{eR.displayName||(eR.displayName="GroupsList")}catch{}try{eD.displayName||(eD.displayName="FeedbackButton")}catch{}try{eI.displayName||(eI.displayName="GroupItem")}catch{}let eA="pr-file-tree";function ek(e){let t,i,n,a,r,l,d,c,u,h,f,p,g=(0,o.c)(35),{className:b,fileFilter:v,filteredDiffs:C,onFileSelected:S,onSetFilterState:_,allowPullRequestGroups:N}=e,w=void 0!==N&&N,E=(0,j.iY)(),R=(0,j.YL)(),L=(0,j.ww)(),D=(0,j.Fl)(),I=(0,j.WA)(),{sendChangeGroupsPresentedEvent:T}=ea();g[0]!==D?(t=D&&!ew(D.state),g[0]=D,g[1]=t):t=g[1];let A=t,k=(0,j.TV)();g[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,m.G7)("hide_groups_list_for_few_groups"),g[2]=i):i=g[2];let O=i&&("TOO_FEW_GROUPS"===k||"DIFF_TOO_SMALL"===k||"NOT_GENERATED_YET"===k);return g[3]!==w||g[4]!==E.length||g[5]!==L||g[6]!==T||g[7]!==I?(n=()=>{w&&E.length>0&&!L&&!I&&T({isErrorState:!1,userPreferenceDisabled:!0,hasGroups:!0})},a=[w,L,I,T,E.length],g[3]=w,g[4]=E.length,g[5]=L,g[6]=T,g[7]=I,g[8]=n,g[9]=a):(n=g[8],a=g[9]),(0,y.useEffect)(n,a),g[10]!==R||g[11]!==w||g[12]!==E||g[13]!==L||g[14]!==A||g[15]!==_||g[16]!==O||g[17]!==I?(r=w&&!L&&I&&!O&&(0,s.jsx)(eR,{activeGroupId:R,groups:E,onClearActiveGroup:()=>{_({activeChangeGroupId:void 0})},onSelectGroup:e=>{_({activeChangeGroupId:e})},isLoadingState:A||!1}),g[10]=R,g[11]=w,g[12]=E,g[13]=L,g[14]=A,g[15]=_,g[16]=O,g[17]=I,g[18]=r):r=g[18],g[19]===Symbol.for("react.memo_cache_sentinel")?(l=(0,s.jsx)("span",{children:"File tree failed to load."}),g[19]=l):l=g[19],g[20]!==b?(d=(0,x.$)("d-flex flex-column min-height-0",b),g[20]=b,g[21]=d):d=g[21],g[22]!==v?(c=(0,s.jsx)("div",{className:"pb-3 pr-lg-3",children:v}),g[22]=v,g[23]=c):c=g[23],g[24]===Symbol.for("react.memo_cache_sentinel")?(u=(0,s.jsx)("h2",{className:"sr-only",children:"File tree"}),g[24]=u):u=g[24],g[25]!==C||g[26]!==S?(h=(0,s.jsxs)("div",{className:"PullRequestFileTree-module__FileTreeScrollable--tm_BE",children:[u,(0,s.jsx)(Q,{diffs:C,fileNodeRenderer:eO,sortByDiffOrder:!0,onSelect:S,className:"pr-lg-3"})]}),g[25]=C,g[26]=S,g[27]=h):h=g[27],g[28]!==h||g[29]!==d||g[30]!==c?(f=(0,s.jsx)(ee.t,{boundaryName:"PullRequestDiffFileTree",fallback:l,children:(0,s.jsxs)("div",{className:d,id:eA,children:[c,h]})}),g[28]=h,g[29]=d,g[30]=c,g[31]=f):f=g[31],g[32]!==f||g[33]!==r?(p=(0,s.jsxs)("div",{className:"d-flex flex-column height-fit",children:[r,f]}),g[32]=f,g[33]=r,g[34]=p):p=g[34],p}function eO(e){return(0,s.jsx)(eM,{...e},e.file.filePath)}let eM=(0,y.memo)(function(e){let t,i,n,a,r,l,d=(0,o.c)(14);d[0]!==e?({file:t,...i}=e,d[0]=e,d[1]=t,d[2]=i):(t=d[1],i=d[2]),d[3]!==t.diff?(n=Object.values(t.diff?.markersMap??{}).flatMap(eF),d[3]=t.diff,d[4]=n):n=d[4];let c=n,u=(0,j.Qb)(c);d[5]!==u||d[6]!==t.diff?(a={...t.diff,totalCommentsCount:u},d[5]=u,d[6]=t.diff,d[7]=a):a=d[7],d[8]!==t||d[9]!==a?(r={...t,diff:a},d[8]=t,d[9]=a,d[10]=r):r=d[10];let m=r;return d[11]!==m||d[12]!==i?(l=(0,s.jsx)(V,{file:m,...i}),d[11]=m,d[12]=i,d[13]=l):l=d[13],l});try{ek.displayName||(ek.displayName="PullRequestFileTree")}catch{}try{eM.displayName||(eM.displayName="PullRequestFile")}catch{}function eP(e){return e.id}function eF(e){return e.threads.map(eP)}var eU=i(11680);function e$(e){return e.reviewThreadsPaginatedLimit>e.reviewThreadsLimit}function eB(e){let t,i,n,a,r=(0,o.c)(9),{pageLimits:l,urls:d}=e,c=l.filesLimitExceeded||l.reviewThreadsLimitExceeded||l.annotationsLimitExceeded;r[0]!==l?(t=()=>{let e=[];l.filesLimitExceeded&&e.push(`first ${l.filesLimit} files`),l.reviewThreadsLimitExceeded&&e.push(`latest ${l.reviewThreadsLimit} comments`),l.annotationsLimitExceeded&&e.push(`first ${l.annotationsLimit} alerts`);let t="";1===e.length?t=`${e[0]}`:2===e.length?t=`${e[0]} and ${e[1]}`:3===e.length&&(t=`${e[0]}, ${e[1]}, and ${e[2]}`);let i="Only the "+t+" are currently being shown.";return l.reviewThreadsLimitExceeded&&e$(l)&&(l.reviewThreadsPaginatedLimitExceeded?i+=` To view up to ${l.reviewThreadsPaginatedLimit} comments, open the comments side panel.`:i+=" To view the remaining comments, open the comments side panel"),i},r[0]=l,r[1]=t):t=r[1];let u=t(),m=`${d.files}?new_files_changed=false`;r[2]!==m?(i=(0,s.jsx)(O.A,{inline:!0,href:m,rel:"noreferrer noopener",target:"_blank",children:"switch back"}),r[2]=m,r[3]=i):i=r[3],r[4]!==u||r[5]!==i?(n=(0,s.jsxs)("span",{children:[u," To see more,"," ",i," ","to the classic page."]}),r[4]=u,r[5]=i,r[6]=n):n=r[6];let h=n;return c?(r[7]!==h?(a=(0,s.jsx)(eU.l,{"aria-label":"Warning",title:"Warning",variant:"warning",hideTitle:!0,description:h,className:"mb-3"}),r[7]=h,r[8]=a):a=r[8],a):null}try{eB.displayName||(eB.displayName="PageLimitsBanner")}catch{}let eq="ViewedFileProgress-module__FilesCountText--q4rKx",eH=e=>{let t,i,n,a,r=(0,o.c)(5),{progress:l}=e;r[0]===Symbol.for("react.memo_cache_sentinel")?(t={transform:"rotate(-90deg)"},r[0]=t):t=r[0],r[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,s.jsx)("circle",{cx:"50%",cy:"50%",fill:"transparent",r:"6",stroke:"var(--borderColor-default, var(--color-border-default))",strokeWidth:"2"}),r[1]=i):i=r[1];let d=38-38*l;return r[2]===Symbol.for("react.memo_cache_sentinel")?(n={transition:"stroke-dashoffset 0.35s"},r[2]=n):n=r[2],r[3]!==d?(a=(0,s.jsxs)("svg",{"data-circumference":"38",height:"16",role:"presentation",style:t,width:"16",children:[i,(0,s.jsx)("circle",{cx:"50%",cy:"50%",fill:"transparent",r:"6",stroke:"var(--fgColor-done, var(--color-done-fg))",strokeDasharray:38,strokeDashoffset:d,strokeLinecap:"round",strokeWidth:"2",style:n})]}),r[3]=d,r[4]=a):a=r[4],a};function eG(e){let t,i,n,a,r,l,d,c=(0,o.c)(14),{totalFilesCount:u}=e,m=(0,j.gi)();if(0===u)return null;let h=(m??0)/u||0;return c[0]!==h?(t=(0,s.jsx)(eH,{progress:h}),c[0]=h,c[1]=t):t=c[1],c[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,x.$)("ml-1","ViewedFileProgress-module__ProgressContainer--ZQ1e8"),c[2]=i):i=c[2],c[3]!==m?(n=(0,s.jsx)("span",{className:eq,children:m}),c[3]=m,c[4]=n):n=c[4],c[5]!==u?(a=(0,s.jsx)("span",{className:eq,children:u}),c[5]=u,c[6]=a):a=c[6],c[7]===Symbol.for("react.memo_cache_sentinel")?(r=(0,s.jsx)("span",{className:"ViewedFileProgress-module__ViewedText--vvFsM",children:"viewed"}),c[7]=r):r=c[7],c[8]!==n||c[9]!==a?(l=(0,s.jsxs)("span",{className:i,children:[n," /"," ",a," ",r]}),c[8]=n,c[9]=a,c[10]=l):l=c[10],c[11]!==t||c[12]!==l?(d=(0,s.jsxs)("div",{className:"d-flex flex-row flex-items-center",children:[t,l]}),c[11]=t,c[12]=l,c[13]=d):d=c[13],d}try{eH.displayName||(eH.displayName="ProgressIcon")}catch{}try{eG.displayName||(eG.displayName="ViewedFileProgress")}catch{}function eV(e){let t=document.querySelector('#__primerPortalRoot__ div[role="dialog"]'),i=document.querySelector(`#${e} div[role="dialog"]`);(t||i)&&document.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",code:"Escape",ctrlKey:!0}))}var eK=i(30093),eW=i(94236),ez=i(77430),eQ=i(36729);let eX={filterText:"",showResolvedThreads:!0,showOutdatedThreads:!0};function eY(e){let t,i,n,a,r,l,d,c,u,m,h,f,p,g,y,b=(0,o.c)(42),{authorList:v,className:S,filterState:_,onFilterStateChange:N}=e;b[0]!==_||b[1]!==N?(t=e=>{N({..._,filterText:e})},b[0]=_,b[1]=N,b[2]=t):t=b[2];let w=t;b[3]!==_||b[4]!==N?(i=()=>{N({..._,showResolvedThreads:!_.showResolvedThreads})},b[3]=_,b[4]=N,b[5]=i):i=b[5];let j=i;b[6]!==_||b[7]!==N?(n=()=>{N({..._,showOutdatedThreads:!_.showOutdatedThreads})},b[6]=_,b[7]=N,b[8]=n):n=b[8];let E=n;b[9]!==_||b[10]!==N?(a=e=>{if(_.selectedAuthor===e)return N({..._,selectedAuthor:void 0});N({..._,selectedAuthor:e})},b[9]=_,b[10]=N,b[11]=a):a=b[11];let R=a;return b[12]!==S?(r=(0,x.$)("d-flex flex-row gap-2 flex-nowrap",S),b[12]=S,b[13]=r):r=b[13],b[14]!==w?(l=e=>w(e.target.value),b[14]=w,b[15]=l):l=b[15],b[16]!==_.filterText||b[17]!==l?(d=(0,s.jsx)(eK.A,{block:!0,"aria-label":"Filter comments",leadingVisual:A.SearchIcon,placeholder:"Filter comments",value:_.filterText,onChange:l}),b[16]=_.filterText,b[17]=l,b[18]=d):d=b[18],b[19]===Symbol.for("react.memo_cache_sentinel")?(c=(0,s.jsx)(eW.W.Anchor,{children:(0,s.jsx)(ec.Q,{"aria-label":"Additional comment filters",className:"flex-shink-0",leadingVisual:A.FilterIcon,trailingAction:A.TriangleDownIcon,children:"Filter"})}),b[19]=c):c=b[19],b[20]!==j?(u=()=>j(),b[20]=j,b[21]=u):u=b[21],b[22]!==_.showResolvedThreads||b[23]!==u?(m=(0,s.jsx)(C.l.Item,{selected:_.showResolvedThreads,onSelect:u,children:"Show resolved comments"}),b[22]=_.showResolvedThreads,b[23]=u,b[24]=m):m=b[24],b[25]!==E?(h=()=>E(),b[25]=E,b[26]=h):h=b[26],b[27]!==_.showOutdatedThreads||b[28]!==h?(f=(0,s.jsx)(C.l.Item,{selected:_.showOutdatedThreads,onSelect:h,children:"Show outdated comments"}),b[27]=_.showOutdatedThreads,b[28]=h,b[29]=f):f=b[29],b[30]!==v||b[31]!==_.selectedAuthor||b[32]!==R?(p=v.length>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C.l.Divider,{}),(0,s.jsxs)(C.l.Group,{children:[(0,s.jsx)(C.l.GroupHeading,{children:"Filter by"}),v.map(e=>(0,s.jsxs)(C.l.Item,{selected:_.selectedAuthor===e.login,onSelect:()=>R(e.login),children:[(0,s.jsx)(C.l.LeadingVisual,{children:(0,s.jsx)(ez.r,{src:e.avatarUrl})}),e.login]},e.login))]})]}),b[30]=v,b[31]=_.selectedAuthor,b[32]=R,b[33]=p):p=b[33],b[34]!==m||b[35]!==f||b[36]!==p?(g=(0,s.jsxs)(eW.W,{children:[c,(0,s.jsx)(eW.W.Overlay,{width:"small",children:(0,s.jsxs)(C.l,{selectionVariant:"single",children:[m,f,p]})})]}),b[34]=m,b[35]=f,b[36]=p,b[37]=g):g=b[37],b[38]!==g||b[39]!==r||b[40]!==d?(y=(0,s.jsxs)("div",{className:r,children:[d,g]}),b[38]=g,b[39]=r,b[40]=d,b[41]=y):y=b[41],y}try{eY.displayName||(eY.displayName="CommentsFilter")}catch{}var eJ=i(24058),eZ=i(98091),e0=i(58615),e1=i(72511),e2=i(26607);function e3(e){let t,i,n,a,r,l,d,c,u,m,h,f,p,g,b,v=(0,o.c)(47),{firstCommentId:C,isCollapsed:S,isOutdated:_,isResolved:N,line:w,onToggleCollapsed:j,onNavigateToDiffComment:E,path:R,rightSideContent:L,threadId:D,headingLevel:I}=e,T=void 0===I?"h3":I;v[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,eE.A)("localStorage"),v[0]=t):t=v[0];let M=t,[P,F]=(0,y.useState)(S);v[1]!==D?(i=()=>{let e=localStorage.getItem(`reviewThreadIsCollapsed_${D}`);null!==e&&F(JSON.parse(e))},v[1]=D,v[2]=i):i=v[2],v[3]!==P||v[4]!==D?(n=[P,D],v[3]=P,v[4]=D,v[5]=n):n=v[5],(0,y.useEffect)(i,n),v[6]!==P||v[7]!==j||v[8]!==D?(a=()=>{M.setItem(`reviewThreadIsCollapsed_${D}`,JSON.stringify(!P)),F(e4),j()},v[6]=P,v[7]=j,v[8]=D,v[9]=a):a=v[9];let U=a,$=P&&"rounded-2",B=P&&"border-bottom-0";v[10]!==$||v[11]!==B?(r=(0,x.$)("d-flex flex-row flex-items-center px-2 py-1 bgColor-muted rounded-top-2 border-bottom",$,B),v[10]=$,v[11]=B,v[12]=r):r=v[12];let q=P?"Open review comment":"Close review comment",H=P?A.ChevronRightIcon:A.ChevronDownIcon;v[13]!==U||v[14]!==H||v[15]!==q?(l=(0,s.jsx)(er.K,{"aria-label":q,icon:H,size:"small",variant:"invisible",onClick:U}),v[13]=U,v[14]=H,v[15]=q,v[16]=l):l=v[16],v[17]===Symbol.for("react.memo_cache_sentinel")?(d=(0,x.$)("ConversationHeader-module__file-name-overflow--Ymb0e","d-inline text-mono no-wrap overflow-hidden direction-rtl fgColor-default"),v[17]=d):d=v[17];let G=`#r${C}`;v[18]!==E||v[19]!==R||v[20]!==G?(c=(0,s.jsxs)(O.A,{className:d,onClick:E,href:G,muted:!0,children:["\u200E",R,"\u200E"]}),v[18]=E,v[19]=R,v[20]=G,v[21]=c):c=v[21],v[22]!==R||v[23]!==c?(u=(0,s.jsx)(k.m,{direction:"n",text:R,type:"label",children:c}),v[22]=R,v[23]=c,v[24]=u):u=v[24],v[25]!==w?(m=!!w&&(0,s.jsxs)("span",{className:"f6 fgColor-muted text-normal no-wrap ml-2",children:["Line ",w]}),v[25]=w,v[26]=m):m=v[26],v[27]!==T||v[28]!==u||v[29]!==m?(h=(0,s.jsxs)(et.A,{as:T,className:"d-flex flex-items-center flex-1 min-width-0 mr-2 ml-1 f6 text-semibold",children:[u,m]}),v[27]=T,v[28]=u,v[29]=m,v[30]=h):h=v[30],v[31]!==N?(f=N&&(0,s.jsx)(e2.A,{size:"large",className:"mx-1",variant:"secondary",children:"Resolved"}),v[31]=N,v[32]=f):f=v[32],v[33]!==_||v[34]!==N?(p=_&&!N&&(0,s.jsx)(e2.A,{size:"large",className:"mx-1",variant:"attention",children:"Outdated"}),v[33]=_,v[34]=N,v[35]=p):p=v[35];let V=`#r${C}`;return v[36]!==E||v[37]!==V?(g=(0,s.jsx)(er.K,{as:"a","aria-label":"Jump to the comment in the diff",tooltipDirection:"se",icon:A.FileSymlinkFileIcon,variant:"invisible",href:V,onClick:E}),v[36]=E,v[37]=V,v[38]=g):g=v[38],v[39]!==L||v[40]!==l||v[41]!==h||v[42]!==f||v[43]!==p||v[44]!==g||v[45]!==r?(b=(0,s.jsxs)("div",{className:r,children:[l,h,f,p,g,L]}),v[39]=L,v[40]=l,v[41]=h,v[42]=f,v[43]=p,v[44]=g,v[45]=r,v[46]=b):b=v[46],b}function e4(e){return!e}try{e3.displayName||(e3.displayName="ConversationHeader")}catch{}var e5=i(97695),e6=i(39698),e7=i(21067);function e8(e){let t,i,n,a,r,l,d,c=(0,o.c)(35),{firstCommentId:u,isCollapsed:m,onToggleCollapsed:h,onNavigateToDiffComment:f,threadPreview:p,headingLevel:g,isResolved:x,isOutdated:b,lineKey:v}=e,{sendPullRequestAnalyticsEvent:C}=(0,en.q)(),[S,_]=(0,y.useState)(void 0),N=p.previewInfo,{line:w}=N;c[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,e7.M3)(),c[0]=t):t=c[0];let j=t,{mutate:E}=(0,e5.H)(N.path,v);c[1]!==m||c[2]!==x||c[3]!==h||c[4]!==N.threadId||c[5]!==E?(i=()=>{x||E({threadId:N.threadId},{onError:()=>_("Failed to resolve thread"),onSuccess:()=>{m||h()}})},c[1]=m,c[2]=x,c[3]=h,c[4]=N.threadId,c[5]=E,c[6]=i):i=c[6];let R=i,{mutate:L}=(0,e6.i)(N.path,v);c[7]!==m||c[8]!==x||c[9]!==h||c[10]!==C||c[11]!==p||c[12]!==L?(n=async()=>{!p||x&&(L({threadId:p.previewInfo.threadId},{onError:()=>_("Failed to unresolve thread"),onSuccess:()=>{m&&h()}}),C("comments.unresolve_thread","RESOLVE_CONVERSATION_BUTTON"))},c[7]=m,c[8]=x,c[9]=h,c[10]=C,c[11]=p,c[12]=L,c[13]=n):n=c[13];let D=n;return c[14]!==R||c[15]!==D||c[16]!==x?(a=j?(0,s.jsx)(er.K,{"aria-label":x?"Unresolve conversation":"Resolve conversation",tooltipDirection:"sw",icon:x?A.CheckCircleFillIcon:A.CheckCircleIcon,"data-thread-resolved":x,className:"ThreadHeader-module__ThreadHeaderIconButton--RGjVM",variant:"invisible",onClick:x?D:R}):null,c[14]=R,c[15]=D,c[16]=x,c[17]=a):a=c[17],c[18]!==u||c[19]!==g||c[20]!==m||c[21]!==b||c[22]!==x||c[23]!==w||c[24]!==f||c[25]!==h||c[26]!==N.path||c[27]!==N.threadId||c[28]!==a?(r=(0,s.jsx)(e3,{firstCommentId:u,isCollapsed:m,isOutdated:b,isResolved:x,line:w,path:N.path,rightSideContent:a,onNavigateToDiffComment:f,onToggleCollapsed:h,threadId:N.threadId,headingLevel:g}),c[18]=u,c[19]=g,c[20]=m,c[21]=b,c[22]=x,c[23]=w,c[24]=f,c[25]=h,c[26]=N.path,c[27]=N.threadId,c[28]=a,c[29]=r):r=c[29],c[30]!==S?(l=S&&(0,s.jsxs)(e1.A,{variant:"danger",className:"m-2",children:[(0,s.jsx)(A.StopIcon,{className:"mr-2"}),S]}),c[30]=S,c[31]=l):l=c[31],c[32]!==r||c[33]!==l?(d=(0,s.jsxs)(s.Fragment,{children:[r,l]}),c[32]=r,c[33]=l,c[34]=d):d=c[34],d}try{e8.displayName||(e8.displayName="ThreadHeader")}catch{}var e9=i(24494);function te(e){let t,i,n=(0,o.c)(4),{commentAuthors:a}=e;return a.length<1?null:(n[0]!==a?(t=a.map(tt),n[0]=a,n[1]=t):t=n[1],n[2]!==t?(i=(0,s.jsx)(e9.A,{children:t}),n[2]=t,n[3]=i):i=n[3],i)}function tt(e){let{login:t,avatarUrl:i}=e;return(0,s.jsx)(ez.r,{alt:t,size:18,src:i},t)}try{te.displayName||(te.displayName="PreviewAuthors")}catch{}var ti=i(73017);let tn=(0,y.memo)(function(e){var t;let i,n,a,r,l,d,c,u,m=(0,o.c)(30),{commentPreview:h,onNavigateToDiffComment:f,tabSize:p}=e,[g,b]=(0,y.useState)(!1),v=h.commentId,{navigateToSelectedComment:C}=(0,j.Lh)();m[0]!==h.commentsData?(n=h.commentsData??{comments:[]},m[0]=h.commentsData,m[1]=n):n=m[1],m[2]!==v||m[3]!==n?(a=ta(v,n),m[2]=v,m[3]=n,m[4]=a):a=m[4];let S=a,_=h.threadPreviewComments.length,w=`${_} previous ${1===_?"comment":"comments"}`;m[5]!==v||m[6]!==C||m[7]!==f?(r=()=>{let e=parseInt(v);C(e);let t=window.location.pathname+window.location.search;(0,N.kd)(`${t}#r${e}`),f(v)},m[5]=v,m[6]=C,m[7]=f,m[8]=r):r=m[8];let E=r,R=h.isOutdated||!1,L=h.isResolved||!1,D=h.line,I=h.path;m[9]===Symbol.for("react.memo_cache_sentinel")?(l=()=>b(tr),m[9]=l):l=m[9];let T=h.threadId,k=parseInt(h.commentId);return m[10]!==h.line||m[11]!==h.path||m[12]!==h.threadId||m[13]!==g||m[14]!==E||m[15]!==k||m[16]!==R||m[17]!==L?(d=(0,s.jsx)(e3,{isCollapsed:g,isOutdated:R,isResolved:L,line:D,path:I,onNavigateToDiffComment:E,onToggleCollapsed:l,threadId:T,firstCommentId:k}),m[10]=h.line,m[11]=h.path,m[12]=h.threadId,m[13]=g,m[14]=E,m[15]=k,m[16]=R,m[17]=L,m[18]=d):d=m[18],m[19]!==S||m[20]!==h||m[21]!==g||m[22]!==E||m[23]!==_||m[24]!==w||m[25]!==p?(c=!g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"border-bottom borderColor-muted overflow-x-auto",children:(0,s.jsx)(eZ.i,{diffTableClassName:"border-0",diffLines:h.subject?.diffLines,className:"m-0 border-0",tabSize:p||4})}),_>0&&(0,s.jsx)("div",{className:"my-2 px-2",children:(0,s.jsx)(ec.Q,{"aria-label":"View comment in diff",size:"small",trailingVisual:A.ChevronRightIcon,variant:"invisible",onClick:E,children:(0,s.jsxs)("div",{className:"d-flex flex-row flex-justify-start flex-items-center gap-2",children:[(0,s.jsx)("span",{children:w}),(0,s.jsx)(te,{commentAuthors:S})]})})}),(0,s.jsx)(ti.$6,{className:(0,x.$)("markdown-body","PendingCommentPreview-module__commentBody--hkwI8"),html:(t=h,i=(t.commentsData?.comments??[]).find(e=>e&&String(e.databaseId)===t.commentId),i?.bodyHTML??"")})]}),m[19]=S,m[20]=h,m[21]=g,m[22]=E,m[23]=_,m[24]=w,m[25]=p,m[26]=c):c=m[26],m[27]!==d||m[28]!==c?(u=(0,s.jsxs)("div",{className:"border rounded-2 d-flex flex-column",children:[d,c]}),m[27]=d,m[28]=c,m[29]=u):u=m[29],u});function ta(e,t){let i=new Set;return(t?.comments??[]).reduce((t,n)=>{if(!n||n.id===e)return t;let a=n.author?.login??"",r=n.author?.avatarUrl??"",l=n.author?.id??"",s=n.author?.url??"";return i.has(a)||(t.push({avatarUrl:r,login:a,id:l,url:s}),i.add(a)),t},[])}try{tn.displayName||(tn.displayName="PendingCommentPreview")}catch{}function tr(e){return!e}let tl=(0,y.memo)(function(e){let t,i,n,a,r,l,d=(0,o.c)(39),{onNavigateToDiffComment:c,tabSize:u,threadPreview:m,headingLevel:h}=e,{previewInfo:f}=m,{threadId:p,firstComment:g}=f,x=g?.id,y=f.path,{navigateToSelectedComment:b}=(0,j.Lh)(),v=(0,j.SM)(),C=f.subject?.endDiffSide==="RIGHT"?"R":"L",S=f.subject?.originalEndLine?`${C}${f.subject.originalEndLine}`:eQ.zW,_=v(Number(f.threadId),f.path,S),w=_?.isResolved||!1,E=f.isOutdated||!1;d[0]!==g?.databaseId||d[1]!==E||d[2]!==b||d[3]!==c||d[4]!==f.originalDiffPathUri?(t=()=>{let e=g?.databaseId;if(e){if(E&&f.originalDiffPathUri){let e=new URL(f.originalDiffPathUri);e.searchParams.set("new_files_changed","true"),window.location.href=e.toString()}else{b(e);let t=window.location.pathname+window.location.search;(0,N.kd)(`${t}#r${e}`)}c()}},d[0]=g?.databaseId,d[1]=E,d[2]=b,d[3]=c,d[4]=f.originalDiffPathUri,d[5]=t):t=d[5];let R=t;if(d[6]!==p)i=`panel-thread-collapsed-state-${p}`,d[6]=p,d[7]=i;else i=d[7];let[L,D]=(0,e0.M)(i,!1),I=f.threadPreviewComments.length,T=0===I?"No replies":`${I} ${1===I?"reply":"replies"}`,k={..._,id:_?.id??"",commentsData:{comments:[]}};if(!g||!k)return null;let O=ta(f.commentId,_?.commentsData??{comments:[]}),M=g?.databaseId;return d[8]!==L||d[9]!==D?(n=()=>D(!L),d[8]=L,d[9]=D,d[10]=n):n=d[10],d[11]!==h||d[12]!==L||d[13]!==E||d[14]!==w||d[15]!==S||d[16]!==R||d[17]!==M||d[18]!==n||d[19]!==m?(a=(0,s.jsx)(e8,{firstCommentId:M,isCollapsed:L,threadPreview:m,onNavigateToDiffComment:R,onToggleCollapsed:n,headingLevel:h,isResolved:w,isOutdated:E,lineKey:S}),d[11]=h,d[12]=L,d[13]=E,d[14]=w,d[15]=S,d[16]=R,d[17]=M,d[18]=n,d[19]=m,d[20]=a):a=d[20],d[21]!==O||d[22]!==x||d[23]!==y||d[24]!==g||d[25]!==L||d[26]!==E||d[27]!==w||d[28]!==S||d[29]!==R||d[30]!==f.originalDiffPathUri||d[31]!==f.subject?.diffLines||d[32]!==T||d[33]!==u||d[34]!==p?(r=!L&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"border-bottom borderColor-muted overflow-x-auto",children:(0,s.jsx)(eZ.i,{diffTableClassName:"border-0",diffLines:f?.subject?.diffLines,className:"m-0 border-0",tabSize:u||4})}),(0,s.jsx)("div",{children:(0,s.jsx)(eJ.U,{lineMarkersKey:S,hideActions:!0,isInlineComment:!1,comment:g,filePath:y,index:0,isAnchorable:!1,isOutdated:E,isThreadResolved:w,threadId:p,originalDiffPathUri:f.originalDiffPathUri,headingLevel:"h3"},x)}),(0,s.jsx)("div",{className:"mb-2 px-2",children:(0,s.jsx)(ec.Q,{"aria-label":`View ${T}`,size:"small",trailingVisual:A.ChevronRightIcon,variant:"invisible",onClick:R,children:(0,s.jsxs)("div",{className:"d-flex flex-row flex-justify-start flex-items-center gap-2",children:[(0,s.jsx)("span",{children:T}),(0,s.jsx)(te,{commentAuthors:O})]})})})]}),d[21]=O,d[22]=x,d[23]=y,d[24]=g,d[25]=L,d[26]=E,d[27]=w,d[28]=S,d[29]=R,d[30]=f.originalDiffPathUri,d[31]=f.subject?.diffLines,d[32]=T,d[33]=u,d[34]=p,d[35]=r):r=d[35],d[36]!==a||d[37]!==r?(l=(0,s.jsxs)("div",{className:"border rounded-2 d-flex flex-column",children:[a,r]}),d[36]=a,d[37]=r,d[38]=l):l=d[38],l});try{tl.displayName||(tl.displayName="ThreadPreview")}catch{}var ts=i(40090),to=i(82156);let td="ThreadPreviewSkeleton-module__diffLine--FdfDf",tc="ThreadPreviewSkeleton-module__lineNumberCol--XopBh",tu="ThreadPreviewSkeleton-module__diffContent--QTAFY",tm="ThreadPreviewSkeleton-module__commentLine--QWarv";function th(){let e,t,i,n,a,r,l,d=(0,o.c)(7);return d[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)("div",{className:"ThreadPreviewSkeleton-module__header--Kb2yD",children:(0,s.jsx)(ts.r,{size:"bodyMedium",className:"ThreadPreviewSkeleton-module__filePath--mkVse"})}),d[0]=e):e=d[0],d[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,s.jsxs)("div",{className:td,children:[(0,s.jsx)(to.f,{className:tc}),(0,s.jsx)(to.f,{className:tu})]}),d[1]=t):t=d[1],d[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,s.jsxs)("div",{className:td,children:[(0,s.jsx)(to.f,{className:tc}),(0,s.jsx)(to.f,{className:tu})]}),d[2]=i):i=d[2],d[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,s.jsxs)("div",{className:"ThreadPreviewSkeleton-module__diffPreview--GgYEG",children:[t,i,(0,s.jsxs)("div",{className:td,children:[(0,s.jsx)(to.f,{className:tc}),(0,s.jsx)(to.f,{className:tu})]})]}),d[3]=n):n=d[3],d[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,s.jsxs)("div",{className:"ThreadPreviewSkeleton-module__commentHeader--Q2qlw",children:[(0,s.jsx)(ts.r,{size:"bodySmall",className:"ThreadPreviewSkeleton-module__authorName--ZEd9b"}),(0,s.jsx)(ts.r,{size:"bodySmall",className:"ThreadPreviewSkeleton-module__timestamp--hWdJC"})]}),d[4]=a):a=d[4],d[5]===Symbol.for("react.memo_cache_sentinel")?(r=(0,s.jsxs)("div",{className:"ThreadPreviewSkeleton-module__comment--QDlk_",children:[a,(0,s.jsxs)("div",{className:"ThreadPreviewSkeleton-module__commentBody--ZeA3D",children:[(0,s.jsx)(ts.r,{size:"bodySmall",className:tm}),(0,s.jsx)(ts.r,{size:"bodySmall",className:tm})]})]}),d[5]=r):r=d[5],d[6]===Symbol.for("react.memo_cache_sentinel")?(l=(0,s.jsxs)("div",{className:"ThreadPreviewSkeleton-module__container--htTsy","data-testid":"thread-preview-skeleton-item",children:[e,n,r,(0,s.jsx)("div",{className:"ThreadPreviewSkeleton-module__footer--VRqF8",children:(0,s.jsx)(to.f,{className:"ThreadPreviewSkeleton-module__repliesButton--v96MV"})})]}),d[6]=l):l=d[6],l}function tf(e){let t,i=(0,o.c)(2),{count:n}=e,a=void 0===n?1:n;return i[0]!==a?(t=(0,s.jsx)("div",{className:"d-flex flex-column position-relative width-full gap-3","data-testid":"thread-preview-skeleton",children:Array.from({length:a},tp)}),i[0]=a,i[1]=t):t=i[1],t}function tp(e,t){return(0,s.jsx)(th,{},t)}try{th.displayName||(th.displayName="ThreadPreviewSkeletonItem")}catch{}try{tf.displayName||(tf.displayName="ThreadPreviewSkeleton")}catch{}var tg=i(4559),tx=i(76720);function ty(e){let t,i,n,a,r=(0,o.c)(11),{heading:l,description:d,icon:c,headingLevel:u}=e,m=void 0===u?"h1":u;return r[0]!==c?(t=(0,s.jsx)(tx.E.Visual,{children:(0,s.jsx)(c,{size:"medium"})}),r[0]=c,r[1]=t):t=r[1],r[2]!==l||r[3]!==m?(i=(0,s.jsx)(tx.E.Heading,{as:m,children:l}),r[2]=l,r[3]=m,r[4]=i):i=r[4],r[5]!==d?(n=d&&(0,s.jsx)(tx.E.Description,{children:d}),r[5]=d,r[6]=n):n=r[6],r[7]!==t||r[8]!==i||r[9]!==n?(a=(0,s.jsxs)(tx.E,{children:[t,i,n]}),r[7]=t,r[8]=i,r[9]=n,r[10]=a):a=r[10],a}try{ty.displayName||(ty.displayName="ZeroState")}catch{}var tb=i(24937);function tv(e){let t,i,n,a,r,l,d,c,u,m,h,f,p,g,x=(0,o.c)(40),{filteredThreadIds:v,onClose:C,pathName:S,isOpen:_,setThreadPreviews:N,tabSize:w}=e;x[0]!==S?(t={pathName:S},x[0]=S,x[1]=t):t=x[1];let{data:j,hasNextPage:E,isFetchingNextPage:R,fetchNextPage:L}=(0,tb.CB)(t);x[2]!==j.pages?(i=j.pages.flatMap(tC),x[2]=j.pages,x[3]=i):i=x[3];let D=i,I=(0,y.useRef)(!1);x[4]!==L||x[5]!==E||x[6]!==R?(n=()=>{(async()=>{!E||R||I.current||(I.current=!0,await L(),I.current=!1)})()},a=[E,R,L],x[4]=L,x[5]=E,x[6]=R,x[7]=n,x[8]=a):(n=x[7],a=x[8]),(0,y.useEffect)(n,a),x[9]!==N||x[10]!==D?(r=()=>{N(D)},l=[D,N],x[9]=N,x[10]=D,x[11]=r,x[12]=l):(r=x[11],l=x[12]),(0,y.useEffect)(r,l);let T=(0,y.useRef)(null);x[13]===Symbol.for("react.memo_cache_sentinel")?(d=(0,b.s)(tg.i,300),x[13]=d):d=x[13];let k=d,O=D.length>0;x[14]!==C?(c=()=>{C()},x[14]=C,x[15]=c):c=x[15];let M=c;if(x[16]!==v||x[17]!==M||x[18]!==w||x[19]!==D){let e;x[21]!==v||x[22]!==M||x[23]!==w?(e=e=>e&&v.has(e.previewInfo.threadId)?(0,s.jsx)(tl,{tabSize:w,threadPreview:e,onNavigateToDiffComment:M,headingLevel:"h2"},e.previewInfo.threadId):null,x[21]=v,x[22]=M,x[23]=w,x[24]=e):e=x[24],u=D.map(e).filter(Boolean),x[16]=v,x[17]=M,x[18]=w,x[19]=D,x[20]=u}else u=x[20];let P=u;return x[25]!==R||x[26]!==_||x[27]!==P.length?(m=()=>{!_||R||k(P.length>0?`${P.length} ${1===P.length?"comment":"comments"}`:"No comments found",{element:T.current})},x[25]=R,x[26]=_,x[27]=P.length,x[28]=m):m=x[28],x[29]!==R||x[30]!==_||x[31]!==P?(h=[_,R,k,P],x[29]=R,x[30]=_,x[31]=P,x[32]=h):h=x[32],(0,y.useEffect)(m,h),x[33]!==O||x[34]!==R||x[35]!==P?(f=P.length>0?(0,s.jsx)(y.Suspense,{fallback:(0,s.jsx)(tf,{}),children:(0,s.jsxs)("div",{className:"d-flex flex-column position-relative width-full gap-3",children:[P,R&&(0,s.jsx)(tf,{count:1})]})}):R?(0,s.jsx)(tf,{}):(0,s.jsx)("div",{className:"d-flex flex-column position-relative width-full height-full flex-justify-center",children:(0,s.jsx)(ty,{description:"Comments will show up here as soon as there are some.",heading:O?"No comments match the current filter":"No comments on changes yet",icon:A.CommentIcon,headingLevel:"h2"})}),x[33]=O,x[34]=R,x[35]=P,x[36]=f):f=x[36],x[37]===Symbol.for("react.memo_cache_sentinel")?(p=(0,s.jsx)("div",{className:"sr-only","aria-live":"polite","aria-atomic":"true",ref:T}),x[37]=p):p=x[37],x[38]!==f?(g=(0,s.jsxs)(s.Fragment,{children:[f,p]}),x[38]=f,x[39]=g):g=x[39],g}function tC(e){return e.data}let tS=(0,y.memo)(function(e){let t,i,n,a,r,l,d,c,u,m,h,f,g=(0,o.c)(27);g[0]!==e?({pathName:i,toggleSidesheetRef:a,pageLimits:t,...n}=e,g[0]=e,g[1]=t,g[2]=i,g[3]=n,g[4]=a):(t=g[1],i=g[2],n=g[3],a=g[4]),g[5]===Symbol.for("react.memo_cache_sentinel")?(r=[],g[5]=r):r=g[5];let[x,b]=(0,y.useState)(r),[v,C]=(0,y.useState)(t_),S=function(e,t){let i,n=(0,o.c)(4),a=(0,j.SM)();if(n[0]!==t||n[1]!==a||n[2]!==e)i=new Set([...e.filter(e=>{let{previewInfo:i}=e,n=i.subject?.endDiffSide==="RIGHT"?"R":"L",r=i.subject?.originalEndLine?`${n}${i.subject.originalEndLine}`:eQ.zW,l=a(Number(i.threadId),i.path,r);return function(e,t){let{filterText:i,showResolvedThreads:n}=t;if(!n&&e.isResolved||!t.showOutdatedThreads&&e.isOutdated)return!1;if(i){let t=i.toLowerCase();if(!e.authorLogin.toLowerCase().includes(t)&&!e.body.toLowerCase().includes(t)&&!e.path.toLowerCase().includes(t))return!1}return!t.selectedAuthor||e.authorLogin===t.selectedAuthor}({authorLogin:i.firstComment?.author?.login??"",body:i.firstComment?.body??"",id:i.threadId,isResolved:l?.isResolved??!1,isOutdated:i?.isOutdated??!1,path:i.path},t)}).map(e=>e.previewInfo.threadId??"")]),n[0]=t,n[1]=a,n[2]=e,n[3]=i;else i=n[3];return i}(x,v),_=(0,y.useRef)(null);if(g[6]!==x){for(let e of(l=[],x)){let t=e.previewInfo.firstComment;t?.author&&!l.some(e=>e.login===t.author?.login)&&("Copilot"===t.author.login?l.unshift(t.author):l.push(t.author))}g[6]=x,g[7]=l}else l=g[7];let N=l,w=e$(t),E=w?t.reviewThreadsPaginatedLimitExceeded:t.reviewThreadsLimitExceeded,R=w?t.reviewThreadsPaginatedLimit:t.reviewThreadsLimit;return n.isOpen?(g[8]===Symbol.for("react.memo_cache_sentinel")?(d={narrow:"fullscreen",regular:"right",wide:"right"},g[8]=d):d=g[8],g[9]!==N||g[10]!==v||g[11]!==n.onClose?(c=e=>{let{dialogLabelId:t}=e;return(0,s.jsxs)(p.l.Header,{children:[(0,s.jsxs)("div",{className:"d-flex flex-row flex-justify-between flex-items-center width-full pl-2",children:[(0,s.jsx)(p.l.Title,{id:t,children:"Comments"}),(0,s.jsx)(er.K,{ref:_,"aria-label":"Close comments panel",icon:A.XIcon,variant:"invisible",onClick:n.onClose})]}),(0,s.jsx)(eY,{authorList:N,className:"mt-2 width-full",filterState:v,onFilterStateChange:C})]})},g[9]=N,g[10]=v,g[11]=n.onClose,g[12]=c):c=g[12],g[13]!==R||g[14]!==E?(u=E&&(0,s.jsx)(eU.l,{"aria-label":"Warning",title:"Warning",variant:"warning",hideTitle:!0,description:`Only the ${R} latest comments are being shown.`,className:"mb-3"}),g[13]=R,g[14]=E,g[15]=u):u=g[15],g[16]===Symbol.for("react.memo_cache_sentinel")?(m=(0,s.jsx)(tf,{}),g[16]=m):m=g[16],g[17]!==S||g[18]!==i||g[19]!==n?(h=(0,s.jsx)(y.Suspense,{fallback:m,children:(0,s.jsx)(tv,{...n,filteredThreadIds:S,pathName:i,setThreadPreviews:b})}),g[17]=S,g[18]=i,g[19]=n,g[20]=h):h=g[20],g[21]!==n.onClose||g[22]!==c||g[23]!==u||g[24]!==h||g[25]!==a?(f=(0,s.jsxs)(p.l,{initialFocusRef:_,position:d,returnFocusRef:a,onClose:n.onClose,renderHeader:c,children:[u,h]}),g[21]=n.onClose,g[22]=c,g[23]=u,g[24]=h,g[25]=a,g[26]=f):f=g[26],f):null});try{tv.displayName||(tv.displayName="CommentsSidePanelContent")}catch{}try{tS.displayName||(tS.displayName="CommentsSidePanel")}catch{}function t_(){return{...eX}}function tN(e){let t,i,n,a,r,l,d,c=(0,o.c)(18),{isFileTreeExpanded:u,pageLimits:m,pullRequest:h,tabSize:f}=e,[p,g]=(0,y.useState)(!1),x=(0,y.useRef)(null),b=(0,j.Qb)(),{sendPullRequestAnalyticsEvent:v}=(0,en.q)();return c[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,s.jsx)(ec.Q,{"aria-label":"The comments side panel cannot currently be opened.",leadingVisual:A.CommentDiscussionIcon,size:"small",variant:"invisible"}),c[0]=t):t=c[0],c[1]!==v?(i=()=>{v("comments_side_panel.open","COMMENTS_SIDE_PANEL_BUTTON"),eV(),g(!0)},c[1]=v,c[2]=i):i=c[2],c[3]!==u?(n=u&&(0,s.jsx)("span",{className:"d-none d-xl-block",children:"Comments"}),c[3]=u,c[4]=n):n=c[4],c[5]!==b||c[6]!==i||c[7]!==n?(a=(0,s.jsx)(ec.Q,{ref:x,"aria-label":"Open comments side panel",count:b,leadingVisual:A.CommentDiscussionIcon,size:"small",onClick:i,children:n}),c[5]=b,c[6]=i,c[7]=n,c[8]=a):a=c[8],c[9]===Symbol.for("react.memo_cache_sentinel")?(r=()=>g(!1),c[9]=r):r=c[9],c[10]!==p||c[11]!==m||c[12]!==h.pathName||c[13]!==f?(l=(0,s.jsx)(tS,{isOpen:p,pageLimits:m,pathName:h.pathName,tabSize:f,toggleSidesheetRef:x,onClose:r}),c[10]=p,c[11]=m,c[12]=h.pathName,c[13]=f,c[14]=l):l=c[14],c[15]!==a||c[16]!==l?(d=(0,s.jsx)("div",{className:"d-flex flex-items-center",children:(0,s.jsxs)(ee.t,{boundaryName:"OpenCommentsSidePanelButton",fallback:t,children:[a,l]})}),c[15]=a,c[16]=l,c[17]=d):d=c[17],d}try{tN.displayName||(tN.displayName="OpenCommentsSidePanelButton")}catch{}var tw=i(86909);function tj(e){let t,i,n,a=(0,o.c)(8),{className:r,filteredText:l,onFilteredTextChange:d}=e;return a[0]!==d?(t=e=>d(e.target.value),a[0]=d,a[1]=t):t=a[1],a[2]!==l||a[3]!==t?(i=(0,s.jsx)(eK.A,{block:!0,"aria-label":"Filter alerts\u2026",leadingVisual:A.SearchIcon,placeholder:"Filter alerts\u2026",value:l,onChange:t}),a[2]=l,a[3]=t,a[4]=i):i=a[4],a[5]!==r||a[6]!==i?(n=(0,s.jsx)("div",{className:r,children:i}),a[5]=r,a[6]=i,a[7]=n):n=a[7],n}try{tj.displayName||(tj.displayName="AlertsFilter")}catch{}function tE(e){let t,i,n,a,r,l,d,c,u=(0,o.c)(25),{databaseId:m,lineNumber:h,path:f,toggleCollapsed:p,isCollapsed:g,onNavigateToAnnotation:y,annotationLevel:b}=e,v=g?"Expand annotation":"Collapse annotation",C=g?A.ChevronRightIcon:A.ChevronDownIcon;u[0]!==v||u[1]!==C||u[2]!==p?(t=(0,s.jsx)(er.K,{"aria-label":v,icon:C,size:"small",variant:"invisible",className:"mr-1",onClick:p}),u[0]=v,u[1]=C,u[2]=p,u[3]=t):t=u[3];let S=tw.Gt[b];u[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,x.$)("overflow-hidden text-mono text-semibold f6 no-wrap","AlertsSidePanel-module__annotationsHeaderFileName--JzcsF"),u[4]=i):i=u[4];let _=`#annotation_${m}`;u[5]!==y||u[6]!==f||u[7]!==_?(n=(0,s.jsxs)(O.A,{className:i,href:_,onClick:y,muted:!0,children:["\u200E",f]}),u[5]=y,u[6]=f,u[7]=_,u[8]=n):n=u[8],u[9]!==f||u[10]!==n?(a=(0,s.jsx)(k.m,{direction:"n",text:f,type:"label",children:n}),u[9]=f,u[10]=n,u[11]=a):a=u[11],u[12]!==h?(r=(0,s.jsxs)("span",{className:"f6 fgColor-muted text-normal ml-2 no-wrap",children:["Line ",h]}),u[12]=h,u[13]=r):r=u[13],u[14]!==t||u[15]!==S||u[16]!==a||u[17]!==r?(l=(0,s.jsxs)("h2",{className:"d-flex flex-items-center flex-1 min-width-0 ml-1 mr-2",children:[t,S,a,r]}),u[14]=t,u[15]=S,u[16]=a,u[17]=r,u[18]=l):l=u[18];let N=`#annotation_${m}`;return u[19]!==y||u[20]!==N?(d=(0,s.jsx)(er.K,{as:"a","aria-label":"Jump to the alert in the diff",tooltipDirection:"se",icon:A.FileSymlinkFileIcon,variant:"invisible",href:N,onClick:y}),u[19]=y,u[20]=N,u[21]=d):d=u[21],u[22]!==l||u[23]!==d?(c=(0,s.jsxs)("div",{className:"d-flex flex-row flex-items-center py-1 px-2 bgColor-inset rounded-top-2 border-bottom",children:[l,d]}),u[22]=l,u[23]=d,u[24]=c):c=u[24],c}let tR=(0,y.memo)(function(e){let t,i,n,a,r,l,d,c,u,m,h=(0,o.c)(26),{annotations:f,onClose:g,isOpen:x,pageLimits:v,returnFocusRef:C}=e,[S,_]=(0,y.useState)(""),N=new Set(f.filter(e=>(function(e,t){if(t){let i=t.toLowerCase();if(!e.annotationLevel.toLowerCase().includes(i)&&!e.message.toLowerCase().includes(i)&&!e.path.toLowerCase().includes(i)&&!e.title?.toLowerCase().includes(i)&&!e.checkRun.name?.toLowerCase().includes(i)&&!e.appAvatarAltText.toLowerCase().includes(i)&&!e.checkSuiteName?.toLowerCase().includes(i))return!1}return!0})(e,S)).map(e=>e.id)),w=(0,y.useRef)(null),E=f.length>0,R=(0,j.j5)(),{navigateToSelectedAnnotation:L}=(0,j.Lh)();h[0]!==R||h[1]!==L||h[2]!==g?(t=e=>{R&&L(e),g()},h[0]=R,h[1]=L,h[2]=g,h[3]=t):t=h[3];let D=t,I=f.map(e=>e&&N.has(e.id)?(0,s.jsx)(tL,{annotation:e,handleNavigateToAnnotation:D},e.id):null).filter(Boolean),T=(0,y.useRef)(null);h[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,b.s)(tg.i,300),h[4]=i):i=h[4];let k=i;return(h[5]!==I||h[6]!==x?(n=()=>{x&&k(I.length>0?`${I.length} ${1===I.length?"alert":"alerts"}`:"No alerts found",{element:T.current})},a=[x,k,I],h[5]=I,h[6]=x,h[7]=n,h[8]=a):(n=h[7],a=h[8]),(0,y.useEffect)(n,a),x)?(h[9]===Symbol.for("react.memo_cache_sentinel")?(r={narrow:"fullscreen",regular:"right",wide:"right"},h[9]=r):r=h[9],h[10]!==S||h[11]!==g?(l=e=>{let{dialogLabelId:t}=e;return(0,s.jsxs)(p.l.Header,{children:[(0,s.jsxs)("div",{className:"d-flex flex-row flex-items-center flex-justify-between width-full pl-2",children:[(0,s.jsx)(et.A,{as:"h1",className:"f4 text-bold",id:t,children:"Alerts"}),(0,s.jsx)(er.K,{ref:w,"aria-label":"Close alerts panel",icon:A.XIcon,variant:"invisible",onClick:g})]}),(0,s.jsx)(tj,{className:"mt-2 width-full",filteredText:S,onFilteredTextChange:_})]})},h[10]=S,h[11]=g,h[12]=l):l=h[12],h[13]!==v.annotationsLimit||h[14]!==v.annotationsLimitExceeded?(d=v.annotationsLimitExceeded&&(0,s.jsx)(eU.l,{"aria-label":"Warning",title:"Warning",variant:"warning",hideTitle:!0,description:`Only the first ${v.annotationsLimit} alerts are currently being shown.`,className:"mb-3"}),h[13]=v.annotationsLimit,h[14]=v.annotationsLimitExceeded,h[15]=d):d=h[15],h[16]!==I||h[17]!==E?(c=I.length>0?(0,s.jsx)("div",{className:"d-flex flex-column position-relative width-full gap-3",children:I}):(0,s.jsx)("div",{className:"d-flex flex-column position-relative width-full height-full flex-justify-center",children:(0,s.jsx)(ty,{heading:E?"No alerts match the current filter":"No alerts on changes yet",icon:A.AlertIcon})}),h[16]=I,h[17]=E,h[18]=c):c=h[18],h[19]===Symbol.for("react.memo_cache_sentinel")?(u=(0,s.jsx)("div",{className:"sr-only","aria-live":"polite","aria-atomic":"true",ref:T}),h[19]=u):u=h[19],h[20]!==g||h[21]!==C||h[22]!==l||h[23]!==d||h[24]!==c?(m=(0,s.jsxs)(p.l,{initialFocusRef:w,onClose:g,position:r,returnFocusRef:C,renderHeader:l,children:[d,c,u]}),h[20]=g,h[21]=C,h[22]=l,h[23]=d,h[24]=c,h[25]=m):m=h[25],m):null});function tL(e){let t,i,n,a,r=(0,o.c)(18),{annotation:l,handleNavigateToAnnotation:d}=e,{isCollapsed:c,handleToggleCollapsed:u}=(0,tw.Vv)(l);return r[0]!==l.databaseId||r[1]!==d?(t=()=>d(l.databaseId),r[0]=l.databaseId,r[1]=d,r[2]=t):t=r[2],r[3]!==l.annotationLevel||r[4]!==l.databaseId||r[5]!==l.endLine||r[6]!==l.path||r[7]!==u||r[8]!==c||r[9]!==t?(i=(0,s.jsx)(tE,{databaseId:l.databaseId,lineNumber:l.endLine,annotationLevel:l.annotationLevel,path:l.path,toggleCollapsed:u,isCollapsed:c,onNavigateToAnnotation:t}),r[3]=l.annotationLevel,r[4]=l.databaseId,r[5]=l.endLine,r[6]=l.path,r[7]=u,r[8]=c,r[9]=t,r[10]=i):i=r[10],r[11]!==l||r[12]!==c?(n=!c&&(0,s.jsx)(tw.YH,{annotation:l,inSidePanel:!0}),r[11]=l,r[12]=c,r[13]=n):n=r[13],r[14]!==l.id||r[15]!==i||r[16]!==n?(a=(0,s.jsxs)("div",{className:"border rounded-2 bgColor-default overflow-hidden",children:[i,n]},l.id),r[14]=l.id,r[15]=i,r[16]=n,r[17]=a):a=r[17],a}try{tE.displayName||(tE.displayName="AnnotationHeader")}catch{}try{tR.displayName||(tR.displayName="AlertsSidePanel")}catch{}try{tL.displayName||(tL.displayName="SidePanelAlert")}catch{}function tD(e){let t,i,n=(0,o.c)(9),{isFileTreeExpanded:a,pageLimits:r,className:l}=e,[d,c]=(0,y.useState)(!1),u=(0,y.useRef)(null);n[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>c(!1),n[0]=t):t=n[0];let m=t,h=(0,j.wI)(),{sendPullRequestAnalyticsEvent:f}=(0,en.q)();if(!h)return null;let p=h.length;return n[1]!==h||n[2]!==l||n[3]!==a||n[4]!==r||n[5]!==f||n[6]!==d||n[7]!==p?(i=p>0?(0,s.jsx)("div",{className:"d-flex flex-items-center",children:(0,s.jsxs)(ee.t,{boundaryName:"OpenAlertsPanelButton",fallback:(0,s.jsx)(er.K,{inactive:!0,"aria-label":"The alerts side panel cannot currently be opened.",icon:A.AlertIcon,size:"small",variant:"invisible"}),children:[(0,s.jsx)(ec.Q,{ref:u,className:l,"aria-label":"Open alerts side panel",count:p,leadingVisual:A.AlertIcon,size:"small",onClick:()=>{f("alerts_side_panel.open","ALERTS_SIDE_PANEL_BUTTON"),eV(),c(!0)},children:a&&(0,s.jsx)("span",{className:"d-none d-xl-block",children:"Alerts"})}),(0,s.jsx)(tR,{annotations:h,isOpen:d,pageLimits:r,returnFocusRef:u,onClose:m})]})}):null,n[1]=h,n[2]=l,n[3]=a,n[4]=r,n[5]=f,n[6]=d,n[7]=p,n[8]=i):i=n[8],i}try{tD.displayName||(tD.displayName="OpenAlertsPanelButton")}catch{}var tI=i(70109),tT=i(46251),tA=i(31604),tk=i(33578);let tO={approve:"approve",comment:"comment",requestChanges:"request changes"};var tM=i(46747);let{getItem:tP,removeItem:tF,setItem:tU}=(0,eE.D)("localStorage");function t$(e){return"pending"===e.state}var tB=i(29255),tq=i(55461),tH=i(15837),tG=i(33989),tV=i(55255);function tK(e){let t,i,n,a=(0,o.c)(13),{isPROpen:r,reviewEvent:l,viewerAllowedNonCommentReviewTypes:d,viewerCanWriteToRepo:c,viewerHasViolatedPushPolicy:u,viewerIsAuthor:m,viewerIsCopilotAttributed:f,handleReviewEventChange:p,handleReviewSubmit:g}=e;return r?(a[0]!==g?(t={"pull-request-files-changed:submit-review":g},a[0]=g,a[1]=t):t=a[1],a[2]!==p||a[3]!==l||a[4]!==d||a[5]!==c||a[6]!==u||a[7]!==m||a[8]!==f?(i=(0,s.jsx)(tW,{reviewEvent:l,viewerAllowedNonCommentReviewTypes:d,viewerCanWriteToRepo:c,viewerHasViolatedPushPolicy:u,viewerIsAuthor:m,viewerIsCopilotAttributed:f,onReviewEventChange:p}),a[2]=p,a[3]=l,a[4]=d,a[5]=c,a[6]=u,a[7]=m,a[8]=f,a[9]=i):i=a[9],a[10]!==t||a[11]!==i?(n=(0,s.jsx)(h.tL,{commands:t,children:i}),a[10]=t,a[11]=i,a[12]=n):n=a[12],n):null}let tW=(0,y.memo)(function(e){var t,i,n,a,r;let l,d,c,u,m,h,f,p,g,x,y,b,v,C=(0,o.c)(34),{onReviewEventChange:S,reviewEvent:_,viewerAllowedNonCommentReviewTypes:N,viewerCanWriteToRepo:w,viewerHasViolatedPushPolicy:j,viewerIsAuthor:E,viewerIsCopilotAttributed:R}=e;C[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,s.jsx)(tH.A.Label,{visuallyHidden:!0,children:"Review Event"}),C[0]=l):l=C[0];let L=_===tO.comment;C[1]===Symbol.for("react.memo_cache_sentinel")?(d=(0,tq.ZH)(tO.comment),C[1]=d):d=C[1],C[2]!==L?(c=(0,s.jsx)(tz,{checked:L,label:d,subLabel:"Submit general feedback without explicit approval.",value:tO.comment}),C[2]=L,C[3]=c):c=C[3];let D=_===tO.approve;C[4]!==N?(u=N.includes("APPROVE"),C[4]=N,C[5]=u):u=C[5];let I=!u;C[6]===Symbol.for("react.memo_cache_sentinel")?(m=(0,tq.ZH)(tO.approve),C[6]=m):m=C[6],C[7]!==R?(h=R?"Only users who did not collaborate with the coding agent will satisfy review requirements.":"Submit feedback and approve merging these changes.",C[7]=R,C[8]=h):h=C[8];let T=!!j;C[9]!==T||C[10]!==N||C[11]!==E?(t=E,i=T,n=N,f=t?"Pull request authors can't approve their own pull requests.":i?"Users that pushed changes to this pull request after it was opened can't approve":n.includes("APPROVE")?"":"Only users with explicit access to this repository may approve pull requests",C[9]=T,C[10]=N,C[11]=E,C[12]=f):f=C[12],C[13]!==f||C[14]!==D||C[15]!==I||C[16]!==h?(p=(0,s.jsx)(tz,{checked:D,disabled:I,label:m,subLabel:h,value:tO.approve,disabledTooltip:f}),C[13]=f,C[14]=D,C[15]=I,C[16]=h,C[17]=p):p=C[17];let A=_===tO.requestChanges;C[18]!==N?(g=N.includes("REQUEST_CHANGES"),C[18]=N,C[19]=g):g=C[19];let k=!g;C[20]!==N||C[21]!==E?(a=E,r=N,x=a?"Pull request authors can't request changes on their own pull requests.":r.includes("REQUEST_CHANGES")?"":"Only users with explicit access to this repository may request changes on pull requests",C[20]=N,C[21]=E,C[22]=x):x=C[22],C[23]===Symbol.for("react.memo_cache_sentinel")?(y=(0,tq.ZH)(tO.requestChanges),C[23]=y):y=C[23];let O=w?"Submit feedback that must be addressed before merging.":"Submit feedback suggesting changes.";return C[24]!==A||C[25]!==k||C[26]!==x||C[27]!==O?(b=(0,s.jsx)(tz,{checked:A,disabled:k,disabledTooltip:x,label:y,value:tO.requestChanges,subLabel:O}),C[24]=A,C[25]=k,C[26]=x,C[27]=O,C[28]=b):b=C[28],C[29]!==S||C[30]!==p||C[31]!==b||C[32]!==c?(v=(0,s.jsxs)(tH.A,{name:"reviewEvent",onChange:S,className:"ReviewMenu-module__RadioGroup--uQwUG",children:[l,c,p,b]}),C[29]=S,C[30]=p,C[31]=b,C[32]=c,C[33]=v):v=C[33],v});function tz(e){let t,i,n,a,r,l,d=(0,o.c)(18),{checked:c,disabled:u,disabledTooltip:m,label:h,subLabel:f,value:p}=e;d[0]!==c||d[1]!==p?(t=(0,s.jsx)(tG.A,{checked:c,value:p,className:"ReviewMenu-module__Radio--i3DSd"}),d[0]=c,d[1]=p,d[2]=t):t=d[2],d[3]!==h?(i=(0,s.jsx)("span",{className:"text-bold",children:h}),d[3]=h,d[4]=i):i=d[4],d[5]!==f?(n=(0,s.jsx)("span",{className:"ReviewMenu-module__RadioText--dXY49",children:f}),d[5]=f,d[6]=n):n=d[6],d[7]!==i||d[8]!==n?(a=(0,s.jsxs)(es.A.Label,{className:"d-flex flex-column",children:[i,n]}),d[7]=i,d[8]=n,d[9]=a):a=d[9],d[10]!==u||d[11]!==t||d[12]!==a?(r=(0,s.jsxs)(es.A,{disabled:u,children:[t,a]}),d[10]=u,d[11]=t,d[12]=a,d[13]=r):r=d[13];let g=r;return d[14]!==u||d[15]!==m||d[16]!==g?(l=u&&m?(0,s.jsx)(tV.A,{text:m,children:g}):g,d[14]=u,d[15]=m,d[16]=g,d[17]=l):l=d[17],l}try{tK.displayName||(tK.displayName="ReviewTypeSelector")}catch{}try{tW.displayName||(tW.displayName="ReviewRadioButtons")}catch{}try{tz.displayName||(tz.displayName="RadioButton")}catch{}var tQ=i(4908),tX=i(23398);function tY(e){let t,i,n,a,r,l,d,c,u,m,h=(0,o.c)(23),{totalPendingComments:f,commentsList:p,handleNavigateToDiffComment:g}=e;h[0]===Symbol.for("react.memo_cache_sentinel")?(t={defaultOpen:!0,closeOnOutsideClick:!1},h[0]=t):t=h[0];let{getDetailsProps:x,open:b}=(0,tQ.A)(t);return f?(h[1]!==x?(i=x(),h[1]=x,h[2]=i):i=h[2],h[3]!==b?(n=b&&(0,s.jsx)(A.ChevronDownIcon,{className:"fgColor-muted"}),h[3]=b,h[4]=n):n=h[4],h[5]!==b?(a=!b&&(0,s.jsx)(A.ChevronRightIcon,{className:"fgColor-muted"}),h[5]=b,h[6]=a):a=h[6],h[7]!==f?(r=(0,s.jsxs)(et.A,{as:"h2",className:"f5",children:["Pending comments ",(0,s.jsx)(S.A,{children:f})]}),h[7]=f,h[8]=r):r=h[8],h[9]!==n||h[10]!==a||h[11]!==r?(l=(0,s.jsx)(tX.A.Summary,{children:(0,s.jsxs)("div",{className:"d-flex flex-row flex-items-center gap-2 mt-4 mb-2",children:[n,a,r]})}),h[9]=n,h[10]=a,h[11]=r,h[12]=l):l=h[12],h[13]===Symbol.for("react.memo_cache_sentinel")?(d=(0,s.jsx)(ei.A,{}),h[13]=d):d=h[13],h[14]!==p||h[15]!==g?(c=p?.map(e=>(0,s.jsx)(tn,{commentPreview:e,onNavigateToDiffComment:g},e.threadId)),h[14]=p,h[15]=g,h[16]=c):c=h[16],h[17]!==c?(u=(0,s.jsx)(y.Suspense,{fallback:d,children:(0,s.jsx)("div",{className:"d-flex flex-column gap-3",children:c})}),h[17]=c,h[18]=u):u=h[18],h[19]!==i||h[20]!==l||h[21]!==u?(m=(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(tX.A,{...i,children:[l,u]})}),h[19]=i,h[20]=l,h[21]=u,h[22]=m):m=h[22],m):null}try{tY.displayName||(tY.displayName="ReviewCommentsSection")}catch{}var tJ=i(56149);let tZ=e=>{let t,i,n,a=(0,o.c)(4),{portalName:r}=e,l=(0,y.useRef)(null);return a[0]!==r?(t=()=>{l.current&&(0,tJ.cw)(l.current,r)},i=[r],a[0]=r,a[1]=t,a[2]=i):(t=a[1],i=a[2]),(0,y.useEffect)(t,i),a[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,s.jsx)("div",{ref:l,className:"position-absolute"}),a[3]=n):n=a[3],n};try{tZ.displayName||(tZ.displayName="OverlayPortalContainer")}catch{}let t0="review-menu-portal-root";function t1(e){let t,i,n,a,r,l,d,c,u,m,h,f,g,x,b,v,C,S,_,N,w,E,R,L,D,I,T,k,O,M,P,F,U,$=(0,o.c)(99),{currentUserLogin:B,pullRequest:q,repository:H,redirectOnMutation:G}=e,V=void 0===G||G,{author:K,pathName:W,state:z,viewerAllowedNonCommentReviewTypes:Q,viewerHasViolatedPushPolicy:X,viewerIsCopilotAttributed:Y,comparison:J}=q,Z=(0,j.ys)(),{persistedReview:ee,persistReviewToStorage:ei,removePersistedReviewFromStorage:ea}=function(e){let t,i,n,a,r=(0,o.c)(11),[l,s]=(0,y.useState)(!1),d=`Review:${e}`;r[0]!==d?(t=()=>tP(d),r[0]=d,r[1]=t):t=r[1];let[c,u]=(0,y.useState)(t);r[2]!==d?(i=()=>{tF(d),u(null)},r[2]=d,r[3]=i):i=r[3];let m=i;r[4]!==l||r[5]!==d?(n=(e,t)=>{if(!l)try{let i={event:e,text:t};tU(d,i),u(i)}catch{s(!0)}},r[4]=l,r[5]=d,r[6]=n):n=r[6];let h=(0,tM.d)(n,1e3);return r[7]!==h||r[8]!==c||r[9]!==m?(a={persistedReview:c,persistReviewToStorage:h,removePersistedReviewFromStorage:m},r[7]=h,r[8]=c,r[9]=m,r[10]=a):a=r[10],a}(W),el=Z.pendingReviewIDs?.length??0,es=K?.login===B,eo=z!==tk.Q.Closed&&z!==tk.Q.Merged,ed="WRITE"===H.viewerPermission||"ADMIN"===H.viewerPermission,eu=J.headOid,[em,eh]=(0,y.useState)("none"),[ex,ey]=(0,y.useState)("idle"),[eb,ev]=(0,y.useState)(),[eC,eS]=(0,y.useState)(ee?.event??tO.comment);$[0]!==Z.pendingReviewIDs?(t=Z?.pendingReviewIDs??[],$[0]=Z.pendingReviewIDs,$[1]=t):t=$[1];let e_=t.length>0,ew=(0,y.useRef)(null),ej=ee?.text??"",eE=(0,y.useRef)(ej),[eR,eL]=(0,y.useState)(!!ee?.text),eD="submitting"===ex||!eR&&eC===tO.comment&&!el,{sendPullRequestAnalyticsEvent:eI}=(0,en.q)();$[2]!==ei||$[3]!==eC?(i=e=>{eE.current=e,eL(!!e.trim()),ei(eC,e)},$[2]=ei,$[3]=eC,$[4]=i):i=$[4];let eT=i;$[5]!==ei?(n=e=>{Object.values(tO).includes(e)&&(eS(e),ei(e,eE.current))},$[5]=ei,$[6]=n):n=$[6];let eA=n;$[7]!==V||$[8]!==ea?(a=e=>{let{redirectUrl:t}=e;ea(),V&&(window.location.href=t)},$[7]=V,$[8]=ea,$[9]=a):a=$[9],$[10]===Symbol.for("react.memo_cache_sentinel")?(r=e=>{ey("idle"),ev(e.message)},$[10]=r):r=$[10],$[11]!==a?(l={onSuccess:a,onError:r},$[11]=a,$[12]=l):l=$[12];let{mutate:ek}=function(e){let t,i,n,a,r=(0,o.c)(10),{onSuccess:l,onError:s}=e,d=(0,ep.e)(ef.uT.submitReview);return r[0]!==d?(t=async e=>{let{body:t,event:i,headSha:n}=e;return(0,eN.Sr)(`${d}`,{method:"PUT",headers:{Accept:"application/json"},body:{body:t,event:i,headSha:n}})},r[0]=d,r[1]=t):t=r[1],r[2]!==l?(i=async e=>{let t=await e.json(),i=t.error||"Unknown error occurred";if(!e.ok)throw Error(i);l(t)},r[2]=l,r[3]=i):i=r[3],r[4]!==s?(n=e=>{s(e)},r[4]=s,r[5]=n):n=r[5],r[6]!==t||r[7]!==i||r[8]!==n?(a={mutationFn:t,onSuccess:i,onError:n},r[6]=t,r[7]=i,r[8]=n,r[9]=a):a=r[9],(0,eg.n)(a)}(l);$[13]!==V||$[14]!==ea?(d=e=>{let{redirectUrl:t}=e;ea(),V&&(window.location.href=t)},$[13]=V,$[14]=ea,$[15]=d):d=$[15],$[16]===Symbol.for("react.memo_cache_sentinel")?(c=e=>{ey("idle"),ev(e.message)},$[16]=c):c=$[16],$[17]!==d?(u={onSuccess:d,onError:c},$[17]=d,$[18]=u):u=$[18];let{mutate:eO}=function(e){let t,i,n,a,r=(0,o.c)(10),{onSuccess:l,onError:s}=e,d=(0,ep.e)(ef.uT.abandonReview);return r[0]!==d?(t=async()=>(0,eN.Sr)(`${d}`,{method:"DELETE",headers:{Accept:"application/json"}}),r[0]=d,r[1]=t):t=r[1],r[2]!==l?(i=async e=>{let t=await e.json(),i=t.error||"Unknown error occurred";if(!e.ok)throw Error(i);l(t)},r[2]=l,r[3]=i):i=r[3],r[4]!==s?(n=e=>{s(e)},r[4]=s,r[5]=n):n=r[5],r[6]!==t||r[7]!==i||r[8]!==n?(a={mutationFn:t,onSuccess:i,onError:n},r[6]=t,r[7]=i,r[8]=n,r[9]=a):a=r[9],(0,eg.n)(a)}(u);$[19]!==eb||$[20]!==eu||$[21]!==eC||$[22]!==eI||$[23]!==eD||$[24]!==ek?(m=()=>{eD||(eb&&ev(void 0),ey("submitting"),eI("submit_review_dialog.submit","SUBMIT_REVIEW_BUTTON"),ek({body:eE.current,event:eC,headSha:eu}))},$[19]=eb,$[20]=eu,$[21]=eC,$[22]=eI,$[23]=eD,$[24]=ek,$[25]=m):m=$[25];let eM=m;$[26]!==eO||$[27]!==eb||$[28]!==Z.pendingReviewIDs||$[29]!==eI?(h=()=>{!Z?.pendingReviewIDs||Z?.pendingReviewIDs.length===0||confirm("Are you sure you want to cancel? You will lose all your pending comments.")&&(eb&&ev(void 0),ey("canceling"),eI("submit_review_dialog.cancel","CANCEL_REVIEW_BUTTON"),eO())},$[26]=eO,$[27]=eb,$[28]=Z.pendingReviewIDs,$[29]=eI,$[30]=h):h=$[30];let eP=h;$[31]!==eo||$[32]!==Q||$[33]!==es?(f=function({viewerIsAuthor:e,viewerAllowedNonCommentReviewTypes:t,isPROpen:i}){let n=t.includes("APPROVE"),a=t.includes("REQUEST_CHANGES");switch(!0){case!i:return{isHidden:!1,text:"comments"};case e:case n:case a:return{isHidden:!1,text:"review"};default:return{isHidden:!1,text:"comments"}}}({isPROpen:eo,viewerAllowedNonCommentReviewTypes:Q,viewerIsAuthor:es}),$[31]=eo,$[32]=Q,$[33]=es,$[34]=f):f=$[34];let eF=f;$[35]!==eI?(g=()=>{window.innerWidth<768?eh("dialog"):eh("anchored"),eI("submit_review_dialog.open","REVIEW_CHANGES_BUTTON")},$[35]=eI,$[36]=g):g=$[36];let eU=g;$[37]===Symbol.for("react.memo_cache_sentinel")?(x=()=>{eh("none")},$[37]=x):x=$[37];let e$=x;$[38]===Symbol.for("react.memo_cache_sentinel")?(b=()=>{eh("none")},$[38]=b):b=$[38];let eB=b;$[39]!==eU||$[40]!==em?(v=()=>{"none"===em?eU():e$()},$[39]=eU,$[40]=em,$[41]=v):v=$[41];let eq=v;$[42]!==eA||$[43]!==eM||$[44]!==ej||$[45]!==eo||$[46]!==eT||$[47]!==Z.pendingReviewIDs||$[48]!==eC||$[49]!==Q||$[50]!==ed||$[51]!==X||$[52]!==es||$[53]!==Y?(C=(0,s.jsx)(t2,{pendingReviewIds:Z.pendingReviewIDs,initialReviewBody:ej,isPROpen:eo,onReviewBodyChange:eT,reviewEvent:eC,viewerAllowedNonCommentReviewTypes:Q,viewerCanWriteToRepo:ed,viewerHasViolatedPushPolicy:X,viewerIsAuthor:es,viewerIsCopilotAttributed:Y,handleNavigateToDiffComment:eB,handleReviewSubmit:eM,handleReviewEventChange:eA}),$[42]=eA,$[43]=eM,$[44]=ej,$[45]=eo,$[46]=eT,$[47]=Z.pendingReviewIDs,$[48]=eC,$[49]=Q,$[50]=ed,$[51]=X,$[52]=es,$[53]=Y,$[54]=C):C=$[54];let eH=C;if(eF.isHidden)return null;$[55]!==eb||$[56]!==eP||$[57]!==eM||$[58]!==e_||$[59]!==eF||$[60]!==ex||$[61]!==eD?(S=(0,s.jsx)(t4,{errorMessage:eb,hasPendingReviews:e_,reviewSubmissionState:ex,handleReviewCancel:eP,handleCloseReviewDialog:e$,handleReviewSubmit:eM,submitDisabled:eD,reviewMenuButtonDisplayState:eF}),$[55]=eb,$[56]=eP,$[57]=eM,$[58]=e_,$[59]=eF,$[60]=ex,$[61]=eD,$[62]=S):S=$[62];let eG=S,eV=el||void 0;$[63]!==eq||$[64]!==eF.text||$[65]!==eV?(_=(0,s.jsxs)(ec.Q,{count:eV,className:"ReviewMenuButton-module__ReviewMenuButton--uK7FN",trailingAction:A.TriangleDownIcon,variant:"primary",onClick:eq,size:"small",ref:ew,children:["Submit ",eF.text]}),$[63]=eq,$[64]=eF.text,$[65]=eV,$[66]=_):_=$[66],$[67]===Symbol.for("react.memo_cache_sentinel")?(N=(0,s.jsx)(tZ,{portalName:t0}),$[67]=N):N=$[67];let eK="anchored"===em;return $[68]===Symbol.for("react.memo_cache_sentinel")?(w={regular:"anchored",narrow:"fullscreen"},$[68]=w):w=$[68],$[69]===Symbol.for("react.memo_cache_sentinel")?(E={disabled:!0},R={role:"dialog","aria-labelledby":"anchored-review-title","aria-modal":"true",portalContainerName:t0},$[69]=E,$[70]=R):(E=$[69],R=$[70]),$[71]!==eF.text?(L=(0,s.jsxs)(et.A,{as:"h1",className:"flex-1 f5",variant:"small",id:"anchored-review-title",children:["Finish your ",eF.text]}),$[71]=eF.text,$[72]=L):L=$[72],$[73]!==e_?(D=e_&&(0,s.jsx)(er.K,{icon:A.MaximizeIcon,className:"ReviewMenuButton-module__ExpandSection--sAB8o",variant:"invisible","aria-label":"Expand this section",onClick:()=>eh("dialog")}),$[73]=e_,$[74]=D):D=$[74],$[75]===Symbol.for("react.memo_cache_sentinel")?(I=(0,s.jsx)(er.K,{icon:A.XIcon,variant:"invisible","aria-label":"Close",onClick:e$}),$[75]=I):I=$[75],$[76]!==D?(T=(0,s.jsxs)(tT.B,{direction:"horizontal",align:"center",gap:"none",children:[D,I]}),$[76]=D,$[77]=T):T=$[77],$[78]!==L||$[79]!==T?(k=(0,s.jsxs)(tT.B,{direction:"horizontal",align:"center",justify:"space-between",className:"py-2 border-bottom pl-3 pr-2",children:[L,T]}),$[78]=L,$[79]=T,$[80]=k):k=$[80],$[81]!==eH?(O=(0,s.jsx)("div",{className:"ReviewMenuButton-module__AnchoredReviewBody--nirqE",children:eH}),$[81]=eH,$[82]=O):O=$[82],$[83]!==eG?(M=(0,s.jsx)("div",{className:"p-3 border-top",children:eG}),$[83]=eG,$[84]=M):M=$[84],$[85]!==eK||$[86]!==k||$[87]!==O||$[88]!==M?(P=(0,s.jsxs)(tA.T,{open:eK,anchorRef:ew,width:"xlarge",onClose:e$,displayCloseButton:!1,variant:w,renderAnchor:null,focusZoneSettings:E,overlayProps:R,children:[k,O,M]}),$[85]=eK,$[86]=k,$[87]=O,$[88]=M,$[89]=P):P=$[89],$[90]!==eH||$[91]!==em||$[92]!==eF.text||$[93]!==eG?(F="dialog"===em&&(0,s.jsx)(p.l,{onClose:e$,returnFocusRef:ew,"aria-label":"Review changes",position:{narrow:"fullscreen",regular:"right",wide:"right"},title:`Finish your ${eF.text}`,renderFooter:()=>(0,s.jsx)(p.l.Footer,{children:eG}),children:eH}),$[90]=eH,$[91]=em,$[92]=eF.text,$[93]=eG,$[94]=F):F=$[94],$[95]!==_||$[96]!==P||$[97]!==F?(U=(0,s.jsxs)(s.Fragment,{children:[_,N,P,F]}),$[95]=_,$[96]=P,$[97]=F,$[98]=U):U=$[98],U}function t2(e){let t,i,n,a=(0,o.c)(6);a[0]!==e?({pendingReviewIds:t,...i}=e,a[0]=e,a[1]=t,a[2]=i):(t=a[1],i=a[2]);let r=function(e){let t,i,n,a,r,l,s,d,c,u=(0,o.c)(9),m=(0,j.BI)(e),h=(0,j.HZ)();e:{let i;if(!e||0===e.length||!m){let e;u[0]===Symbol.for("react.memo_cache_sentinel")?(e={pendingPreviews:[],threadsWithoutContext:[]},u[0]=e):e=u[0],t=e;break e}if(u[1]!==h||u[2]!==m){let e=[],t=[];for(let i of m){let{diffSubject:n,hasContext:a,threadPreviewComments:r}=function(e,t){let i=e.subject,n=!0;if(e.positioning){let a=t[e.positioning.path],r=[];if(a&&!e.isOutdated){let t=a.diffLines.findIndex(t=>e.positioning?.endDiffSide==="RIGHT"&&t.right===e.positioning?.endLine||e.positioning?.endDiffSide==="LEFT"&&t.left===e.positioning?.endLine);if(-1===t)n=!1;else{let i=Math.max(0,t-5);e.positioning?.startLine&&e.positioning?.startDiffSide&&(e.positioning.startLine!==e.positioning.endLine||e.positioning.startDiffSide!==e.positioning.endDiffSide)&&(i=a.diffLines.findIndex(t=>e.positioning?.startDiffSide==="RIGHT"&&t.right===e.positioning?.startLine||e.positioning?.startDiffSide==="LEFT"&&t.left===e.positioning?.startLine));for(let e=t;e>=i;e--){let t=a.diffLines[e];if(t&&(r.unshift(t),"HUNK"===t.type))break}}i={...e.subject,diffLines:r}}}else n=!1;return{diffSubject:i,hasContext:n,threadPreviewComments:e.commentsData?.comments.slice(1).reduce((e,t)=>(t.author&&e.push({author:{avatarUrl:t.author.avatarUrl,login:t.author.login}}),e),[])||[]}}(i,h);for(let l of(a||t.push(Number(i.id)),(i.commentsData?.comments??[]).filter(t$)))e.push({threadId:i.id,commentId:l.databaseId?.toString()||"",path:i.positioning?.path||"",threadPreviewComments:r,firstComment:i.commentsData?.comments[0]||void 0,isResolved:i.isResolved,line:i.line,subjectType:i.subjectType,subject:n,commentsData:i.commentsData,isOutdated:i.isOutdated})}i={pendingPreviews:e,threadsWithoutContext:t},u[1]=h,u[2]=m,u[3]=i}else i=u[3];t=i}let{pendingPreviews:f,threadsWithoutContext:p}=t,g=(s=(0,o.c)(10),d=(0,ep.e)(ef.uT.threadPreviewPositioning),s[0]!==p?(n=p.join(","),s[0]=p,s[1]=n):n=s[1],c=`${d}?thread_ids=${n}`,s[2]!==c?(a=[ef.uT.threadPreviewPositioning,c],s[2]=c,s[3]=a):a=s[3],s[4]!==p.length||s[5]!==c?(r=async()=>{if(!p.length)return{};let e=await (0,eN.QJ)(c);if(!e.ok)throw Error(`HTTP ${e.status}`);return await e.json()},s[4]=p.length,s[5]=c,s[6]=r):r=s[6],s[7]!==a||s[8]!==r?(l={queryKey:a,queryFn:r,staleTime:1/0},s[7]=a,s[8]=r,s[9]=l):l=s[9],(0,e_.I)(l)).data;t:{let e;if(0===p.length||!g){i=f;break t}if(u[4]!==f||u[5]!==g){let t;u[7]!==g?(t=e=>{let t=g[Number(e.threadId)];return t?{...e,path:t.path,subject:t}:e},u[7]=g,u[8]=t):t=u[8],e=f.map(t),u[4]=f,u[5]=g,u[6]=e}else e=u[6];i=e}return i}(t);return a[3]!==r||a[4]!==i?(n=(0,s.jsx)(t5,{...i,commentsList:r}),a[3]=r,a[4]=i,a[5]=n):n=a[5],n}let t3=e=>{let t,i,n,a,r,l,d=(0,o.c)(12);d[0]!==e?({ref:a,initialValue:t,onChange:i,...n}=e,d[0]=e,d[1]=t,d[2]=i,d[3]=n,d[4]=a):(t=d[1],i=d[2],n=d[3],a=d[4]);let[c,u]=(0,y.useState)(t);d[5]!==i?(r=e=>{u(e),i(e)},d[5]=i,d[6]=r):r=d[6];let m=r;return d[7]!==m||d[8]!==n||d[9]!==a||d[10]!==c?(l=(0,s.jsx)(tI.S,{...n,value:c,onChange:m,ref:a}),d[7]=m,d[8]=n,d[9]=a,d[10]=c,d[11]=l):l=d[11],l};function t4(e){let t,i,n,a,r,l,d,c,u,m=(0,o.c)(28),{errorMessage:h,handleReviewCancel:f,handleCloseReviewDialog:p,handleReviewSubmit:g,hasPendingReviews:x,submitDisabled:y,reviewMenuButtonDisplayState:b,reviewSubmissionState:v}=e,C="canceling"===v,S="submitting"===v;m[0]!==h?(t=h&&(0,s.jsxs)(e1.A,{className:"ReviewMenuButton-module__ErrorMessage--bglZe",variant:"danger",children:[(0,s.jsx)(A.StopIcon,{className:"mr-2"}),h]}),m[0]=h,m[1]=t):t=m[1],m[2]!==f||m[3]!==x||m[4]!==C||m[5]!==S||m[6]!==b.text?(i=x?(0,s.jsx)(ec.Q,{disabled:C||S,loading:C,onClick:f,tabIndex:0,variant:"danger",children:(0,s.jsxs)(tT.B,{direction:"horizontal",align:"center",children:["Discard ",b.text]})}):(0,s.jsx)("div",{}),m[2]=f,m[3]=x,m[4]=C,m[5]=S,m[6]=b.text,m[7]=i):i=m[7];let _=C||S;m[8]!==p||m[9]!==_?(n=(0,s.jsx)(ec.Q,{onClick:p,disabled:_,children:"Cancel"}),m[8]=p,m[9]=_,m[10]=n):n=m[10];let N=y||S;return m[11]===Symbol.for("react.memo_cache_sentinel")?(a=(0,s.jsx)(tB.U,{keys:"Mod+enter"}),m[11]=a):a=m[11],m[12]!==b.text?(r=(0,s.jsxs)("div",{className:"d-flex flex-row flex-justify-center",children:["Submit ",b.text]}),m[12]=b.text,m[13]=r):r=m[13],m[14]!==g||m[15]!==S||m[16]!==N||m[17]!==r?(l=(0,s.jsx)(ec.Q,{disabled:N,variant:"primary",onClick:g,loading:S,className:"ReviewMenuButton-module__SubmitReviewButton--ZSu4L",trailingVisual:a,children:r}),m[14]=g,m[15]=S,m[16]=N,m[17]=r,m[18]=l):l=m[18],m[19]!==n||m[20]!==l?(d=(0,s.jsxs)("div",{className:"d-flex flex-row gap-2",children:[n,l]}),m[19]=n,m[20]=l,m[21]=d):d=m[21],m[22]!==i||m[23]!==d?(c=(0,s.jsxs)("div",{className:"d-flex flex-row flex-1 flex-items-center flex-justify-between gap-2",children:[i,d]}),m[22]=i,m[23]=d,m[24]=c):c=m[24],m[25]!==t||m[26]!==c?(u=(0,s.jsxs)(s.Fragment,{children:[t,c]}),m[25]=t,m[26]=c,m[27]=u):u=m[27],u}function t5(e){let t,i,n,a,r,l,d=(0,o.c)(23),{initialReviewBody:c,isPROpen:u,onReviewBodyChange:m,reviewEvent:h,viewerAllowedNonCommentReviewTypes:f,viewerCanWriteToRepo:p,viewerHasViolatedPushPolicy:g,viewerIsAuthor:x,viewerIsCopilotAttributed:b,commentsList:v,handleNavigateToDiffComment:C,handleReviewSubmit:S,handleReviewEventChange:_}=e,N=(0,y.useRef)(null);return d[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{let e=window.setTimeout(()=>N.current?.focus());return()=>{window.clearTimeout(e)}},i=[],d[0]=t,d[1]=i):(t=d[0],i=d[1]),(0,y.useEffect)(t,i),d[2]!==S||d[3]!==c||d[4]!==m?(n=(0,s.jsx)(t3,{ref:N,label:"Add review comment",placeholder:"Leave a comment",className:"ReviewMenuButton-module__CommentBoxContainer--Un2Pq",initialValue:c,onChange:m,onPrimaryAction:S}),d[2]=S,d[3]=c,d[4]=m,d[5]=n):n=d[5],d[6]!==_||d[7]!==S||d[8]!==u||d[9]!==h||d[10]!==f||d[11]!==p||d[12]!==g||d[13]!==x||d[14]!==b?(a=(0,s.jsx)(tK,{isPROpen:u,reviewEvent:h,viewerAllowedNonCommentReviewTypes:f,viewerCanWriteToRepo:p,viewerHasViolatedPushPolicy:g,viewerIsAuthor:x,viewerIsCopilotAttributed:b,handleReviewEventChange:_,handleReviewSubmit:S}),d[6]=_,d[7]=S,d[8]=u,d[9]=h,d[10]=f,d[11]=p,d[12]=g,d[13]=x,d[14]=b,d[15]=a):a=d[15],d[16]!==v||d[17]!==C?(r=(0,s.jsx)(tY,{totalPendingComments:v.length,commentsList:v,handleNavigateToDiffComment:C}),d[16]=v,d[17]=C,d[18]=r):r=d[18],d[19]!==n||d[20]!==a||d[21]!==r?(l=(0,s.jsxs)(s.Fragment,{children:[n,a,r]}),d[19]=n,d[20]=a,d[21]=r,d[22]=l):l=d[22],l}t3.displayName="ControlledCommentBox";try{t1.displayName||(t1.displayName="ReviewMenuButton")}catch{}try{(n=ReviewMenuBody).displayName||(n.displayName="ReviewMenuBody")}catch{}try{t2.displayName||(t2.displayName="ReviewMenuContent")}catch{}try{t4.displayName||(t4.displayName="ReviewMenuFooterComponent")}catch{}try{t5.displayName||(t5.displayName="SharedReviewMenuContent")}catch{}var t6=i(27028),t7=i(39029),t8=i(3433);function t9(e){let t,i,n,a=(0,o.c)(4),{aliveChannel:r}=e,[l,d]=(0,y.useState)(!1),{markComparisonOutdated:c}=(0,j.yo)();a[0]!==c?(t=()=>{c(),d(!0)},a[0]=c,a[1]=t):t=a[1];let u=t;return(a[2]===Symbol.for("react.memo_cache_sentinel")?(i={git_updated:!0},a[2]=i):i=a[2],(0,t7.G)(r,u,i),l)?(a[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,s.jsx)(ie,{}),a[3]=n):n=a[3],n):null}function ie(){let e,t,i=(0,o.c)(4),n=(0,t8.zy)(),[a,r]=(0,y.useState)(!1);i[0]===Symbol.for("react.memo_cache_sentinel")?(e=async()=>{r(!0)},i[0]=e):e=i[0];let l=e;return i[1]!==a||i[2]!==n.pathname?(t=(0,s.jsx)(ec.Q,{as:t8.N_,to:n.pathname,variant:"invisible",className:"RefreshButton-module__refresh--gOrN1",leadingVisual:A.SyncIcon,size:"small",onClick:l,loading:a,preventScrollReset:!0,children:"Refresh"}),i[1]=a,i[2]=n.pathname,i[3]=t):t=i[3],t}try{t9.displayName||(t9.displayName="RefreshButton")}catch{}try{ie.displayName||(ie.displayName="DataRouterRefreshButton")}catch{}var it=i(40523),ii=i(59672),ia=i(68874),ir=i(14808);function il(e){let t,i,n,a,r,l,d,c,u,m,h,f,p,g,x,b,v,S,_,N,w,j,E,R,L=(0,o.c)(77),{ref:D,items:I,onMultiSelect:T,onSingleSelect:A,onApply:k,onCancel:O,buttonProps:M,anchorLabel:P,variant:F,title:U,dialogProps:$}=e,B=void 0===F?"overlay":F,q=(0,y.useRef)(null),[H,G]=(0,y.useState)(!1),[V,K]=(0,y.useState)();L[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>({open:()=>G(!0)}),L[0]=t):t=L[0],(0,y.useImperativeHandle)(D,t),L[1]!==I?(i=I.reduce(im,{single:[],multiple:[]}),L[1]=I,L[2]=i):i=L[2];let W=i;L[3]!==W?(n=()=>W,L[3]=W,L[4]=n):n=L[4];let[z,Q]=(0,y.useState)(n);L[5]!==z?.multiple||L[6]!==z?.single?(a=e=>{Q({single:z?.single.map(t=>t.id===e.id?{...t,selected:!t.selected}:t.selected?{...t,selected:!1}:t)||[],multiple:z?.multiple||[]})},L[5]=z?.multiple,L[6]=z?.single,L[7]=a):a=L[7];let X=a;L[8]!==z?.multiple||L[9]!==z?.single?(r=e=>{let t=z?.multiple.map(t=>t.id===e.id?{...t,selected:!t.selected}:t)||[];Q({single:z?.single||[],multiple:t})},L[8]=z?.multiple,L[9]=z?.single,L[10]=r):r=L[10];let Y=r;L[11]!==z?.multiple||L[12]!==T||L[13]!==W?.multiple?(l=T?W?.multiple.filter(ic).length:z?.multiple.filter(iu).length||0,L[11]=z?.multiple,L[12]=T,L[13]=W?.multiple,L[14]=l):l=L[14];let J=l;L[15]!==V?.multiple?(d=V?.multiple.filter(id).length||0,L[15]=V?.multiple,L[16]=d):d=L[16];let Z=d,ee=J&&0!==Z?`${Z} commit${Z>1?"s":""} selected`:"Select commits";L[17]!==z||L[18]!==k?(c=()=>{K(z),G(!1),k&&k(z?.multiple.filter(io)||[])},L[17]=z,L[18]=k,L[19]=c):c=L[19];let et=c;L[20]!==O||L[21]!==W?(u=()=>{Q(W),K(W),O?.()},L[20]=O,L[21]=W,L[22]=u):u=L[22];let ei=u;L[23]!==H?(m=()=>G(!H),L[23]=H,L[24]=m):m=L[24];let en=P||ee;L[25]!==M||L[26]!==m||L[27]!==en?(h=(0,s.jsx)(ec.Q,{ref:q,onClick:m,...M,children:en}),L[25]=M,L[26]=m,L[27]=en,L[28]=h):h=L[28],L[29]!==z?.single||L[30]!==V?.multiple||L[31]!==W?(f=()=>{Q({single:z?.single||[],multiple:V?.multiple||W.multiple}),G(!1)},L[29]=z?.single,L[30]=V?.multiple,L[31]=W,L[32]=f):f=L[32],L[33]===Symbol.for("react.memo_cache_sentinel")?(p={focusOutBehavior:"wrap",focusableElementFilter:is},L[33]=p):p=L[33],L[34]!==ei?(g=()=>{ei(),G(!1)},L[34]=ei,L[35]=g):g=L[35],L[36]!==z?.single||L[37]!==A||L[38]!==W?(x=A?W.single:z?.single||[],L[36]=z?.single,L[37]=A,L[38]=W,L[39]=x):x=L[39],L[40]!==X||L[41]!==A||L[42]!==B?(b=e=>{A?A(e):X(e),"modal"!==B&&G(!1)},L[40]=X,L[41]=A,L[42]=B,L[43]=b):b=L[43],L[44]!==x||L[45]!==b?(v=(0,s.jsx)(ih,{selectionVariant:"single",items:x,onSelect:b,showGroupHeading:!1}),L[44]=x,L[45]=b,L[46]=v):v=L[46],L[47]!==z?.multiple||L[48]!==T||L[49]!==W?(S=T?W.multiple:z?.multiple||[],L[47]=z?.multiple,L[48]=T,L[49]=W,L[50]=S):S=L[50];let ea=T??Y;return L[51]!==S||L[52]!==ea?(_=(0,s.jsx)(ih,{selectionVariant:"multiple",items:S,onSelect:ea}),L[51]=S,L[52]=ea,L[53]=_):_=L[53],L[54]!==v||L[55]!==_?(N=(0,s.jsx)("div",{className:"CommitSelector-module__CommitSelectorContainer--_atPn",children:(0,s.jsxs)(C.l,{role:"listbox",selectionVariant:"single","aria-label":"Selection",children:[v,_]})}),L[54]=v,L[55]=_,L[56]=N):N=L[56],L[57]!==ei||L[58]!==J||L[59]!==et||L[60]!==B?(w=J&&"modal"!==B?(0,s.jsx)(ir.G9,{footerButtons:[{content:"Apply",onClick:et,action:"save"},{content:"Clear",onClick:ei,action:"cancel"}]}):null,L[57]=ei,L[58]=J,L[59]=et,L[60]=B,L[61]=w):w=L[61],L[62]!==N||L[63]!==w?(j=(0,s.jsxs)("div",{className:"CommitSelector-module__CommitSelectorWrapper--Wp_n9",children:[N,w]}),L[62]=N,L[63]=w,L[64]=j):j=L[64],L[65]!==$||L[66]!==H||L[67]!==et||L[68]!==f||L[69]!==g||L[70]!==j||L[71]!==U||L[72]!==B?(E=(0,s.jsx)(ir.KA,{open:H,anchorRef:q,headingId:"select-label",onClose:f,variant:B,focusZoneSettings:p,title:U,dialogProps:$,selectSave:et,selectCancel:g,children:j}),L[65]=$,L[66]=H,L[67]=et,L[68]=f,L[69]=g,L[70]=j,L[71]=U,L[72]=B,L[73]=E):E=L[73],L[74]!==h||L[75]!==E?(R=(0,s.jsxs)(s.Fragment,{children:[h,E]}),L[74]=h,L[75]=E,L[76]=R):R=L[76],R}function is(e){return"BUTTON"!==e.tagName}function io(e){return e.selected}function id(e){return e.selected}function ic(e){return e.selected}function iu(e){return e.selected}function im(e,t){return"single"===t.selectionVariant?{...e,single:[...e.single,t]}:"multiple"===t.selectionVariant?{...e,multiple:[...e.multiple,t]}:e}function ih(e){let t,i=(0,o.c)(5),{items:n,onSelect:a,selectionVariant:r,showGroupHeading:l}=e,d=void 0===l||l;return i[0]!==n||i[1]!==a||i[2]!==r||i[3]!==d?(t=(0,s.jsx)(ir.LR,{selectionVariant:r,items:n,showGroupHeading:d,onSelect:a}),i[0]=n,i[1]=a,i[2]=r,i[3]=d,i[4]=t):t=i[4],t}try{il.displayName||(il.displayName="CommitSelector")}catch{}try{ih.displayName||(ih.displayName="CommitSelectorBody")}catch{}var ip=i(68534);function ig(e){let t,i,n,a,r,l,d,c,u,f,p,g,x,b,v,C,S,_=(0,o.c)(70),{ownerLogin:N,repositoryName:w,pullRequestNumber:E,commits:R,lastReviewOid:L,variant:D}=e,I=void 0===D?"default":D,{baseOid:T,headOid:k}=(0,j.E4)(),O=(0,j.ww)(),{fullDiff:M}=(0,j.L3)(),{baseOid:P}=M;_[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.G7)("verbose_commit_selector_announcements"),_[0]=t):t=_[0];let F=t,U=(0,y.useRef)(null);_[1]!==R?(i=R.map(ix),_[1]=R,_[2]=i):i=_[2];let $=i;e:{if(!T){n=void 0;break e}if(T===P){n=$[0];break e}let e=$.findIndex(e=>e===T);if(e<0){n=void 0;break e}n=$[e+1]}let B=n;_[3]!==k||_[4]!==B||_[5]!==T?(a=function({endOid:e,startOid:t,firstCommitInRange:i}){return i&&e&&i===e?`Commit ${e.slice(0,7)}`:t&&e?`${t.slice(0,7)}..${e.slice(0,7)}`:"All commits"}({endOid:k,startOid:T,firstCommitInRange:B}),_[3]=k,_[4]=B,_[5]=T,_[6]=a):a=_[6];let q=a;t:{let e,t;if(!T||!k){r=void 0;break t}let i=T?$.indexOf(T)+1:-1;_[7]!==$||_[8]!==k?(e=k?$.indexOf(k):-1,_[7]=$,_[8]=k,_[9]=e):e=_[9];let n=e;if(i<0||n<0){r=void 0;break t}_[10]!==n||_[11]!==i?(t={start:i,end:n},_[10]=n,_[11]=i,_[12]=t):t=_[12],r=t}let H=r;_[13]!==H?(l=()=>H,_[13]=H,_[14]=l):l=_[14];let[G,V]=(0,y.useState)(l);i:{let e;if(!G){let e;_[15]===Symbol.for("react.memo_cache_sentinel")?(e=new Set,_[15]=e):e=_[15],d=e;break i}_[16]!==$||_[17]!==G.end||_[18]!==G.start?(e=new Set($.slice(G.start,G.end+1)),_[16]=$,_[17]=G.end,_[18]=G.start,_[19]=e):e=_[19],d=e}let K=d;if(_[20]!==$||_[21]!==R||_[22]!==k||_[23]!==O||_[24]!==L||_[25]!==K||_[26]!==T){let e,t,i;c=[];let n=`${R.length} commit${1!==R.length?"s":""}`,a=!O;_[28]!==n||_[29]!==a?(e={id:"all-commits",label:"All commits",description:n,descriptionVariant:"block",selectionVariant:"single",selected:a},_[28]=n,_[29]=a,_[30]=e):e=_[30],c.push(e);let r=R[R.length-1]?.oid,l=!1,s=!1;if(L)if(r)if(L===r)t="No new commits since last review",l=!0;else{let e=$.indexOf(L),i=e>=0?$.length-e-1:R.length;t=`${i} commit${1!==i?"s":""}`,s=T===L&&k===r}else t="No commits available",l=!0;else t="No previous review found",l=!0;for(let[e,n]of(_[31]!==s||_[32]!==t||_[33]!==l?(i={id:"changes-since-review",label:"Changes since your last review",description:t,descriptionVariant:"block",selectionVariant:"single",selected:s,disabled:l},_[31]=s,_[32]=t,_[33]=l,_[34]=i):i=_[34],c.push(i),R.entries()))c.push({id:n.oid,label:n.messageHeadline,description:`${n.actorLogin} committed ${(0,ia.V)(new Date(n.createdAt))}`,descriptionVariant:"block",selectionVariant:"multiple",selected:K.has(n.oid),groupId:1,groupTitle:0===e?"Select a range of commits":void 0,trailingVisual:n.shortOid});_[20]=$,_[21]=R,_[22]=k,_[23]=O,_[24]=L,_[25]=K,_[26]=T,_[27]=c}else c=_[27];let W=c;_[35]!==N||_[36]!==E||_[37]!==w?(u=e=>{let t;if("unfiltered"===e.type)t=(0,ii.tvs)({owner:N,repo:w,number:E});else if("range"===e.type){let i=e.fromPRBase?"BASE":e.baseOid;t=(0,ii.zLJ)({owner:N,repo:w,number:E,base:i,head:e.endOid})}else t=(0,ii.zLJ)({owner:N,repo:w,number:E,head:e.oid});window.location.href=t},_[35]=N,_[36]=E,_[37]=w,_[38]=u):u=_[38];let z=u;_[39]!==P||_[40]!==R||_[41]!==L||_[42]!==z?(f=e=>{if("all-commits"===e.id)z({type:"unfiltered"});else if("changes-since-review"===e.id&&L){let e=R[R.length-1]?.oid;e&&z({type:"range",fromPRBase:L===P,baseOid:L,endOid:e})}},_[39]=P,_[40]=R,_[41]=L,_[42]=z,_[43]=f):f=_[43];let Q=f;_[44]!==$||_[45]!==K||_[46]!==G?(p=e=>{let t,i=$.indexOf(e.id),n=K.has(e.id)?"removed":"added";if(G){if(G.start!==G.end||"removed"!==n){let{newStartIndex:e,newEndIndex:a}=function(e,t,i,n){let a,r;return"added"===n?(a=Math.min(e,t),r=Math.max(e,i)):e===t?(a=t+1,r=i):(a=t,r=e-1),{newStartIndex:a,newEndIndex:r}}(i,G.start,G.end,n);t={start:e,end:a}}}else t="added"===n?{start:i,end:i}:void 0;if(t){if(void 0!==t.start&&t.start===t.end){let e=t.start+1,i=$[t.start];if(i){let t=(0,ip.F)(i),n=F?`Commit ${t} selected`:`Commit ${e} selected`;(0,tg.i)(n)}}else if(void 0!==t.start&&void 0!==t.end){let e=t.start+1,i=t.end+1,n=$[t.start],a=$[t.end];if(n&&a){let t=(0,ip.F)(n),r=(0,ip.F)(a),l=F?`Commits ${t} to ${r} selected`:`Commits ${e} to ${i} selected`;(0,tg.i)(l)}}}else(0,tg.i)("No commits selected");V(t)},_[44]=$,_[45]=K,_[46]=G,_[47]=p):p=_[47];let X=p;_[48]!==P||_[49]!==$||_[50]!==H?.end||_[51]!==H?.start||_[52]!==z||_[53]!==G?(g=()=>{let e,t;G&&(G.start!==H?.start||G.end!==H?.end)&&((G.start>0||G.end<$.length-1||1===$.length)&&(e=G.start>0?$[G.start-1]:P,t=$[G.end]),e&&t?G.start===G.end?z({type:"single",oid:t}):z({type:"range",fromPRBase:e===P,baseOid:e,endOid:t}):z({type:"unfiltered"}))},_[48]=P,_[49]=$,_[50]=H?.end,_[51]=H?.start,_[52]=z,_[53]=G,_[54]=g):g=_[54],H?.start,H?.end;let Y=g;_[55]!==H?(x=()=>{V(H)},_[55]=H,_[56]=x):x=_[56];let J=x;_[57]===Symbol.for("react.memo_cache_sentinel")?(b=(0,s.jsx)(h.ak,{commands:{"pull-request-files-changed:open-commits-list":()=>{U.current?.open()}}}),_[57]=b):b=_[57];let Z="condensed"===I?void 0:A.VersionsIcon,ee="condensed"===I?"invisible":"default";return _[58]!==Z||_[59]!==ee?(v={id:"changes-selector-button",size:"small",leadingVisual:Z,variant:ee,trailingAction:A.TriangleDownIcon},_[58]=Z,_[59]=ee,_[60]=v):v=_[60],_[61]===Symbol.for("react.memo_cache_sentinel")?(C={height:"large"},_[61]=C):C=_[61],_[62]!==q||_[63]!==W||_[64]!==Y||_[65]!==J||_[66]!==X||_[67]!==Q||_[68]!==v?(S=(0,s.jsxs)(s.Fragment,{children:[b,(0,s.jsx)(il,{buttonProps:v,anchorLabel:q,ref:U,dialogProps:C,items:W,onSingleSelect:Q,onMultiSelect:X,onApply:Y,onCancel:J,variant:"modal",title:"Select commits to view"})]}),_[62]=q,_[63]=W,_[64]=Y,_[65]=J,_[66]=X,_[67]=Q,_[68]=v,_[69]=S):S=_[69],S}function ix(e){return e.oid}try{ig.displayName||(ig.displayName="ChangesSelector")}catch{}var iy=i(33644),ib=i(2694),iv=i(81070),iC=i(33195);let iS="PullRequestFilesToolbar-module__is-stuck--pCXhL",i_="PullRequestFilesToolbar-module__show-when-stuck--ONyyF",iN="PullRequestFilesToolbar-module__pr-title-details--NZamC",iw="PullRequestFilesToolbar-module__file-controls--XN2fA",ij="PullRequestFilesToolbar-module__file-controls-navigation--Ti_xo",iE="PullRequestFilesToolbar-module__file-controls-divider--oWuSw",iR="PullRequestFilesToolbar-module__stickyHeaderActivationThreshold--hlyC0";var iL=i(21968),iD=i(34261),iI=i(89155),iT=i(73783),iA=i(61583);function ik(){let e,t,i,n=(0,o.c)(9),a=(0,j.$W)(),r=(0,j.qX)(),l=iO;n[0]!==a||n[1]!==r?(e=()=>{if(a.length>0){let e,t=r(),i=t?a.findIndex(e=>e.pathDigest===t):0;e=i<=0?a.length-1:i-1;let n=a[e];n&&l(n.pathDigest)}},n[0]=a,n[1]=r,n[2]=e):e=n[2];let s=e;n[3]!==a||n[4]!==r?(t=()=>{if(a.length>0){let e,t=r(),i=t?a.findIndex(e=>e.pathDigest===t):0;e=i>=a.length-1||i<0?0:i+1;let n=a[e];n&&l(n.pathDigest)}},n[3]=a,n[4]=r,n[5]=t):t=n[5];let d=t;return n[6]!==d||n[7]!==s?(i={navigateToPrevious:s,navigateToNext:d},n[6]=d,n[7]=s,n[8]=i):i=n[8],i}function iO(e){(0,iA.pk)(`diff-${e}`),(0,N.kd)(window.location.href)}var iM=i(19415),iP=i(65771);let iF=i(32219).q.SingleFileMode;function iU(e){let t,i,n,a,r,l,d,c,u=(0,o.c)(12),{userNotices:m}=e,h=(0,iP.Bk)(iF,m),f=(0,j.j5)(),[p,g]=(0,y.useState)(!0),{dismissNotice:b}=(0,iP.Wo)(iF,m);u[0]!==b?(t=()=>{b(),g(!1)},u[0]=b,u[1]=t):t=u[1];let v=t;return!f||h?null:(u[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,x.$)("d-flex flex-column gap-2","SingleFileModeOnboardingPopover-module__PopoverContent--zQnno"),n=(0,s.jsx)(et.A,{as:"h3",variant:"small",className:"SingleFileModeOnboardingPopover-module__Heading--BRcrc",children:"You're in single-file mode"}),a=(0,s.jsx)("p",{children:"Due to the large number of changes in this pull request, only one file is being shown at a time."}),u[2]=i,u[3]=n,u[4]=a):(i=u[2],n=u[3],a=u[4]),u[5]===Symbol.for("react.memo_cache_sentinel")?(r=(0,s.jsx)("strong",{children:"Previous"}),u[5]=r):r=u[5],u[6]===Symbol.for("react.memo_cache_sentinel")?(l=(0,s.jsxs)("p",{children:["Use the ",r," and ",(0,s.jsx)("strong",{children:"Next"})," buttons to move between files."]}),u[6]=l):l=u[6],u[7]!==v?(d=(0,s.jsxs)(iM.A.Content,{className:i,children:[n,a,l,(0,s.jsx)("div",{className:"d-flex flex-items-center",children:(0,s.jsx)(ec.Q,{onClick:v,children:"OK, got it"})})]}),u[7]=v,u[8]=d):d=u[8],u[9]!==p||u[10]!==d?(c=(0,s.jsx)(iM.A,{className:"SingleFileModeOnboardingPopover-module__PopoverContainer--wtwv5",open:p,children:d}),u[9]=p,u[10]=d,u[11]=c):c=u[11],c)}try{iU.displayName||(iU.displayName="SingleFileModeOnboardingPopover")}catch{}var i$=i(44569);function iB(e){let t,i,n,a,r,l=(0,o.c)(12),{userNotices:d}=e,c=(0,i$.zw)(),{navigateToPrevious:u,navigateToNext:m}=ik();return l[0]!==u?(t=(0,s.jsx)(er.K,{icon:A.ChevronUpIcon,"aria-label":c?"Previous file (K)":"Previous file",size:"small",onClick:u,"data-hotkey":"k"}),l[0]=u,l[1]=t):t=l[1],l[2]!==m?(i=(0,s.jsx)(er.K,{icon:A.ChevronDownIcon,"aria-label":c?"Next file (J)":"Next file",size:"small",onClick:m,"data-hotkey":"j"}),l[2]=m,l[3]=i):i=l[3],l[4]!==t||l[5]!==i?(n=(0,s.jsxs)(iT.A,{children:[t,i]}),l[4]=t,l[5]=i,l[6]=n):n=l[6],l[7]!==d?(a=(0,s.jsx)(iU,{userNotices:d}),l[7]=d,l[8]=a):a=l[8],l[9]!==n||l[10]!==a?(r=(0,s.jsxs)("div",{className:"position-relative",children:[n,a]}),l[9]=n,l[10]=a,l[11]=r):r=l[11],r}try{iB.displayName||(iB.displayName="ReviewNavigationButtonGroup")}catch{}function iq(e){let t,i,n,a,r,l,d,c,u,m,h,f,p,g,x,b,v,S,_,N=(0,o.c)(47),{pageLimits:w,pullRequest:E,hideWhitespace:R,onUpdateWhitespace:L,additionalPreferences:D}=e,[I,T]=(0,y.useState)(!1),[k,O]=(0,y.useState)(!1),[M,P]=(0,y.useState)(!1),[F,U]=(0,y.useState)(!1),$=(0,y.useRef)(null),B=(0,j.wI)(),q=(0,j.Qb)(),{sendPullRequestAnalyticsEvent:H}=(0,en.q)(),G=B.length;N[0]!==H?(t=()=>{H("comments_side_panel.open","COMMENTS_SIDE_PANEL_BUTTON"),eV(),T(!0),P(!1)},N[0]=H,N[1]=t):t=N[1];let V=t;N[2]!==H?(i=()=>{H("alerts_side_panel.open","ALERTS_SIDE_PANEL_BUTTON"),eV(),O(!0),P(!1)},N[2]=H,N[3]=i):i=N[3];let K=i;return N[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,s.jsx)(eW.W.Anchor,{children:(0,s.jsx)(er.K,{ref:$,icon:A.KebabHorizontalIcon,variant:"default",size:"small","aria-label":"More options"})}),N[4]=n):n=N[4],N[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,s.jsx)(C.l.LeadingVisual,{children:(0,s.jsx)(A.CommentDiscussionIcon,{})}),N[5]=a):a=N[5],N[6]!==q?(r=q>0&&(0,s.jsx)(C.l.TrailingVisual,{children:q}),N[6]=q,N[7]=r):r=N[7],N[8]!==V||N[9]!==r?(l=(0,s.jsxs)(C.l.Item,{onSelect:V,children:[a,"Comments",r]}),N[8]=V,N[9]=r,N[10]=l):l=N[10],N[11]!==K||N[12]!==G?(d=G>0&&(0,s.jsxs)(C.l.Item,{onSelect:K,children:[(0,s.jsx)(C.l.LeadingVisual,{children:(0,s.jsx)(A.AlertIcon,{})}),"Alerts",(0,s.jsx)(C.l.TrailingVisual,{children:G})]}),N[11]=K,N[12]=G,N[13]=d):d=N[13],N[14]!==l||N[15]!==d?(c=(0,s.jsxs)(C.l.Group,{children:[l,d]}),N[14]=l,N[15]=d,N[16]=c):c=N[16],N[17]===Symbol.for("react.memo_cache_sentinel")?(u=(0,s.jsx)(C.l.Divider,{}),N[17]=u):u=N[17],N[18]===Symbol.for("react.memo_cache_sentinel")?(m=(0,s.jsx)(C.l.LeadingVisual,{children:(0,s.jsx)(A.GearIcon,{})}),N[18]=m):m=N[18],N[19]===Symbol.for("react.memo_cache_sentinel")?(h=(0,s.jsx)(eW.W.Anchor,{children:(0,s.jsxs)(C.l.Item,{children:[m,"Settings",(0,s.jsx)(C.l.TrailingVisual,{children:(0,s.jsx)(A.ChevronRightIcon,{})})]})}),N[19]=h):h=N[19],N[20]!==D||N[21]!==R||N[22]!==L?(f=(0,s.jsx)(eW.W.Overlay,{side:"outside-bottom",align:"end",children:(0,s.jsx)(C.l,{children:(0,s.jsx)(t6.Q,{reloadOnWhitespaceChange:!0,onUpdateWhitespace:L,defaultHideWhitespace:R,additionalPreferences:D})})}),N[20]=D,N[21]=R,N[22]=L,N[23]=f):f=N[23],N[24]!==F||N[25]!==f?(p=(0,s.jsx)(C.l.Group,{children:(0,s.jsxs)(eW.W,{open:F,onOpenChange:U,children:[h,f]})}),N[24]=F,N[25]=f,N[26]=p):p=N[26],N[27]!==p||N[28]!==c?(g=(0,s.jsx)(eW.W.Overlay,{align:"end",children:(0,s.jsxs)(C.l,{children:[c,u,p]})}),N[27]=p,N[28]=c,N[29]=g):g=N[29],N[30]!==M||N[31]!==g?(x=(0,s.jsxs)(eW.W,{open:M,onOpenChange:P,children:[n,g]}),N[30]=M,N[31]=g,N[32]=x):x=N[32],N[33]===Symbol.for("react.memo_cache_sentinel")?(b=()=>T(!1),N[33]=b):b=N[33],N[34]!==I||N[35]!==w||N[36]!==E.pathName?(v=(0,s.jsx)(tS,{isOpen:I,pageLimits:w,pathName:E.pathName,toggleSidesheetRef:$,onClose:b}),N[34]=I,N[35]=w,N[36]=E.pathName,N[37]=v):v=N[37],N[38]!==k||N[39]!==B||N[40]!==w||N[41]!==G?(S=G>0&&(0,s.jsx)(tR,{annotations:B,isOpen:k,pageLimits:w,returnFocusRef:$,onClose:()=>O(!1)}),N[38]=k,N[39]=B,N[40]=w,N[41]=G,N[42]=S):S=N[42],N[43]!==x||N[44]!==v||N[45]!==S?(_=(0,s.jsxs)(s.Fragment,{children:[x,v,S]}),N[43]=x,N[44]=v,N[45]=S,N[46]=_):_=N[46],_}try{iq.displayName||(iq.displayName="ToolbarMoreMenu")}catch{}var iH=i(91747);function iG(e){let t,i,n,a,r=(0,o.c)(9),{changeGroupsPreferenceAvailable:l,showChangeGroups:d,onShowChangeGroupsChange:c}=e,{sendPullRequestAnalyticsEvent:u}=(0,en.q)();if(!l)return;r[0]!==c||r[1]!==u||r[2]!==d?(t=()=>{let e=!d;u(e?"change_group_preference.show":"change_group_preference.hide","CHANGE_GROUP_PREFERENCE_TOGGLE"),c(e)},r[0]=c,r[1]=u,r[2]=d,r[3]=t):t=r[3];let m=t;return r[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,s.jsx)(C.l.Divider,{}),r[4]=i):i=r[4],r[5]===Symbol.for("react.memo_cache_sentinel")?(n=(0,s.jsx)(C.l.Description,{variant:"block",children:"Organize changes into groups with Copilot"}),r[5]=n):n=r[5],r[6]!==m||r[7]!==d?(a=(0,s.jsxs)(s.Fragment,{children:[i,(0,s.jsx)(C.l.Group,{"aria-label":"Change Groups",selectionVariant:"single",children:(0,s.jsxs)(C.l.Item,{selected:d,onSelect:m,children:["Show changes by group",n]})})]}),r[6]=m,r[7]=d,r[8]=a):a=r[8],a}try{iG.displayName||(iG.displayName="ChangeGroupsPreferences")}catch{}var iV=i(3585);function iK(e){let t=new Map;if(!e)return t;for(let[i,n]of Object.entries(e))for(let e of Object.values(n))for(let n of e?.threads??[])for(let e of n.commentsData?.comments??[])void 0!==e.databaseId&&null!==e.databaseId&&t.set(e.databaseId,{comment:e,path:i,thread:n});return t}var iW=i(3252),iz=i(88008),iQ=i(39837);function iX(e){let t,i,n,a,r=(0,o.c)(10),{bodyHtml:l,isLoading:d,onClose:c}=e,u=(0,y.useRef)(null),m=(0,y.useRef)(null);r[0]!==l?(t=l.includes("No description provided."),r[0]=l,r[1]=t):t=r[1];let h=t;return r[2]===Symbol.for("react.memo_cache_sentinel")?(i={narrow:"fullscreen",regular:"right",wide:"right"},r[2]=i):i=r[2],r[3]!==l||r[4]!==h||r[5]!==d?(n=d?(0,s.jsx)("div",{className:"d-flex flex-justify-center",children:(0,s.jsx)(ei.A,{})}):(0,s.jsx)(iQ.A,{verifiedHTML:l,className:h?"fgColor-muted":void 0}),r[3]=l,r[4]=h,r[5]=d,r[6]=n):n=r[6],r[7]!==c||r[8]!==n?(a=(0,s.jsx)(p.l,{title:"Overview",initialFocusRef:u,position:i,returnFocusRef:m,onClose:c,children:n}),r[7]=c,r[8]=n,r[9]=a):a=r[9],a}try{iX.displayName||(iX.displayName="OverviewSidePanel")}catch{}function iY(){let e,t=(0,o.c)(2),i=(0,ep.e)(ef.uT.description);return t[0]!==i?(e={queryKey:[ef.uT.description,i],queryFn:async()=>{let e=await (0,eN.QJ)(i);if(!e.ok)throw Error(`HTTP ${e.status}`);return await e.json()},staleTime:1/0},t[0]=i,t[1]=e):e=t[1],(0,e_.I)(e)}function iJ(e){let t,i,n,a,r=(0,o.c)(10),{aliveChannel:l}=e,[d,c]=(0,y.useState)(!1),u=(0,y.useRef)(null),{sendPullRequestAnalyticsEvent:m}=(0,en.q)(),{data:h,isLoading:f}=iY();!function(e){let t,i=(0,o.c)(1),{refetch:n}=iY();i[0]===Symbol.for("react.memo_cache_sentinel")?(t={body_updated:!0},i[0]=t):t=i[0],(0,t7.og)(e,n,t)}(l);let p=h?.bodyHtml||'<p class="text-italic">No description provided.</p>';return r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,s.jsx)(er.K,{inactive:!0,"aria-label":"The overview side panel cannot currently be opened.",icon:A.InfoIcon,size:"small",variant:"invisible"}),r[0]=t):t=r[0],r[1]!==m?(i=(0,s.jsx)(er.K,{ref:u,"aria-label":"Open overview side panel",icon:A.InfoIcon,size:"small",onClick:()=>{m("overview_side_panel.open","OVERVIEW_SIDE_PANEL_BUTTON"),eV(),c(!0)}}),r[1]=m,r[2]=i):i=r[2],r[3]!==p||r[4]!==f||r[5]!==d?(n=d&&(0,s.jsx)(iX,{bodyHtml:p,isLoading:f,onClose:()=>c(!1)}),r[3]=p,r[4]=f,r[5]=d,r[6]=n):n=r[6],r[7]!==i||r[8]!==n?(a=(0,s.jsx)("div",{className:"d-flex flex-items-center",children:(0,s.jsxs)(ee.t,{boundaryName:"OpenOverviewPanelButton",fallback:t,children:[i,n]})}),r[7]=i,r[8]=n,r[9]=a):a=r[9],a}try{iJ.displayName||(iJ.displayName="OpenOverviewSidePanelButton")}catch{}function iZ(e){let t,i,n,a,r,l,d,c,u,m,h,f,p=(0,o.c)(26);p[0]!==e?({aliveChannel:t,repository:l,pullRequest:n,bannersData:i,urls:d,user:c,userNotices:u,pageTitle:a,...r}=e,p[0]=e,p[1]=t,p[2]=i,p[3]=n,p[4]=a,p[5]=r,p[6]=l,p[7]=d,p[8]=c,p[9]=u):(t=p[1],i=p[2],n=p[3],a=p[4],r=p[5],l=p[6],d=p[7],c=p[8],u=p[9]);let{data:g}=(0,iD.W)(),{pullRequest:x}=g;p[10]!==t||p[11]!==i||p[12]!==n||p[13]!==a||p[14]!==l||p[15]!==d||p[16]!==c?(m={aliveChannel:t,repository:l,pullRequest:n,bannersData:i,urls:d,user:c,pageTitle:a},p[10]=t,p[11]=i,p[12]=n,p[13]=a,p[14]=l,p[15]=d,p[16]=c,p[17]=m):m=p[17],(0,iD.W)(m),(0,iI.F)(t),p[18]!==n||p[19]!==x?(h={...n,...x},p[18]=n,p[19]=x,p[20]=h):h=p[20];let y=h;return p[21]!==r||p[22]!==l||p[23]!==y||p[24]!==u?(f=(0,s.jsx)(i0,{repository:l,pullRequest:y,userNotices:u,...r}),p[21]=r,p[22]=l,p[23]=y,p[24]=u,p[25]=f):f=p[25],f}function i0(e){let t,i,n,a,r,l,d,c,u,m,h,f,p,g,b,v,C,_,N,w,E,R,L,D,I,T,A,O,M,F,U,$,B,q,H,G,V,K,W,z,Q,X=(0,o.c)(147),{changeGroupsPreferenceAvailable:Y,commits:J,currentUserLogin:Z,fileFilter:ee,isFileTreeExpanded:et,lastReviewOid:ei,pageLimits:en,pullRequest:ea,repository:er,shouldShowViewedFilesCount:el,totalFilesCount:es,treeToggleElement:eo,userNotices:ed}=e,eu=(0,iH.u)("batch_suggested_changes"),em=(0,iH.u)("pull_request_overview_panel"),{mutate:eh}=function(){let e,t,i,n=(0,o.c)(7),a=(0,j.Kp)(),{updateWhitespace:r}=(0,j.yo)();return n[0]!==a?(e=async e=>{let{hideWhitespace:t}=e,i=`${a}/page_data/${ef.uT.updateWhitespacePreference}`,n=await (0,ex.q$)(i,{method:"POST",body:{w:+!!t}}),r=await (0,ex.hp)(n);return(0,ex.R)(n,r),r},n[0]=a,n[1]=e):e=n[1],n[2]!==r?(t=e=>{r(e.ignoreWhitespace)},n[2]=r,n[3]=t):t=n[3],n[4]!==e||n[5]!==t?(i={mutationFn:e,onSuccess:t},n[4]=e,n[5]=t,n[6]=i):i=n[6],(0,eg.n)(i)}(),{clearSuggestionBatch:ey,removeSuggestionFromBatch:eb}=(0,j.xJ)(),{mutate:ev}=function(e,t){let i,n,a,r=(0,o.c)(11),l=(0,ep.e)(ef.uT.submitSuggestedChanges),s=(0,j.WK)(),d=(0,j.qL)(),{clearSuggestionBatch:c}=(0,j.xJ)();return r[0]!==l||r[1]!==d||r[2]!==s?(i=async e=>{let{currentOid:t,message:i}=e,n=function(e,t){if(!e||0===t.length)return[];let i=iK(e),n=[];for(let e of t){let t=i.get(e.commentDatabaseId);if(!t)continue;let{comment:a,path:r}=t,l=(0,iW.T)(a.body);l&&!(e.suggestionIndex>=l.length)&&n.push({threadId:String(e.commentDatabaseId),path:r,suggestion:l})}return n}(d,s.activeBatch);if(0===n.length)throw Error("No valid suggestions found in batch");let a=await (0,eN.Sr)(l,{method:"POST",headers:{Accept:"application/json"},body:{changes:n,currentOid:t,message:i}}),r=await (0,ex.hp)(a);return(0,ex.R)(a,r),r},r[0]=l,r[1]=d,r[2]=s,r[3]=i):i=r[3],r[4]!==c||r[5]!==t||r[6]!==e?(n=()=>{c(),(0,iz.hW)(e,t),P.cg?.location.reload()},r[4]=c,r[5]=t,r[6]=e,r[7]=n):n=r[7],r[8]!==i||r[9]!==n?(a={mutationFn:i,onSuccess:n},r[8]=i,r[9]=n,r[10]=a):a=r[10],(0,eg.n)(a)}(ea.pathName,ea.comparison.headOid),{mutate:eC}=function(){let e,t,i,n=(0,o.c)(8),a=(0,j.Kp)(),{updateChangeGroupPreference:r}=(0,j.wL)(),{updateDiffFilter:l}=(0,j.or)();return n[0]!==a?(e=async e=>{let{showChangeGroups:t}=e,i=`${a}/page_data/${ef.uT.updateShowChangeGroupsPreference}`,n=await (0,ex.q$)(i,{method:"POST",headers:{"Content-Type":"application/json"},body:{show_change_groups:t?"true":"false"}}),r=await (0,ex.hp)(n);return(0,ex.R)(n,r),r},n[0]=a,n[1]=e):e=n[1],n[2]!==r||n[3]!==l?(t=e=>{let{showChangeGroups:t}=e;r(t),t||l({activeChangeGroupId:void 0})},n[2]=r,n[3]=l,n[4]=t):t=n[4],n[5]!==e||n[6]!==t?(i={mutationFn:e,onMutate:t},n[5]=e,n[6]=t,n[7]=i):i=n[7],(0,eg.n)(i)}(),eS=(0,j.WA)(),{hideWhitespace:e_,fullDiff:ew}=(0,j.L3)(),[ej,eE]=(0,y.useState)(!1),eR=el||!et,[eL,eD]=(0,y.useState)(!1),eI=(0,j.j5)(),eT=(0,j.RH)(),eA=(0,j.WK)(),ek=(0,j.qL)(),[eO,eM]=(0,y.useState)(!1),eP=(0,j.Kp)(),eF=(0,j.L3)(),eU=function(e,t){if(!e||0===t.length)return[];let i=iK(e),n=[];for(let e of t){let t=i.get(e.commentDatabaseId);t&&n.push({commentDatabaseId:e.commentDatabaseId,suggestionIndex:e.suggestionIndex,path:t.path,bodyHTML:t.comment.bodyHTML})}return n}(ek,eA.activeBatch),e$=eU.length;X[0]!==eh?(t=e=>{eh({hideWhitespace:e})},X[0]=eh,X[1]=t):t=X[1];let eB=t;X[2]===Symbol.for("react.memo_cache_sentinel")?(i=e=>{e[0]&&eE(!e[0].isIntersecting)},X[2]=i):i=X[2];let[eq,eH]=(0,ib.B)(i);X[3]!==eF.fullDiff.headOid||X[4]!==eP||X[5]!==eb||X[6]!==eA.activeBatch?(n=e=>{eb(e),(0,iz.CE)(eP,eF.fullDiff.headOid,eA.activeBatch.filter(t=>t.commentDatabaseId!==e.commentDatabaseId||t.suggestionIndex!==e.suggestionIndex))},X[3]=eF.fullDiff.headOid,X[4]=eP,X[5]=eb,X[6]=eA.activeBatch,X[7]=n):n=X[7];let eV=n;X[8]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{eM(!0)},X[8]=a):a=X[8];let eK=a;X[9]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{eM(!1)},X[9]=r):r=X[9];let eW=r;X[10]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{eD(!0)},X[10]=l):l=X[10];let ez=l;X[11]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{eD(!1)},X[11]=d):d=X[11];let eQ=d;X[12]!==ey||X[13]!==eF.fullDiff.headOid||X[14]!==eW||X[15]!==eP?(c=()=>{ey(),(0,iz.hW)(eP,eF.fullDiff.headOid),eW(),eD(!1)},X[12]=ey,X[13]=eF.fullDiff.headOid,X[14]=eW,X[15]=eP,X[16]=c):c=X[16];let eX=c;X[17]!==ev||X[18]!==ew.headOid||X[19]!==eW?(u=(e,t,i)=>{ev({message:e,currentOid:ew.headOid},{onSuccess:()=>{eW(),i()},onError:e=>{t(e)}})},X[17]=ev,X[18]=ew.headOid,X[19]=eW,X[20]=u):u=X[20];let eY=u;X[21]!==eC?(m=e=>{eC({showChangeGroups:e})},X[21]=eC,X[22]=m):m=X[22];let eJ=m,eZ=eU.map(i1);X[23]!==eq||X[24]!==eH?(h=(0,s.jsx)(iv.X,{className:iR,onObserve:eq,onUnobserve:eH}),X[23]=eq,X[24]=eH,X[25]=h):h=X[25];let e0=ej&&iS;X[26]!==e0?(f=(0,x.$)(iy.A.stickyHeader,"PullRequestFilesToolbar-module__toolbar--bXrnB",e0),X[26]=e0,X[27]=f):f=X[27],X[28]===Symbol.for("react.memo_cache_sentinel")?(p=(0,s.jsx)("h2",{className:"sr-only",children:"Pull Request Toolbar"}),X[28]=p):p=X[28],X[29]!==eo?(g=(0,s.jsx)("div",{children:eo}),X[29]=eo,X[30]=g):g=X[30],X[31]!==ea.state?(b=(0,s.jsx)("div",{className:i_,children:(0,s.jsx)(iC.u,{state:ea.state})}),X[31]=ea.state,X[32]=b):b=X[32],X[33]!==J||X[34]!==ei||X[35]!==ea.number||X[36]!==er.name||X[37]!==er.ownerLogin?(v=(0,s.jsx)("div",{className:"PullRequestFilesToolbar-module__hide-when-stuck-large--jRjpF",children:(0,s.jsx)(ig,{commits:J,lastReviewOid:ei,ownerLogin:er.ownerLogin,pullRequestNumber:ea.number,repositoryName:er.name})}),X[33]=J,X[34]=ei,X[35]=ea.number,X[36]=er.name,X[37]=er.ownerLogin,X[38]=v):v=X[38],X[39]===Symbol.for("react.memo_cache_sentinel")?(C=(0,x.$)(i_,"min-width-0"),_=(0,x.$)("d-flex mb-n1",iN),X[39]=C,X[40]=_):(C=X[39],_=X[40]);let e1=ea.title;X[41]===Symbol.for("react.memo_cache_sentinel")?(N=(0,x.$)("f5 text-bold overflow-hidden no-wrap","PullRequestFilesToolbar-module__pr-sticky-title--Fu24T"),X[41]=N):N=X[41],X[42]!==ea.title?(w=(0,s.jsx)("a",{href:"#top",className:"d-flex overflow-hidden fgColor-default",children:(0,s.jsx)("bdi",{className:N,children:ea.title})}),X[42]=ea.title,X[43]=w):w=X[43],X[44]!==ea.title||X[45]!==w?(E=(0,s.jsx)(k.m,{type:"label",direction:"s",text:e1,children:w}),X[44]=ea.title,X[45]=w,X[46]=E):E=X[46],X[47]!==ea.number?(R=(0,s.jsxs)("span",{className:"f5 text-normal pl-2 fgColor-muted d-inline",children:["#",ea.number]}),X[47]=ea.number,X[48]=R):R=X[48],X[49]!==E||X[50]!==R?(L=(0,s.jsxs)("div",{className:_,children:[E,R]}),X[49]=E,X[50]=R,X[51]=L):L=X[51],X[52]!==J||X[53]!==ei||X[54]!==ea.number||X[55]!==er.name||X[56]!==er.ownerLogin?(D=(0,s.jsx)(ig,{commits:J,lastReviewOid:ei,ownerLogin:er.ownerLogin,pullRequestNumber:ea.number,repositoryName:er.name,variant:"condensed"}),X[52]=J,X[53]=ei,X[54]=ea.number,X[55]=er.name,X[56]=er.ownerLogin,X[57]=D):D=X[57],X[58]===Symbol.for("react.memo_cache_sentinel")?(I=(0,x.$)("d-none d-lg-flex flex-items-center min-width-0",iN),X[58]=I):I=X[58],X[59]===Symbol.for("react.memo_cache_sentinel")?(T=(0,s.jsx)("div",{className:"border-left mx-1 pr-1 d-block",style:{width:"1px",height:"16px"}}),X[59]=T):T=X[59],X[60]!==ea.author||X[61]!==ea.baseBranch||X[62]!==ea.commitsCount||X[63]!==ea.headBranch||X[64]!==ea.headRepositoryName||X[65]!==ea.headRepositoryOwnerLogin||X[66]!==ea.id||X[67]!==ea.isInAdvisoryRepo||X[68]!==ea.mergedBy||X[69]!==ea.mergedByName||X[70]!==ea.number||X[71]!==ea.state||X[72]!==er.id||X[73]!==er.name||X[74]!==er.ownerLogin?(A=(0,s.jsxs)("div",{className:I,children:[T,(0,s.jsx)(iL.O,{author:ea.author,baseBranch:ea.baseBranch,baseRepositoryOwnerLogin:er.ownerLogin,baseRepositoryName:er.name,commitsCount:ea.commitsCount,headBranch:ea.headBranch,headRepositoryOwnerLogin:ea.headRepositoryOwnerLogin,headRepositoryName:ea.headRepositoryName,isInAdvisoryRepo:ea.isInAdvisoryRepo,mergedBy:ea.mergedBy,mergedByName:ea.mergedByName,state:ea.state,pullRequestId:ea.id,pullRequestNumber:ea.number,repositoryId:er.id})]}),X[60]=ea.author,X[61]=ea.baseBranch,X[62]=ea.commitsCount,X[63]=ea.headBranch,X[64]=ea.headRepositoryName,X[65]=ea.headRepositoryOwnerLogin,X[66]=ea.id,X[67]=ea.isInAdvisoryRepo,X[68]=ea.mergedBy,X[69]=ea.mergedByName,X[70]=ea.number,X[71]=ea.state,X[72]=er.id,X[73]=er.name,X[74]=er.ownerLogin,X[75]=A):A=X[75],X[76]!==D||X[77]!==A?(O=(0,s.jsxs)("div",{className:"f6 text-normal d-flex flex-items-center ml-n2",children:[D,A]}),X[76]=D,X[77]=A,X[78]=O):O=X[78],X[79]!==L||X[80]!==O?(M=(0,s.jsxs)(tT.B,{direction:"vertical",gap:"none",className:C,children:[L,O]}),X[79]=L,X[80]=O,X[81]=M):M=X[81],X[82]!==g||X[83]!==b||X[84]!==v||X[85]!==M?(F=(0,s.jsxs)(tT.B,{direction:"horizontal",gap:"condensed",align:"center",className:"min-width-0",children:[g,b,v,M]}),X[82]=g,X[83]=b,X[84]=v,X[85]=M,X[86]=F):F=X[86],X[87]!==ea.aliveChannel?(U=(0,s.jsx)(t9,{aliveChannel:ea.aliveChannel}),X[87]=ea.aliveChannel,X[88]=U):U=X[88],X[89]!==el||X[90]!==es?($=el&&(0,s.jsx)(eG,{totalFilesCount:es}),X[89]=el,X[90]=es,X[91]=$):$=X[91];let e2=!et&&ee;return X[92]!==eI||X[93]!==es||X[94]!==ed?(B=eI&&es>1&&(0,s.jsx)("div",{className:ij,children:(0,s.jsx)(iB,{userNotices:ed})}),X[92]=eI,X[93]=es,X[94]=ed,X[95]=B):B=X[95],X[96]!==$||X[97]!==e2||X[98]!==B?(q=(0,s.jsxs)("div",{className:iw,children:[$,e2,B]}),X[96]=$,X[97]=e2,X[98]=B,X[99]=q):q=X[99],X[100]!==eR?(H=eR&&(0,s.jsx)("div",{className:iE,"data-testid":"file-controls-divider"}),X[100]=eR,X[101]=H):H=X[101],X[102]!==eu||X[103]!==Y||X[104]!==Z||X[105]!==eK||X[106]!==ez||X[107]!==e_||X[108]!==et||X[109]!==eT||X[110]!==eJ||X[111]!==eB||X[112]!==em||X[113]!==en||X[114]!==ea||X[115]!==er||X[116]!==eS||X[117]!==e$||X[118]!==ed?(G=eT&&eu?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ec.Q,{variant:"danger",size:"small",onClick:ez,children:"Discard batch"}),(0,s.jsxs)(ec.Q,{variant:"primary",size:"small",onClick:eK,children:["Commit suggestions ",(0,s.jsx)(S.A,{className:"ml-1 color-fg-inherit",children:e$})]})]}):(0,s.jsxs)(s.Fragment,{children:[em&&(0,s.jsx)(iJ,{aliveChannel:ea.aliveChannel}),(0,s.jsx)("div",{className:"d-none d-sm-flex",children:(0,s.jsx)(tN,{pageLimits:en,pullRequest:ea,isFileTreeExpanded:et})}),(0,s.jsx)(tD,{className:"d-none d-sm-flex",pageLimits:en,isFileTreeExpanded:et}),Z&&(0,s.jsx)(t1,{currentUserLogin:Z,pullRequest:ea,repository:er}),(0,s.jsx)("div",{className:"d-none d-sm-flex",children:(0,s.jsx)(t6.G,{invisible:!1,reloadOnWhitespaceChange:!0,onUpdateWhitespace:eB,defaultHideWhitespace:e_,small:!0,userNotices:ed,additionalPreferences:(0,s.jsx)(iG,{changeGroupsPreferenceAvailable:Y,showChangeGroups:eS,onShowChangeGroupsChange:eJ})})}),(0,s.jsx)("div",{className:"d-flex d-sm-none",children:(0,s.jsx)(iq,{pageLimits:en,pullRequest:ea,hideWhitespace:e_,onUpdateWhitespace:eB,additionalPreferences:(0,s.jsx)(iG,{changeGroupsPreferenceAvailable:Y,showChangeGroups:eS,onShowChangeGroupsChange:eJ})})})]}),X[102]=eu,X[103]=Y,X[104]=Z,X[105]=eK,X[106]=ez,X[107]=e_,X[108]=et,X[109]=eT,X[110]=eJ,X[111]=eB,X[112]=em,X[113]=en,X[114]=ea,X[115]=er,X[116]=eS,X[117]=e$,X[118]=ed,X[119]=G):G=X[119],X[120]!==U||X[121]!==q||X[122]!==H||X[123]!==G?(V=(0,s.jsxs)(tT.B,{direction:"horizontal",align:"center",children:[U,q,H,G]}),X[120]=U,X[121]=q,X[122]=H,X[123]=G,X[124]=V):V=X[124],X[125]!==f||X[126]!==F||X[127]!==V?(K=(0,s.jsxs)(tT.B,{as:"section",direction:"horizontal",justify:"space-between",gap:"condensed",align:"center",className:f,children:[p,F,V]}),X[125]=f,X[126]=F,X[127]=V,X[128]=K):K=X[128],X[129]!==eY||X[130]!==eW||X[131]!==eX||X[132]!==eV||X[133]!==eO||X[134]!==eA.activeBatch.length||X[135]!==eZ?(W=eO&&eZ.length>0&&(0,s.jsx)(iV.$,{authorLogins:[],batchSize:eA.activeBatch.length,onClose:eW,onCommit:eY,defaultCommitMessage:"Apply suggestions from code review",suggestions:eZ,onRemoveSuggestion:eV,onDiscardBatch:eX}),X[129]=eY,X[130]=eW,X[131]=eX,X[132]=eV,X[133]=eO,X[134]=eA.activeBatch.length,X[135]=eZ,X[136]=W):W=X[136],X[137]!==eX||X[138]!==eQ||X[139]!==eL||X[140]!==e$?(z=(0,s.jsx)(it.G,{isOpen:eL,onConfirm:eX,onCancel:eQ,suggestionsCount:e$}),X[137]=eX,X[138]=eQ,X[139]=eL,X[140]=e$,X[141]=z):z=X[141],X[142]!==h||X[143]!==K||X[144]!==W||X[145]!==z?(Q=(0,s.jsxs)(s.Fragment,{children:[h,K,W,z]}),X[142]=h,X[143]=K,X[144]=W,X[145]=z,X[146]=Q):Q=X[146],Q}function i1(e){return{commentDatabaseId:e.commentDatabaseId,suggestionIndex:e.suggestionIndex,path:e.path,bodyHTML:e.bodyHTML}}try{iZ.displayName||(iZ.displayName="LivePullRequestFilesToolbar")}catch{}try{i0.displayName||(i0.displayName="PullRequestFilesToolbar")}catch{}let i2={L:"LEFT",R:"RIGHT"};function i3(e){return"L"===e||"R"===e}let i4="DiffComparisonViewer-module__WideExpanded--a6hBe";var i5=i(4063),i6=i(24798),i7=i(50129);function i8(e){let t,i,n,a,r,l,d,c,u,m,h,f,p,g,b=(0,o.c)(36),{fileFilter:v,isFileTreeExpanded:C,shouldShowViewedFilesCount:S,totalFilesCount:_,treeToggleElement:N,userNotices:w}=e;b[0]===Symbol.for("react.memo_cache_sentinel")?(t=["line-spacing"],b[0]=t):t=b[0];let E=t,[R,L]=(0,y.useState)(!1),D=(0,j.j5)(),I=S||!C;b[1]===Symbol.for("react.memo_cache_sentinel")?(i=e=>{e[0]&&L(!e[0].isIntersecting)},b[1]=i):i=b[1];let[T,A]=(0,ib.B)(i);b[2]!==T||b[3]!==A?(n=(0,s.jsx)(iv.X,{className:iR,onObserve:T,onUnobserve:A}),b[2]=T,b[3]=A,b[4]=n):n=b[4];let k=R&&iS;b[5]!==k?(a=(0,x.$)(iy.A.stickyHeader,"PullRequestFilesToolbar-module__simple-toolbar--q_1hU",k),b[5]=k,b[6]=a):a=b[6],b[7]===Symbol.for("react.memo_cache_sentinel")?(r=(0,s.jsx)("h2",{className:"sr-only",children:"Diff Comparison Toolbar"}),b[7]=r):r=b[7],b[8]!==N?(l=(0,s.jsx)(tT.B,{direction:"horizontal",gap:"condensed",align:"center",className:"min-width-0",children:(0,s.jsx)("div",{children:N})}),b[8]=N,b[9]=l):l=b[9],b[10]!==S||b[11]!==_?(d=S&&(0,s.jsx)(eG,{totalFilesCount:_}),b[10]=S,b[11]=_,b[12]=d):d=b[12];let O=!C&&v;return b[13]!==D||b[14]!==_||b[15]!==w?(c=D&&_>1&&(0,s.jsx)("div",{className:ij,children:(0,s.jsx)(iB,{userNotices:w})}),b[13]=D,b[14]=_,b[15]=w,b[16]=c):c=b[16],b[17]!==c||b[18]!==d||b[19]!==O?(u=(0,s.jsxs)("div",{className:iw,children:[d,O,c]}),b[17]=c,b[18]=d,b[19]=O,b[20]=u):u=b[20],b[21]!==I?(m=I&&(0,s.jsx)("div",{className:iE,"data-testid":"file-controls-divider"}),b[21]=I,b[22]=m):m=b[22],b[23]!==w?(h=(0,s.jsx)(t6.G,{invisible:!1,small:!0,enabledDiffViewSettings:E,userNotices:w}),b[23]=w,b[24]=h):h=b[24],b[25]!==u||b[26]!==m||b[27]!==h?(f=(0,s.jsxs)(tT.B,{direction:"horizontal",align:"center",children:[u,m,h]}),b[25]=u,b[26]=m,b[27]=h,b[28]=f):f=b[28],b[29]!==f||b[30]!==a||b[31]!==l?(p=(0,s.jsxs)(tT.B,{as:"section",direction:"horizontal",justify:"space-between",gap:"condensed",align:"center",className:a,children:[r,l,f]}),b[29]=f,b[30]=a,b[31]=l,b[32]=p):p=b[32],b[33]!==p||b[34]!==n?(g=(0,s.jsxs)(s.Fragment,{children:[n,p]}),b[33]=p,b[34]=n,b[35]=g):g=b[35],g}try{i8.displayName||(i8.displayName="BasicDiffComparisonViewToolbar")}catch{}var i9=i(8624),ne=i(39467),nt=i(11529),ni=i(71833);let nn="diff-comparison-viewer-container";function na(e){return{...e,compactMode:"none"}}function nr(e){return{...e,wideMode:"expanded"}}var nl=i(81945);function ns(e){let t,i,n,a=(0,o.c)(4),{lines:r}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(t={padding:"var(--base-size-6) var(--base-size-8)",borderColor:"var(--borderColor-muted)"},a[0]=t):t=a[0],a[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,s.jsx)("div",{className:"border-bottom bgColor-muted rounded-top-2",style:t,children:(0,s.jsx)("div",{className:"d-flex flex-items-center",style:{height:"var(--control-small-size)"},children:(0,s.jsx)(nl.O,{height:"sm",variant:"rounded",width:"random"})})}),a[1]=i):i=a[1],a[2]!==r?(n=(0,s.jsxs)("div",{className:"border borderColor-muted rounded",children:[i,(0,s.jsx)("div",{className:"d-flex flex-column gap-2 p-3",children:Array.from({length:r||5}).map(no)})]}),a[2]=r,a[3]=n):n=a[3],n}function no(e,t){return(0,s.jsx)(nl.O,{height:"sm",variant:"rounded",width:"random"},`loading-skeleton-${t}`)}try{ns.displayName||(ns.displayName="EntireDiffLoadingSkeleton")}catch{}var nd=i(19976);function nc(){let e,t=(0,o.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)("div",{className:"color-bg-default position-relative border rounded-2 color-border-default mt-2 d-flex flex-column",children:(0,s.jsx)(tx.E,{border:!1,spacious:!0,children:(0,s.jsx)(tx.E.Heading,{children:"No files matched your search"})})}),t[0]=e):e=t[0],e}try{nc.displayName||(nc.displayName="FilesChangedFilterBlankSlate")}catch{}var nu=i(59523),nm=i(22533),nh=i(66358);function nf(e){let t,i,n,a,r=(0,o.c)(17),{pullRequestBasePath:l,className:d,diffPath:c,viewerLogin:u}=e,m=(0,y.useId)();r[0]!==l||r[1]!==c?(t={basePath:l,diffPath:c},r[0]=l,r[1]=c,r[2]=t):t=r[2];let h=(0,w.o5)(t);if(!h)return null;let{isOwnedByViewer:f,owners:p,ruleLineNumber:g,ruleUrl:x}=h.data;if(!(f||p.length>0))return null;r[3]!==f||r[4]!==p||r[5]!==g||r[6]!==u?(i=np(f,p,g,u),r[3]=f,r[4]=p,r[5]=g,r[6]=u,r[7]=i):i=r[7];let b=i;return r[8]!==d||r[9]!==f||r[10]!==x||r[11]!==m?(n=x?(0,s.jsx)(O.A,{"aria-labelledby":m,href:x,className:d,muted:!f,children:(0,s.jsx)(A.ShieldLockIcon,{})}):(0,s.jsx)(A.ShieldLockIcon,{className:d}),r[8]=d,r[9]=f,r[10]=x,r[11]=m,r[12]=n):n=r[12],r[13]!==n||r[14]!==b||r[15]!==m?(a=(0,s.jsx)(k.m,{id:m,"aria-label":b,text:b,children:n}),r[13]=n,r[14]=b,r[15]=m,r[16]=a):a=r[16],a}function np(e,t,i,n){let a="Owned by ",r=t;return e&&(a+="you",n&&(r=t.filter(e=>e!==`@${n}`)),r.length>0&&(a+=" along with ")),a+=r.join(", "),i&&(a+=` (from CODEOWNERS line ${i})`),a}try{nf.displayName||(nf.displayName="CodeownersBadge")}catch{}var ng=i(78252),nx=i(31675);let ny="BlobActionsMenu-module__hiddenIcon--EJrTU";function nb(e){let t,i,n,a,r,l,d,c,u,m,h,f,p,g=(0,o.c)(46),{oid:x,path:y,repo:b,branchName:v,isViewable:S,isDeleteable:_,isEditable:N,shouldShowEditOptions:w,copilotDiffChatProps:j,returnToPullRequestPath:E,onCommentOnFile:R,onCopyPath:L,onExpandLines:D,areLinesExpanded:I,richDiffToggle:T,codeownersText:k,codeownersUrl:O}=e,M=void 0===_||_,P=void 0===N||N,F=void 0===w||w;g[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,s.jsx)(eW.W.Anchor,{children:(0,s.jsx)(er.K,{icon:A.KebabHorizontalIcon,"aria-label":"More options",variant:"invisible",size:"small"})}),g[0]=t):t=g[0],g[1]!==T?(i=T?.richDiff?.canToggleRichDiff&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(C.l.Item,{className:nx.A["hide-on-medium-up"],onSelect:T.onToggle,children:[(0,s.jsx)(C.l.LeadingVisual,{children:(0,s.jsx)("span",{className:T.isRichDiff?ny:void 0,children:(0,s.jsx)(A.CheckIcon,{})})}),"Source diff"]}),(0,s.jsxs)(C.l.Item,{className:nx.A["hide-on-medium-up"],onSelect:T.onToggle,children:[(0,s.jsx)(C.l.LeadingVisual,{children:(0,s.jsx)("span",{className:T.isRichDiff?void 0:ny,children:(0,s.jsx)(A.CheckIcon,{})})}),"Rich diff"]}),(0,s.jsx)(C.l.Divider,{className:nx.A["hide-on-medium-up"]})]}),g[1]=T,g[2]=i):i=g[2],g[3]!==j?(n=j&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ng.$,{...j}),(0,s.jsx)(C.l.Divider,{})]}),g[3]=j,g[4]=n):n=g[4],g[5]!==R?(a=R&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(C.l.Item,{className:nx.A["hide-on-desktop"],onSelect:R,children:[(0,s.jsx)(C.l.LeadingVisual,{children:(0,s.jsx)(A.CommentIcon,{})}),"Comment on this file"]}),(0,s.jsx)(C.l.Divider,{className:nx.A["hide-on-desktop"]})]}),g[5]=R,g[6]=a):a=g[6],g[7]!==L?(r=L&&(0,s.jsxs)(C.l.Item,{className:nx.A["hide-on-desktop"],onSelect:L,children:[(0,s.jsx)(C.l.LeadingVisual,{children:(0,s.jsx)(A.CopyIcon,{})}),"Copy file name"]}),g[7]=L,g[8]=r):r=g[8],g[9]!==I||g[10]!==D?(l=D&&(0,s.jsxs)(C.l.Item,{className:nx.A["hide-on-desktop"],onSelect:D,children:[(0,s.jsx)(C.l.LeadingVisual,{children:I?(0,s.jsx)(A.FoldIcon,{}):(0,s.jsx)(A.UnfoldIcon,{})}),(0,s.jsx)("span",{children:I?"Collapse non-diff lines":"Expand all lines"})]}),g[9]=I,g[10]=D,g[11]=l):l=g[11],g[12]!==L||g[13]!==D?(d=(L||D)&&(0,s.jsx)(C.l.Divider,{className:nx.A["hide-on-desktop"]}),g[12]=L,g[13]=D,g[14]=d):d=g[14],g[15]!==x||g[16]!==y||g[17]!==b.name||g[18]!==b.ownerLogin?(c=(0,ii.nD_)({repo:b.name,owner:b.ownerLogin,filePath:y,commitish:x}),g[15]=x,g[16]=y,g[17]=b.name,g[18]=b.ownerLogin,g[19]=c):c=g[19];let U=void 0===S||S?void 0:"Action unavailable";return g[20]===Symbol.for("react.memo_cache_sentinel")?(u=(0,s.jsx)(C.l.LeadingVisual,{children:(0,s.jsx)(A.EyeIcon,{})}),g[20]=u):u=g[20],g[21]!==c||g[22]!==U?(m=(0,s.jsxs)(C.l.LinkItem,{href:c,inactiveText:U,children:[u,"View file"]}),g[21]=c,g[22]=U,g[23]=m):m=g[23],g[24]!==v||g[25]!==M||g[26]!==P||g[27]!==y||g[28]!==b.name||g[29]!==b.ownerLogin||g[30]!==E||g[31]!==F?(h=v&&F&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(C.l.LinkItem,{href:(0,ii.Nyd)({repo:b.name,owner:b.ownerLogin,filePath:y,commitish:v,returnToPrPath:E}),inactiveText:P?void 0:"Action unavailable",children:[(0,s.jsx)(C.l.LeadingVisual,{children:(0,s.jsx)(A.PencilIcon,{})}),"Edit file"]}),(0,s.jsxs)(C.l.LinkItem,{variant:"danger",href:(0,ii.Y65)({repo:b.name,owner:b.ownerLogin,filePath:y,commitish:v}),inactiveText:M?void 0:"Action unavailable",children:[(0,s.jsx)(C.l.LeadingVisual,{children:(0,s.jsx)(A.TrashIcon,{})}),"Delete file"]})]}),g[24]=v,g[25]=M,g[26]=P,g[27]=y,g[28]=b.name,g[29]=b.ownerLogin,g[30]=E,g[31]=F,g[32]=h):h=g[32],g[33]!==k||g[34]!==O?(f=k&&O&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C.l.Divider,{className:nx.A["hide-on-desktop"]}),(0,s.jsxs)(C.l.LinkItem,{className:nx.A["hide-on-desktop"],href:O,children:[(0,s.jsx)(C.l.LeadingVisual,{children:(0,s.jsx)(A.ShieldLockIcon,{})}),k]})]}),g[33]=k,g[34]=O,g[35]=f):f=g[35],g[36]!==l||g[37]!==d||g[38]!==m||g[39]!==h||g[40]!==f||g[41]!==i||g[42]!==n||g[43]!==a||g[44]!==r?(p=(0,s.jsxs)(eW.W,{children:[t,(0,s.jsx)(eW.W.Overlay,{children:(0,s.jsxs)(C.l,{children:[i,n,a,r,l,d,m,h,f]})})]}),g[36]=l,g[37]=d,g[38]=m,g[39]=h,g[40]=f,g[41]=i,g[42]=n,g[43]=a,g[44]=r,g[45]=p):p=g[45],p}try{nb.displayName||(nb.displayName="BlobActionsMenu")}catch{}function nv(e){let t,i,n,a,r,l,d,c=(0,o.c)(27),{basePath:u,inactive:m,inactiveTooltip:h,path:f,setIsCollapsed:p}=e,g=void 0!==m&&m,y=(0,j.Mv)(f);c[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:nS,onError:nC},c[0]=t):t=c[0];let{mutate:b}=function(e,t){let i,n,a,r,l=(0,o.c)(10),{onSuccess:s,onError:d}=t,c=`${e}/file_review`;return l[0]!==c?(i=async e=>{let{viewedStatus:t,path:i}=e,n=await (0,eN.Sr)(`${c}`,{method:t?"POST":"DELETE",headers:{Accept:"application/json"},body:{path:i,viewed:t?"viewed":void 0,_method:t?void 0:"delete"}}),a=await n.json();if(n.ok)return a;throw Error(a.error||"Unknown error occurred",{cause:n.status})},l[0]=c,l[1]=i):i=l[1],l[2]!==s?(n=()=>{s()},l[2]=s,l[3]=n):n=l[3],l[4]!==d?(a=e=>{d(e)},l[4]=d,l[5]=a):a=l[5],l[6]!==i||l[7]!==n||l[8]!==a?(r={mutationFn:i,onSuccess:n,onError:a},l[6]=i,l[7]=n,l[8]=a,l[9]=r):r=l[9],(0,eg.n)(r)}(u,t),{setDiffViewed:v}=(0,j.Ud)(),C=(0,j.j5)(),{navigateToNext:S}=ik();c[1]!==g||c[2]!==C||c[3]!==y||c[4]!==S||c[5]!==f||c[6]!==v||c[7]!==p||c[8]!==b?(i=()=>{g||(b({viewedStatus:!y,path:f}),v(f,!y),C?S():p(!y))},c[1]=g,c[2]=C,c[3]=y,c[4]=S,c[5]=f,c[6]=v,c[7]=p,c[8]=b,c[9]=i):i=c[9];let _=i;c[10]!==y?(n=y?(0,s.jsx)(A.CheckboxFillIcon,{className:"color-fg-accent"}):(0,s.jsx)("svg",{"aria-hidden":"true",fill:"none",height:"16",role:"img",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{clipRule:"evenodd",d:"M2.5 2.75C2.5 2.61193 2.61193 2.5 2.75 2.5H13.25C13.3881 2.5 13.5 2.61193 13.5 2.75V13.25C13.5 13.3881 13.3881 13.5 13.25 13.5H2.75C2.61193 13.5 2.5 13.3881 2.5 13.25V2.75ZM2.75 1C1.7835 1 1 1.7835 1 2.75V13.25C1 14.2165 1.7835 15 2.75 15H13.25C14.2165 15 15 14.2165 15 13.25V2.75C15 1.7835 14.2165 1 13.25 1H2.75Z",fill:"currentColor",fillRule:"evenodd"})}),c[10]=y,c[11]=n):n=c[11];let N=n,w=y?"Viewed":"Not Viewed";c[12]!==N?(a=()=>N,c[12]=N,c[13]=a):a=c[13];let E=y&&"MarkAsViewedButton-module__viewed--czELS";c[14]!==E?(r=(0,x.$)(E,"MarkAsViewedButton-module__iconOnly--tQ1ah"),c[14]=E,c[15]=r):r=c[15],c[16]===Symbol.for("react.memo_cache_sentinel")?(l=(0,s.jsx)("span",{className:nx.A["hide-on-mobile"],children:"Viewed"}),c[16]=l):l=c[16],c[17]!==_||c[18]!==g||c[19]!==y||c[20]!==w||c[21]!==a||c[22]!==r?(d=(0,s.jsx)(ec.Q,{"aria-pressed":y,"aria-label":w,inactive:g,size:"small",variant:"default",leadingVisual:a,className:r,onClick:_,children:l}),c[17]=_,c[18]=g,c[19]=y,c[20]=w,c[21]=a,c[22]=r,c[23]=d):d=c[23];let R=d;if(!g||!h)return R;{let e;return c[24]!==R||c[25]!==h?(e=(0,s.jsx)(k.m,{text:h,children:R}),c[24]=R,c[25]=h,c[26]=e):e=c[26],e}}function nC(){}function nS(){}try{nv.displayName||(nv.displayName="MarkAsViewedButton")}catch{}var n_=i(79634);async function nN({basePath:e,fullDiff:t,effectiveRange:i,path:n,signal:a}){let r=new URLSearchParams;r.append("path",n),i.baseOid===t.baseOid?r.append("range",i.headOid):r.append("range",`${i.baseOid}..${i.headOid}`);let l=`${e}/page_data/${ef.uT.richDiff}?${r.toString()}`;try{let e=await (0,eN.Sr)(l,{signal:a});if(a?.aborted)return;let t=await (0,ex.hp)(e);return(0,ex.R)(e,t),t??void 0}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;throw e}}var nw=i(15697);function nj(e,t){if(e.type!==t.type)return!1;let i="CONTEXT"===e.type||"ADDITION"===e.type,n="DELETION"===e.type;return i&&e.right===t.line||n&&e.left===t.line}function nE({diffSummary:e,commentPreference:t,lineSpacingPreference:i,isCollapsed:n,threadSizeInfoMap:a,isSplitView:r=!1}){let l=i===u.Ud.Compact?20:25;if(n)return 42;if(e?.linesChanged&&e.linesChanged>400)return 175;if(e?.changeType==="DELETED"||e?.changeType==="REMOVED")return 177;let s=e?Math.max(1,Math.ceil(e.linesChanged/5)):1,o=e?.changeType==="MODIFIED"?6*s*l:0,d=0,c=0;if(t===u.sI.Visible){let t=0;for(let i of Object.values(e?.markersMap||{})){for(let e of i.threads){if(!a){d+=500;continue}let t=a.get(e.id);if(t?.isCollapsed){d+=34;continue}let i=t?.replyCount??0,n=1+i;t?.estimatedLines?d+=32+32*n+48+48+24*t.estimatedLines+6*Math.max(0,n-1)+(32*n+16):(d+=272,i>0&&(d+=128*i,d+=6*i))}t+=i.annotations.length}c=t*(a?144:300)}let m=e?.linesChanged??1;e?.changeType==="ADDED"&&(m+=1);let h=l*m;return r&&(h=Math.ceil(.6*h)),42+h+d+c+o}function nR({diffManuallyExpanded:e,headBranchName:t,headRepoName:i,headRepoOwner:n,diffLines:a,path:r,isSelected:l=!1,reviewed:d,...c}){let u=(0,j.Kp)(),h=(0,j.JA)(),{fetchContextLines:f}=(0,j.QV)(),p=(0,j.L3)(),g=p.hideWhitespace?"1":"0",b=(0,j.RB)(),v=(0,j.lF)(),C=(0,j.ce)(),S=function(e){let t,i,n,a=(0,o.c)(11),{basePath:r,path:l}=e,s=(0,j.L3)();a[0]!==r||a[1]!==s||a[2]!==l?(t=function({basePath:e,effectiveRange:t,path:i}){return[ef.uT.richDiff,e,`baseOid:${t.baseOid}`,`headOid:${t.headOid}`,`path:${i}`]}({basePath:r,path:l,...s}),a[0]=r,a[1]=s,a[2]=l,a[3]=t):t=a[3];let d=t;a[4]!==r||a[5]!==s||a[6]!==l?(i={path:l,basePath:r,...s,signal:void 0},a[4]=r,a[5]=s,a[6]=l,a[7]=i):i=a[7];let c=i;return a[8]!==c||a[9]!==d?(n={fetcher:nN,key:d,args:c},a[8]=c,a[9]=d,a[10]=n):n=a[10],n}({basePath:u,path:r}),_=(0,y.useRef)(null),E=(0,y.useRef)(null),{helpUrl:R}=(0,n_.X)(),L=(0,j.kN)(r),{updateAllFilesCollapsedStatus:D,updateFileCollapsedStatus:I}=(0,j.JR)(),T=(0,j.GR)(),[k,O]=(0,y.useState)(!1),[M,F]=(0,y.useState)(c.richDiff?.defaultToRichDiff??!1),U=(0,m.G7)("pr_simple_diffs"),$=(0,j.Fm)(r),B=(0,y.useMemo)(()=>{if(U)return nE({diffSummary:$,commentPreference:v,lineSpacingPreference:C,isCollapsed:L})},[v,C,$,L,U]),q=(0,j.ne)(r),H=(0,w.dG)({basePath:u}),G=(0,w.hG)({diffPath:r,codeownersData:H?.data}),V=(0,y.useMemo)(()=>q?q[eQ.zW]?.threads??[]:[],[q]),K=(0,y.useMemo)(()=>h?function(e,t,i){let n=[],a=t.hunkPositions[i];if(!a)return n;let r=0,l=a[0];if(!l)return n;let s=!1;for(let t of e)if(s){if(n.push(t),nj(t,l.endLine)&&(s=!1,!(l=a[++r])))break}else nj(t,l.startLine)&&(s=!0,n.push(l.headerLine),n.push(t));return n}(a,h,r):a,[h,r,a]),W=(0,y.useCallback)(()=>{I(r,!1)},[r,I]),z=(0,y.useRef)(!0),Q=(0,y.useCallback)(()=>{let e=T();e&&L&&q&&Object.values(q).some(t=>t.threads.some(t=>String(t.id)===String(e))||t.annotations.some(t=>String(t.id)===String(e)))&&W()},[L,W,T,q]),X=(0,y.useCallback)(()=>{(0,N.K3)(),Q()},[Q]),Y=(0,y.useCallback)(()=>{(0,iA.o9)()===c.pathDigest&&L&&W()},[c.pathDigest,W,L]),J=(0,y.useCallback)(()=>{Q(),Y(),z.current=!1},[Q,Y]);(0,y.useEffect)(()=>{J()},[]),(0,y.useEffect)(()=>{if(!l){z.current=!0;return}z.current&&(Y(),z.current=!1)},[Y,l]),(0,y.useEffect)(()=>(P.cg?.addEventListener("hashchange",J),()=>{P.cg?.removeEventListener("hashchange",J)}),[J]);let Z=(0,y.useCallback)((e,t,i)=>{if(i&&i.altKey)D(e);else{if(I(t,e),!e)return;P.cg?.requestAnimationFrame(()=>{let e=_.current?.getBoundingClientRect();!e||e.top<60&&P.cg?.scrollTo({top:e.top+P.cg.scrollY-60})})}},[D,I]),ee=(0,y.useRef)((0,nw.B)({diffSummary:$})),[et,ei]=(0,y.useState)(!1),en=(0,y.useCallback)(async e=>{X(),ee.current.push(e),f({contextLineRanges:ee.current,path:r,w:g})},[X,f,r,g]),ea=(0,y.useCallback)(async()=>{await f({contextLineRanges:[],path:r})},[f,r]),el=(0,y.useMemo)(()=>{if(c.isBinary||c.isSubmodule||c.isTooBig||(0,nu.dK)({linesChanged:c.linesChanged,newTreeEntry:c.newTreeEntry,oldTreeEntry:c.oldTreeEntry,status:c.status,truncatedReason:c.truncatedReason}))return!1;if(et)return!0;if(0===K.length)return!1;if((K[1]?.blobLineNumber||0)>1)return!0;let e=K.length,t=K[e-1]?.blobLineNumber||0,i=c.newTreeEntry?.lineCount||0;return!!(t<i)||!!(e-1<i)},[c.isBinary,c.isSubmodule,c.isTooBig,c.linesChanged,c.newTreeEntry,c.oldTreeEntry,c.status,c.truncatedReason,K,et]),es=(0,y.useCallback)(async()=>{let e,t;ee.current=[],et||ee.current.push({start:1,end:Math.max(c.oldTreeEntry?.lineCount??0,c.newTreeEntry?.lineCount??0)});let i=document.activeElement;await f({contextLineRanges:ee.current,path:r,w:g}),ei(!et),i&&(e=null,t=null,i&&(i.hasAttribute("data-grid-cell-id")&&(e=i.getAttribute("data-grid-cell-id")),i.hasAttribute("data-file-path")&&(t=i.getAttribute("data-file-path"))),setTimeout(()=>{if(e){let t=document.querySelector(`[data-grid-cell-id="${e}"]`);if(t)return void t.focus()}if(t){let e=document.querySelector(`button[data-file-path="${t}"]`);e&&e.focus()}},0))},[et,c.oldTreeEntry?.lineCount,c.newTreeEntry?.lineCount,f,r,g]),eo=(0,y.useCallback)(()=>F(!M),[M]),ed=(0,y.useMemo)(()=>c.richDiff?.canToggleRichDiff?{richDiff:c.richDiff,isRichDiff:M,onToggle:eo}:void 0,[c.richDiff,M,eo]),ec=(0,y.useMemo)(()=>G&&(G.isOwnedByViewer||G.owners.length>0)?np(G.isOwnedByViewer,G.owners,void 0,b.login):void 0,[G,b.login]),eu=(0,y.useMemo)(()=>G?.ruleUrl,[G]),em=(0,y.useMemo)(()=>b.canComment?()=>O(!0):void 0,[b.canComment]),eh=(0,y.useCallback)(()=>navigator.clipboard?.writeText(r),[r]),ep=(0,y.useMemo)(()=>el?es:void 0,[el,es]),eg=(0,y.useMemo)(()=>({richDiff:c.richDiff,showRichDiff:M,onToggleRichDiff:F,queryConfig:S}),[c.richDiff,M,S]),ex=(0,y.useMemo)(()=>{let e=new Set([]);return h&&e.add(nh.YR.diffStats).add(nh.YR.expandLines),p.fullDiff.headOid!==p.effectiveRange.headOid&&e.add(nh.YR.markAsViewed),e},[h,p.effectiveRange.headOid,p.fullDiff.headOid]),{disabledFeatures:ey,disabledReasons:eb}=(0,y.useMemo)(()=>{let e=new Set([]),t=new Map;return h&&(e.add(nh.YR.markAsViewed),t.set(nh.YR.markAsViewed,"This file can only be marked as viewed on the \u201CAll files\u201D page")),{disabledFeatures:e,disabledReasons:t}},[h]);return(0,s.jsx)(nm.oO,{loadDiff:ea,...c,currentUser:b,addFileCommentButtonRef:E,diffManuallyExpanded:e,estimatedDiffHeight:B,fileComments:V,hiddenFeatures:ex,isAddingFileComment:k,isSelected:l,leftSideContent:(0,s.jsx)(y.Suspense,{children:(0,s.jsx)(nf,{className:(0,x.$)("px-1 flex-items-center flex-order-2 flex-sm-order-1",nx.A["hide-on-mobile"]),diffPath:r,pullRequestBasePath:u,viewerLogin:b.login})}),rightSideContent:(0,s.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[!ex.has(nh.YR.markAsViewed)&&(0,s.jsx)(nv,{path:r,basePath:u,inactive:ey.has(nh.YR.markAsViewed)||!!h,inactiveTooltip:eb.get(nh.YR.markAsViewed),setIsCollapsed:e=>Z(e,r)}),b.canComment&&(0,s.jsx)(er.K,{ref:E,icon:A.CommentIcon,"aria-label":"Comment on this file","aria-expanded":k,variant:"invisible",size:"small",onClick:e=>{L&&Z(!1,r),O(!0),e.stopPropagation()},className:nx.A["hide-on-mobile"]}),(0,s.jsx)(nb,{oid:"REMOVED"===c.status&&c.oldCommitOid?c.oldCommitOid:c.newCommitOid||"",path:r,repo:{name:i||c.repository.name,ownerLogin:n||c.repository.ownerLogin},isViewable:!c.isSubmodule,isDeleteable:!c.isSubmodule,isEditable:!c.isSubmodule,shouldShowEditOptions:b.shouldDisplayEditOptions,branchName:t,returnToPullRequestPath:u,onCommentOnFile:em,onCopyPath:eh,onExpandLines:ep,areLinesExpanded:et,richDiffToggle:ed,codeownersText:ec,codeownersUrl:eu})]}),canExpandOrCollapseLines:el,expandAllContextLines:es,hasExpandedAllRanges:et,addInjectedContextLines:en,onToggleCollapse:(e,t)=>Z(t,r,e),path:r,ref:_,setIsAddingFileComment:O,collapsed:L,helpUrl:R,linesAdded:$?.linesAdded||c.linesAdded||0,linesChanged:$?.linesChanged||c.linesChanged||0,linesDeleted:$?.linesDeleted||c.linesDeleted||0,diffLines:K,richDiffState:eg})}try{nR.displayName||(nR.displayName="PullRequestDiff")}catch{}var nL=i(29731),nD=i(8431);let nI=(0,y.memo)(function(e){let t,i,n,a,r,l,d,u,m=(0,o.c)(15),{ariaLabel:h,testId:f,id:p,approximateLineCount:g,approximateDiffHeight:x,maximumSkeletonHeight:y}=e,{data:b}=(0,c.ID)(),v=b?.lineSpacing==="compact"?20:25,C=x??v*(void 0===g?5:g),S=y?Math.min(C,y):C;return m[0]!==f?(t=(0,nL.G)(f),m[0]=f,m[1]=t):t=m[1],m[2]!==S?(i={minHeight:S},m[2]=S,m[3]=i):i=m[3],m[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,s.jsx)(nl.O,{height:"sm",variant:"rounded",width:"random"}),a=(0,s.jsx)(nl.O,{height:"sm",variant:"rounded",width:"random"}),r=(0,s.jsx)(nl.O,{height:"sm",variant:"rounded",width:"random"}),l=(0,s.jsx)(nl.O,{height:"sm",variant:"rounded",width:"random"}),m[4]=n,m[5]=a,m[6]=r,m[7]=l):(n=m[4],a=m[5],r=m[6],l=m[7]),m[8]!==i?(d=(0,s.jsx)("div",{className:"border borderColor-muted",children:(0,s.jsxs)("div",{className:"d-flex flex-column gap-2 p-3",style:i,children:[n,a,r,l]})}),m[8]=i,m[9]=d):d=m[9],m[10]!==h||m[11]!==p||m[12]!==t||m[13]!==d?(u=(0,s.jsx)("div",{className:nD.A.diffTargetable,role:"region","aria-label":h,...t,id:p,children:d}),m[10]=h,m[11]=p,m[12]=t,m[13]=d,m[14]=u):u=m[14],u});try{nI.displayName||(nI.displayName="DiffEntryLoadingSkeleton")}catch{}let nT=(0,y.memo)(function(e){let t,i,n,a,r=(0,o.c)(15),{progressiveDiffEntry:l,approximateLineCount:d}=e,c=void 0===d?5:d,{loadMore:u}=(0,j.pV)(),m=(0,iH.u)("pulls-files-skip-prefer-any-solo-entry"),[h,f]=(0,y.useState)(!1);r[0]!==h||r[1]!==u||r[2]!==l||r[3]!==m?(t=e=>{e[0]?.isIntersecting&&!h&&(f(!0),u(l,{preferAnySoloEntry:!m}))},r[0]=h,r[1]=u,r[2]=l,r[3]=m,r[4]=t):t=r[4],r[5]===Symbol.for("react.memo_cache_sentinel")?(i={rootMargin:"-72px"},r[5]=i):i=r[5];let[p,g]=(0,ib.B)(t,i),x=`Loading ${l.path}`,b=`lazy-load-${l.path}`,v=`diff-${l.pathDigest}`;return r[6]!==c||r[7]!==x||r[8]!==b||r[9]!==v?(n=(0,s.jsx)(nI,{ariaLabel:x,testId:b,id:v,approximateLineCount:c}),r[6]=c,r[7]=x,r[8]=b,r[9]=v,r[10]=n):n=r[10],r[11]!==p||r[12]!==n||r[13]!==g?(a=(0,s.jsx)(iv.X,{onObserve:p,onUnobserve:g,children:n}),r[11]=p,r[12]=n,r[13]=g,r[14]=a):a=r[14],a});try{nT.displayName||(nT.displayName="LazyDiffEntryLoadingSkeleton")}catch{}let nA=(0,y.memo)(function(e){let t,i,n,a=(0,o.c)(10),{progressiveDiffEntry:r,approximateLineCount:l}=e,d=void 0===l?5:l,{loadMore:c}=(0,j.pV)(),u=(0,iH.u)("pulls-files-skip-prefer-any-solo-entry");a[0]!==c||a[1]!==r||a[2]!==u?(t=()=>{c(r,{preferAnySoloEntry:!u})},i=[c,r,u],a[0]=c,a[1]=r,a[2]=u,a[3]=t,a[4]=i):(t=a[3],i=a[4]),(0,y.useEffect)(t,i);let m=`Loading ${r.path}`,h=`eager-load-${r.path}`,f=`diff-${r.pathDigest}`;return a[5]!==d||a[6]!==m||a[7]!==h||a[8]!==f?(n=(0,s.jsx)(nI,{ariaLabel:m,testId:h,id:f,approximateLineCount:d}),a[5]=d,a[6]=m,a[7]=h,a[8]=f,a[9]=n):n=a[9],n});try{nA.displayName||(nA.displayName="EagerDiffEntryLoadingSkeleton")}catch{}let nk=(0,y.memo)(function(e){let t,i=(0,o.c)(9),{linesAdded:n,linesChanged:a,linesDeleted:r,newTreeEntry:l,oldTreeEntry:d,path:c,pathDigest:u,status:m}=e;return i[0]!==n||i[1]!==a||i[2]!==r||i[3]!==l||i[4]!==d||i[5]!==c||i[6]!==u||i[7]!==m?(t=(0,s.jsx)(nm.Ao,{linesAdded:n,linesChanged:a,linesDeleted:r,newTreeEntry:l,oldTreeEntry:d,path:c,pathDigest:u,status:m}),i[0]=n,i[1]=a,i[2]=r,i[3]=l,i[4]=d,i[5]=c,i[6]=u,i[7]=m,i[8]=t):t=i[8],t});try{nk.displayName||(nk.displayName="PullRequestDiffEntryErrorFallback")}catch{}var nO=i(90047),nM=i(73189);let nP=(0,y.memo)(function(e){let t,i=(0,o.c)(5),{progressiveDiffEntry:n,approximateLineCount:a}=e,r=void 0===a?5:a,l=`Loading ${n.path}`,d=`hidden-load-${n.path}`,c=`diff-${n.pathDigest}`;return i[0]!==r||i[1]!==l||i[2]!==d||i[3]!==c?(t=(0,s.jsx)(nI,{ariaLabel:l,testId:d,id:c,approximateLineCount:r}),i[0]=r,i[1]=l,i[2]=d,i[3]=c,i[4]=t):t=i[4],t});try{nP.displayName||(nP.displayName="HiddenDiffEntryLoadingSkeleton")}catch{}let nF=(0,y.memo)(nU,(e,t)=>e.progressiveDiffEntry.pathDigest===t.progressiveDiffEntry.pathDigest&&e.progressiveDiffEntry.renderMode===t.progressiveDiffEntry.renderMode);function nU(e){let t,i,n,a,r,l=(0,o.c)(71),{diffManuallyExpanded:d,headBranchName:c,headRepoName:u,headRepoOwner:m,onScrollToAndFocusEntry:h,progressiveDiffEntry:f,pullRequestGlobalRelayId:p,repository:g,testRenderFn:b}=e,v=(0,j.Py)(f.pathDigest),C=(0,j.jT)(f.path),S=(0,j.Fm)(f.path),_=(0,j.j5)();b&&b();let N=(0,y.useRef)(!1);l[0]!==v||l[1]!==h||l[2]!==f.pathDigest||l[3]!==f.renderMode?(t=()=>{if(N.current)return;let e=P.fV.hash??"",t=(0,iA.pd)(e)??"";if((t=t.replace("diff-","").replace("#",""))!==f.pathDigest&&(N.current=!0),!(v&&["LAZY_AUTO_LOAD","EAGER_AUTO_LOAD"].includes(f.renderMode))){if(v&&"HIDE"!==f.renderMode){let e=P.cg?.location.hash.substring(1)??"";if(!(0,iA.yI)(e)||"RENDER"===f.renderMode){let e=P.cg?.document.activeElement;if(e?.closest("#diff-file-tree-filter"))return;h(f.pathDigest)}}N.current=!0}},l[0]=v,l[1]=h,l[2]=f.pathDigest,l[3]=f.renderMode,l[4]=t):t=l[4];let w=f?.renderMode;if(l[5]!==v||l[6]!==h||l[7]!==f.pathDigest||l[8]!==w?(i=[v,h,f.pathDigest,w],l[5]=v,l[6]=h,l[7]=f.pathDigest,l[8]=w,l[9]=i):i=l[9],(0,y.useEffect)(t,i),!f)return null;if("HIDE"===f.renderMode||"LAZY_AUTO_LOAD"===f.renderMode||"EAGER_AUTO_LOAD"===f.renderMode){let e,t,i,n;l[10]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(s.Fragment,{}),l[10]=e):e=l[10];let a=e,r=S?.linesChanged??5;if((S?.changeType==="REMOVED"||S?.changeType==="DELETED")&&(r=5),"HIDE"===f.renderMode){let e;l[11]!==r||l[12]!==f?(e=(0,s.jsx)(nP,{progressiveDiffEntry:f,approximateLineCount:r}),l[11]=r,l[12]=f,l[13]=e):e=l[13],a=e}else if("LAZY_AUTO_LOAD"===f.renderMode){let e;l[14]!==r||l[15]!==f?(e=(0,s.jsx)(nT,{progressiveDiffEntry:f,approximateLineCount:r}),l[14]=r,l[15]=f,l[16]=e):e=l[16],a=e}else if("EAGER_AUTO_LOAD"===f.renderMode){let e;l[17]!==r||l[18]!==f?(e=(0,s.jsx)(nA,{progressiveDiffEntry:f,approximateLineCount:r}),l[17]=r,l[18]=f,l[19]=e):e=l[19],a=e}let o=`diff-${f.pathDigest}`;l[20]===Symbol.for("react.memo_cache_sentinel")?(t=(0,x.$)(nD.A.diffTargetable,nD.A.diff),l[20]=t):t=l[20];let d=`${f.pathDigest}_${f.path}`,c=`#diff-${f.pathDigest}`,u=S?.linesAdded??0,m=S?.linesChanged??0,h=S?.linesDeleted??0;return l[21]!==_||l[22]!==f.path||l[23]!==m||l[24]!==h||l[25]!==c||l[26]!==u?(i=(0,s.jsx)("div",{className:nD.A.diffHeaderWrapper,children:(0,s.jsx)(nO.B,{areLinesExpanded:!1,canExpandOrCollapseLines:!1,fileLinkHref:c,canToggleRichDiff:!1,linesAdded:u,linesChanged:m,linesDeleted:h,newPath:f.path,patchStatus:"",path:f.path,onToggleExpandAllLines:nM.l,onToggleFileCollapsed:nM.l,onToggleDiffDisplay:nM.l,isInSingleFileMode:_})}),l[21]=_,l[22]=f.path,l[23]=m,l[24]=h,l[25]=c,l[26]=u,l[27]=i):i=l[27],l[28]!==v||l[29]!==a||l[30]!==i||l[31]!==o||l[32]!==d?(n=(0,s.jsxs)("div",{role:"region",id:o,className:t,"data-targeted":v,children:[i,a]},d),l[28]=v,l[29]=a,l[30]=i,l[31]=o,l[32]=d,l[33]=n):n=l[33],n}if(!C){let e;return l[34]!==f.path||l[35]!==f.pathDigest?(e=(0,s.jsx)(nk,{linesAdded:0,linesChanged:0,linesDeleted:0,path:f.path,pathDigest:f.pathDigest,newTreeEntry:void 0,oldTreeEntry:void 0,status:"MODIFIED"}),l[34]=f.path,l[35]=f.pathDigest,l[36]=e):e=l[36],e}l[37]!==C?(n=(0,s.jsx)(nk,{...C}),l[37]=C,l[38]=n):n=l[38];let E=C.reviewed??!1;return l[39]!==C.diffLines||l[40]!==C.diffSize||l[41]!==C.helpUrl||l[42]!==C.isBinary||l[43]!==C.isSubmodule||l[44]!==C.isTooBig||l[45]!==C.linesAdded||l[46]!==C.linesChanged||l[47]!==C.linesDeleted||l[48]!==C.newCommitOid||l[49]!==C.newTreeEntry||l[50]!==C.objectId||l[51]!==C.oldCommitOid||l[52]!==C.oldTreeEntry||l[53]!==C.path||l[54]!==C.pathDigest||l[55]!==C.richDiff||l[56]!==C.status||l[57]!==C.submodule||l[58]!==C.truncatedReason||l[59]!==d||l[60]!==c||l[61]!==u||l[62]!==m||l[63]!==v||l[64]!==p||l[65]!==g||l[66]!==E?(a=(0,s.jsx)(nR,{changeType:C.status,diffLines:C.diffLines,diffManuallyExpanded:d,diffSize:C.diffSize,headBranchName:c,headRepoName:u,headRepoOwner:m,helpUrl:C.helpUrl,isBinary:C.isBinary,isSelected:v,isSubmodule:C.isSubmodule,isTooBig:C.isTooBig,linesAdded:C.linesAdded,linesChanged:C.linesChanged,linesDeleted:C.linesDeleted,newCommitOid:C.newCommitOid,newTreeEntry:C.newTreeEntry,objectId:C.objectId,oldCommitOid:C.oldCommitOid,oldTreeEntry:C.oldTreeEntry,path:C.path,pathDigest:C.pathDigest,pullRequestGlobalRelayId:p,repository:g,reviewed:E,richDiff:C.richDiff,status:C.status,submodule:C.submodule,truncatedReason:C.truncatedReason}),l[39]=C.diffLines,l[40]=C.diffSize,l[41]=C.helpUrl,l[42]=C.isBinary,l[43]=C.isSubmodule,l[44]=C.isTooBig,l[45]=C.linesAdded,l[46]=C.linesChanged,l[47]=C.linesDeleted,l[48]=C.newCommitOid,l[49]=C.newTreeEntry,l[50]=C.objectId,l[51]=C.oldCommitOid,l[52]=C.oldTreeEntry,l[53]=C.path,l[54]=C.pathDigest,l[55]=C.richDiff,l[56]=C.status,l[57]=C.submodule,l[58]=C.truncatedReason,l[59]=d,l[60]=c,l[61]=u,l[62]=m,l[63]=v,l[64]=p,l[65]=g,l[66]=E,l[67]=a):a=l[67],l[68]!==n||l[69]!==a?(r=(0,s.jsx)(ee.t,{boundaryName:"ProgressivePullRequestDiffEntry",fallback:n,children:a}),l[68]=n,l[69]=a,l[70]=r):r=l[70],r}try{nF.displayName||(nF.displayName="ProgressivePullRequestDiffEntry")}catch{}try{nU.displayName||(nU.displayName="ProgressivePullRequestDiffEntryUnmemoized")}catch{}function n$(){let e,t=(0,o.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)("div",{className:"color-bg-default position-relative border rounded-2 color-border-default mt-2 d-flex flex-column",children:(0,s.jsxs)(tx.E,{border:!1,spacious:!0,children:[(0,s.jsx)(tx.E.Heading,{children:"No changes to show"}),(0,s.jsx)(tx.E.Description,{children:"This commit does not include any file changes"})]})}),t[0]=e):e=t[0],e}try{n$.displayName||(n$.displayName="EmptyPullRequestBlankSlate")}catch{}let nB="PullRequestDiffsAnimation-module__image--MMHno";var nq=i(69895);let nH=i.p+"mona-hifive-first-frame-0d428028d4d7.png",nG=i.p+"mona-hifive-reduced-motion-3a22d8eb870c.png",nV=i.p+"mona-hifive-loop-once-8c78f1af57d0.gif",nK=()=>{let e,t,i,n,a,r,l,d,c=(0,o.c)(12),u=(0,nq.j)(),m=(0,y.useRef)(null),h=(0,y.useRef)(null);c[0]!==u?(e=e=>{e?(e=>{let t;if(u)return;let i=new IntersectionObserver((e,i)=>{for(let n of e)n.isIntersecting&&(t=setTimeout(()=>{n.target.style.display="none",m.current&&(m.current.style.opacity="1"),i.unobserve(n.target)},1e3))},{threshold:1});return h.current=i,i.observe(e),()=>{i.disconnect(),t&&clearTimeout(t)}})(e):h.current&&(h.current.disconnect(),h.current=null)},c[0]=u,c[1]=e):e=c[1];let f=e;return c[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,s.jsx)("img",{src:nV,alt:"GIF of two octocats high fiving each other",className:(0,x.$)(nB,"PullRequestDiffsAnimation-module__animatedImage--yjDlC"),ref:m}),c[2]=t):t=c[2],c[3]===Symbol.for("react.memo_cache_sentinel")?(i=(0,x.$)(nB,"PullRequestDiffsAnimation-module__firstFrameImage--DV3ZK"),c[3]=i):i=c[3],c[4]!==f?(n=(0,s.jsx)("img",{src:nH,alt:"Two octocats",className:i,ref:f}),c[4]=f,c[5]=n):n=c[5],c[6]===Symbol.for("react.memo_cache_sentinel")?(a=(0,s.jsx)("img",{src:nG,alt:"Two octocats high fiving each other",className:(0,x.$)(nB,"PullRequestDiffsAnimation-module__reducedMotionImage--cBS3Y")}),c[6]=a):a=c[6],c[7]!==n?(r=(0,s.jsxs)("div",{className:"PullRequestDiffsAnimation-module__imageContainer--ISOgX",children:[t,n,a]}),c[7]=n,c[8]=r):r=c[8],c[9]===Symbol.for("react.memo_cache_sentinel")?(l=(0,s.jsx)("span",{className:"fgColor-muted",children:"You made it to the end!"}),c[9]=l):l=c[9],c[10]!==r?(d=(0,s.jsxs)("div",{className:"PullRequestDiffsAnimation-module__wrapper--j5QjR",children:[r,l]}),c[10]=r,c[11]=d):d=c[11],d},nW=(0,y.memo)(nK);try{nK.displayName||(nK.displayName="PullRequestDiffsAnimationComponent")}catch{}try{nW.displayName||(nW.displayName="PullRequestDiffsAnimation")}catch{}var nz=i(78200);function nQ(){let e,t,i,n,a=(0,o.c)(4),r=(0,y.useRef)(!0);a[0]===Symbol.for("react.memo_cache_sentinel")?(e=new Map,a[0]=e):e=a[0];let l=(0,y.useRef)(e);a[1]===Symbol.for("react.memo_cache_sentinel")?(t=()=>l.current,a[1]=t):t=a[1];let s=t;a[2]===Symbol.for("react.memo_cache_sentinel")?(i=(e,t)=>{let{focusPathName:i}=void 0===t?{}:t,n=s().get(e);if(!n)return;let a=n,l=n.querySelector("button");i&&(l=n.querySelector("a"));let o=(0,nz.Y)(P.cg?.location.hash.substring(1)??"");if((0,iA.yI)(o)){let e=o.split("-")[0],t=n.querySelector(`[data-line-anchor=diff-${e}]`);t&&(l=a=t)}else r.current||(a=null);if(a){let e=P.cg?.scrollY??0,t=a.getBoundingClientRect().top+e-57-60;P.cg?.scrollTo({top:t,left:0})}l&&l.focus(),r.current=!1},a[2]=i):i=a[2];let d=i;return a[3]===Symbol.for("react.memo_cache_sentinel")?(n={onScrollToAndFocusEntry:d,getTargetableEntriesMap:s},a[3]=n):n=a[3],n}let nX=(0,y.memo)(nY);function nY(e){let t,i,n,a,r,l,d,c=(0,o.c)(35),{headBranchName:u,headRepoName:m,headRepoOwner:h,onSetFilterState:f,pullRequestGlobalRelayId:p,repository:g,showPullRequestGroups:x}=e,[b]=(0,y.useState)(!1),v=(0,y.useRef)(null),C=(0,j.$W)(),S=(0,j.JA)(),{startQueue:_}=(0,j.pV)();c[0]!==_?(t=()=>{_({autoLoadAllDiffs:!0})},i=[_],c[0]=_,c[1]=t,c[2]=i):(t=c[1],i=c[2]),(0,y.useEffect)(t,i);let{onScrollToAndFocusEntry:N,getTargetableEntriesMap:w}=nQ(),E=(0,j.qg)(),R=C.length>=15;if(0===E){let e;return c[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(n$,{}),c[3]=e):e=c[3],e}if(0===C.length){let e;return c[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(nc,{}),c[4]=e):e=c[4],e}if(c[5]!==S||c[6]!==f||c[7]!==x?(n=x&&S?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"f4 text-bold mb-0",children:[(0,s.jsx)("span",{className:"fgColor-accent",children:(0,s.jsx)(O.A,{href:"",onClick:e=>{e.preventDefault(),f({activeChangeGroupId:void 0})},children:"All files"})})," ",(0,s.jsx)("span",{className:"fgColor-muted text-normal",children:"/"})," ",S.name]}),S.description?.trim()?(0,s.jsx)("p",{children:S.description}):null]}):null,c[5]=S,c[6]=f,c[7]=x,c[8]=n):n=c[8],c[9]!==C||c[10]!==b||c[11]!==w||c[12]!==u||c[13]!==m||c[14]!==h||c[15]!==N||c[16]!==p||c[17]!==g){let e;c[19]!==b||c[20]!==w||c[21]!==u||c[22]!==m||c[23]!==h||c[24]!==N||c[25]!==p||c[26]!==g?(e=e=>(0,s.jsx)("div",{ref:t=>{let i=w();t?i.set(e.pathDigest,t):i.delete(e.pathDigest)},children:(0,s.jsx)(nF,{diffManuallyExpanded:b,headBranchName:u,headRepoName:m,headRepoOwner:h,pullRequestGlobalRelayId:p,onScrollToAndFocusEntry:N,progressiveDiffEntry:e,repository:g})},e.pathDigest),c[19]=b,c[20]=w,c[21]=u,c[22]=m,c[23]=h,c[24]=N,c[25]=p,c[26]=g,c[27]=e):e=c[27],a=C.map(e),c[9]=C,c[10]=b,c[11]=w,c[12]=u,c[13]=m,c[14]=h,c[15]=N,c[16]=p,c[17]=g,c[18]=a}else a=c[18];return c[28]!==R?(r=R&&(0,s.jsx)(nW,{}),c[28]=R,c[29]=r):r=c[29],c[30]===Symbol.for("react.memo_cache_sentinel")?(l=(0,s.jsx)(nd.nq,{}),c[30]=l):l=c[30],c[31]!==n||c[32]!==a||c[33]!==r?(d=(0,s.jsxs)("div",{ref:v,"data-hpc":!0,"data-testid":"progressive-diffs-list",className:"d-flex flex-column gap-3",children:[n,a,r,l]}),c[31]=n,c[32]=a,c[33]=r,c[34]=d):d=c[34],d}try{nX.displayName||(nX.displayName="PullRequestDiffsList")}catch{}try{nY.displayName||(nY.displayName="PullRequestDiffsListUnmemoized")}catch{}var nJ=i(38943),nZ=i(51220);let n0="PullRequestVirtualizedDiffRow-module__virtualizedDiffRow--mhuB6",n1="u">typeof navigator&&/firefox/i.test(navigator.userAgent),n2=(0,y.memo)(function(e){let t,i,n,a,r=(0,o.c)(69),{virtualRow:l,virtualizedDiffEntry:d,diffEntry:c,diffSummary:u,scrollMargin:m,measureElement:h,headBranchName:f,headRepoName:p,headRepoOwner:g,pullRequestGlobalRelayId:x,repository:y,virtualWindowHeight:b,isOptimizedMeasurementEnabled:v}=e,C=(0,j.Py)(c?.pathDigest),S=(0,j.lF)(),_=(0,j.ce)(),N=(0,j.kN)(d?.path??""),w=d?.loadingStatus==="NotLoaded"||d?.loadingStatus==="Loading"||!c;if(!d)return null;let E=l.start-m;r[0]===Symbol.for("react.memo_cache_sentinel")?(t=n1,r[0]=t):t=r[0];let R=t;r[1]!==E?(i=R?{top:`${E}px`}:{transform:`translateY(${E}px)`},r[1]=E,r[2]=i):i=r[2];let L=i,D=R?0:-E;if(w){let e,t,i,n,a,o;r[3]!==S||r[4]!==u||r[5]!==N||r[6]!==_?(e=nE({diffSummary:u,commentPreference:S,lineSpacingPreference:_,isCollapsed:N}),r[3]=S,r[4]=u,r[5]=N,r[6]=_,r[7]=e):e=r[7];let c=e,m=v?void 0:h,f=`${D}px`;r[8]!==f?(t={"--header-sticky-offset":f},r[8]=f,r[9]=t):t=r[9];let p=`#diff-${d.pathDigest}`,g=u?.linesAdded??0,x=u?.linesChanged??0,y=u?.linesDeleted??0,C=u?.changeType??"";r[10]!==y||r[11]!==C||r[12]!==p||r[13]!==g||r[14]!==x||r[15]!==d.path?(i=(0,s.jsx)(nO.B,{areLinesExpanded:!1,canExpandOrCollapseLines:!1,fileLinkHref:p,canToggleRichDiff:!1,linesAdded:g,linesChanged:x,linesDeleted:y,newPath:d.path,patchStatus:C,path:d.path,onToggleExpandAllLines:nM.l,onToggleFileCollapsed:nM.l,onToggleDiffDisplay:nM.l,isInSingleFileMode:!1}),r[10]=y,r[11]=C,r[12]=p,r[13]=g,r[14]=x,r[15]=d.path,r[16]=i):i=r[16],r[17]!==i||r[18]!==t?(n=(0,s.jsx)("div",{className:nD.A.diffHeaderWrapper,style:t,children:i}),r[17]=i,r[18]=t,r[19]=n):n=r[19];let w=`Loading ${d.path}`,j=`lazy-load-${d.path}`,E=`diff-${d.pathDigest}`,R=b?.8*b:void 0;return r[20]!==c||r[21]!==w||r[22]!==j||r[23]!==E||r[24]!==R?(a=(0,s.jsx)(nI,{ariaLabel:w,testId:j,id:E,approximateDiffHeight:c,maximumSkeletonHeight:R}),r[20]=c,r[21]=w,r[22]=j,r[23]=E,r[24]=R,r[25]=a):a=r[25],r[26]!==c||r[27]!==n||r[28]!==a||r[29]!==m||r[30]!==l.index||r[31]!==L||r[32]!==d.pathDigest?(o=(0,s.jsxs)("div",{style:L,className:n0,ref:m,"data-index":l.index,"data-path-digest":d.pathDigest,"data-estimated-height":c,children:[n,a]}),r[26]=c,r[27]=n,r[28]=a,r[29]=m,r[30]=l.index,r[31]=L,r[32]=d.pathDigest,r[33]=o):o=r[33],o}let I=c.reviewed??!1;return r[34]!==f||r[35]!==p||r[36]!==g||r[37]!==D||r[38]!==C||r[39]!==c.diffLines||r[40]!==c.diffSize||r[41]!==c.helpUrl||r[42]!==c.isBinary||r[43]!==c.isSubmodule||r[44]!==c.isTooBig||r[45]!==c.linesAdded||r[46]!==c.linesChanged||r[47]!==c.linesDeleted||r[48]!==c.newCommitOid||r[49]!==c.newTreeEntry||r[50]!==c.objectId||r[51]!==c.oldCommitOid||r[52]!==c.oldTreeEntry||r[53]!==c.path||r[54]!==c.pathDigest||r[55]!==c.richDiff||r[56]!==c.status||r[57]!==c.submodule||r[58]!==c.truncatedReason||r[59]!==x||r[60]!==y||r[61]!==I?(n=(0,s.jsx)(nR,{changeType:c.status,diffLines:c.diffLines,diffManuallyExpanded:!1,diffSize:c.diffSize,headerStickyOffset:D,headBranchName:f,headRepoName:p,headRepoOwner:g,helpUrl:c.helpUrl,isBinary:c.isBinary,isSelected:C,isSubmodule:c.isSubmodule,isTooBig:c.isTooBig,linesAdded:c.linesAdded,linesChanged:c.linesChanged,linesDeleted:c.linesDeleted,newCommitOid:c.newCommitOid,newTreeEntry:c.newTreeEntry,objectId:c.objectId,oldCommitOid:c.oldCommitOid,oldTreeEntry:c.oldTreeEntry,path:c.path,pathDigest:c.pathDigest,pullRequestGlobalRelayId:x,repository:y,reviewed:I,richDiff:c.richDiff,status:c.status,submodule:c.submodule,truncatedReason:c.truncatedReason}),r[34]=f,r[35]=p,r[36]=g,r[37]=D,r[38]=C,r[39]=c.diffLines,r[40]=c.diffSize,r[41]=c.helpUrl,r[42]=c.isBinary,r[43]=c.isSubmodule,r[44]=c.isTooBig,r[45]=c.linesAdded,r[46]=c.linesChanged,r[47]=c.linesDeleted,r[48]=c.newCommitOid,r[49]=c.newTreeEntry,r[50]=c.objectId,r[51]=c.oldCommitOid,r[52]=c.oldTreeEntry,r[53]=c.path,r[54]=c.pathDigest,r[55]=c.richDiff,r[56]=c.status,r[57]=c.submodule,r[58]=c.truncatedReason,r[59]=x,r[60]=y,r[61]=I,r[62]=n):n=r[62],r[63]!==c.pathDigest||r[64]!==h||r[65]!==n||r[66]!==l.index||r[67]!==L?(a=(0,s.jsx)("div",{style:L,className:n0,ref:h,"data-index":l.index,"data-path-digest":c.pathDigest,children:n}),r[63]=c.pathDigest,r[64]=h,r[65]=n,r[66]=l.index,r[67]=L,r[68]=a):a=r[68],a});try{n2.displayName||(n2.displayName="MemoizedVirtualizedDiffRow")}catch{}function n3({headBranchName:e,headRepoName:t,headRepoOwner:i,onSetFilterState:n,pullRequestGlobalRelayId:a,repository:r,showPullRequestGroups:l}){let o=(0,j.lF)(),d=(0,j.ce)(),c=(0,j.zJ)(),u=(0,y.useRef)(null),[h,f]=(0,y.useState)(0),p=(0,j.$W)(),g=(0,j.JA)(),{startQueue:x,loadMore:b}=(0,j.pV)(),v=(0,j.qg)(),C=(0,j.l0)(),S=(0,j.HZ)(),_=(0,j.xQ)(),N=p.length,w=(0,j.y)(),E=(0,j.m9)(),R=(0,m.G7)("pull_request_files_debug_virtualization"),L=(0,m.G7)("pull_request_files_accurate_size_estimates");(0,y.useEffect)(()=>{x()},[x]);let D=(0,y.useCallback)(e=>{let t=p[e];return t?nE({diffSummary:C[t.path??""],commentPreference:o,lineSpacingPreference:d,isCollapsed:w(t.path??""),threadSizeInfoMap:L?_:void 0,isSplitView:L&&"split"===c}):0},[p,C,w,o,d,c,_,L]),I=(0,y.useCallback)(e=>p[e]?.pathDigest??e,[p]);(0,y.useEffect)(()=>{u.current&&f(u.current.offsetTop)},[]);let T=(0,y.useMemo)(()=>S&&Object.keys(S).length===v?5:0,[S,v]),A=(0,y.useMemo)(()=>{let e=new Map;for(let[t,i]of p.entries())i&&e.set(i.pathDigest,t);return e},[p]),k=(0,y.useCallback)(e=>{let t=document.querySelector("[data-path-digest]:focus-within")?.getAttribute("data-path-digest"),i=t?A.get(t)??-1:-1;return i<0?(0,nJ.vp)(e):Array.from(new Set([...(0,nJ.vp)(e),...[i].filter(e=>e>-1)])).sort((e,t)=>e-t)},[A]),M=(0,nZ.XW)({count:p.length,estimateSize:D,getItemKey:I,overscan:T,scrollPaddingStart:70,scrollMargin:h,gap:16,rangeExtractor:k,debug:R,onChange(e){e.shouldAdjustScrollPositionOnItemSizeChange=(e,t,i)=>!1}}),P=M.getVirtualItems(),F=(0,y.useRef)(null);return((0,y.useEffect)(()=>{if(!E){F.current=null;return}if(F.current===E)return;let e=A.get(E);if(void 0===e)return;let t=p[e];if(t?.loadingStatus==="NotLoaded")return void b(t.pathDigest);let i=P.find(t=>t.index===e);if(i&&i.start>=(M.scrollOffset??0)-i.size&&i.start<=(M.scrollOffset??0)+(M.scrollRect?.height??0)){F.current=E;return}requestAnimationFrame(()=>{M.scrollToIndex(e,{align:"start"})}),F.current=E},[E,A,p,b,M,P]),(0,y.useEffect)(()=>{let e=-1;for(let t of P){let i=p[t.index];i?.loadingStatus==="NotLoaded"&&(e=t.index)}if(-1===e)return;let t=p[e];t&&b(t.pathDigest)},[p,b,P]),0===v)?(0,s.jsx)(n$,{}):0===p.length?(0,s.jsx)(nc,{}):(0,s.jsxs)("div",{ref:u,"data-hpc":!0,"data-testid":"virtualized-diffs-list",className:"d-flex flex-column gap-3",children:[l&&g?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"f4 text-bold mb-0",children:[(0,s.jsx)("span",{className:"fgColor-accent",children:(0,s.jsx)(O.A,{href:"",onClick:e=>{e.preventDefault(),n({activeChangeGroupId:void 0})},children:"All files"})})," ",(0,s.jsx)("span",{className:"fgColor-muted text-normal",children:"/"})," ",g.name]}),g.description?.trim()?(0,s.jsx)("p",{children:g.description}):null]}):null,(0,s.jsx)("div",{className:"PullRequestVirtualizedDiffsList-module__virtualized-diff-row--khMB_",style:{height:`${M.getTotalSize()}px`},children:P.map(n=>{let l=p[n.index];return(0,s.jsx)(n2,{virtualRow:n,virtualizedDiffEntry:l,diffEntry:S[l?.path??""],diffSummary:C[l?.path??""],scrollMargin:M.options.scrollMargin,measureElement:M.measureElement,headBranchName:e,headRepoName:t,headRepoOwner:i,pullRequestGlobalRelayId:a,repository:r,virtualWindowHeight:M.scrollRect?.height},n.key)})}),N>=15&&(0,s.jsx)(nW,{}),(0,s.jsx)(nd.nq,{})]})}try{n3.displayName||(n3.displayName="PullRequestVirtualizedDiffsList")}catch{}var n4=i(48926),n5=i(43147),n6=i(13071),n7=i(3536),n8=i(66108);function n9(e){let t,i,n,a,r,l,d,c,u,m,f,p,g,x,y,b,v,C,S,N,w,j,E,R,L=(0,o.c)(79),{commit:D,pullRequest:I,commits:T,repository:k}=e;L[0]!==T?(t=void 0===T?[]:T,L[0]=T,L[1]=t):t=L[1];let M=t,{helpUrl:P}=(0,n_.X)();e:{let e,t,n;if(0===M.length){let e;L[2]===Symbol.for("react.memo_cache_sentinel")?(e={prevCommitUrl:null,nextCommitUrl:null,canNavigate:!1},L[2]=e):e=L[2],i=e;break e}let a=D.oid,r=M.findIndex(e=>e.oid===a);if(-1===r){let e;L[3]===Symbol.for("react.memo_cache_sentinel")?(e={prevCommitUrl:null,nextCommitUrl:null,canNavigate:!1},L[3]=e):e=L[3],i=e;break e}let l=r>0?M[r-1]:null,s=r<M.length-1?M[r+1]:null,o=I?.number||0;if(L[4]!==s||L[5]!==l||L[6]!==k.name||L[7]!==k.ownerLogin||L[8]!==o){let i={owner:k.ownerLogin,repo:k.name,number:o};e=l?(0,ii.zLJ)({...i,head:l.oid}):null,t=s?(0,ii.zLJ)({...i,head:s.oid}):null,L[4]=s,L[5]=l,L[6]=k.name,L[7]=k.ownerLogin,L[8]=o,L[9]=e,L[10]=t}else e=L[9],t=L[10];let d=t;L[11]!==d||L[12]!==e?(n={prevCommitUrl:e,nextCommitUrl:d,canNavigate:!0},L[11]=d,L[12]=e,L[13]=n):n=L[13],i=n}let{prevCommitUrl:F,nextCommitUrl:U,canNavigate:$}=i,B=(0,_.Z)(),q=D.oid;L[14]!==q||L[15]!==k.name||L[16]!==k.ownerLogin?(n=(0,ii.$Qz)({owner:k.ownerLogin,repo:k.name,commitish:q}),L[14]=q,L[15]=k.name,L[16]=k.ownerLogin,L[17]=n):n=L[17];let H=(0,n7.I)(`${n}/deferred_commit_data`);return L[18]!==D.shortMessageMarkdown?(a=(0,s.jsx)(et.A,{as:"h2",children:(0,s.jsx)(ti.JR,{html:D.shortMessageMarkdown,className:"ws-pre-wrap f5 wb-break-word"})}),L[18]=D.shortMessageMarkdown,L[19]=a):a=L[19],L[20]!==D.bodyMessageHtml?(r=D.bodyMessageHtml&&(0,s.jsx)(ti.JR,{html:D.bodyMessageHtml,className:"ws-pre-wrap f6 wb-break-word text-mono mt-2"}),L[20]=D.bodyMessageHtml,L[21]=r):r=L[21],L[22]!==a||L[23]!==r?(l=(0,s.jsxs)("div",{className:"flex-1",children:[a,r]}),L[22]=a,L[23]=r,L[24]=l):l=L[24],L[25]!==$||L[26]!==U||L[27]!==F?(d=$&&(0,s.jsx)("div",{className:"d-flex",children:(0,s.jsxs)(iT.A,{children:[(0,s.jsx)(ec.Q,{as:n8.N,"aria-label":F?"Previous commit":"No previous commit",to:F??"",inactive:!F,size:"small",leadingVisual:A.ChevronLeftIcon,children:"Prev"}),(0,s.jsx)(ec.Q,{as:n8.N,"aria-label":U?"Next commit":"No next commit",to:U??"",inactive:!U,size:"small",trailingVisual:A.ChevronRightIcon,children:"Next"})]})}),L[25]=$,L[26]=U,L[27]=F,L[28]=d):d=L[28],L[29]!==q||L[30]!==k?(c=(0,ii.IO9)({repo:k,action:"tree",commitish:q}),L[29]=q,L[30]=k,L[31]=c):c=L[31],L[32]!==c?(u=(0,s.jsx)(ec.Q,{as:O.A,href:c,leadingVisual:A.FileCodeIcon,size:"small",children:"Browse files"}),L[32]=c,L[33]=u):u=L[33],L[34]!==u||L[35]!==d?(m=(0,s.jsxs)("div",{className:"d-flex flex-self-start gap-2 width-full flex-justify-between mt-3",children:[d,u]}),L[34]=u,L[35]=d,L[36]=m):m=L[36],L[37]!==m||L[38]!==l?(f=(0,s.jsxs)("div",{className:"d-flex flex-column flex-justify-between border-bottom p-3 bgColor-inset",children:[l,m]}),L[37]=m,L[38]=l,L[39]=f):f=L[39],L[40]===Symbol.for("react.memo_cache_sentinel")?(p={fontColor:"fg.default"},L[40]=p):p=L[40],L[41]!==D.oid||L[42]!==H||L[43]!==P||L[44]!==k?(g=(0,s.jsx)(n6.C,{deferredData:H,oid:D.oid,repo:k,helpUrl:P}),L[41]=D.oid,L[42]=H,L[43]=P,L[44]=k,L[45]=g):g=L[45],L[46]!==D||L[47]!==k||L[48]!==g?(x=(0,s.jsx)(n4.j,{commit:D,repo:k,settings:p,textVariant:"muted",children:g}),L[46]=D,L[47]=k,L[48]=g,L[49]=x):x=L[49],L[50]===Symbol.for("react.memo_cache_sentinel")?(y=(0,s.jsx)("span",{className:"color-fg-muted",children:"commit"}),L[50]=y):y=L[50],L[51]!==q||L[52]!==k.name||L[53]!==k.ownerLogin?(b=(0,ii.$Qz)({owner:k.ownerLogin,repo:k.name,commitish:q}),L[51]=q,L[52]=k.name,L[53]=k.ownerLogin,L[54]=b):b=L[54],L[55]!==q?(v=(0,ip.F)(q),L[55]=q,L[56]=v):v=L[56],L[57]!==v?(C=(0,s.jsx)("code",{children:v}),L[57]=v,L[58]=C):C=L[58],L[59]!==b||L[60]!==C?(S=(0,s.jsx)(O.A,{href:b,className:"Link--primary",children:C}),L[59]=b,L[60]=C,L[61]=S):S=L[61],L[62]!==q?(N=(0,s.jsx)(n5.w,{sha:q,direction:"sw"}),L[62]=q,L[63]=N):N=L[63],L[64]!==S||L[65]!==N?(w=(0,s.jsxs)("div",{className:"d-flex flex-items-center gap-2 text-mono",children:[y,S,N]}),L[64]=S,L[65]=N,L[66]=w):w=L[66],L[67]!==x||L[68]!==w?(j=(0,s.jsxs)("div",{className:"d-flex flex-row flex-justify-between px-3 py-2 f5",children:[x,w]}),L[67]=x,L[68]=w,L[69]=j):j=L[69],L[70]!==$||L[71]!==B||L[72]!==U||L[73]!==F?(E=$&&(0,s.jsx)(h.ak,{commands:{"pull-request-files-changed:go-to-previous-commit":()=>F&&B(F),"pull-request-files-changed:go-to-next-commit":()=>U&&B(U)}}),L[70]=$,L[71]=B,L[72]=U,L[73]=F,L[74]=E):E=L[74],L[75]!==f||L[76]!==j||L[77]!==E?(R=(0,s.jsxs)("div",{className:"d-flex flex-column border rounded-2 overflow-hidden mb-3",children:[f,j,E]}),L[75]=f,L[76]=j,L[77]=E,L[78]=R):R=L[78],R}try{n9.displayName||(n9.displayName="PullRequestCommitHeader")}catch{}var ae=i(21132);let at=(0,y.memo)(function(e){let t,i,n,a,r,l,d,c=(0,o.c)(67),{diffEntryPathDigest:u,diffManuallyExpanded:m,filteredDiffSummaries:h,headBranchName:f,headRepoName:p,headRepoOwner:g,pullRequestGlobalRelayId:b,repository:v,onScrollToAndFocusEntry:C}=e,S=(0,j.m9)()||u,_=(0,j.mY)();if(c[0]!==S||c[1]!==_){let e;c[3]!==S?(e=e=>e.pathDigest===S,c[3]=S,c[4]=e):e=c[4],t=_.find(e),c[0]=S,c[1]=_,c[2]=t}else t=c[2];let N=t,w=(0,j.Fm)(N?.path||""),E=N?.path||"",R=(0,j.jT)(E),L=(0,j.j5)(),D=(0,y.useRef)(!1);c[5]!==C||c[6]!==N?.loadingStatus||c[7]!==S?(i=()=>{D.current||N?.loadingStatus===ae.s.Loaded&&(C(S,{focusPathName:!0}),D.current=!0)},c[5]=C,c[6]=N?.loadingStatus,c[7]=S,c[8]=i):i=c[8];let I=N?.loadingStatus;if(c[9]!==C||c[10]!==S||c[11]!==I?(n=[C,I,S],c[9]=C,c[10]=S,c[11]=I,c[12]=n):n=c[12],(0,y.useEffect)(i,n),!h.some(e=>e.path===E)){let e;return c[13]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(nc,{}),c[13]=e):e=c[13],e}if(N&&N.loadingStatus!==ae.s.Loaded){let e,t,i,n,a=`Loading ${E}`,r=`eager-load-${E}`,l=`diff-${E}`;c[14]!==a||c[15]!==r||c[16]!==l?(e=(0,s.jsx)(nI,{ariaLabel:a,testId:r,approximateLineCount:5,id:l}),c[14]=a,c[15]=r,c[16]=l,c[17]=e):e=c[17];let o=e,d=`diff-${E}`;c[18]===Symbol.for("react.memo_cache_sentinel")?(t=(0,x.$)(nD.A.diffTargetable,nD.A.diff),c[18]=t):t=c[18];let u=`${S}_${E}`,m=`#diff-${S}`,h=w?.linesAdded??0,f=w?.linesChanged??0,p=w?.linesDeleted??0;return c[19]!==E||c[20]!==L||c[21]!==m||c[22]!==h||c[23]!==f||c[24]!==p?(i=(0,s.jsx)("div",{className:nD.A.diffHeaderWrapper,children:(0,s.jsx)(nO.B,{areLinesExpanded:!1,canExpandOrCollapseLines:!1,fileLinkHref:m,canToggleRichDiff:!1,linesAdded:h,linesChanged:f,linesDeleted:p,newPath:E,patchStatus:"",path:E,onToggleExpandAllLines:nM.l,onToggleFileCollapsed:nM.l,onToggleDiffDisplay:nM.l,isInSingleFileMode:L})}),c[19]=E,c[20]=L,c[21]=m,c[22]=h,c[23]=f,c[24]=p,c[25]=i):i=c[25],c[26]!==o||c[27]!==d||c[28]!==u||c[29]!==i?(n=(0,s.jsxs)("div",{role:"region",id:d,className:t,"data-targeted":!1,"data-hpc":!0,children:[i,o]},u),c[26]=o,c[27]=d,c[28]=u,c[29]=i,c[30]=n):n=c[30],n}if(!R){let e;return c[31]!==E||c[32]!==u?(e=(0,s.jsx)(nk,{linesAdded:0,linesChanged:0,linesDeleted:0,path:E,pathDigest:u,newTreeEntry:void 0,oldTreeEntry:void 0,status:"MODIFIED"}),c[31]=E,c[32]=u,c[33]=e):e=c[33],e}c[34]!==R?(a=(0,s.jsx)(nk,{...R}),c[34]=R,c[35]=a):a=c[35];let T=R.reviewed??!1;return c[36]!==R.diffLines||c[37]!==R.diffSize||c[38]!==R.helpUrl||c[39]!==R.isBinary||c[40]!==R.isTooBig||c[41]!==R.linesAdded||c[42]!==R.linesChanged||c[43]!==R.linesDeleted||c[44]!==R.newCommitOid||c[45]!==R.newTreeEntry||c[46]!==R.objectId||c[47]!==R.oldCommitOid||c[48]!==R.oldTreeEntry||c[49]!==R.path||c[50]!==R.pathDigest||c[51]!==R.richDiff||c[52]!==R.status||c[53]!==R.submodule||c[54]!==R.truncatedReason||c[55]!==m||c[56]!==f||c[57]!==p||c[58]!==g||c[59]!==b||c[60]!==v||c[61]!==T?(r=(0,s.jsx)(nR,{changeType:R.status,diffLines:R.diffLines,diffManuallyExpanded:m,diffSize:R.diffSize,headBranchName:f,headRepoName:p,headRepoOwner:g,helpUrl:R.helpUrl,isBinary:R.isBinary,isSelected:!1,isTooBig:R.isTooBig,linesAdded:R.linesAdded,linesChanged:R.linesChanged,linesDeleted:R.linesDeleted,newCommitOid:R.newCommitOid,newTreeEntry:R.newTreeEntry,objectId:R.objectId,oldCommitOid:R.oldCommitOid,oldTreeEntry:R.oldTreeEntry,path:R.path,pathDigest:R.pathDigest,pullRequestGlobalRelayId:b,repository:v,reviewed:T,richDiff:R.richDiff,status:R.status,submodule:R.submodule,truncatedReason:R.truncatedReason}),c[36]=R.diffLines,c[37]=R.diffSize,c[38]=R.helpUrl,c[39]=R.isBinary,c[40]=R.isTooBig,c[41]=R.linesAdded,c[42]=R.linesChanged,c[43]=R.linesDeleted,c[44]=R.newCommitOid,c[45]=R.newTreeEntry,c[46]=R.objectId,c[47]=R.oldCommitOid,c[48]=R.oldTreeEntry,c[49]=R.path,c[50]=R.pathDigest,c[51]=R.richDiff,c[52]=R.status,c[53]=R.submodule,c[54]=R.truncatedReason,c[55]=m,c[56]=f,c[57]=p,c[58]=g,c[59]=b,c[60]=v,c[61]=T,c[62]=r):r=c[62],c[63]===Symbol.for("react.memo_cache_sentinel")?(l=(0,s.jsx)(nd.nq,{}),c[63]=l):l=c[63],c[64]!==a||c[65]!==r?(d=(0,s.jsxs)(ee.t,{boundaryName:"SingleFileModePullRequestDiffEntry",fallback:a,children:[r,l]}),c[64]=a,c[65]=r,c[66]=d):d=c[66],d});try{at.displayName||(at.displayName="SingleFileModePullRequestDiffEntry")}catch{}let ai=(0,y.memo)(function({filteredDiffSummaries:e,headBranchName:t,headRepoName:i,headRepoOwner:n,pullRequestGlobalRelayId:a,repository:r}){let l=(0,j.HZ)(),o=(0,y.useMemo)(()=>Object.values(l??{}).filter(e=>null!==e),[l])[0],d=(0,j.m9)(),{onScrollToAndFocusEntry:c,getTargetableEntriesMap:u}=nQ(),m=(0,j.qg)(),h=(0,j.uh)()[0],f=(0,j.zK)(),p=(0,j.mF)(),{navigateToSelectedComment:g,navigateToSelectedAnnotation:x}=(0,j.Lh)(),b=(0,y.useRef)(!0),v=(0,j.mY)().find(e=>e.pathDigest===d),{loadMore:C}=(0,j.pV)(),S=(0,y.useCallback)(()=>{f?g(f):p&&!isNaN(Number(p))?x(Number(p)):d&&v?C(v):!d&&h?.pathDigest&&(0,N.Zu)(`diff-${h.pathDigest}`)},[h?.pathDigest,C,x,g,p,f,d,v]);if((0,y.useEffect)(()=>{b.current&&(S(),b.current=!1)},[]),0===m)return(0,s.jsx)(n$,{});if(0===e.length)return(0,s.jsx)(nc,{});let _=d||o?.pathDigest||h?.pathDigest;return _?(0,s.jsx)("div",{ref:e=>{let t=u();e?t.set(_,e):t.delete(_)},children:(0,s.jsx)(at,{diffEntryPathDigest:_,diffManuallyExpanded:!1,filteredDiffSummaries:e,headBranchName:t,headRepoName:i,headRepoOwner:n,pullRequestGlobalRelayId:a,repository:r,onScrollToAndFocusEntry:c})}):null});try{ai.displayName||(ai.displayName="SingleFileModeDiffEntryNavigator")}catch{}var an=i(15928);function aa(e){let t,i,n=(0,o.c)(19),{repository:a,urls:r,isDiffVirtualizationEnabled:l,isInSingleFileMode:d}=e;if(!l&&!d)return null;n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.G7)("pull_request_files_virtualization"),n[0]=t):t=n[0];let c=t,u=d&&c&&!l;n[1]!==a?(i=async function(){let e=new FormData;e.append("feature_name","pull_request_files_virtualization"),await (0,eN.DI)((0,ii.ZD8)({repo:a}),{body:e,method:"POST"})},n[1]=a,n[2]=i):i=n[2];let h=i;if(l){let e,t=`${r.changes}?mode=single`;return n[3]!==h||n[4]!==t?(e=(0,s.jsx)(eU.l,{title:"This page has been optimized for large pull requests.",hideTitle:!0,variant:"info",description:"This page has been optimized for large pull requests. Some browser features (like Find on Page or Select All) may not work as expected.",className:"mb-3",primaryAction:(0,s.jsx)(ec.Q,{variant:"invisible",as:"a",href:t,rel:"noopener noreferrer",onClick:h,className:"fgColor-accent",children:"Switch to single file mode"})}),n[3]=h,n[4]=t,n[5]=e):e=n[5],e}if(d){let e,t,i,a;n[6]!==h||n[7]!==u||n[8]!==r?(e=u&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"To view all files in a single page, "}),(0,s.jsx)(O.A,{inline:!0,href:`${r.changes}?mode=virtualization`,onClick:h,rel:"noreferrer",children:"try a new experimental mode"}),"."]}),n[6]=h,n[7]=u,n[8]=r,n[9]=e):e=n[9],n[10]!==e?(t=(0,s.jsxs)(s.Fragment,{children:["Due to the size of this pull request, only one file can be shown at a time."," ",e]}),n[10]=e,n[11]=t):t=n[11];let l=t;return n[12]!==h||n[13]!==u||n[14]!==r?(i=!u&&(0,s.jsx)(ec.Q,{variant:"invisible",as:"a",href:`${r.files}?new_files_changed=false`,rel:"noopener noreferrer",onClick:h,className:"fgColor-accent",target:"_blank",children:"View in the classic experience"}),n[12]=h,n[13]=u,n[14]=r,n[15]=i):i=n[15],n[16]!==l||n[17]!==i?(a=(0,s.jsx)(eU.l,{title:"Single file mode",description:l,hideTitle:!0,variant:"info",className:"mb-3",primaryAction:i}),n[16]=l,n[17]=i,n[18]=a):a=n[18],a}}try{aa.displayName||(aa.displayName="LargeDiffOptimizationsBanner")}catch{}function ar(e){let t,i,n,a,r=(0,o.c)(22),{basePath:l,baseSha:d,forceUnifiedView:c,headSha:u,initialData:h,treeCollapsedByDefault:f,treeEnableInlineCompactMode:p,userCanComment:g,useChangeGroups:x,useInlineComments:y,useEditOptions:b,useFileTree:v,useAdvancedToolbar:C,useBasicToolbar:S}=e,_=x??!1,N=y??!1,w=b??!1,j=v??!1,E=C??!1,R=S??!1,L=g??!0,D=c??!1,I=f??!1,T=p??!1;r[0]!==_||r[1]!==T||r[2]!==N||r[3]!==w||r[4]!==j||r[5]!==E||r[6]!==R||r[7]!==L||r[8]!==D||r[9]!==I?(t={useChangeGroups:_,useInlineComments:N,useEditOptions:w,useFileTree:j,useAdvancedToolbar:E,useBasicToolbar:R,userCanComment:L,forceUnifiedView:D,treeCollapsedByDefault:I,treeEnableInlineCompactMode:T},r[0]=_,r[1]=T,r[2]=N,r[3]=w,r[4]=j,r[5]=E,r[6]=R,r[7]=L,r[8]=D,r[9]=I,r[10]=t):t=r[10];let A=t,k=h?h.pullRequest.comparison.headOid:u,O=h?h.pullRequest.comparison.baseOid:d;if(!k)throw Error("DiffComparisonViewer: headSha is required if initialData is not provided");let M=!h;r[11]!==l||r[12]!==O||r[13]!==k||r[14]!==M?(i={basePath:l,headSha:k,baseSha:O,shouldFetch:M},r[11]=l,r[12]=O,r[13]=k,r[14]=M,r[15]=i):i=r[15];let{data:P,isLoading:F}=function(e){let t,i,n,a,r,l,s=(0,o.c)(17),{basePath:d,headSha:c,baseSha:u,shouldFetch:m}=e;if(s[0]!==d||s[1]!==u||s[2]!==c){let e=new URLSearchParams;u===c?e.append("range",c??""):u&&c?e.append("range",`${u}..${c}`):c&&e.append("range",c),t=d,i=ef.uT.baseComparisonInfo,n=e.toString(),s[0]=d,s[1]=u,s[2]=c,s[3]=t,s[4]=i,s[5]=n}else t=s[3],i=s[4],n=s[5];let h=`${t}/page_data/${i}?${n}`,f=u??"base-sha-not-provided";s[6]!==d||s[7]!==c||s[8]!==f?(a=function({basePath:e,selectedRange:t}){return[ef.uT.baseComparisonInfo,e,`baseOid:${t.baseOid}`,`headOid:${t.headOid}`]}({basePath:d,selectedRange:{baseOid:f,headOid:c}}),s[6]=d,s[7]=c,s[8]=f,s[9]=a):a=s[9];let p=a;return s[10]!==h||s[11]!==c?(r=async()=>{if(!c)return;let e=await (0,eN.QJ)(h);if(!e.ok)throw Error(`HTTP ${e.status}`);return await e.json()??void 0},s[10]=h,s[11]=c,s[12]=r):r=s[12],s[13]!==p||s[14]!==m||s[15]!==r?(l={queryKey:p,queryFn:r,staleTime:1/0,enabled:m},s[13]=p,s[14]=m,s[15]=r,s[16]=l):l=s[16],(0,e_.I)(l)}(i),U=h??P;r[16]===Symbol.for("react.memo_cache_sentinel")?(n=(0,m.G7)("pull_request_files_virtualization_without_min_threshold"),r[16]=n):n=r[16];let $=(n||U?.virtualizeDiffEntries)??!1,B=(0,m.G7)("pr_simple_diffs")?"v2":"v1";return r[17]!==A||r[18]!==U||r[19]!==F||r[20]!==$?(a=(0,s.jsx)(s.Fragment,{children:U&&!F?(0,s.jsx)(i7.Kg,{basePageDataUrl:U.pullRequest.pathName,children:(0,s.jsx)(an.n,{initData:{diffVersion:B,virtualizationEnabled:$},children:(0,s.jsx)(i5.v,{initData:U,configOpts:A,children:(0,s.jsx)(al,{...U,configOpts:A})})})}):(0,s.jsxs)("div",{className:"width-full",children:[(0,s.jsx)("div",{className:"DiffComparisonViewer-module__SkeletonWrapper--eZhhq",children:(0,s.jsx)("div",{className:"DiffComparisonViewer-module__SkeletonIconWrapper--e2YmQ",children:(0,s.jsx)(nl.O,{width:"lg",height:"lg",variant:"rounded"})})}),(0,s.jsxs)("div",{className:"d-flex flex-column gap-3 p-3",children:[(0,s.jsx)(ns,{lines:4}),(0,s.jsx)(ns,{lines:8}),(0,s.jsx)(ns,{lines:5})]})]})}),r[17]=A,r[18]=U,r[19]=F,r[20]=$,r[21]=a):a=r[21],a}function al(e){var t;let i,n,a,r,l,b,v,C,S,_,N,R,L,D,I,T,A,k,O,M,F,U,$,B,q,H,G,V,K,W,z,Q=(0,o.c)(117),{codeowners:X,commit:Y,commits:J,configOpts:Z,diffSummaries:ee,fileFilter:et,pullRequest:ei,repository:en,markers:ea,pageLimits:er,urls:el,user:es,userNotices:eo,isSingleFileMode:ed,virtualizeDiffEntries:ec}=e;(0,y.useMemo)(()=>{if(ea&&ee){for(let e of ee)if(e.markersMap)for(let t in e.markersMap){let i=e.markersMap[t];if(i?.threads)for(let n of i.threads){let i=function(e,t,i){if("FILE"===e)return;let n=e[0];if(!i3(n))throw Error(`Invalid diff side character: ${n}`);let a=Number(e.slice(1)),r=-1,l="R";if(t.start){r=parseInt(t.start.slice(1));let e=t.start[0];i3(e)&&(l=e)}else r=a,l=n;return{endLine:a,endDiffSide:i2[n],path:i,startLine:r,startDiffSide:i2[l],isOutdated:!!t.outdatedReason}}(t,n,e.path),a=ea.threads[Number(n.id)];if(a&&i){let{isOutdated:e,...t}=i;a.positioning=i,a.subject=t}}}}},[ee,ea]),(0,f.L)(!0),function(){let e,t,i=(0,o.c)(3),{handleHashUpdate:n}=(0,j.Lh)();i[0]!==n?(e=()=>{let e=()=>{n()};return n(),window.addEventListener("hashchange",e),()=>{window.removeEventListener("hashchange",e)}},t=[n],i[0]=n,i[1]=e,i[2]=t):(e=i[1],t=i[2]),(0,y.useEffect)(e,t)}();let eu=(t=es,n=(0,o.c)(5),a=(0,c.C0)(t.viewSettings.splitPreference),r=(0,c.Qn)(t.viewSettings.hideWhitespace),n[0]!==t.viewSettings.commentsPreference||n[1]!==t.viewSettings.lineSpacing||n[2]!==a||n[3]!==r?(i={hideWhitespace:r,splitPreference:a,lineSpacing:t.viewSettings.lineSpacing,commentsPreference:t.viewSettings.commentsPreference},n[0]=t.viewSettings.commentsPreference,n[1]=t.viewSettings.lineSpacing,n[2]=a,n[3]=r,n[4]=i):i=n[4],i);Q[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,m.G7)("pull_request_files_virtualization_without_min_threshold"),Q[0]=l):l=Q[0];let em=l;Q[1]===Symbol.for("react.memo_cache_sentinel")?(b={onSuccess:ao,onError:as},Q[1]=b):b=Q[1];let{mutate:eh}=(0,d.U)(b),{data:ey}=(0,c.ID)(eu);Q[2]!==ey?.commentsPreference||Q[3]!==eh?(v=()=>{eh({commentsPreference:ey?.commentsPreference===u.sI.Visible?u.sI.Collapsed:u.sI.Visible})},Q[2]=ey?.commentsPreference,Q[3]=eh,Q[4]=v):v=Q[4],ey?.commentsPreference;let eb=v,{updateCommentsPreference:ev}=(0,j.CQ)();Q[5]!==ey?.commentsPreference||Q[6]!==ev?(C=()=>{ev(ey?.commentsPreference??u.sI.Visible)},Q[5]=ey?.commentsPreference,Q[6]=ev,Q[7]=C):C=Q[7];let eC=ey?.commentsPreference;Q[8]!==eC||Q[9]!==ev?(S=[eC,ev],Q[8]=eC,Q[9]=ev,Q[10]=S):S=Q[10],(0,y.useEffect)(C,S);let eS=es.currentUserLogin||"";Q[11]!==eS?(_={login:eS},Q[11]=eS,Q[12]=_):_=Q[12];let{splitPagePaneHidden:e_,treeViewState:eN,treeToggleElement:ej,collapseMobileTree:eE,expandTree:eR}=function(e,t,i,n){let a,r,l,d,c,u,m,h,f,p,g,x,b=(0,o.c)(39),{isServer:v}=(0,nt.V)(),C=(0,y.useRef)(null),S=(0,y.useRef)(null),_=t?"expanded":"collapsed";b[0]!==_?(a={wideMode:_,compactMode:"none"},b[0]=_,b[1]=a):a=b[1];let[N,w]=(0,y.useState)(a);b[2]!==n?(r=()=>{w(nr),(0,ni.B)(!0,n),requestAnimationFrame(()=>C.current?.focus())},b[2]=n,b[3]=r):r=b[3];let j=r;b[4]!==n?(l=()=>{w({wideMode:"collapsed",compactMode:"none"}),(0,ni.B)(!1,n),requestAnimationFrame(()=>C.current?.focus())},b[4]=n,b[5]=l):l=b[5];let E=l;b[6]!==i?(d=()=>{let e="overlay";if(i){let t=window.innerWidth;(0,ne.nn)(t)>ne.Gy.large&&(e="inline")}w(t=>({...t,compactMode:e})),requestAnimationFrame(()=>S.current?.focus())},b[6]=i,b[7]=d):d=b[7];let R=d;b[8]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{w(na),requestAnimationFrame(()=>S.current?.focus())},b[8]=c):c=b[8];let L=c;b[9]!==R||b[10]!==j||b[11]!==N.compactMode||b[12]!==N.wideMode?(u=()=>{let e=!1,t=document.getElementById(nn);if(t){let i=t.getBoundingClientRect().width;e=0===i&&P.cg?P.cg.innerWidth>=1012:i>=1012}else P.cg&&(e=P.cg.innerWidth>=1012);e?"collapsed"===N.wideMode&&j():"none"===N.compactMode&&R()},b[9]=R,b[10]=j,b[11]=N.compactMode,b[12]=N.wideMode,b[13]=u):u=b[13];let D=u,I="expanded"===N.wideMode,T="expanded"===N.wideMode?"Collapse file tree":"Expand file tree";b[14]!==E||b[15]!==j||b[16]!==N.wideMode?(m=()=>{"expanded"===N.wideMode?E():j()},b[14]=E,b[15]=j,b[16]=N.wideMode,b[17]=m):m=b[17],b[18]!==e||b[19]!==I||b[20]!==T||b[21]!==m?(h=(0,s.jsx)(i9.L,{expanded:I,alignment:"left",ariaLabel:T,tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:C,className:"DiffComparisonViewer-module__RegularTreeToggle--_Zt7h",onToggleExpanded:m,size:"small"}),b[18]=e,b[19]=I,b[20]=T,b[21]=m,b[22]=h):h=b[22];let A=h,k="none"!==N.compactMode,O="none"!==N.compactMode?"Collapse file tree":"Expand file tree";b[23]!==R||b[24]!==N.compactMode?(f=()=>{"none"!==N.compactMode?L():R()},b[23]=R,b[24]=N.compactMode,b[25]=f):f=b[25],b[26]!==e||b[27]!==k||b[28]!==O||b[29]!==f?(p=(0,s.jsx)(i9.L,{expanded:k,alignment:"left",ariaLabel:O,tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:S,className:"DiffComparisonViewer-module__MobileTreeToggle--lAOrS",onToggleExpanded:f,size:"small"}),b[26]=e,b[27]=k,b[28]=O,b[29]=f,b[30]=p):p=b[30];let M=p;b[31]!==M||b[32]!==A?(g=(0,s.jsxs)(s.Fragment,{children:[M,A]}),b[31]=M,b[32]=A,b[33]=g):g=b[33];let F=g,U=v&&!t;return b[34]!==D||b[35]!==U||b[36]!==F||b[37]!==N?(x={splitPagePaneHidden:U,treeViewState:N,collapseMobileTree:L,expandTree:D,treeToggleElement:F},b[34]=D,b[35]=U,b[36]=F,b[37]=N,b[38]=x):x=b[38],x}(eA,es.isFileTreeExpanded&&!Z.treeCollapsedByDefault,Z.treeEnableInlineCompactMode,_);Q[13]!==X||Q[14]!==ei.pathName?(N={basePath:ei.pathName},X&&(N.initialData=X),Q[13]=X,Q[14]=ei.pathName,Q[15]=N):N=Q[15];let{data:eL}=(0,w.dG)(N),{setCodeowners:eD}=(0,j.wh)();Q[16]!==eL||Q[17]!==eD?(L=()=>{eD(eL)},R=[eL,eD],Q[16]=eL,Q[17]=eD,Q[18]=R,Q[19]=L):(R=Q[18],L=Q[19]),(0,y.useEffect)(L,R);let eI=(0,j.qg)(),{isServer:eT}=(0,nt.V)(),eO=em||ec,eM=(0,j.I8)(),{updateDiffFilter:eP}=(0,j.or)();Q[20]!==et.initialState||Q[21]!==eP?(D=()=>{eP({...et.initialState,unselectedFileExtensions:new Set(et.initialState.unselectedFileExtensions)})},I=[eP,et.initialState],Q[20]=et.initialState,Q[21]=eP,Q[22]=D,Q[23]=I):(D=Q[22],I=Q[23]),(0,y.useEffect)(D,I);let eF=(0,j.mU)();(0,j.nE)(),Q[24]!==eP?(T=e=>{eP(e,!0)},Q[24]=eP,Q[25]=T):T=Q[25];let eU=T;Q[26]!==eE||Q[27]!==eN.compactMode?(A=()=>{"none"!==eN.compactMode&&eE()},Q[26]=eE,Q[27]=eN.compactMode,Q[28]=A):A=Q[28];let e$=A,eq=(0,y.useRef)(null),eH="expanded"!==eN.wideMode?"small":"medium";Q[29]!==eM||Q[30]!==et.menuOptions||Q[31]!==eU||Q[32]!==ei.pathName||Q[33]!==eH||Q[34]!==es.currentUserLogin?(k=(0,s.jsx)(E,{ref:eq,basePath:ei.pathName,fileFilterMenuOptions:et.menuOptions,fileFilterState:eM,setFileFilterState:eU,viewerLogin:es.currentUserLogin,filterSize:eH}),Q[29]=eM,Q[30]=et.menuOptions,Q[31]=eU,Q[32]=ei.pathName,Q[33]=eH,Q[34]=es.currentUserLogin,Q[35]=k):k=Q[35];let eG=k,eV=(0,j.gt)(),eK=ee.length>0,eW=Z.useChangeGroups&&eV&&eK;Q[36]!==eW?(O={changeGroupsEnabled:eW},Q[36]=eW,Q[37]=O):O=Q[37],function(e){let t,i,n,a=(0,o.c)(11),{changeGroupsEnabled:r}=e,l=(0,j.gt)(),s=(0,j.iY)(),d=!!(s&&s.length>0),c=(0,iH.u)("generate_groups_on_files_view"),{mutate:u}=function(){let e,t,i,n=(0,o.c)(7),a=(0,ep.e)(ef.uT.generateChangeGroups),{updateChangeGroupGeneration:r}=(0,j.wL)();return n[0]!==a?(e=async()=>{let e=await (0,ex.q$)(a,{method:"POST"}),t=await (0,ex.hp)(e);return(0,ex.R)(e,t),t},n[0]=a,n[1]=e):e=n[1],n[2]!==r?(t=e=>{r(e)},n[2]=r,n[3]=t):t=n[3],n[4]!==e||n[5]!==t?(i={mutationFn:e,onSuccess:t},n[4]=e,n[5]=t,n[6]=i):i=n[6],(0,eg.n)(i)}(),m=(0,j.Fl)();a[0]!==m?(t=m&&(function(e){switch(e){case"ABANDONED":case"FAILED":case"SKIPPED":return!0;default:return!1}}(m.state)||!ew(m.state)),a[0]=m,a[1]=t):t=a[1];let h=t,f=(0,j.ww)(),p=(0,y.useRef)(!1);a[2]!==l||a[3]!==r||a[4]!==u||a[5]!==d||a[6]!==f||a[7]!==h||a[8]!==c?(i=()=>{p.current||!c||!r||!l||d||f||h||(u(),p.current=!0)},n=[l,c,u,d,h,f,r],a[2]=l,a[3]=r,a[4]=u,a[5]=d,a[6]=f,a[7]=h,a[8]=c,a[9]=i,a[10]=n):(i=a[9],n=a[10]),(0,y.useEffect)(i,n)}(O);let{aliveChannel:ez,bannersData:eQ,pageTitle:eX}=(0,i6.o)();Q[38]!==eR?(M=()=>{eR(),window.requestAnimationFrame(()=>{eq.current?.focus()})},Q[38]=eR,Q[39]=M):M=Q[39];let eY=M;Q[40]!==eY||Q[41]!==eb?(F=(0,s.jsx)(h.ak,{commands:{"pull-request-files-changed:collapse-expand-comments":eb,"pull-request-files-changed:focus-file-tree-filter":eY}}),Q[40]=eY,Q[41]=eb,Q[42]=F):F=Q[42],Q[43]!==eG||Q[44]!==ez||Q[45]!==eW||Q[46]!==eQ||Q[47]!==eE||Q[48]!==J||Q[49]!==Z.useAdvancedToolbar||Q[50]!==Z.useBasicToolbar||Q[51]!==eI||Q[52]!==eF||Q[53]!==e$||Q[54]!==eU||Q[55]!==er||Q[56]!==eX||Q[57]!==ei||Q[58]!==en||Q[59]!==ej||Q[60]!==eN.compactMode||Q[61]!==eN.wideMode||Q[62]!==el||Q[63]!==es||Q[64]!==eo?(U=Z.useAdvancedToolbar||Z.useBasicToolbar?(0,s.jsxs)(s.Fragment,{children:[Z.useAdvancedToolbar&&(0,s.jsx)(iZ,{changeGroupsPreferenceAvailable:eW,commits:J,currentUserLogin:es.currentUserLogin,fileFilter:eG,isFileTreeExpanded:"expanded"===eN.wideMode,lastReviewOid:es.lastReviewOid,pageLimits:er,pullRequest:ei,repository:en,shouldShowViewedFilesCount:es.shouldShowViewedFilesCount,totalFilesCount:eI,treeToggleElement:ej,bannersData:eQ,urls:el,user:es,userNotices:eo,aliveChannel:ez,pageTitle:eX}),Z.useBasicToolbar&&(0,s.jsx)(i8,{fileFilter:eG,isFileTreeExpanded:"expanded"===eN.wideMode,shouldShowViewedFilesCount:es.shouldShowViewedFilesCount,totalFilesCount:eI,treeToggleElement:ej,userNotices:eo}),"overlay"===eN.compactMode&&(0,s.jsx)(p.l,{onClose:()=>eE(),position:{narrow:"fullscreen",regular:"left",wide:"left"},title:"Files",className:"p-0",children:(0,s.jsx)(ek,{allowPullRequestGroups:eW,fileFilter:eG,filteredDiffs:eF,onFileSelected:e$,onSetFilterState:eU})})]}):null,Q[43]=eG,Q[44]=ez,Q[45]=eW,Q[46]=eQ,Q[47]=eE,Q[48]=J,Q[49]=Z.useAdvancedToolbar,Q[50]=Z.useBasicToolbar,Q[51]=eI,Q[52]=eF,Q[53]=e$,Q[54]=eU,Q[55]=er,Q[56]=eX,Q[57]=ei,Q[58]=en,Q[59]=ej,Q[60]=eN.compactMode,Q[61]=eN.wideMode,Q[62]=el,Q[63]=es,Q[64]=eo,Q[65]=U):U=Q[65],Q[66]!==eG||Q[67]!==eW||Q[68]!==Z.useBasicToolbar||Q[69]!==Z.useFileTree||Q[70]!==eF||Q[71]!==e$||Q[72]!==eU||Q[73]!==e_||Q[74]!==eN.compactMode||Q[75]!==eN.wideMode?($=Z.useFileTree?(0,s.jsx)(g.O7.Pane,{position:"start",sticky:!0,offsetHeader:Z.useBasicToolbar?"50px":"60px","aria-label":"File tree",padding:"none",className:(0,x.$)("DiffComparisonViewer-module__Pane--FbQgQ",e_&&"DiffComparisonViewer-module__HiddenPane--pMKU7","expanded"===eN.wideMode&&i4,"collapsed"===eN.wideMode&&"DiffComparisonViewer-module__WideCollapsed--nAjUj","none"===eN.compactMode&&"DiffComparisonViewer-module__CompactHidden--NQ1CL","overlay"===eN.compactMode&&"DiffComparisonViewer-module__CompactOverlay--ZnZLv","inline"===eN.compactMode&&"DiffComparisonViewer-module__CompactInline--jndVg","DiffComparisonViewer-module__PaneOverflowVisible--fmHF4"),divider:{regular:"inline"===eN.compactMode?"none":"line",narrow:"none"},widthStorageKey:"diff-tree-pane-width",resizable:"inline"!==eN.compactMode,children:(0,s.jsx)(ek,{allowPullRequestGroups:eW,className:(0,x.$)("PullRequestFileTree-module__sidebar--A_ZKx","DiffComparisonViewer-module__PaneContain--PQMad"),fileFilter:eG,filteredDiffs:eF,onFileSelected:e$,onSetFilterState:eU})}):null,Q[66]=eG,Q[67]=eW,Q[68]=Z.useBasicToolbar,Q[69]=Z.useFileTree,Q[70]=eF,Q[71]=e$,Q[72]=eU,Q[73]=e_,Q[74]=eN.compactMode,Q[75]=eN.wideMode,Q[76]=$):$=Q[76];let eJ="inline"===eN.compactMode;Q[77]!==eJ?(B={narrow:!1,regular:eJ},Q[77]=eJ,Q[78]=B):B=Q[78];let eZ="expanded"===eN.wideMode&&i4;return Q[79]!==eZ?(q=(0,x.$)("DiffComparisonViewer-module__Content--Cv2ab",eZ,"DiffComparisonViewer-module__NarrowScreenContent--EGLk4"),Q[79]=eZ,Q[80]=q):q=Q[80],Q[81]!==Y||Q[82]!==J||Q[83]!==ei||Q[84]!==en?(H=Y&&(0,s.jsx)(n9,{commit:Y,pullRequest:ei,commits:J,repository:en}),Q[81]=Y,Q[82]=J,Q[83]=ei,Q[84]=en,Q[85]=H):H=Q[85],Q[86]!==eO||Q[87]!==ed||Q[88]!==en||Q[89]!==el?(G=(0,s.jsx)(aa,{isDiffVirtualizationEnabled:eO,isInSingleFileMode:ed,repository:en,urls:el}),Q[86]=eO,Q[87]=ed,Q[88]=en,Q[89]=el,Q[90]=G):G=Q[90],Q[91]!==er||Q[92]!==el?(V=(0,s.jsx)(eB,{pageLimits:er,urls:el}),Q[91]=er,Q[92]=el,Q[93]=V):V=Q[93],Q[94]!==eF||Q[95]!==eU||Q[96]!==eO||Q[97]!==eT||Q[98]!==ed||Q[99]!==ei.globalRelayId||Q[100]!==ei.headBranch||Q[101]!==ei.headRepositoryName||Q[102]!==ei.headRepositoryOwnerLogin||Q[103]!==en?(K=eO&&!eT?(0,s.jsx)(n3,{headBranchName:ei.headBranch,headRepoName:ei.headRepositoryName,headRepoOwner:ei.headRepositoryOwnerLogin,onSetFilterState:eU,pullRequestGlobalRelayId:ei.globalRelayId,repository:en,showPullRequestGroups:!0}):(0,s.jsx)(s.Fragment,{children:ed?(0,s.jsx)(ai,{filteredDiffSummaries:eF,headBranchName:ei.headBranch,headRepoName:ei.headRepositoryName,headRepoOwner:ei.headRepositoryOwnerLogin,pullRequestGlobalRelayId:ei.globalRelayId,repository:en}):(0,s.jsx)(nX,{headBranchName:ei.headBranch,headRepoName:ei.headRepositoryName,headRepoOwner:ei.headRepositoryOwnerLogin,onSetFilterState:eU,pullRequestGlobalRelayId:ei.globalRelayId,repository:en,showPullRequestGroups:!0})}),Q[94]=eF,Q[95]=eU,Q[96]=eO,Q[97]=eT,Q[98]=ed,Q[99]=ei.globalRelayId,Q[100]=ei.headBranch,Q[101]=ei.headRepositoryName,Q[102]=ei.headRepositoryOwnerLogin,Q[103]=en,Q[104]=K):K=Q[104],Q[105]!==B||Q[106]!==q||Q[107]!==H||Q[108]!==G||Q[109]!==V||Q[110]!==K?(W=(0,s.jsxs)(g.O7.Content,{as:"div",width:"full",hidden:B,padding:"none",className:q,children:[H,G,V,K]}),Q[105]=B,Q[106]=q,Q[107]=H,Q[108]=G,Q[109]=V,Q[110]=K,Q[111]=W):W=Q[111],Q[112]!==F||Q[113]!==U||Q[114]!==$||Q[115]!==W?(z=(0,s.jsxs)(s.Fragment,{children:[F,U,$,W]}),Q[112]=F,Q[113]=U,Q[114]=$,Q[115]=W,Q[116]=z):z=Q[116],z}function as(){}function ao(){}function ad(e){let t,i,n,a=(0,o.c)(7);return a[0]!==e.className?(t=(0,x.$)("DiffComparisonViewer-module__Container--nndHZ",e.className),a[0]=e.className,a[1]=t):t=a[1],a[2]!==e.children?(i=(0,s.jsx)(g.O7,{children:e.children}),a[2]=e.children,a[3]=i):i=a[3],a[4]!==t||a[5]!==i?(n=(0,s.jsx)("div",{id:nn,className:t,children:i}),a[4]=t,a[5]=i,a[6]=n):n=a[6],n}let ac=Object.assign({},{Container:ad,Header:g.O7.Header,Viewer:ar});try{(a=Some).displayName||(a.displayName="Some")}catch{}try{(r=Some).displayName||(r.displayName="Some")}catch{}try{ar.displayName||(ar.displayName="BaseDiffComparisonViewer")}catch{}try{al.displayName||(al.displayName="InternalDiffComparisonViewer")}catch{}try{(l=FilterFilterComponent).displayName||(l.displayName="FilterFilterComponent")}catch{}try{ad.displayName||(ad.displayName="Container")}catch{}try{ac.displayName||(ac.displayName="DiffComparisonViewer")}catch{}},85933:(e,t,i)=>{function n(){return!!document.querySelector('react-app[data-lazy="true"]')}function a(){return!!document.querySelector('react-app[data-alternate="true"]')}function r(){return!!document.querySelector("header.AppHeader")}function l(){return performance.getEntriesByType("resource").some(e=>"fetch"===e.initiatorType&&e.name.includes("_graphql?"))}function s(){return performance.getEntriesByType("resource").some(e=>"script"===e.initiatorType)}i.d(t,{Dk:()=>r,NT:()=>c,X:()=>d,_:()=>n,aE:()=>l,u$:()=>a,xF:()=>s}),i(69599),i(95324);let o=null;function d(){return o}function c(e){o=e}},86859:(e,t,i)=>{i.d(t,{Dg:()=>s,L_:()=>l,M0:()=>d});var n=i(16522),a=i(82518),r=i(96540);function l(){let e=performance.memory;return e?.usedJSHeapSize&&e?.jsHeapSizeLimit?Math.round(e.usedJSHeapSize/e.jsHeapSizeLimit*1e4)/100:null}function s(){let e=performance.memory;return e?.usedJSHeapSize??null}function o({statName:e,tags:t}){requestIdleCallback(()=>{let i,n=(i=performance.memory,i?.usedJSHeapSize?Math.round(i.usedJSHeapSize/1024/1024*10)/10:null);n&&(0,a.au)({name:e,value:n,tags:t})})}function d(e){let t,i=(0,n.c)(4),{intervalMs:a,statName:l,tags:s}=e,d=void 0===a?5e3:a;i[0]!==d||i[1]!==l||i[2]!==s?(t=()=>{if(!performance||!("memory"in performance))return;o({statName:l,tags:s});let e=setInterval(()=>o({statName:l,tags:s}),d);return()=>clearInterval(e)},i[0]=d,i[1]=l,i[2]=s,i[3]=t):t=i[3],(0,r.useEffect)(t)}},86909:(e,t,i)=>{i.d(t,{YH:()=>C,Gt:()=>v,Vv:()=>j});var n,a=i(74848),r=i(16522),l=i(77430),s=i(73017),o=i(38621),d=i(26108),c=i(98552),u=i(69497),m=i(21373),h=i(34164),f=i(48505);let p="Annotation-module__inlineReviewThreadHeading--Qj9j8";var g=i(79036),x=i(96540),y=i(82075),b=i(56038);let v={[f.UZ.Failure]:(0,a.jsx)(o.StopIcon,{className:"fgColor-danger mr-2"}),[f.UZ.Warning]:(0,a.jsx)(o.AlertIcon,{className:"fgColor-attention mr-2"}),[f.UZ.Notice]:(0,a.jsx)(o.InfoIcon,{className:"fgColor-muted mr-2"})};function C(e){let t,i,n,f,p,x,y,b=(0,r.c)(31),{annotation:v,inSidePanel:C}=e,S=C?"h3":"h2",{isCollapsed:w,handleToggleCollapsed:E}=j(v),R=g.GF[v.annotationLevel];return b[0]!==R.borderColor?(t=(0,h.$)("p-1 bgColor-default",R.borderColor,"Annotation-module__annotation--KlX5M"),b[0]=R.borderColor,b[1]=t):t=b[1],b[2]!==E||b[3]!==C||b[4]!==w?(i=!C&&(0,a.jsx)(d.K,{"aria-label":w?"Expand annotation":"Collapse annotation",icon:w?o.ChevronRightIcon:o.ChevronDownIcon,size:"small",variant:"invisible",onClick:E}),b[2]=E,b[3]=C,b[4]=w,b[5]=i):i=b[5],b[6]!==v||b[7]!==C?(n=!C&&(0,a.jsx)(_,{annotation:v}),b[6]=v,b[7]=C,b[8]=n):n=b[8],b[9]!==v||b[10]!==C?(f=C&&(0,a.jsx)(N,{annotation:v}),b[9]=v,b[10]=C,b[11]=f):f=b[11],b[12]!==i||b[13]!==n||b[14]!==f?(p=(0,a.jsxs)("div",{className:"d-flex flex-items-center",children:[i,n,f]}),b[12]=i,b[13]=n,b[14]=f,b[15]=p):p=b[15],b[16]!==S||b[17]!==v.annotationLevel||b[18]!==v.appAvatarAltText||b[19]!==v.appAvatarUrl||b[20]!==v.checkRun||b[21]!==v.checkSuiteName||b[22]!==v.message||b[23]!==v.title||b[24]!==C||b[25]!==w?(x=(!w||C)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"ml-4 mt-2",children:v.title&&(0,a.jsx)(c.A,{weight:"semibold",size:"medium",className:g.GF[v.annotationLevel].primaryColorClass,children:v.title})}),(0,a.jsxs)(S,{className:"sr-only",children:[g.GF[v.annotationLevel].ariaLabel,": ",v.title]}),(0,a.jsx)("div",{className:"mb-3 mt-1 ml-4",children:v.message&&(0,a.jsx)(s.$6,{html:v.message,className:"Annotation-module__annotationMessage--gFM9M"})}),(0,a.jsxs)("div",{className:"d-flex flex-items-center flex-justify-between ml-4 pr-2 pb-2",children:[(0,a.jsxs)("div",{className:"Annotation-module__annotationSource--fZyli",children:[(0,a.jsx)(l.r,{src:v.appAvatarUrl,alt:v.appAvatarAltText}),(0,a.jsxs)(u.A,{className:"ml-2",maxWidth:"300px",inline:!0,title:`${v.checkSuiteName} / ${v.checkRun.name}`,children:[(0,a.jsx)(c.A,{weight:"semibold",size:"small",children:v.checkSuiteName})," ","/ ",(0,a.jsx)(c.A,{size:"small",children:v.checkRun.name})]})]}),v.checkRun.detailsUrl&&(0,a.jsx)(m.Q,{as:"a",href:v.checkRun.detailsUrl,size:"small",children:"View details"})]})]}),b[16]=S,b[17]=v.annotationLevel,b[18]=v.appAvatarAltText,b[19]=v.appAvatarUrl,b[20]=v.checkRun,b[21]=v.checkSuiteName,b[22]=v.message,b[23]=v.title,b[24]=C,b[25]=w,b[26]=x):x=b[26],b[27]!==t||b[28]!==p||b[29]!==x?(y=(0,a.jsxs)("div",{className:t,children:[p,x]}),b[27]=t,b[28]=p,b[29]=x,b[30]=y):y=b[30],y}function S(e){let t,i=(0,r.c)(2),{children:n}=e;return i[0]!==n?(t=(0,a.jsx)("span",{className:"text-semibold fgColor-default",children:n}),i[0]=n,i[1]=t):t=i[1],t}function _(e){let t,i,n=(0,r.c)(6),{annotation:l}=e,s=v[l.annotationLevel],o=g.GF[l.annotationLevel];return n[0]!==l.endLine?(t=(0,a.jsxs)(S,{children:["R",l.endLine]}),n[0]=l.endLine,n[1]=t):t=n[1],n[2]!==s||n[3]!==o.ariaLabel||n[4]!==t?(i=(0,a.jsxs)("h2",{className:p,children:[s,o.ariaLabel," on line"," ",t]}),n[2]=s,n[3]=o.ariaLabel,n[4]=t,n[5]=i):i=n[5],i}function N(e){let t,i,n=(0,r.c)(3),{annotation:l}=e;n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,h.$)(p,"ml-4","pt-1","pl-0"),n[0]=t):t=n[0];let s=g.GF[l.annotationLevel];return n[1]!==s.ariaLabel?(i=(0,a.jsx)("div",{className:t,children:(0,a.jsx)(S,{children:s.ariaLabel})}),n[1]=s.ariaLabel,n[2]=i):i=n[2],i}function w(e){return`AnnotationIsCollapsed_${e.path}_${e.endLine}_${e.annotationLevel}_${e.title}`}function j(e){let t,i,n,a,l,s=(0,r.c)(10);s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,y.A)("localStorage"),s[0]=t):t=s[0];let o=t,[d,c]=(0,x.useState)(!1);s[1]!==e?(i=()=>{let t=localStorage.getItem(w(e));null!==t&&c(JSON.parse(t))},n=[e],s[1]=e,s[2]=i,s[3]=n):(i=s[2],n=s[3]),(0,x.useEffect)(i,n),s[4]!==e||s[5]!==d?(a=()=>{b.cg?.requestAnimationFrame(()=>{o.setItem(w(e),JSON.stringify(!d))}),c(E)},s[4]=e,s[5]=d,s[6]=a):a=s[6];let u=a;return s[7]!==u||s[8]!==d?(l={isCollapsed:d,handleToggleCollapsed:u},s[7]=u,s[8]=d,s[9]=l):l=s[9],l}function E(e){return!e}try{C.displayName||(C.displayName="Annotation")}catch{}try{(n=AnnotationHeadingTag).displayName||(n.displayName="AnnotationHeadingTag")}catch{}try{S.displayName||(S.displayName="Emphasis")}catch{}try{_.displayName||(_.displayName="AnnotationBanner")}catch{}try{N.displayName||(N.displayName="SidePanelAnnotationBanner")}catch{}},89155:(e,t,i)=>{i.d(t,{F:()=>l});var n=i(16522),a=i(39029),r=i(34261);function l(e){let t,i=(0,n.c)(1),{refetch:l}=(0,r.W)();i[0]===Symbol.for("react.memo_cache_sentinel")?(t={git_updated:!0,title_updated:!0},i[0]=t):t=i[0],(0,a.og)(e,l,t)}},90891:(e,t,i)=>{i.d(t,{Ee:()=>s,Ts:()=>l,b4:()=>o});var n=i(53331),a=i(69759),r=i(51987);async function l(e,t,i){let l=new Request(t,i);(0,r.tV)(l.headers);let s=await self.fetch(l);if(s.status<200||s.status>=300)throw Error(`HTTP ${s.status}${s.statusText||""}`);return(0,n.A)((0,n.K)(e),s),(0,a.B)(e,await s.text())}function s(e,t,i=1e3,n=[200],a=[202]){return async function i(l){let s=new Request(e,t);(0,r.tV)(s.headers);let o=await self.fetch(s);if(a.includes(o.status))return await new Promise(e=>setTimeout(e,l)),i(1.5*l);if(n.includes(o.status))return o;if(o.status<200||o.status>=300)throw Error(`HTTP ${o.status}${o.statusText||""}`);throw Error(`Unexpected ${o.status} response status from poll endpoint`)}(i)}async function o(e,t,i){let{wait:n=500,acceptedStatusCodes:a=[200],max:l=3,attempt:s=0}=i||{},d=async()=>new Promise((i,o)=>{setTimeout(async()=>{try{let n=new Request(e,t);(0,r.tV)(n.headers);let o=await self.fetch(n);if(a.includes(o.status)||s+1===l)return i(o);i("retry")}catch(e){o(e)}},n*s)}),c=await d();return"retry"!==c?c:o(e,t,{wait:n,acceptedStatusCodes:a,max:l,attempt:s+1})}},93642:(e,t,i)=>{function n(e,t){for(let i of function e(t,i=[]){var n,r;let l;if(""===t)return i;let s=t.match(a());if(!s)return i;let o=s.groups.fence;if(!o)return i;let d=o.includes("~")?"~":"`",c=t.match((l=a([n=d],r=o.length),RegExp(`${l.source}(?:\r?
)(?<suggestion>.*?)(?:\r?
)^ {0,3}${n}{${r},}[ 	]*$`,"ms")));if(!c)return i;let u=0,m=s.groups.indent;""!==m&&(u=m.length);let h=c.groups.suggestion;if(u>0){let e=RegExp(`^ {0,${u}}`,"m");h=h.replace(e,"")}return i.push(h),e(t.slice(c.index+c[0].length),i)}(e))if(i===t)return{isValid:!1,errorMessage:"Suggested change cannot be the same as the original line"};return{isValid:!0,errorMessage:""}}function a(e=["`","~"],t){let i=t?`{${t}}`:"{3,}",n=e.map(e=>`${e}${i}`);return RegExp(`^(?<indent> {0,3})(?<fence>${n.join("|")})suggestion[ 	]*$`,"m")}i.d(t,{u:()=>n})},95324:(e,t,i)=>{i.d(t,{n:()=>l});var n=i(82518),a=i(56038),r=i(86859);function l(e=.1){if(Math.random()>e)return()=>{};let t=(0,r.Dg)();if(null===t)return()=>{};let i=t,s=0,o=0,d=(e,t)=>{(0,n.au)({requestUrl:window.location.href,name:e,value:t})},c=(e,t)=>{"u">typeof requestIdleCallback?requestIdleCallback(()=>d(e,t)):setTimeout(()=>d(e,t),0)},u=()=>{if(s>=20)return void clearInterval(m);let e=(0,r.Dg)();if(null===e)return;i=Math.max(i,e);let t=Math.round(e/1024/1024*100)/100;if(2>Math.abs(t-o))return;s++,o=t,c("BROWSER_MEMORY_DIST_HEAP_USED",t);let n=(0,r.L_)();null!==n&&c("BROWSER_MEMORY_DIST_HEAP_UTILIZATION",n)},m=setInterval(u,3e4),h=()=>{if(a.XC?.visibilityState==="hidden"){let e=(0,r.Dg)();null!==e&&(c("BROWSER_MEMORY_DIST_SESSION_GROWTH",Math.round((e-t)/1024/1024*100)/100),c("BROWSER_MEMORY_DIST_SESSION_MAX",Math.round(i/1024/1024*100)/100))}};a.XC?.addEventListener("visibilitychange",h);let f=setTimeout(u,5e3);return()=>{clearInterval(m),clearTimeout(f),a.XC?.removeEventListener("visibilitychange",h)}}},95807:(e,t,i)=>{i.d(t,{i:()=>f});var n=i(74848),a=i(16522),r=i(96379),l=i(21373),s=i(69726),o=i(11196),d=i(96540),c=i(30459),u=i(57224),m=i(70263);let h={stale:!1,latest_unsynced_push_to_head_ref_at:null};function f({processingIndicatorUrl:e,repositoryId:t,pullRequestId:i}){let[a,l]=(0,d.useState)(h),s=(0,m.A)(),o=(0,d.useCallback)(async()=>{try{let t=await (0,r.lS)(e);if(t.ok){let e=await t.json();s()&&l(e)}}catch{s()&&l(h)}},[s,e]);(0,d.useEffect)(()=>{o()},[]);let{stale:c,latest_unsynced_push_to_head_ref_at:f}=a;return(0,n.jsx)("div",{className:"border-left pl-1",children:(0,n.jsx)(u.y,{appName:"pull-requests-processing-indicator",category:"render",metadata:{},children:(0,n.jsx)(p,{pullRequestId:i,repositoryId:t,stale:c,latest_unsynced_push_to_head_ref_at:f})})})}function p(e){let t,i,r=(0,a.c)(6),{pullRequestId:d,repositoryId:u,stale:m,latest_unsynced_push_to_head_ref_at:h}=e,{sendAnalyticsEvent:f}=(0,c.s)();if(!m||!h)return null;if(r[0]!==h||r[1]!==d||r[2]!==u||r[3]!==f){t=Symbol.for("react.early_return_sentinel");e:{let e=new Date,i=new Date(h),n=Math.round(e.getTime()-i.getTime())/1e3;if(n<20||n>=86400){t=null;break e}f("pull_requests.processing_indicator","",{repositoryId:u,pullRequestId:d,secondsSinceLastPush:n})}r[0]=h,r[1]=d,r[2]=u,r[3]=f,r[4]=t}else t=r[4];return t!==Symbol.for("react.early_return_sentinel")?t:(r[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(o.m,{text:"Recent push is being processed and will appear soon",direction:"s",children:(0,n.jsx)(l.Q,{as:"a",href:"https://gh.io/pr-sync-in-progress",variant:"invisible",className:"PullRequestsProcessingIndicator-module__button--IKkby",children:(0,n.jsxs)("div",{className:"PullRequestsProcessingIndicator-module__indicator--iNiwb",children:[(0,n.jsx)(s.A,{size:"small"}),(0,n.jsx)("span",{className:"PullRequestsProcessingIndicator-module__text--JUMXg",children:"Processing updates"})]})})}),r[5]=i):i=r[5],i)}try{f.displayName||(f.displayName="PullRequestsProcessingIndicatorWithDataFetching")}catch{}try{p.displayName||(p.displayName="PullRequestsProcessingIndicator")}catch{}},97695:(e,t,i)=>{i.d(t,{H:()=>u});var n=i(16522),a=i(48845),r=i(20622),l=i(97665),s=i(94747),o=i(24937),d=i(93211),c=i(21067);function u(e,t){let i,u,m,h,f=(0,n.c)(12),p=(0,d.Kp)();f[0]===Symbol.for("react.memo_cache_sentinel")?(i=(0,c.cj)(),f[0]=i):i=f[0];let g=i,x=`${p}/page_data/${r.uT.resolveThread}`,y=(0,l.jE)(),{updateThread:b}=(0,d.an)();return f[1]!==x?(u=async e=>{let{threadId:t}=e,i=await (0,a.q$)(x,{method:"POST",body:{threadId:t}});(0,a.R)(i)},f[1]=x,f[2]=u):u=f[2],f[3]!==p||f[4]!==e||f[5]!==t||f[6]!==y||f[7]!==b?(m=(i,n)=>(b(Number(n.threadId),e,t,e=>{if(e)return{...e,isResolved:!0,resolvedBy:g}}),y.invalidateQueries({queryKey:(0,o.XG)(p)})),f[3]=p,f[4]=e,f[5]=t,f[6]=y,f[7]=b,f[8]=m):m=f[8],f[9]!==u||f[10]!==m?(h={mutationFn:u,onSuccess:m},f[9]=u,f[10]=m,f[11]=h):h=f[11],(0,s.n)(h)}},99279:(e,t,i)=>{i.d(t,{G:()=>n});let n=i(12435).$h.create("pull-requests")}}]);
//# sourceMappingURL=98452-2109f94691a0.js.map