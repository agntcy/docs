"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([[42428],{13523:(e,t,n)=>{n.d(t,{$r:()=>l,M1:()=>a,li:()=>i,pS:()=>h,wE:()=>s});var r=n(56038);let i="X-Fetch-Nonce",o=new Set;function l(e){o.add(e)}function a(){return o.values().next().value||""}function s(e){let t={};return void 0!==e&&(t["X-Fetch-Nonce-To-Validate"]=e),void 0===e?t[i]=a():o.has(e)?t[i]=e:t[i]=Array.from(o).join(","),t}function h(){let e=r.XC?.head?.querySelector('meta[name="fetch-nonce"]')?.content||"";e&&l(e)}},28233:(e,t,n)=>{n.d(t,{_:()=>BaseBatchDeferredContentElement});var r=n(50467),i=n(31635),o=n(39595),l=n(69759),a=n(51987);let s=class AutoFlushingQueue{push(e){let t=`item-${this.index++}`;return this.timer&&(window.clearTimeout(this.timer),this.timer=null),this.elements.length>=this.limit&&this.flush(),this.timer=window.setTimeout(()=>{this.timer=null,this.flush()},this.timeout),this.elements.push([e,t]),t}onFlush(e){this.callbacks.push(e)}async flush(){let e=this.elements.splice(0,this.limit);0!==e.length&&await Promise.all(this.callbacks.map(t=>t(e)))}constructor(e=50,t=30){(0,r._)(this,"timeout",void 0),(0,r._)(this,"limit",void 0),(0,r._)(this,"elements",[]),(0,r._)(this,"timer",null),(0,r._)(this,"callbacks",[]),(0,r._)(this,"index",void 0),this.timeout=e,this.limit=t,this.index=0}};let BatchLoader=class BatchLoader{loadInBatch(e){let t=this.autoFlushingQueue.push(e);return new Promise(e=>this.callbacks.set(t,e))}async load(e){let t=new Map;for(let[n,r]of e)t.set(r,n);let n=new FormData;for(let[e,r]of t.entries())for(let t of r.inputs)n.append(`items[${e}][${t.name}]`,t.value);if(0===Array.from(n.values()).length)return;n.set("_method","GET");let r=await fetch(this.url,{method:"POST",body:n,headers:{Accept:"application/json",...(0,a.kt)()}});if(r.ok){let e=await r.json();if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Malformed batch response");for(let t in e){let n=this.callbacks.get(t);if(n){let r=e[t];this.validate(r),n(r)}}}}constructor(e,t){(0,r._)(this,"autoFlushingQueue",void 0),(0,r._)(this,"url",void 0),(0,r._)(this,"callbacks",void 0),(0,r._)(this,"validate",void 0),this.url=e,this.callbacks=new Map,this.autoFlushingQueue=new s,this.autoFlushingQueue.onFlush(async e=>{this.load(e)}),this.validate=t}};let BaseBatchDeferredContentElement=class BaseBatchDeferredContentElement extends HTMLElement{async connectedCallback(){let e=await this.batchLoader.loadInBatch(this);this.update(e)}get batchLoader(){let e=this.getAttribute("data-url");if(!e)throw Error(`${this.tagName} element requires a data-url attribute`);let t=this.batchLoaders.get(e);return t||(t=new BatchLoader(e,e=>this.validate(e)),this.batchLoaders.set(e,t)),t}};let h=new Map,u=class BatchDeferredContentElement extends BaseBatchDeferredContentElement{validate(e){if("string"!=typeof e)throw Error("Batch deferred content was not a string")}update(e){let t=(0,l.B)(document,e);this.replaceWith(t)}constructor(...e){super(...e),(0,r._)(this,"batchLoaders",h)}};(0,i.Cg)([o.zV],u.prototype,"inputs",void 0),u=(0,i.Cg)([o.p_],u)},31635:(e,t,n)=>{n.d(t,{AQ:()=>l,Cg:()=>i,Me:()=>a,N3:()=>o,Tt:()=>r,xN:()=>s});function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function i(e,t,n,r){var i,o=arguments.length,l=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(o<3?i(l):o>3?i(t,n,l):i(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l}function o(e){return this instanceof o?(this.v=e,this):new o(e)}function l(e,t,n){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),l=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){i[e]&&(r[e]=function(t){return new Promise(function(n,r){l.push([e,t,n,r])>1||s(e,t)})},t&&(r[e]=t(r[e])))}function s(e,t){try{var n;(n=i[e](t)).value instanceof o?Promise.resolve(n.value.v).then(h,u):c(l[0][2],n)}catch(e){c(l[0][3],e)}}function h(e){s("next",e)}function u(e){s("throw",e)}function c(e,t){e(t),l.shift(),l.length&&s(l[0][0],l[0][1])}}function a(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:o(e[r](t)),done:!1}:i?i(t):t}:i}}function s(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){var o,l,a;o=r,l=i,a=(t=e[n](t)).done,Promise.resolve(t.value).then(function(e){o({value:e,done:a})},l)})}}}"function"==typeof SuppressedError&&SuppressedError},42428:(e,t,n)=>{n.r(t),n.d(t,{DeferredDiffLinesElement:()=>DeferredDiffLinesElement,deferredDiffLinesLoaders:()=>d});var r=n(50467),i=n(31635),o=n(28233),l=n(39595),a=n(69759);let s=["hunk","addition","deletion","context","injected_context"],h=class DiffRow{get lineNumbers(){let e=Array.from(this.tableRow.querySelectorAll("td.blob-num")).map(e=>parseInt(e.getAttribute("data-line-number")||"")||null);return[e[0]||null,e[1]||null]}replaceChildren(e,t){let n=(0,a.B)(document,t);n.textContent?.trim()===e.textContent?.trim()&&e.replaceChildren(n)}constructor(e){(0,r._)(this,"tableRow",void 0),this.tableRow=e}},u=class UnifiedDiffRow extends h{get innerCode(){return this.tableRow.querySelector(".blob-code-inner")}applyAddition(e){this.replaceChildren(this.innerCode,e.html)}applyDeletion(e){this.replaceChildren(this.innerCode,e.html)}applyContext(e){this.replaceChildren(this.innerCode,e.html)}},c=class SplitDiffRow extends h{get rightInnerCode(){return this.tableRow.querySelector('[data-split-side="right"] .blob-code-inner')}get leftInnerCode(){return this.tableRow.querySelector('[data-split-side="left"] .blob-code-inner')}applyAddition(e){this.replaceChildren(this.rightInnerCode,e.html)}applyDeletion(e){this.replaceChildren(this.leftInnerCode,e.html)}applyContext(e){this.replaceChildren(this.leftInnerCode,e.html),this.replaceChildren(this.rightInnerCode,e.html)}},d=new Map;let DeferredDiffLinesElement=class DeferredDiffLinesElement extends o._{disconnectedCallback(){this.animationFrameHandle&&cancelAnimationFrame(this.animationFrameHandle)}validate(e){if(!Array.isArray(e))throw Error("Batch deferred diff lines were not an array");for(let t of e)if(!s.includes(t?.type)||"string"!=typeof t?.html||"number"!=typeof t?.left&&t?.left!==null||"number"!=typeof t?.right&&t?.right!==null)throw Error("Malformed Batch deferred diff line")}update(e){let t=this.querySelectorAll("table.js-diff-table > tbody > tr:not(.js-inline-comments-container)"),n=t[0]?.closest("table");if(!n)throw Error(`No .js-diff-table found within ${this.tagName}`);let r=n.classList.contains("js-file-diff-split"),i=new Map,o=new Map;for(let e of t){let t=r?new c(e):new u(e),[n,l]=t.lineNumbers;n&&i.set(n,t),l&&o.set(l,t)}this.animationFrameHandle=requestAnimationFrame(()=>{for(let t of e){let e=t.left?i.get(t.left):null,n=t.right?o.get(t.right):null;switch(t.type){case"addition":n?.applyAddition(t);break;case"deletion":e?.applyDeletion(t);break;case"context":case"injected_context":e?.applyContext(t)}}this.animationFrameHandle=requestAnimationFrame(()=>{this.classList.remove("awaiting-highlight"),this.animationFrameHandle=null,this.dispatchEvent(new CustomEvent("deferred-highlight:applied",{bubbles:!0}))})})}isAwaitingHighlight(){return this.classList.contains("awaiting-highlight")}constructor(...e){super(...e),(0,r._)(this,"batchLoaders",d)}};(0,i.Cg)([l.zV],DeferredDiffLinesElement.prototype,"inputs",void 0),DeferredDiffLinesElement=(0,i.Cg)([l.p_],DeferredDiffLinesElement)},50467:(e,t,n)=>{n.d(t,{_:()=>r});function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},51987:(e,t,n)=>{n.d(t,{jC:()=>a,kt:()=>o,tV:()=>l});var r=n(87057),i=n(13523);function o(e){let t={"X-Requested-With":"XMLHttpRequest",...(0,i.wE)(e)};return{...t,[r.S]:(0,r.O)()}}function l(e,t){for(let[n,r]of Object.entries(o(t)))e.set(n,r)}function a(e){return{"X-GitHub-App-Type":e}}},56038:(e,t,n)=>{n.d(t,{Kn:()=>l,XC:()=>i,cg:()=>o,fV:()=>a});let r="u">typeof FORCE_SERVER_ENV&&FORCE_SERVER_ENV,i="u"<typeof document||r?void 0:document,o="u"<typeof window||r?void 0:window,l="u"<typeof history||r?void 0:history,a="u"<typeof location||r?{get pathname(){return(void 0)??""},get origin(){return(void 0)??""},get search(){return(void 0)??""},get hash(){return(void 0)??""},get href(){return(void 0)??""}}:location},69759:(e,t,n)=>{n.d(t,{B:()=>r});function r(e,t){let n=e.createElement("template");return n.innerHTML=t,e.importNode(n.content,!0)}},87057:(e,t,n)=>{n.d(t,{O:()=>l,S:()=>o});var r=n(56038);let i=r.cg?.document?.head?.querySelector('meta[name="release"]')?.content||"",o="X-GitHub-Client-Version";function l(){return i}}}]);
//# sourceMappingURL=42428-8ed7030fe718.js.map