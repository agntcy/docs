performance.mark("js-parse-end:64665-a563226b8ec7.js");
"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([[40235,64665],{4929:(e,t,r)=>{r.d(t,{V:()=>a});var s=r(74848),n=r(29731),i=r(34164);function a({children:e,alignment:t,variant:r,...a}){return(0,s.jsx)("div",{...(0,n.G)("list-view-item-metadata-item"),...a,className:(0,i.$)("Metadata-module__metadata--ODMG0","primary"===r?"Metadata-module__primary--S8Orc":"Metadata-module__secondary--1te4w","right"===t&&"Metadata-module__alignRight--A1PHa",a.className),children:e})}try{a.displayName||(a.displayName="ListItemMetadata")}catch{}},10422:(e,t,r)=>{r.d(t,{gX:()=>rh,S4:()=>sT,OC:()=>R,cY:()=>tp,Uz:()=>sA});var s,n=r(74848),i=r(16522);function a(e){if(null==e)throw Error("Failed to load page data.")}var o=r(75202),l=r(38621),c=r(69726),u=r(34164),d=r(96540),h=r(17645),m=r(20622),E=r(53885),_=r(50129),g=r(65820),S=r(97665),f=r(97286);function p(){let e,t=(0,i.c)(2),{basePageDataUrl:r}=(0,_.Yu)(),s=`basePageDataURL:${r}`;return t[0]!==s?(e=[m.uT.mergeBox,s],t[0]=s,t[1]=e):e=t[1],e}let C=(0,d.createContext)({mergeMethod:h.q$.MERGE,setMergeMethod:()=>{}});function R({children:e,defaultMergeMethod:t}){let[r,s]=(0,d.useState)(t),i=p(),a=(0,S.jE)();(0,d.useEffect)(()=>{a.invalidateQueries({queryKey:i})},[r]);let o=(0,d.useMemo)(()=>({mergeMethod:r,setMergeMethod:s}),[r]);return(0,n.jsx)(C,{value:o,children:e})}function T(){return(0,d.use)(C)}try{C.displayName||(C.displayName="MergeMethodContext")}catch{}try{R.displayName||(R.displayName="MergeMethodContextProvider")}catch{}function v(e){let t=e&&e.conditions.find(e=>h.nw.includes(e.type));if(t&&"conflicts"in t&&"isConflictResolvableInWeb"in t)return t}function N(e){return e?.conditions.filter(e=>h.iG.includes(e.type)&&"FAILED"===e.result)??[]}var I=r(35750),O=r(18150),A=r(85242),y=r(88243),x=r(16213),w=r(50467);let BaseSectionStatus=class BaseSectionStatus{get shouldRender(){return!1}get shouldConsiderStatus(){return this.shouldRender}get sectionStatus(){return"UNKNOWN"}get mergeBoxStatus(){return"UNKNOWN"}constructor(e,t,r){(0,w._)(this,"pullRequest",void 0),(0,w._)(this,"mergeRequirements",void 0),(0,w._)(this,"statusChecks",void 0),this.pullRequest=e,this.mergeRequirements=t,this.statusChecks=r}};let b=["MERGE_QUEUE","REQUIRED_STATUS_CHECKS"],L=["PULL_REQUEST_REPO_STATE","PULL_REQUEST_STATE"],P=["USER_CANNOT_PUSH"];var M=new WeakMap,D=new WeakMap,j=new WeakMap,U=new WeakMap;let BlockedSectionStatus=class BlockedSectionStatus extends BaseSectionStatus{get shouldRender(){return this.mergeRequirements?.state==="UNMERGEABLE"&&!this.pullRequest.isDraft&&0!==this.failingConditionsAndRules.length&&this.pullRequest.viewerCanUpdate}get sectionStatus(){return this.mergeRequirements?.state==="UNMERGEABLE"?"FAILED":"PASSED"}get mergeBoxStatus(){return this.sectionStatus}get failingConditionsAndRules(){return(0,I._)(this,M)||(0,A._)(this,M,[...(0,I._)(this,j),...(0,I._)(this,D),...(0,I._)(this,U)]),(0,I._)(this,M)}constructor(...e){super(...e),(0,O._)(this,D,{get:k,set:void 0}),(0,O._)(this,j,{get:G,set:void 0}),(0,O._)(this,U,{get:q,set:void 0}),(0,O._)(this,M,{writable:!0,value:void 0})}};function k(){return N(this.mergeRequirements).flatMap(e=>"ruleRollups"in e?e.ruleRollups:[]).filter(e=>e?.result==="FAILED"&&!b.includes(e.ruleType))}function G(){var e;return(e=this.mergeRequirements,e?.conditions.filter(e=>h.jw.includes(e.type)&&"FAILED"===e.result)??[]).filter(e=>!L.includes(e.type))}function q(){var e;return(e=this.mergeRequirements,e?.conditions.filter(e=>h.TW.includes(e.type)&&"FAILED"===e.result)??[]).flatMap(e=>"failedSubConditions"in e?e.failedSubConditions:[]).filter(e=>!P.includes(e.displayName))}let F="AwaitingReview",B="ChangesRequested",Q="ChecksFailing",$="ChecksPending",K="DraftReadyForReview",W="DraftNotReadyForReview",H="InMergeQueue",V="MergeConflicts",Y="Mergeable",z="NonRequiredChecksUnsuccessful",X="UnableToMerge",J="Unknown",Z="Merged",ee="Closed";function et(e){return(e?.conditions.filter(e=>"FAILED"===e.result)??[]).map(e=>e.type)}function er(e){return!!e?.statusChecks.some(e=>e.isRequired&&function(e){switch(e){case"WAITING":case"PENDING":case"IN_PROGRESS":case"QUEUED":case"EXPECTED":return!0;case"ACTION_REQUIRED":case"FAILURE":case"ERROR":case"STARTUP_FAILURE":case"CANCELLED":case"STALE":case"TIMED_OUT":case"SUCCESS":case"COMPLETED":case"NEUTRAL":case"REQUESTED":case"SKIPPED":case"_UNKNOWN_VALUE":return!1}}(e.state))}function es(e){return!!e?.statusChecks.some(e=>e.isRequired&&function(e){switch(e){case"ACTION_REQUIRED":case"FAILURE":case"ERROR":case"STARTUP_FAILURE":case"_UNKNOWN_VALUE":case"CANCELLED":case"STALE":case"TIMED_OUT":return!0;case"SUCCESS":case"COMPLETED":case"EXPECTED":case"IN_PROGRESS":case"NEUTRAL":case"PENDING":case"QUEUED":case"REQUESTED":case"SKIPPED":case"WAITING":return!1}}(e.state))}function en(e){return void 0!==e&&e?.statusChecks.length!==0&&(!es(e)||!er(e))}function ei(e,t){return e?.state!=="UNMERGEABLE"&&!!t?.statusChecks.some(e=>!e.isRequired&&!function(e){switch(e){case"NEUTRAL":case"SUCCESS":case"SKIPPED":return!0;case"WAITING":case"PENDING":case"IN_PROGRESS":case"QUEUED":case"EXPECTED":case"ACTION_REQUIRED":case"FAILURE":case"ERROR":case"STARTUP_FAILURE":case"CANCELLED":case"STALE":case"TIMED_OUT":case"COMPLETED":case"REQUESTED":case"_UNKNOWN_VALUE":return!1}}(e.state))||t?.statusRollup.combinedState==="PENDING_APPROVAL"}function ea(e){let t=e?.conditions.find(e=>"PULL_REQUEST_RULES"===e.type),r=t?.ruleRollups?.find(e=>"PULL_REQUEST"===e.ruleType);if(!r||"FAILED"!==r.result)return[];let s=r.metadata;return s&&"failureReasons"in s&&s.failureReasons.map(e=>e.toUpperCase())||[]}function eo(e){return et(e).includes("PULL_REQUEST_MERGE_CONFLICT_STATE")}let ChecksSectionStatus=class ChecksSectionStatus extends BaseSectionStatus{get shouldRender(){let e=this.statusChecks?.statusRollup;return(e?.summary.length??0)>0||e?.combinedState==="PENDING_APPROVAL"}get sectionStatus(){let e=v(this.mergeRequirements);return"DIRTY"===this.pullRequest.mergeStateStatus&&e?.result==="FAILED"?"PENDING_CONFLICTS":this.statusChecks?.statusRollup.combinedState??"UNKNOWN"}get mergeBoxStatus(){if("PENDING_APPROVAL"===this.sectionStatus)return"PENDING_USER_ACTION";let e=es(this.statusChecks),t=er(this.statusChecks),r=en(this.statusChecks),s=ei(this.mergeRequirements,this.statusChecks);return t||"PENDING"===this.sectionStatus||"PENDING_CONFLICTS"===this.sectionStatus?"PENDING":e?"FAILED":s?"NEUTRAL":r?"PASSED":"NEUTRAL"}};let ClosedOrMergedStateSectionStatus=class ClosedOrMergedStateSectionStatus extends BaseSectionStatus{get shouldRender(){return"OPEN"!==this.pullRequest.state}get sectionStatus(){return"OPEN"!==this.pullRequest.state?this.pullRequest.state:"UNKNOWN"}get mergeBoxStatus(){return"MERGED"===this.sectionStatus?"MERGED":"NEUTRAL"}};var el=new WeakMap,ec=new WeakMap,eu=new WeakMap;let ConflictsSectionStatus=class ConflictsSectionStatus extends BaseSectionStatus{get shouldRender(){return("BLOCKED"!==this.pullRequest.mergeStateStatus||!!this.pullRequest.viewerCanUpdateBranch)&&!!this.conflictsCondition}get sectionStatus(){return this.conflictsCondition?(0,I._)(this,eu).call(this,this.pullRequest.advisoryWorkspace,this.pullRequest.mergeStateStatus,this.conflictsCondition,(0,I._)(this,ec)):"PENDING"}get mergeBoxStatus(){switch(this.sectionStatus){case"NO_CONFLICTS":case"HAS_ADVISORY_WORKSPACE":return"PASSED";case"HAS_CONFLICTS":case"HAS_REBASE_CONFLICTS":case"OUT_OF_DATE":return"NEUTRAL";default:return"PENDING"}}get conflictsCondition(){return(0,I._)(this,el)||(0,A._)(this,el,v(this.mergeRequirements)),(0,I._)(this,el)}constructor(...e){super(...e),(0,O._)(this,ec,{get:ed,set:void 0}),(0,O._)(this,el,{writable:!0,value:void 0}),(0,O._)(this,eu,{writable:!0,value:(e,t,r,s)=>{if("BEHIND"===t)return"OUT_OF_DATE";if("UNKNOWN"===t)return"PENDING";if("FAILED"===r.result&&0===s.length)return"HAS_REBASE_CONFLICTS";if(!e&&("CLEAN"===t||"UNSTABLE"===t||"HAS_HOOKS"===t))return"NO_CONFLICTS";if(e&&("CLEAN"===t||"UNSTABLE"===t||"HAS_HOOKS"===t))return"HAS_ADVISORY_WORKSPACE";else if("DIRTY"===t&&"FAILED"===r.result)return"HAS_CONFLICTS";else if("BLOCKED"===t)return"OUT_OF_DATE";else return"PENDING"}})}};function ed(){return this.conflictsCondition?.conflicts??[]}let DraftStateSectionStatus=class DraftStateSectionStatus extends BaseSectionStatus{get shouldRender(){return"OPEN"===this.pullRequest.state&&this.pullRequest.isDraft}get sectionStatus(){return"IS_DRAFT"}get mergeBoxStatus(){return"NEUTRAL"}};let MergeQueueSectionStatus=class MergeQueueSectionStatus extends BaseSectionStatus{get shouldRender(){return this.pullRequest.isInMergeQueue}get sectionStatus(){return"QUEUED"}get mergeBoxStatus(){return this.sectionStatus}};var eh=r(30459),em=r(84268),eE=r(55630),e_=r(81960);let eg=e=>{let t,r,s,a=(0,i.c)(5),{isExpanded:o}=e,c=o?"":"rotate(180deg)";return a[0]!==c?(t={transition:"transform 0.15s ease-in-out",transform:c},a[0]=c,a[1]=t):t=a[1],a[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsx)(l.ChevronUpIcon,{}),a[2]=r):r=a[2],a[3]!==t?(s=(0,n.jsx)("div",{style:t,children:r}),a[3]=t,a[4]=s):s=a[4],s};try{eg.displayName||(eg.displayName="ExpandableSectionIcon")}catch{}let eS=e=>{let t,r,s,a,o,l,c,d,h,m,E=(0,i.c)(31),{title:_,subtitle:g,headerId:S,icon:f,expandableProps:p,children:C,rightSideContent:R}=e;if(p&&R)throw Error("MergeBoxSectionHeader: rightSideContent is not supported when expandableProps exist");E[0]!==p?(t=p||{},E[0]=p,E[1]=t):t=E[1];let{isExpanded:T,ariaLabel:v,onToggle:N}=t,I=p&&"MergeBoxSectionHeader-module__wrapperCanExpand--AoekL",O=!p&&"flex-column flex-sm-row flex-items-center flex-sm-items-start flex-justify-between";return E[2]!==I||E[3]!==O?(r=(0,u.$)("MergeBoxSectionHeader-module__wrapper--zMA1Y",I,O),E[2]=I,E[3]=O,E[4]=r):r=E[4],E[5]!==f?(s=f&&(0,n.jsx)("div",{className:"mr-2 flex-shrink-0",children:f}),E[5]=f,E[6]=s):s=E[6],E[7]!==S||E[8]!==_?(a=(0,n.jsx)(e_.A,{as:"h3",id:S,className:"MergeBoxSectionHeader-module__MergeBoxSectionHeading--miHzz",children:_}),E[7]=S,E[8]=_,E[9]=a):a=E[9],E[10]!==g?(o=(0,n.jsx)("p",{className:"fgColor-muted mb-0 ",children:g}),E[10]=g,E[11]=o):o=E[11],E[12]!==C||E[13]!==a||E[14]!==o?(l=(0,n.jsxs)("div",{className:"flex-1",children:[a,o,C]}),E[12]=C,E[13]=a,E[14]=o,E[15]=l):l=E[15],E[16]!==R||E[17]!==l?(c=(0,n.jsxs)("div",{className:"d-flex flex-1 flex-column flex-sm-row gap-2",children:[l,R]}),E[16]=R,E[17]=l,E[18]=c):c=E[18],E[19]!==s||E[20]!==c?(d=(0,n.jsxs)("div",{className:"d-flex width-full",children:[s,c]}),E[19]=s,E[20]=c,E[21]=d):d=E[21],E[22]!==v||E[23]!==p||E[24]!==T||E[25]!==N?(h=p&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{"aria-label":v,type:"button",className:"MergeBoxSectionHeader-module__button--mkkJX",onClick:N,"aria-expanded":T}),(0,n.jsx)("div",{className:"fgColor-muted pr-2 pt-2",children:(0,n.jsx)(eg,{isExpanded:!!T})})]}),E[22]=v,E[23]=p,E[24]=T,E[25]=N,E[26]=h):h=E[26],E[27]!==d||E[28]!==h||E[29]!==r?(m=(0,n.jsxs)("div",{className:r,children:[d,h]}),E[27]=d,E[28]=h,E[29]=r,E[30]=m):m=E[30],m};try{eS.displayName||(eS.displayName="MergeBoxSectionHeader")}catch{}let ef="MergeBoxExpandable-module__isExpanded--PaOkp",ep=e=>{let t,r,s,a,o,l=(0,i.c)(13),{isExpanded:c,children:d}=e,h=void 0!==c&&c,m=h&&ef;l[0]!==m?(t=(0,u.$)("MergeBoxExpandable-module__expandableWrapper--Ejab0",m),l[0]=m,l[1]=t):t=l[1];let E=h?"visible":"hidden";l[2]!==E?(r={visibility:E},l[2]=E,l[3]=r):r=l[3];let _=h&&ef;l[4]!==_?(s=(0,u.$)("MergeBoxExpandable-module__expandableContent--li_O1",_),l[4]=_,l[5]=s):s=l[5];let g=h&&d;return l[6]!==s||l[7]!==g?(a=(0,n.jsx)("div",{className:s,children:g}),l[6]=s,l[7]=g,l[8]=a):a=l[8],l[9]!==t||l[10]!==r||l[11]!==a?(o=(0,n.jsx)("div",{className:t,style:r,children:a}),l[9]=t,l[10]=r,l[11]=a,l[12]=o):o=l[12],o};try{ep.displayName||(ep.displayName="MergeBoxExpandable")}catch{}var eC=r(97174),eR=r(21373),eT=r(40104);let ev=e=>{let t,r,s,a=(0,i.c)(5),{isExpanded:o}=e,c=o?"rotate(90deg)":"";return a[0]!==c?(t={transform:c},a[0]=c,a[1]=t):t=a[1],a[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsx)(l.ChevronRightIcon,{size:12}),a[2]=r):r=a[2],a[3]!==t?(s=(0,n.jsx)("div",{style:t,children:r}),a[3]=t,a[4]=s):s=a[4],s};try{ev.displayName||(ev.displayName="ExpandableGroupIcon")}catch{}let eN={[h.Qv.Approvals]:(0,n.jsx)(l.CheckIcon,{className:"fgColor-success",size:16}),[h.Qv.RequestedChanges]:(0,n.jsx)(l.FileDiffIcon,{className:"fgColor-danger",size:16}),[h.Qv.PendingReviewRequest]:(0,n.jsx)(l.PersonIcon,{size:16})};function eI(e){let t,r,s,a,o,l,c,h,m,E=(0,i.c)(32),{children:_,count:g,pullRequestId:S,reviewGroup:f}=e,{sendAnalyticsEvent:p}=(0,eh.s)(),[C,R]=(0,eT.Fo)(`${S}:reviewersGroup:${f}Expanded`,!1),T=(0,d.useId)(),v=eN[f];if(E[0]!==g||E[1]!==f)t=g>1?f:f.substring(0,f.length-1),E[0]=g,E[1]=f,E[2]=t;else t=E[2];let N=`${g} ${t}`,I=C?`Collapse ${N} group`:`Expand ${N} group`;E[3]!==C?(r=()=>(0,n.jsx)(ev,{isExpanded:C}),E[3]=C,E[4]=r):r=E[4],E[5]!==C||E[6]!==f||E[7]!==p||E[8]!==R?(s=()=>{p(C?"reviewers_group.collapse":"reviewers_group.expand","MERGEBOX_REVIEWERS_GROUP_TOGGLE_BUTTON",{group:f}),R(!C)},E[5]=C,E[6]=f,E[7]=p,E[8]=R,E[9]=s):s=E[9],E[10]!==N?(a=(0,n.jsx)("span",{className:"ml-1",children:N}),E[10]=N,E[11]=a):a=E[11],E[12]!==T||E[13]!==C||E[14]!==v||E[15]!==I||E[16]!==r||E[17]!==s||E[18]!==a?(o=(0,n.jsxs)(eR.Q,{"aria-controls":T,"aria-expanded":C,"aria-label":I,className:"ReviewGroupExpander-module__groupHeadingButton--S7IXP",variant:"invisible",size:"small",trailingVisual:r,onClick:s,children:[v," ",a]}),E[12]=T,E[13]=C,E[14]=v,E[15]=I,E[16]=r,E[17]=s,E[18]=a,E[19]=o):o=E[19];let O=C&&"ReviewGroupExpander-module__isExpanded--SHz1f";E[20]!==O?(l=(0,u.$)("ReviewGroupExpander-module__expandableWrapper--Xlmef",O),E[20]=O,E[21]=l):l=E[21];let A=C&&_;return E[22]!==A?(c=(0,n.jsx)("div",{className:"ReviewGroupExpander-module__expandableListView--hoVAr",children:A}),E[22]=A,E[23]=c):c=E[23],E[24]!==T||E[25]!==N||E[26]!==c||E[27]!==l?(h=(0,n.jsx)("div",{className:l,id:T,"aria-label":N,role:"group",children:c}),E[24]=T,E[25]=N,E[26]=c,E[27]=l,E[28]=h):h=E[28],E[29]!==h||E[30]!==o?(m=(0,n.jsxs)(n.Fragment,{children:[o,h]}),E[29]=h,E[30]=o,E[31]=m):m=E[31],m}try{eI.displayName||(eI.displayName="ReviewGroupExpander")}catch{}var eO=r(2970),eA=r(95378),ey=r(65964),ex=r(77430);let ew="SectionListItem-module__listItem--cGdcZ";var eb=r(5524),eL=r(72511),eP=r(86877),eM=r(10576),eD=r(57387),ej=r(94747),eU=r(48845),ek=r(9214),eG=r(10095);function eq({reviewer:e,reviewStatusText:t,hovercardUrl:r,reviewId:s,viewerCanDismissReviews:a,viewerCanReRequestReviews:o=!1}){let c,h,_,g,f,C,R,T=(0,d.useRef)(null),v=(0,d.useRef)(null),[N,I]=(0,d.useState)(!1),[O,A]=(0,d.useState)(null),[y,x]=(0,d.useState)(""),w=y.trim().length<1,[b,L]=(0,d.useState)(!1),P=[a?{key:"dismiss-review",render:()=>(0,n.jsx)(eb.l.Item,{onSelect:()=>{I(!0)},children:"Dismiss review"})}:null,o?{key:"re-request-review",render:()=>(0,n.jsx)(eb.l.Item,{onSelect:()=>j({reviewerLogin:e.login}),children:"Re-request review"})}:null].filter(e=>!!e),M=!!s&&P.length>0,D=async()=>{A(null),I(!1),L(!1),v.current?.focus()},{mutate:j}=function(e){let t,r,s,n,a,o=(0,i.c)(13);o[0]!==e?(t=void 0===e?{}:e,o[0]=e,o[1]=t):t=o[1];let{onError:l}=t,c=p(),u=(0,E.e)(m.uT.reRequestReviewFromUser),d=(0,S.jE)();return o[2]!==u?(r=async e=>{let t=await (0,eU.q$)(u,{method:"POST",headers:{Accept:"application/json"},body:e}),r=await (0,eU.hp)(t);return(0,eU.R)(t,r),r},o[2]=u,o[3]=r):r=o[3],o[4]!==c||o[5]!==d?(s=()=>d.invalidateQueries({queryKey:c},{cancelRefetch:!1}),o[4]=c,o[5]=d,o[6]=s):s=o[6],o[7]!==l?(n=e=>{l?.(e)},o[7]=l,o[8]=n):n=o[8],o[9]!==r||o[10]!==s||o[11]!==n?(a={mutationFn:r,onSuccess:s,onError:n},o[9]=r,o[10]=s,o[11]=n,o[12]=a):a=o[12],(0,ej.n)(a)}({onError:()=>{}}),{mutate:U,isPending:k}=(g=(0,i.c)(8),f=(0,E.e)(m.uT.dismissReview),C=p(),R=(0,S.jE)(),g[0]!==f?(c=async e=>{let t=await (0,eU.q$)(f,{method:"POST",headers:{Accept:"application/json"},body:e}),r=await (0,eU.hp)(t);return(0,eU.R)(t,r),r},g[0]=f,g[1]=c):c=g[1],g[2]!==C||g[3]!==R?(h=()=>R.invalidateQueries({queryKey:C},{cancelRefetch:!1}),g[2]=C,g[3]=R,g[4]=h):h=g[4],g[5]!==c||g[6]!==h?(_={mutationFn:c,onSuccess:h},g[5]=c,g[6]=h,g[7]=_):_=g[7],(0,ej.n)(_)),G=(0,d.useCallback)(()=>{k||(w&&L(!0),s&&!w&&U({reviewId:s,message:y},{onSuccess:()=>{D()},onError:e=>{A(e.message)}}))},[U,y,w,k,s]);if((0,d.useEffect)(()=>{function e(e){e.metaKey&&"Enter"===e.key&&N&&(e.preventDefault(),G())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[N,G]),!e)return null;let q=`${e.login} ${t.charAt(0).toLowerCase()+t.slice(1)}`;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eO.c,{className:ew,"aria-label":q,title:(0,n.jsx)(eA.ao,{href:e.url,value:e.login,containerClassName:"d-flex flex-items-center pt-0",headingClassName:"ReviewerSection-module__reviewAuthor--ieHt5",anchorClassName:"ReviewerSection-module__reviewAuthorAnchor--UMy9c",leadingBadge:(0,n.jsx)(ey.e,{className:(0,u.$)("ReviewerSection-module__leadingVisual--_bMPf","mt-1"),children:(0,n.jsx)(ex.r,{alt:`${e.login}'s avatar image`,size:20,src:e.avatarUrl,"data-hovercard-url":r,className:"flex-shrink-0 ml-2"})}),children:(0,n.jsx)("span",{className:"ReviewerSection-module__reviewText--JiCKY",children:t})}),secondaryActions:M?(0,n.jsx)(ek.L,{anchorRef:v,label:"review options",staticMenuActions:P,className:"ReviewerSection-module__reviewerActionBar--iT6ez"}):void 0}),N&&(0,n.jsxs)(eD.l,{title:"Dismiss review",onClose:D,role:"dialog",initialFocusRef:T,returnFocusRef:v,footerButtons:[{buttonType:"default",content:"Cancel",onClick:D},{buttonType:"danger",loading:k,loadingAnnouncement:"Dismissing review",content:"Dismiss review",onClick:G}],children:[O&&(0,n.jsxs)(eL.A,{className:"mb-2",variant:"danger",children:[(0,n.jsx)(eG.A,{className:"mr-2",icon:l.StopIcon}),O]}),(0,n.jsxs)(eP.A,{required:!0,className:"mb-2",children:[(0,n.jsx)(eP.A.Label,{children:(0,n.jsxs)("h4",{className:"f5",children:["Reason for dismissing ",e.login,"'s review"]})}),(0,n.jsx)(eM.Ay,{ref:T,onChange:e=>{L(!1),x(e.target.value)},value:y,className:"width-full height-full"}),w&&b&&(0,n.jsx)(eP.A.Validation,{variant:"error",children:"Please provide a reason for dismissing the review"}),(0,n.jsx)(eP.A.Caption,{children:"This reason will appear in the timeline so other users will know why the review was dismissed."})]})]})]})}try{eq.displayName||(eq.displayName="ReviewListItem")}catch{}var eF=r(59672);function eB(e){let t,r,s,a=(0,i.c)(13),{review:o,viewerCanDismissReviews:l,viewerCanReRequestReviews:c}=e,{author:u}=o;if(!u)return null;let d=o.id,h=!o.authorCanPushToRepository;return a[0]!==o.onBehalfOf||a[1]!==o.state||a[2]!==h?(t=((e,t,r)=>{let s="";switch(e){case"APPROVED":s+="Approved these changes";break;case"CHANGES_REQUESTED":s+="Requested changes";break;case"COMMENTED":s+="Commented"}return r&&(s+=" with read-only permissions"),"APPROVED"===e&&t.length>0&&(s+=` for ${(e=>{if(0===e.length)return"";{if(1===e.length)return e[0];if(2===e.length)return e.join(" and ");let t=e.pop();return`${e.join(", ")}, and ${t}`}})(t)}`),s})(o.state,o.onBehalfOf,h),a[0]=o.onBehalfOf,a[1]=o.state,a[2]=h,a[3]=t):t=a[3],a[4]!==u.login?(r=(0,eF.dCN)({owner:u.login}),a[4]=u.login,a[5]=r):r=a[5],a[6]!==u||a[7]!==o.id||a[8]!==t||a[9]!==r||a[10]!==l||a[11]!==c?(s=(0,n.jsx)(eq,{reviewer:u,reviewId:d,reviewStatusText:t,hovercardUrl:r,viewerCanDismissReviews:l,viewerCanReRequestReviews:c}),a[6]=u,a[7]=o.id,a[8]=t,a[9]=r,a[10]=l,a[11]=c,a[12]=s):s=a[12],s}try{eB.displayName||(eB.displayName="OpinionatedReviewRow")}catch{}function eQ(e){let t,r,s,a=(0,i.c)(15),{opinionatedReviews:o,pullRequestId:l,reviewGroup:c,viewerCanDismissReviews:u,viewerCanReRequestReviews:d}=e;if(0===o.length)return null;let h=o.length,m=`list of ${c}`;if(a[0]!==o||a[1]!==u||a[2]!==d){let e;a[4]!==u||a[5]!==d?(e=e=>(0,n.jsx)(eB,{review:e,viewerCanDismissReviews:u,viewerCanReRequestReviews:d},`opinionated-review-from-${e?.author?.name}`),a[4]=u,a[5]=d,a[6]=e):e=a[6],t=o.map(e),a[0]=o,a[1]=u,a[2]=d,a[3]=t}else t=a[3];return a[7]!==m||a[8]!==t?(r=(0,n.jsx)(eC.u,{title:m,titleHeaderTag:"h3",children:t}),a[7]=m,a[8]=t,a[9]=r):r=a[9],a[10]!==o.length||a[11]!==l||a[12]!==c||a[13]!==r?(s=(0,n.jsx)(eI,{count:h,reviewGroup:c,pullRequestId:l,children:r}),a[10]=o.length,a[11]=l,a[12]=c,a[13]=r,a[14]=s):s=a[14],s}try{eQ.displayName||(eQ.displayName="OpinionatedReviewsGroup")}catch{}function e$(e){let t,r,s=(0,i.c)(9),{reviewRequest:a}=e,{reviewer:o}=a;if(!o)return null;if("TEAM"===o.type){let e;if(s[0]!==o.login||s[1]!==o.name){let t=o.login.split("/")[0]??"";e=(0,eF.Pmq)({owner:t,team:o.name}),s[0]=o.login,s[1]=o.name,s[2]=e}else e=s[2];t=e}else{let e;s[3]!==o.login?(e=(0,eF.dCN)({owner:o.login}),s[3]=o.login,s[4]=e):e=s[4],t=e}let l="was requested for review";return a.isCodeOwner&&(l="was requested for review as a codeowner"),s[5]!==t||s[6]!==o||s[7]!==l?(r=(0,n.jsx)(eq,{reviewer:o,reviewStatusText:l,hovercardUrl:t}),s[5]=t,s[6]=o,s[7]=l,s[8]=r):r=s[8],r}try{e$.displayName||(e$.displayName="RequestedReviewRow")}catch{}function eK(e){let t,r,s,a=(0,i.c)(10),{pendingRequestedReviews:o,pullRequestId:l,reviewGroup:c}=e;if(0===o.length)return null;let u=o.length,d=`list of ${c}`;return a[0]!==o?(t=o.map(eW),a[0]=o,a[1]=t):t=a[1],a[2]!==d||a[3]!==t?(r=(0,n.jsx)(eC.u,{title:d,titleHeaderTag:"h3",children:t}),a[2]=d,a[3]=t,a[4]=r):r=a[4],a[5]!==o.length||a[6]!==l||a[7]!==c||a[8]!==r?(s=(0,n.jsx)(eI,{count:u,reviewGroup:c,pullRequestId:l,children:r}),a[5]=o.length,a[6]=l,a[7]=c,a[8]=r,a[9]=s):s=a[9],s}function eW(e){return(0,n.jsx)(e$,{reviewRequest:e},`requested-review-from-${e?.reviewer?.name}`)}try{eK.displayName||(eK.displayName="PendingRequestedReviewsGroup")}catch{}let eH="APPROVED",eV="CHANGES_REQUESTED",eY="REVIEW_REQUIRED",ez="REVIEWED",eX="REVIEW_REQUESTED";function eJ(e){let t,r,s,a,o,l,c,m,E,_,g,S,f,p,C,R,T,v,N,I,O,A,y,x,w,b,L,P=(0,i.c)(78),{consolidatedFailureReasons:M,helpUrl:D,latestOpinionatedReviews:j,numReviewsRequired:U,pendingRequestedReviews:k,pullRequestId:G,reviewsState:q,viewerCanDismissReviews:F,viewerCanReRequestReviews:B}=e;P[0]!==j||P[1]!==k?(t=[...j,...k],P[0]=j,P[1]=k,P[2]=t):t=P[2];let Q=t.length>0,[$,K]=(0,d.useState)(Q),{sendAnalyticsEvent:W}=(0,eh.s)(),H=(0,d.useId)();P[3]!==j?(r=function(e){let t=[],r=[];for(let s of e)"APPROVED"===s.state&&t.push(s),"CHANGES_REQUESTED"===s.state&&r.push(s);return{approvedReviews:t,requestedChangesReviews:r}}(j),P[3]=j,P[4]=r):r=P[4];let{approvedReviews:V,requestedChangesReviews:Y}=r,z=`${D}/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/requesting-a-pull-request-review`;P[5]!==z||P[6]!==M||P[7]!==j||P[8]!==U?(s=e=>{switch(e){case eY:return`${((e,t)=>{if(t.includes("MORE_REVIEWS_REQUIRED"))if(1===e)return"At least 1 approving review is required";else if(0===e&&t.includes("LAST_PUSH_APPROVAL_REQUIRED"))return"An approval on the most recent push is required";else return`At least ${e} approving reviews are required`;return t.includes("CODE_OWNER_REVIEW_REQUIRED")?"Code owner review required":t.includes("SOC2_APPROVAL_PROCESS_REQUIRED")?"A review from a compliance team is required":""})(U,M)} by reviewers with write access.`;case eX:return(0,n.jsxs)(n.Fragment,{children:["Review has been requested on this pull request. It is not required to merge."," ",(0,n.jsx)(em.A,{inline:!0,href:z,className:(0,u.$)("ReviewerSection-module__subtitleLink--J58lv","position-relative"),children:"Learn more about requesting a pull request review."})]});default:let t,r;return`${t=j.filter(e=>e&&"CHANGES_REQUESTED"===e.state&&e.authorCanPushToRepository).length,r=j.filter(e=>e&&"APPROVED"===e.state&&e.authorCanPushToRepository).length,0===t&&0===r?"No applicable reviews submitted":[t>0?`${t} change${1===t?"":"s"} requested`:void 0,r>0?`${r} approving review${1===r?"":"s"}`:void 0].filter(Boolean).join(", ")} by reviewers with write access.`}},P[5]=z,P[6]=M,P[7]=j,P[8]=U,P[9]=s):s=P[9];let X=s;P[10]!==X?(a=X(eH),P[10]=X,P[11]=a):a=P[11],P[12]===Symbol.for("react.memo_cache_sentinel")?(o=(0,n.jsx)(eE.A,{className:"bgColor-success-emphasis fgColor-onEmphasis",icon:e3,size:32}),P[12]=o):o=P[12],P[13]!==a?(l={heading:"Changes approved",subtitle:a,icon:o},P[13]=a,P[14]=l):l=P[14],P[15]!==X?(c=X(eV),P[15]=X,P[16]=c):c=P[16],P[17]===Symbol.for("react.memo_cache_sentinel")?(m=(0,n.jsx)(eE.A,{className:"bgColor-danger-emphasis fgColor-onEmphasis",icon:e2,size:32}),P[17]=m):m=P[17],P[18]!==c?(E={heading:"Changes requested",subtitle:c,icon:m},P[18]=c,P[19]=E):E=P[19],P[20]!==X?(_=X(eY),P[20]=X,P[21]=_):_=P[21],P[22]===Symbol.for("react.memo_cache_sentinel")?(g=(0,n.jsx)(eE.A,{className:"bgColor-danger-emphasis fgColor-onEmphasis",icon:e1,size:32}),P[22]=g):g=P[22],P[23]!==_?(S={heading:"Review required",subtitle:_,icon:g},P[23]=_,P[24]=S):S=P[24],P[25]!==X?(f=X(ez),P[25]=X,P[26]=f):f=P[26],P[27]===Symbol.for("react.memo_cache_sentinel")?(p=(0,n.jsx)(eE.A,{className:(0,u.$)("ReviewerSection-module__reviewedIcon--KucH5","fgColor-onEmphasis"),icon:e0,size:32}),P[27]=p):p=P[27],P[28]!==f?(C={heading:"Changes reviewed",subtitle:f,icon:p},P[28]=f,P[29]=C):C=P[29],P[30]!==X?(R=X(eX),P[30]=X,P[31]=R):R=P[31],P[32]===Symbol.for("react.memo_cache_sentinel")?(T=(0,n.jsx)(eE.A,{className:"bgColor-success-emphasis fgColor-onEmphasis",icon:eZ,size:32}),P[32]=T):T=P[32],P[33]!==R?(v={heading:"Review requested",subtitle:R,icon:T},P[33]=R,P[34]=v):v=P[34],P[35]!==S||P[36]!==C||P[37]!==v||P[38]!==l||P[39]!==E?(N={APPROVED:l,CHANGES_REQUESTED:E,REVIEW_REQUIRED:S,REVIEWED:C,REVIEW_REQUESTED:v},P[35]=S,P[36]=C,P[37]=v,P[38]=l,P[39]=E,P[40]=N):N=P[40];let J=N,Z=J[q],ee=J[q],et=J[q];return P[41]!==J||P[42]!==$||P[43]!==q||P[44]!==W||P[45]!==Q?(I=Q?{ariaLabel:J[q].heading,isExpanded:$,onToggle:()=>{W($?"reviewers_section.collapse":"reviewers_section.expand","MERGEBOX_REVIEWERS_SECTION_TOGGLE_BUTTON"),K(!$)}}:void 0,P[41]=J,P[42]=$,P[43]=q,P[44]=W,P[45]=Q,P[46]=I):I=P[46],P[47]!==H||P[48]!==Z.heading||P[49]!==ee.subtitle||P[50]!==et.icon||P[51]!==I?(O=(0,n.jsx)(eS,{headerId:H,title:Z.heading,subtitle:ee.subtitle,icon:et.icon,expandableProps:I}),P[47]=H,P[48]=Z.heading,P[49]=ee.subtitle,P[50]=et.icon,P[51]=I,P[52]=O):O=P[52],P[53]!==V||P[54]!==G||P[55]!==F||P[56]!==B?(A=(0,n.jsx)(eQ,{viewerCanDismissReviews:F,reviewGroup:h.Qv.Approvals,opinionatedReviews:V,pullRequestId:G,viewerCanReRequestReviews:B}),P[53]=V,P[54]=G,P[55]=F,P[56]=B,P[57]=A):A=P[57],P[58]!==G||P[59]!==Y||P[60]!==F||P[61]!==B?(y=(0,n.jsx)(eQ,{viewerCanDismissReviews:F,reviewGroup:h.Qv.RequestedChanges,opinionatedReviews:Y,pullRequestId:G,viewerCanReRequestReviews:B}),P[58]=G,P[59]=Y,P[60]=F,P[61]=B,P[62]=y):y=P[62],P[63]!==k||P[64]!==G||P[65]!==F?(x=(0,n.jsx)(eK,{reviewGroup:h.Qv.PendingReviewRequest,viewerCanDismissReviews:F,pendingRequestedReviews:k,pullRequestId:G}),P[63]=k,P[64]=G,P[65]=F,P[66]=x):x=P[66],P[67]!==A||P[68]!==y||P[69]!==x?(w=(0,n.jsxs)("div",{className:"ReviewerSection-module__reviewerGroupsContainer--pZhlf",children:[A,y,x]}),P[67]=A,P[68]=y,P[69]=x,P[70]=w):w=P[70],P[71]!==$||P[72]!==w?(b=(0,n.jsx)(ep,{isExpanded:$,children:w}),P[71]=$,P[72]=w,P[73]=b):b=P[73],P[74]!==H||P[75]!==O||P[76]!==b?(L=(0,n.jsxs)("section",{"aria-label":"Reviews","aria-describedby":H,className:"border-bottom color-border-subtle",children:[O,b]}),P[74]=H,P[75]=O,P[76]=b,P[77]=L):L=P[77],L}function eZ(){return(0,n.jsx)(l.CheckIcon,{size:16})}function e0(){return(0,n.jsx)(l.CodeReviewIcon,{size:16})}function e1(){return(0,n.jsx)(l.XIcon,{size:16})}function e2(){return(0,n.jsx)(l.FileDiffIcon,{size:16})}function e3(){return(0,n.jsx)(l.CheckIcon,{size:16})}try{eJ.displayName||(eJ.displayName="ReviewerSection")}catch{}var e4=new WeakMap,e5=new WeakMap,e6=new WeakMap,e7=new WeakMap,e8=new WeakMap,e9=new WeakMap;let ReviewerSectionStatus=class ReviewerSectionStatus extends BaseSectionStatus{get shouldRender(){return"DIRTY"!==this.pullRequest.mergeStateStatus&&"UNKNOWN"!==this.pullRequest.mergeStateStatus&&((0,I._)(this,e8).length>0||(0,I._)(this,e9).length>0||this.consolidatedFailureReasons.length>0)}get sectionStatus(){return ti(this.numReviewsRequired,(0,I._)(this,e7),(0,I._)(this,e8),this.consolidatedFailureReasons,(0,I._)(this,e9))}get mergeBoxStatus(){switch(this.sectionStatus){case eH:case eX:case ez:return"PASSED";case eV:return"FAILED";default:return"NEUTRAL"}}get numReviewsRequired(){let e=(0,I._)(this,e6)?.flatMap(e=>e.requiredReviewers||[])||[];return e.length?Math.max(...e):0}get consolidatedFailureReasons(){if(!(0,I._)(this,e5)){let e=(0,I._)(this,e6)?.flatMap(e=>e.failureReasons||[])||[];(0,A._)(this,e5,[...new Set(e)].filter(tn))}return(0,I._)(this,e5)}constructor(...e){super(...e),(0,O._)(this,e6,{get:te,set:void 0}),(0,O._)(this,e7,{get:tt,set:void 0}),(0,O._)(this,e8,{get:tr,set:void 0}),(0,O._)(this,e9,{get:ts,set:void 0}),(0,O._)(this,e4,{writable:!0,value:void 0}),(0,O._)(this,e5,{writable:!0,value:void 0})}};function te(){var e;let t;return(0,I._)(this,e4)||(0,A._)(this,e4,(t=(e=this.mergeRequirements)&&e.conditions.find(e=>"PULL_REQUEST_RULES"===e.type),(t?.ruleRollups?.filter(e=>"PULL_REQUEST"===e.ruleType).map(e=>e.metadata)??[]).filter(e=>null!==e).filter(e=>"requiredReviewers"in e&&"requiresCodeowners"in e&&"failureReasons"in e).map(e=>{let t=e.failureReasons.map(e=>e.toUpperCase());return{requiredReviewers:e.requiredReviewers,requiresCodeowners:e.requiresCodeowners,failureReasons:t}})??[])),(0,I._)(this,e4)}function tt(){return((0,I._)(this,e6)?.filter(e=>e.requiresCodeowners)||[]).length>0}function tr(){return this.pullRequest.latestOpinionatedReviews}function ts(){return this.pullRequest.pendingReviewRequests}let tn=e=>"CODE_OWNER_REVIEW_REQUIRED"===e||"SOC2_APPROVAL_PROCESS_REQUIRED"===e||"CHANGES_REQUESTED"===e||"MORE_REVIEWS_REQUIRED"===e||"LAST_PUSH_APPROVAL_REQUIRED"===e,ti=(e,t,r,s,n)=>0===s.length&&r.length>0&&(e>0||t)?eH:s.includes("CODE_OWNER_REVIEW_REQUIRED")||s.includes("SOC2_APPROVAL_PROCESS_REQUIRED")||s.includes("MORE_REVIEWS_REQUIRED")||s.includes("LAST_PUSH_APPROVAL_REQUIRED")?eY:s.includes("CHANGES_REQUESTED")?eV:0===e&&n.length>0&&0===r.length?eX:ez;var ta=new WeakMap,to=new WeakMap,tl=new WeakMap,tc=new WeakMap,tu=new WeakSet;let MergeBoxStatusCalculator=class MergeBoxStatusCalculator{get overallStatus(){if("MERGED"===(0,I._)(this,ta).state)return"MERGED";if("CLOSED"===(0,I._)(this,ta).state)return"NEUTRAL";if((0,I._)(this,ta).isInMergeQueue)return"QUEUED";if((0,I._)(this,ta).isDraft)return"NEUTRAL";let e=Object.values(this.sections??[]).filter(e=>e.shouldConsiderStatus),t=e.some(e=>"FAILED"===e.mergeBoxStatus),r=e.every(e=>"PASSED"===e.mergeBoxStatus);return t&&(0,I._)(this,ta).viewerCanUpdate?"SOME_FAILED":r?"ALL_PASSED":"NEUTRAL"}get sections(){return(0,I._)(this,tc)}constructor(e,t,r){(0,x._)(this,tu),(0,O._)(this,ta,{writable:!0,value:void 0}),(0,O._)(this,to,{writable:!0,value:void 0}),(0,O._)(this,tl,{writable:!0,value:void 0}),(0,O._)(this,tc,{writable:!0,value:void 0}),(0,A._)(this,ta,e),(0,A._)(this,to,t),(0,A._)(this,tl,r),(0,A._)(this,tc,(0,y._)(this,tu,td).call(this))}};function td(){return{BlockedSection:new BlockedSectionStatus((0,I._)(this,ta),(0,I._)(this,to),(0,I._)(this,tl)),ClosedOrMergedStateMergeBox:new ClosedOrMergedStateSectionStatus((0,I._)(this,ta),(0,I._)(this,to),(0,I._)(this,tl)),ChecksSection:new ChecksSectionStatus((0,I._)(this,ta),(0,I._)(this,to),(0,I._)(this,tl)),ConflictsSection:new ConflictsSectionStatus((0,I._)(this,ta),(0,I._)(this,to),(0,I._)(this,tl)),DraftStateSection:new DraftStateSectionStatus((0,I._)(this,ta),(0,I._)(this,to),(0,I._)(this,tl)),MergeQueueSection:new MergeQueueSectionStatus((0,I._)(this,ta),(0,I._)(this,to),(0,I._)(this,tl)),ReviewerSection:new ReviewerSectionStatus((0,I._)(this,ta),(0,I._)(this,to),(0,I._)(this,tl))}}var th=r(70170),tm=r(40235),tE=r(70263);function t_(e){return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}function tg(){return!document.hidden}function tS(){return!0}let tf=()=>(0,d.useSyncExternalStore)(t_,tg,tS);function tp({channels:e,refetchQuery:t}){let r=(0,d.useMemo)(()=>Object.values(e).filter(e=>null!==e),[e]),s=(0,tE.A)(),[n,i]=(0,d.useState)(!1),a=tf(),o=(0,d.useMemo)(()=>(0,th.n)(()=>{s()&&t()},2e3),[t,s]),l=(0,d.useMemo)(()=>e=>{a?window.setTimeout(()=>o(),e.wait||0):i(!0)},[a,o]);for(let e of((0,d.useEffect)(()=>{s()&&a&&n&&(i(!1),t())},[a,n,i,s,t]),r))(0,tm.x)(e,l)}var tC=r(65510);function tR(e){let t,r=(0,i.c)(3),{pullRequestHeadSha:s}=e,{basePageDataUrl:n}=(0,_.Yu)(),a=`headSha:${s}`,o=`basePageDataURL:${n}`;return r[0]!==a||r[1]!==o?(t=[m.uT.statusChecks,a,o],r[0]=a,r[1]=o,r[2]=t):t=r[2],t}function tT(e){let t,r,s,n=(0,i.c)(9),{pullRequestHeadSha:a}=e,o=(0,E.e)(m.uT.statusChecks);n[0]!==a?(t={pullRequestHeadSha:a},n[0]=a,n[1]=t):t=n[1];let l=tR(t),c=(0,S.jE)();return n[2]!==o||n[3]!==c||n[4]!==l?(r=async()=>(0,g.H)(o,l,c),n[2]=o,n[3]=c,n[4]=l,n[5]=r):r=n[5],n[6]!==l||n[7]!==r?(s={queryKey:l,queryFn:r,staleTime:1e4},n[6]=l,n[7]=r,n[8]=s):s=n[8],(0,tC.U)(s)}var tv=r(72579),tN=r(29e3),tI=r(4559);function tO(e){let t,r,s,a,o,c,h,_,g,f,C,R,T,v=(0,i.c)(49),{state:N,isCrossRepo:I,headRefName:O,headRepository:A,baseRepository:y,viewerCanDeleteHeadRef:x,viewerCanRestoreHeadRef:w,deprovisionableCodespaces:b}=e,[L,P]=(0,d.useState)(),M=(0,d.useRef)(null),[D,j]=(0,d.useState)(!1),U=b?b.count:0,k=w&&b&&U>0,G=U>1?"codespaces":"codespace";v[0]===Symbol.for("react.memo_cache_sentinel")?(t={onError:e=>{P(e)}},v[0]=t):t=v[0];let{mutate:q,isPending:F}=function(e){let t,r,s,n,a=(0,i.c)(11),{onError:o}=e,l=(0,E.e)(m.uT.deleteHeadRef),c=p(),u=(0,S.jE)();return a[0]!==l?(t=async()=>{let e=await (0,eU.q$)(l,{method:"POST",headers:{Accept:"application/json"}}),t=await (0,eU.hp)(e);return(0,eU.R)(e,t),t},a[0]=l,a[1]=t):t=a[1],a[2]!==c||a[3]!==u?(r=()=>{let e=new CustomEvent("head-ref-deleted");return document.dispatchEvent(e),u.invalidateQueries({queryKey:c},{cancelRefetch:!1})},a[2]=c,a[3]=u,a[4]=r):r=a[4],a[5]!==o?(s=e=>{o(e)},a[5]=o,a[6]=s):s=a[6],a[7]!==t||a[8]!==r||a[9]!==s?(n={mutationFn:t,onSuccess:r,onError:s},a[7]=t,a[8]=r,a[9]=s,a[10]=n):n=a[10],(0,ej.n)(n)}(t);v[1]!==q?(r=()=>{P(void 0),q(void 0)},v[1]=q,v[2]=r):r=v[2];let B=r;v[3]===Symbol.for("react.memo_cache_sentinel")?(s={onError:e=>{j(!1),P(e),M.current?.focus()}},v[3]=s):s=v[3];let{mutate:Q,isPending:$}=function(e){let t,r,s,n,a=(0,i.c)(11),{onError:o}=e,l=(0,E.e)(m.uT.cleanupCodespaces),c=p(),u=(0,S.jE)();return a[0]!==l?(t=async()=>{let e=await (0,eU.q$)(l,{method:"POST",headers:{Accept:"application/json"}}),t=await (0,eU.hp)(e);return(0,eU.R)(e,t),t},a[0]=l,a[1]=t):t=a[1],a[2]!==c||a[3]!==u?(r=()=>u.invalidateQueries({queryKey:c},{cancelRefetch:!1}),a[2]=c,a[3]=u,a[4]=r):r=a[4],a[5]!==o?(s=e=>{o(e)},a[5]=o,a[6]=s):s=a[6],a[7]!==t||a[8]!==r||a[9]!==s?(n={mutationFn:t,onSuccess:r,onError:s},a[7]=t,a[8]=r,a[9]=s,a[10]=n):n=a[10],(0,ej.n)(n)}(s);v[4]!==G||v[5]!==Q?(a=()=>{P(void 0),Q(void 0,{onSuccess:()=>{j(!1),setTimeout(()=>(0,tI.i)(`Deleting ${G}.`),1e3)}})},v[4]=G,v[5]=Q,v[6]=a):a=v[6];let K=a;v[7]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{P(void 0),j(!0)},v[7]=o):o=v[7];let W=o;v[8]!==O||v[9]!==A?(c=()=>A&&A.name?(0,eF.WJ9)({owner:A.ownerLogin,repo:A.name,branch:O}):"",v[8]=O,v[9]=A,v[10]=c):c=v[10];let H=c;v[11]!==k||v[12]!==N?(h=()=>k?"Branch successfully deleted":"MERGED"===N?"Pull request successfully merged and closed":"Closed with unmerged commits",v[11]=k,v[12]=N,v[13]=h):h=v[13];let V=h;v[14]!==F||v[15]!==B?(_=(0,n.jsx)(eR.Q,{loading:F,loadingAnnouncement:"Deleting branch",onClick:B,children:"Delete branch"}),v[14]=F,v[15]=B,v[16]=_):_=v[16];let Y=_;v[17]!==G?(g=(0,n.jsxs)(eR.Q,{ref:M,onClick:W,children:["Delete ",G]}),v[17]=G,v[18]=g):g=v[18];let z=g;v[19]===Symbol.for("react.memo_cache_sentinel")?(f=(0,n.jsx)("span",{id:"js-pull-restorable",className:"d-none"}),v[19]=f):f=v[19];let X=f,J=`${A?.url}/settings`;v[20]!==Y||v[21]!==z||v[22]!==k||v[23]!==x?(C=()=>x?Y:k?z:X,v[20]=Y,v[21]=z,v[22]=k,v[23]=x,v[24]=C):C=v[24];let Z=C;v[25]!==y?.name||v[26]!==y?.ownerLogin||v[27]!==U||v[28]!==G||v[29]!==b||v[30]!==H||v[31]!==O||v[32]!==I||v[33]!==J||v[34]!==k||v[35]!==N||v[36]!==x?(R=()=>{if("MERGED"===N)if(x)return(0,n.jsxs)(n.Fragment,{children:["You're all set \u2014 the"," ",(0,n.jsx)(tv.A,{className:(0,u.$)("ClosedOrMergedStateMergeBox-module__branchName--YOSfM","d-inline wb-break-all"),href:H(),children:O})," ","branch can be safely deleted.",I&&(0,n.jsxs)(n.Fragment,{children:[" ","If you wish, you can also delete this fork of"," ",(0,n.jsx)("strong",{children:`${y?.ownerLogin}/${y?.name}`})," in the"," ",(0,n.jsx)(em.A,{href:J,inline:!0,children:"settings"}),"."]})]});else if(k)return(0,n.jsxs)(n.Fragment,{children:["You're all set \u2014 the ",U," ",G," for head branch can be safely deleted. You can also manage your codespaces in"," ",(0,n.jsx)(em.A,{inline:!0,href:b.repositoryCodespacePath||"",children:"settings."})," "]});else return(0,n.jsx)(n.Fragment,{children:"You're all set \u2014 the branch has been merged."});return x?(0,n.jsxs)(n.Fragment,{children:["This pull request is closed, but the ",(0,n.jsx)(tv.A,{href:H(),children:O})," ","branch has unmerged commits."]}):(0,n.jsx)(n.Fragment,{children:"This pull request is closed."})},v[25]=y?.name,v[26]=y?.ownerLogin,v[27]=U,v[28]=G,v[29]=b,v[30]=H,v[31]=O,v[32]=I,v[33]=J,v[34]=k,v[35]=N,v[36]=x,v[37]=R):R=v[37];let ee=R;return v[38]!==U||v[39]!==G||v[40]!==$||v[41]!==F||v[42]!==L||v[43]!==Z||v[44]!==K||v[45]!==V||v[46]!==D||v[47]!==ee?(T=(()=>{if(!L)return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(tN.A,{"aria-labelledby":"delete-codespaces-dialog-title",isOpen:D,returnFocusRef:M,onDismiss:()=>j(!1),children:[(0,n.jsx)(tN.A.Header,{id:"delete-codespaces-dialog-title",children:"Delete Codespace?"}),(0,n.jsxs)("div",{className:"p-3",children:[(0,n.jsxs)("span",{children:["Are you sure you want to delete ",U," ",G," for the head branch?"]}),(0,n.jsxs)("div",{className:"d-flex flex-justify-end mt-3",children:[(0,n.jsx)(eR.Q,{className:"mr-1",inactive:$,onClick:()=>{$||(j(!1),M.current?.focus())},children:"Cancel"}),(0,n.jsx)(eR.Q,{className:"mr-1",variant:"danger",loading:$,loadingAnnouncement:`Deleting ${G}.`,onClick:K,children:`Delete ${G}`})]})]})]}),(0,n.jsx)(eS,{title:V(),subtitle:ee(),rightSideContent:Z()})]});{let e=404!==L.cause;return(0,n.jsx)(eS,{title:"Some codespaces could not be deleted."===L.message?`Couldn't delete ${G} `:"Couldn't update branch",subtitle:L.message,rightSideContent:e?(0,n.jsx)(eR.Q,{disabled:F,leadingVisual:l.SyncIcon,onClick:()=>P(void 0),children:"Try again"}):void 0})}})(),v[38]=U,v[39]=G,v[40]=$,v[41]=F,v[42]=L,v[43]=Z,v[44]=K,v[45]=V,v[46]=D,v[47]=ee,v[48]=T):T=v[48],T}try{tO.displayName||(tO.displayName="ClosedOrMergedStateMergeBox")}catch{}var tA=r(12683);function ty(e){let t,r,s,a,o=(0,i.c)(9),{icon:l,ariaLabel:c,iconBackgroundColor:d}=e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,u.$)("d-flex flex-justify-center flex-items-center mr-2 rounded-2 height-2 width-2 position-absolute","MergeabilityIcon-module__mergeabilityIcon--CV3kc"),o[0]=t):t=o[0],o[1]!==d?(r={backgroundColor:d},o[1]=d,o[2]=r):r=o[2],o[3]!==c||o[4]!==l?(s=(0,n.jsx)(eG.A,{className:"fgColor-onEmphasis",icon:l,size:24,"aria-label":c}),o[3]=c,o[4]=l,o[5]=s):s=o[5],o[6]!==r||o[7]!==s?(a=(0,n.jsx)(tA.az,{className:t,sx:r,children:s}),o[6]=r,o[7]=s,o[8]=a):a=o[8],a}try{ty.displayName||(ty.displayName="MergeabilityIcon")}catch{}var tx=r(76720);function tw(e){let t,r,s,a,o,c=(0,i.c)(7),{hideIcon:u}=e;return c[0]!==u?(t=!u&&(0,n.jsx)(ty,{icon:l.GitMergeIcon,ariaLabel:"Merge status cannot be loaded",iconBackgroundColor:"neutral.emphasis"}),c[0]=u,c[1]=t):t=c[1],c[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsx)(tx.E.Visual,{children:(0,n.jsx)(l.AlertIcon,{size:24,className:"fgColor-muted mt-3 mb-3"})}),c[2]=r):r=c[2],c[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,n.jsx)(tx.E.Heading,{children:(0,n.jsx)("strong",{children:"Merge status cannot be loaded"})}),c[3]=s):s=c[3],c[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsxs)(tx.E,{border:!0,children:[r,s,(0,n.jsx)("div",{className:"mb-n2",children:(0,n.jsxs)(tx.E.Description,{children:["Try reloading the page, or if the problem persists"," ",(0,n.jsxs)("a",{className:"fgColor-muted",href:"https://support.github.com/",children:[(0,n.jsx)("u",{children:"contact support"}),"."]})]})}),(0,n.jsx)(tx.E.SecondaryAction,{href:"https://www.githubstatus.com/",children:"GitHub status "})]}),c[4]=a):a=c[4],c[5]!==t?(o=(0,n.jsxs)("div",{className:"position-relative MergeBoxErrorState-module__boundaryContainer--QgJ7i",children:[t,a]}),c[5]=t,c[6]=o):o=c[6],o}try{tw.displayName||(tw.displayName="MergeBoxErrorState")}catch{}function tb(e){let t,r,s=(0,i.c)(4),{bgColor:a}=e;return s[0]!==a?(t=a?{backgroundColor:a}:void 0,s[0]=a,s[1]=t):t=s[1],s[2]!==t?(r=(0,n.jsx)(eE.A,{icon:tL,size:32,style:t,className:"BlockedSection-module__CircleOcticon--XMh4s"}),s[2]=t,s[3]=r):r=s[3],r}function tL(){return(0,n.jsx)(l.AlertFillIcon,{size:16})}try{tb.displayName||(tb.displayName="AlertIcon")}catch{}var tP=r(73017);function tM(e){let t,r,s,a=(0,i.c)(5),{failingConditionsAndRules:o}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(tb,{bgColor:"var(--borderColor-danger-emphasis)"}),a[0]=t):t=a[0],a[1]!==o?(r=o.map(tD),a[1]=o,a[2]=r):r=a[2],a[3]!==r?(s=(0,n.jsx)("section",{"aria-label":"Merging is blocked",className:"border-bottom borderColor-muted",children:(0,n.jsx)(eS,{title:"Merging is blocked",icon:t,children:(0,n.jsx)("ul",{className:"list-style-none",children:r})})}),a[3]=r,a[4]=s):s=a[4],s}function tD(e){return e&&"message"in e&&(0,n.jsxs)("li",{className:"BlockedSection-module__BlockedSectionMessage--kuN11",children:[(0,n.jsx)(tP.JR,{html:e.message||""})," ",(0,n.jsx)(tj,{ruleName:e.displayName})]},e.displayName)}function tj(e){let t=(0,i.c)(1),{ruleName:r}=e;if("UNVERIFIED_EMAIL"===r){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsxs)(n.Fragment,{children:["You will be able to merge this pull request after you"," ",(0,n.jsx)(em.A,{href:"/settings/emails",inline:!0,children:"verify your email address"}),"."]}),t[0]=e):e=t[0],e}return null}try{tM.displayName||(tM.displayName="BlockedSection")}catch{}try{tj.displayName||(tj.displayName="AdditionalMessaging")}catch{}let tU={ACTION_REQUIRED:{icon:l.XCircleFillIcon,iconColor:"var(--fgColor-danger, var(--color-danger-fg))",isPending:!1,isSuccess:!1},CANCELLED:{icon:l.StopIcon,iconColor:"var(--fgColor-muted, var(--color-fg-muted))",isPending:!1,isSuccess:!1},COMPLETED:{icon:l.CheckIcon,iconColor:"var(--fgColor-success, var(--color-success-fg))",isSuccess:!0,isPending:!1},ERROR:{icon:l.XCircleFillIcon,iconColor:"var(--fgColor-danger, var(--color-danger-fg))",isPending:!1,isSuccess:!1},EXPECTED:{icon:l.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",isPending:!0,isSuccess:!1},FAILURE:{icon:l.XCircleFillIcon,iconColor:"var(--fgColor-danger, var(--color-danger-fg))",isPending:!1,isSuccess:!1},IN_PROGRESS:{icon:l.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",isPending:!0,isSuccess:!1},NEUTRAL:{icon:l.SquareFillIcon,iconColor:"var(--fgColor-muted, var(--color-fg-muted))",isPending:!1,isSuccess:!1},PENDING:{icon:l.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",isPending:!0,isSuccess:!1},QUEUED:{icon:l.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",isPending:!0,isSuccess:!1},REQUESTED:{icon:l.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",backgroundColor:"none",isPending:!1,isSuccess:!1},SKIPPED:{icon:l.SkipIcon,iconColor:"var(--fgColor-muted, var(--color-fg-muted))",isPending:!1,isSuccess:!1},STALE:{icon:l.MoonIcon,iconColor:"var(--fgColor-muted, var(--color-fg-muted))",isPending:!1,isSuccess:!1},STARTUP_FAILURE:{icon:l.XCircleFillIcon,iconColor:"var(--fgColor-danger, var(--color-danger-fg))",isPending:!1,isSuccess:!1},SUCCESS:{icon:l.CheckIcon,iconColor:"var(--fgColor-success, var(--color-success-fg))",isSuccess:!0,isPending:!1},TIMED_OUT:{icon:l.XCircleFillIcon,iconColor:"var(--fgColor-danger, var(--color-danger-fg))",isPending:!1,isSuccess:!1},WAITING:{icon:l.ClockIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",isPending:!0,isSuccess:!1},_UNKNOWN_VALUE:{icon:l.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",isPending:!0,isSuccess:!1}},tk={FAILURE:"failing",NEUTRAL:"neutral",TIMED_OUT:"timed out",CANCELLED:"cancelled",STALE:"stale",PENDING:"pending",IN_PROGRESS:"in progress",REQUESTED:"requested",QUEUED:"queued",SKIPPED:"skipped",EXPECTED:"expected",SUCCESS:"successful",ALL:"all"};Object.keys(tU);let tG=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});function tq(e,t){return tG.compare(e.displayName,t.displayName)}function tF(e,t,r,s){if(s?.statusChecksGrouping==="ungrouped")return{ALL:e};let n={};for(let e of Object.keys(t))n[e]=[];return e.reduce((e,s)=>{let n=r(s),i=Object.keys(t).find(e=>t[e].includes(n));if(i){let t=e[i];t&&t.push(s)}return e},n)}function tB(e,t,r){if(r?.statusChecksGrouping==="ungrouped")return{ALL:e.reduce((e,t)=>e+t.count,0)};let s=tF(e,t,e=>e.state,r);return Object.fromEntries(Object.keys(s).map(e=>{let t;return[e,(t=s[e],t?.reduce((e,t)=>e+t.count,0)??0)]}))}function tQ(e){let t={};for(let r of e)t[r.state]=r.count;return{statusCheckCounts:JSON.stringify(t)}}var t$=r(72931);let tK={PASSED:"success",PENDING:"pending",PENDING_APPROVAL:"pending",PENDING_FAILED:"failure",PENDING_CONFLICTS:"pending",SOME_FAILED:"failure",FAILED:"failure"};function tW(){(0,t$.gd)()}function tH(){return(0,t$.iD)("merge-queue"),tV}function tV(){(0,t$.gd)()}var tY=r(94236),tz=r(26108);let tX={status_checks_grouping_preference:["grouped_by_status","ungrouped"]};function tJ(e){let t,r,s,a,o,c,h=(0,i.c)(29),{children:_,count:g,groupStatus:f,isToggleVisible:C,analyticsMetadata:R,showSettingsIcon:T,setUserPreferences:v,pullRequestId:N,userPreferences:I}=e;h[0]!==g||h[1]!==I?.statusChecksGrouping?(t=function(e){return I?.statusChecksGrouping==="ungrouped"?g>1?`${g} checks`:`${g} check`:`${g} ${e} check${g>1?"s":""}`},h[0]=g,h[1]=I?.statusChecksGrouping,h[2]=t):t=h[2];let O=t,[A,y]=(0,eT.Fo)(`${N}:checksGroup:${f}Expanded`,!0),{sendAnalyticsEvent:x}=(0,eh.s)(),w=tk[f],b=(0,d.useId)(),L=A||!C,P=O(w),M=!C||A,[D,j]=(0,d.useState)(null);h[3]===Symbol.for("react.memo_cache_sentinel")?(r={onError:e=>{j(e.message)}},h[3]=r):r=h[3];let{mutate:U}=function(e){let t,r,s,n,a=(0,i.c)(11),{onError:o}=e,l=(0,E.e)(m.uT.updateMergeBoxUserPreference),c=p(),u=(0,S.jE)();return a[0]!==l?(t=async e=>{if(!e.preferenceName||!e.preference)throw Error("Preference name and value must be provided.");if(!(e.preferenceName in tX))throw Error("Invalid preference name.");if(!tX[e.preferenceName].includes(e.preference))throw Error("Invalid preference value.");let t=await (0,eU.q$)(l,{method:"POST",headers:{Accept:"application/json"},body:e}),r=await (0,eU.hp)(t);return(0,eU.R)(t,r),r},a[0]=l,a[1]=t):t=a[1],a[2]!==c||a[3]!==u?(r=()=>u.invalidateQueries({queryKey:c},{cancelRefetch:!1}),a[2]=c,a[3]=u,a[4]=r):r=a[4],a[5]!==o?(s=e=>{o(e)},a[5]=o,a[6]=s):s=a[6],a[7]!==t||a[8]!==r||a[9]!==s?(n={mutationFn:t,onSuccess:r,onError:s},a[7]=t,a[8]=r,a[9]=s,a[10]=n):n=a[10],(0,ej.n)(n)}(r);return h[4]!==R||h[5]!==b||h[6]!==f||h[7]!==P||h[8]!==A||h[9]!==x||h[10]!==y||h[11]!==v||h[12]!==C||h[13]!==T||h[14]!==U||h[15]!==I?(s=C&&(0,n.jsxs)("div",{className:"ExpandedChecks-module__groupHeader--jZHKD",children:[I?.statusChecksGrouping==="ungrouped"?(0,n.jsxs)("span",{className:(0,u.$)("ExpandedChecks-module__totalChecksCountText--buDCm","pl-2 text-semibold f6"),children:[" ",P," "]}):(0,n.jsx)(eR.Q,{"aria-controls":b,"aria-expanded":A,"aria-label":A?`Collapse ${P} group`:`Expand ${P} group`,className:"ExpandedChecks-module__checksGroupHeadingButton--PCfYf",variant:"invisible",size:"small",trailingVisual:()=>(0,n.jsx)(ev,{isExpanded:A}),onClick:()=>{x(A?"checks_group.collapse":"checks_group.expand","MERGEBOX_CHECKS_GROUP_TOGGLE_BUTTON",{...R,group:f}),y(!A)},children:P}),T&&v&&(0,n.jsxs)(tY.W,{children:[(0,n.jsx)(tY.W.Anchor,{children:(0,n.jsx)(tz.K,{icon:l.GearIcon,variant:"invisible","aria-label":"Checks settings",className:"ExpandedChecks-module__checkSettingsButton--MONZT"})}),(0,n.jsx)(tY.W.Overlay,{width:"auto",children:(0,n.jsxs)(eb.l,{selectionVariant:"single",children:[(0,n.jsx)(eb.l.Item,{onSelect:()=>{I?.statusChecksGrouping!=="grouped_by_status"&&(U({preferenceName:"status_checks_grouping_preference",preference:"grouped_by_status"}),v({...I,statusChecksGrouping:"grouped_by_status"}))},selected:I?.statusChecksGrouping==="grouped_by_status",children:"Group by status"}),(0,n.jsx)(eb.l.Item,{onSelect:()=>{I?.statusChecksGrouping!=="ungrouped"&&(U({preferenceName:"status_checks_grouping_preference",preference:"ungrouped"}),v({...I,statusChecksGrouping:"ungrouped"}))},selected:I?.statusChecksGrouping==="ungrouped",children:"No grouping"})]})})]})]}),h[4]=R,h[5]=b,h[6]=f,h[7]=P,h[8]=A,h[9]=x,h[10]=y,h[11]=v,h[12]=C,h[13]=T,h[14]=U,h[15]=I,h[16]=s):s=h[16],h[17]!==D?(a=D&&(0,n.jsxs)(eL.A,{variant:"danger",className:"ChecksGroup-module__ErrorFlash--WJCJc",children:[(0,n.jsx)(eG.A,{icon:l.StopIcon,className:"ChecksGroup-module__ErrorOcticon--JPT2T"}),D]}),h[17]=D,h[18]=a):a=h[18],h[19]!==_||h[20]!==b||h[21]!==w||h[22]!==M||h[23]!==L?(o=M&&(0,n.jsx)("div",{className:(0,u.$)("ExpandedChecks-module__expandableWrapper--aGEIv",L&&"ExpandedChecks-module__isExpanded--pq8Vj"),id:b,"aria-label":`${w} checks`,role:"group",children:(0,n.jsx)("div",{className:"ExpandedChecks-module__expandableListView--QDJPW",children:(0,n.jsx)(eC.u,{title:`${w} checks`,titleHeaderTag:"h3",strictFocusZone:!1,children:_})})}),h[19]=_,h[20]=b,h[21]=w,h[22]=M,h[23]=L,h[24]=o):o=h[24],h[25]!==s||h[26]!==a||h[27]!==o?(c=(0,n.jsxs)("div",{children:[s,a,o]}),h[25]=s,h[26]=a,h[27]=o,h[28]=c):c=h[28],c}try{tJ.displayName||(tJ.displayName="ChecksGroup")}catch{}var tZ=r(62935),t0=r(26607),t1=r(10436),t2=r(84098),t3=r(51880),t4=r(4929),t5=r(39619),t6=r(51213),t7=r(34665),t8=r(68637),t9=r(69599),re=r(79064),rt=r(53419),rr=r(25641),rs=r(78314),rn=r(20582);let ri="copilot-explain-error-action",ra="copilot-fix-with-copilot-action";function ro(e){let t,r,s,a=(0,i.c)(7),{failureContext:o,targetUrl:c,displayName:u}=e;a[0]!==u||a[1]!==o||a[2]!==c?(t=()=>{if((0,t9.G7)("copilot_chat_action_logs_redirect")){(0,rt.BI)("copilot.open_copilot_chat",{source:`element ${ri}`});let e=c?(0,t7.a)(c,!0,u):null,t=e?[e]:[],r=(0,t8.oo)(void 0,!0);re.Jt.setEntrypointMessage({message:r,references:t}),re.Jt.setCurrentReferences(null,t),window.location.href=e?`/copilot?reference_id=${(0,rr.Vb)(e)}`:"/copilot";return}(0,t5.qR)({id:ri,intent:t6.wh.actionsAgent,content:(0,t8.oo)(o.jobId),references:[]})},a[0]=u,a[1]=o,a[2]=c,a[3]=t):t=a[3];let d=t;return a[4]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsx)(eb.l.LeadingVisual,{children:(0,n.jsx)(l.CopilotIcon,{})}),a[4]=r):r=a[4],a[5]!==d?(s=(0,n.jsxs)(eb.l.Item,{onSelect:d,children:["Explain error",r]}),a[5]=d,a[6]=s):s=a[6],s}function rl(e){let t,r,s,a=(0,i.c)(6),{targetUrl:o}=e,{sendAnalyticsEvent:c}=(0,eh.s)();a[0]!==c?(t=()=>{c("status_check_row_action_bar.view_details_click","VIEW_DETAILS_MENU_ITEM")},a[0]=c,a[1]=t):t=a[1];let u=t;return a[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsx)(eb.l.LeadingVisual,{children:(0,n.jsx)(l.ArrowRightIcon,{})}),a[2]=r):r=a[2],a[3]!==u||a[4]!==o?(s=(0,n.jsxs)(eb.l.LinkItem,{href:o,onClick:u,children:["View details",r]}),a[3]=u,a[4]=o,a[5]=s):s=a[5],s}function rc(e){let t,r,s,a,o,c,u,h=(0,i.c)(19),{failureContext:m,targetUrl:E,displayName:_}=e,[g,S]=(0,d.useState)(!1),f=(0,rs.t)();h[0]!==_||h[1]!==E?(t=E?(0,t7.a)(E,!0,_):null,h[0]=_,h[1]=E,h[2]=t):t=h[2];let p=t,C=p?.repoOwner||f?.ownerLogin,R=p?.repoName||f?.name,T=m.headRef||f?.defaultBranch;h[3]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{S(!1),(0,rt.BI)("fix_workflow.job_created",{source:ra}),window.location.href="/copilot/agents"},s=e=>{S(!1),(0,rt.BI)("fix_workflow.job_creation_failed",{error:e.message,source:ra})},h[3]=r,h[4]=s):(r=h[3],s=h[4]),h[5]!==C||h[6]!==R?(a={owner:C,repo:R,onSuccess:r,onError:s},h[5]=C,h[6]=R,h[7]=a):a=h[7];let{mutate:v}=(0,rn.l)(a);h[8]!==T||h[9]!==v||h[10]!==_||h[11]!==m.jobId||h[12]!==E?(o=()=>{S(!0),(0,rt.BI)("fix_workflow.menu_item_clicked",{source:ra});let e=_||"workflow",t=`Fix the failing GitHub Actions workflow "${e}".
Analyze the workflow logs, identify the root cause of the failure, and implement a fix.
Job ID: ${m.jobId}
${E?`Job URL: ${E}`:""}`;v({problemStatement:t,baseRef:T||"",eventType:"fix-failed-workflow",eventContent:t})},h[8]=T,h[9]=v,h[10]=_,h[11]=m.jobId,h[12]=E,h[13]=o):o=h[13];let N=o;if(!R||!C||!T)return null;let I=g?"Creating task...":"Fix with agent";return h[14]===Symbol.for("react.memo_cache_sentinel")?(c=(0,n.jsx)(eb.l.LeadingVisual,{children:(0,n.jsx)(l.AgentIcon,{})}),h[14]=c):c=h[14],h[15]!==g||h[16]!==N||h[17]!==I?(u=(0,n.jsxs)(eb.l.Item,{onSelect:N,disabled:g,children:[I,c]}),h[15]=g,h[16]=N,h[17]=I,h[18]=u):u=h[18],u}function ru(e){let t,r=(0,i.c)(10),{copilotCheckRunFailureContext:s,targetUrl:a,displayName:o}=e;if(r[0]!==s||r[1]!==o||r[2]!==a){let e=[],i=(0,t9.G7)("copilot_fix_failed_workflows");if(null!=s){let t,l=()=>(0,n.jsx)(ro,{failureContext:s,targetUrl:a,displayName:o});if(r[4]!==l?(t={key:"copilot-explain-error",render:l},r[4]=l,r[5]=t):t=r[5],e.push(t),i){let t,i=()=>(0,n.jsx)(rc,{failureContext:s,targetUrl:a,displayName:o});r[6]!==i?(t={key:"copilot-fix-with-copilot",render:i},r[6]=i,r[7]=t):t=r[7],e.push(t)}}if(a){let t;r[8]!==a?(t={key:"view-details",render:()=>(0,n.jsx)(rl,{targetUrl:a})},r[8]=a,r[9]=t):t=r[9],e.push(t)}t=(0,n.jsx)(ek.L,{label:"actions",staticMenuActions:e,className:"StatusCheckRowActionBar-module__statusCheckActionBar--Ipu3V"}),r[0]=s,r[1]=o,r[2]=a,r[3]=t}else t=r[3];return t}try{ro.displayName||(ro.displayName="CopilotExplainErrorMenuItem")}catch{}try{rl.displayName||(rl.displayName="ViewDetailsMenuItem")}catch{}try{rc.displayName||(rc.displayName="CopilotFixWithCopilotMenuItem")}catch{}try{ru.displayName||(ru.displayName="StatusCheckRowActionBar")}catch{}function rd(e){let t,r,s=(0,i.c)(5),{iconColor:a,icon:o}=e;return s[0]!==a?(t={color:a},s[0]=a,s[1]=t):t=s[1],s[2]!==o||s[3]!==t?(r=(0,n.jsx)(t1.m4,{icon:o,sx:t}),s[2]=o,s[3]=t,s[4]=r):r=s[4],r}function rh(e){let t,r,s,a=(0,i.c)(5),{animated:o}=e,u=void 0===o||o;return a[0]!==u?(t=u?(0,n.jsx)(c.A,{size:"small"}):(0,n.jsx)(l.CircleIcon,{size:"small",className:"StatusCheckRow-module__staticSpinner--zUcDB"}),a[0]=u,a[1]=t):t=a[1],a[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsx)("div",{className:"StatusCheckRow-module__spinnerWrapper--AjdFv",children:(0,n.jsx)("div",{className:"StatusCheckRow-module__spinnerInner--KITho"})}),a[2]=r):r=a[2],a[3]!==t?(s=(0,n.jsxs)("div",{className:"StatusCheckRow-module__checksSpinnerWrapper--HgboO",children:[t,r]}),a[3]=t,a[4]=s):s=a[4],s}let rm=(0,d.memo)(function(e){let t,r,s,a,o,l,c,h,m,E,_,g,S,f,p,C,R,T=(0,i.c)(51),{additionalContext:v,avatarUrl:N,avatarBackgroundColor:I,copilotCheckRunFailureContext:O,description:A,displayName:y,state:x,stateChangedAt:w,targetUrl:b,isRequired:L,reserveSpaceForRequiredBadge:P,reserveSpaceForActionBar:M,shouldAnimate:D}=e,j=void 0===D||D,U=tU[x];T[0]!==v?(t=v?v.charAt(0).toLowerCase()+v.slice(1):"",T[0]=v,T[1]=t):t=T[1];let k=`${y} ${t}`,G=P&&!M,[q,F]=(0,d.useState)(!1),B=(0,d.useRef)(null),Q=(0,d.useRef)(null);T[2]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{let e=new ResizeObserver(()=>{if(B.current&&Q.current){let e=Q.current.offsetWidth;F(B.current.offsetWidth+31>e)}});return Q.current&&e.observe(Q.current),()=>{e.disconnect()}},T[2]=r):r=T[2],T[3]!==y?(s=[y],T[3]=y,T[4]=s):s=T[4],(0,d.useEffect)(r,s),T[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsx)("div",{}),T[5]=a):a=T[5],T[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,u.$)(ew),T[6]=o):o=T[6],T[7]!==O||T[8]!==y||T[9]!==M||T[10]!==b?(l=M?(0,n.jsx)(ru,{copilotCheckRunFailureContext:O,targetUrl:b,displayName:y}):(0,n.jsx)(n.Fragment,{}),T[7]=O,T[8]=y,T[9]=M,T[10]=b,T[11]=l):l=T[11],T[12]===Symbol.for("react.memo_cache_sentinel")?(c=(0,u.$)("StatusCheckRow-module__leadingVisual--JETy5","mt-2"),T[12]=c):c=T[12],T[13]!==j||T[14]!==x||T[15]!==U?(h="IN_PROGRESS"===x?(0,n.jsx)(rh,{animated:j}):(0,n.jsx)(rd,{icon:U.icon,iconColor:U.iconColor}),T[13]=j,T[14]=x,T[15]=U,T[16]=h):h=T[16],T[17]!==I||T[18]!==N||T[19]!==y?(m=N?(0,n.jsx)(ex.r,{alt:y,size:20,square:!0,src:N,className:"flex-shrink-0 ml-2 mr-2",style:I?{backgroundColor:I}:void 0}):(0,n.jsx)(t2.N,{size:20,square:!0,className:"flex-shrink-0 ml-2 mr-2"}),T[17]=I,T[18]=N,T[19]=y,T[20]=m):m=T[20],T[21]!==m||T[22]!==h?(E=(0,n.jsx)(t3.B,{children:(0,n.jsxs)(ey.e,{className:c,children:[h,m]})}),T[21]=m,T[22]=h,T[23]=E):E=T[23];let $=y??"",K=b??void 0,W=q?`${y} ${v} ${A}`:void 0;T[24]!==W?(_={title:W},T[24]=W,T[25]=_):_=T[25];let H=("IN_PROGRESS"===x||"QUEUED"===x)&&"text-italic";T[26]!==H?(g=(0,u.$)("StatusCheckRow-module__titleDescription--sgUXB",H),T[26]=H,T[27]=g):g=T[27],T[28]!==v||T[29]!==x||T[30]!==w?(S=function({state:e,stateChangedAt:t,additionalContext:r}){switch(e){case"IN_PROGRESS":return(0,n.jsxs)("span",{children:["Started ",(0,n.jsx)(tZ.A,{datetime:t})]});case"SKIPPED":return(0,n.jsxs)("span",{children:["Skipped ",(0,n.jsx)(tZ.A,{datetime:t})]});case"QUEUED":return(0,n.jsx)("span",{children:"Queued"});default:return(0,n.jsx)("span",{children:r})}}({state:x,stateChangedAt:w,additionalContext:v}),T[28]=v,T[29]=x,T[30]=w,T[31]=S):S=T[31];let V=A&&`\u{2014} ${A}`;return T[32]!==g||T[33]!==S||T[34]!==V?(f=(0,n.jsxs)("span",{className:g,children:[S," ",V]}),T[32]=g,T[33]=S,T[34]=V,T[35]=f):f=T[35],T[36]!==$||T[37]!==K||T[38]!==_||T[39]!==f?(p=(0,n.jsx)(eA.ao,{containerClassName:"StatusCheckRow-module__title--KooFt",headingClassName:"StatusCheckRow-module__titleHeader--Qx8JS",value:$,href:K,linkProps:_,headingRef:B,headerContainerRef:Q,children:f}),T[36]=$,T[37]=K,T[38]=_,T[39]=f,T[40]=p):p=T[40],T[41]!==L||T[42]!==G||T[43]!==P?(C=P?(0,n.jsx)(t4.V,{children:L&&(0,n.jsx)("div",{className:(0,u.$)("StatusCheckRow-module__requiredLabel--cYbp_","flex-shrink-0 fgColor-default",G&&"pr-3"),children:(0,n.jsx)(t0.A,{children:"Required"})})}):(0,n.jsx)("div",{className:"px-5"}),T[41]=L,T[42]=G,T[43]=P,T[44]=C):C=T[44],T[45]!==k||T[46]!==E||T[47]!==p||T[48]!==C||T[49]!==l?(R=(0,n.jsxs)(eO.c,{title:a,"aria-label":k,className:o,secondaryActions:l,children:[E,p,C]}),T[45]=k,T[46]=E,T[47]=p,T[48]=C,T[49]=l,T[50]=R):R=T[50],R});try{rd.displayName||(rd.displayName="StatusIcon")}catch{}try{rh.displayName||(rh.displayName="CheckSpinner")}catch{}try{rm.displayName||(rm.displayName="StatusCheckRow")}catch{}let rE={FAILURE:["CANCELLED","ERROR","FAILURE","STALE","STARTUP_FAILURE","TIMED_OUT"],PENDING:["ACTION_REQUIRED","EXPECTED","PENDING","QUEUED","REQUESTED","WAITING","_UNKNOWN_VALUE"],IN_PROGRESS:["IN_PROGRESS"],SKIPPED:["SKIPPED"],NEUTRAL:["NEUTRAL"],SUCCESS:["SUCCESS","COMPLETED"]};function r_({pullRequestId:e,statusChecks:t,statusRollupSummary:r,mergeBoxUserPreferences:s}){let[i,a]=(0,d.useState)(s||null),o=(0,d.useMemo)(()=>t.sort(tq),[t]),l=tB(r,rE,i),c=tF(o,rE,e=>e.state,i),h=t.some(e=>e.isRequired),m=t.some(e=>e.copilotCheckRunFailureContext||!!e.targetUrl),E=Object.entries(l).reduce((e,[,t])=>t>0?e+1:e,0),_=t.length>0&&t.every(e=>e.state===t[0]?.state),g=E>1||i?.statusChecksGrouping==="ungrouped"&&!_;return(0,n.jsx)("div",{className:(0,u.$)("ExpandedChecks-module__checksContainer--ZfNYB","ExpandedChecks-module__containPaint--TRfkR"),children:Object.entries(l).filter(([,e])=>e>0).map(([t,s],o)=>{let l=s<50;return(0,n.jsx)(tJ,{count:s,groupStatus:t,isToggleVisible:g,pullRequestId:e,analyticsMetadata:tQ(r),setUserPreferences:a,userPreferences:i,showSettingsIcon:i&&0===o,children:c[t]?.map(e=>e?(0,n.jsx)(rm,{...e,shouldAnimate:l,reserveSpaceForActionBar:m,reserveSpaceForRequiredBadge:h},`${e.displayName}-${e.state}-${e.targetUrl}-${e.stateChangedAt}`):null)},t)})})}try{r_.displayName||(r_.displayName="ExpandedChecksList")}catch{}let rg="StatusCheckStatesIcon-module__icon--trJdb",rS="StatusCheckStatesIcon-module__icon-animate--U9a0b",rf={PASSING:(0,n.jsx)(eE.A,{icon:()=>(0,n.jsx)(l.CheckIcon,{size:16}),className:"bgColor-success-emphasis fgColor-onEmphasis",size:32}),FAILING:(0,n.jsx)(eE.A,{icon:()=>(0,n.jsx)(l.XIcon,{size:16}),className:"bgColor-danger-emphasis fgColor-onEmphasis",size:32})},rp={FAILURE:["CANCELLED","ERROR","FAILURE","STALE","STARTUP_FAILURE","TIMED_OUT"],PENDING:["_UNKNOWN_VALUE","EXPECTED","QUEUED","PENDING","WAITING","REQUESTED","ACTION_REQUIRED","IN_PROGRESS"],SKIPPED:["SKIPPED","NEUTRAL"],SUCCESS:["SUCCESS","COMPLETED"]},rC={FAILURE:"var(--fgColor-danger)",SUCCESS:"var(--fgColor-success)",PENDING:"var(--fgColor-attention)",SKIPPED:"var(--fgColor-neutral)"},rR=2*Math.PI*44,rT={gapPercent:5,strokeWidth:12,size:32,circleSize:100,circumference:rR,percentToDegree:3.6,percentToPx:rR/100};function rv({statusRollupSummary:e}){let[t,r]=(0,d.useState)(!1),s=(0,d.useRef)(void 0),i=(0,d.useMemo)(()=>{let t,r,s,n,i,a,o,l;return s=(r=[{name:"SUCCESS",count:(t=tB(e,rp)).SUCCESS??0},{name:"SKIPPED",count:t.SKIPPED??0},{name:"PENDING",count:t.PENDING??0},{name:"FAILURE",count:t.FAILURE??0}].flatMap(e=>e?[e]:[]).filter(e=>!!e.count&&e.count>0)).reduce((e,t)=>e+t.count,0),n=[],i=r.length??0,a=r.filter(({count:e})=>e/s*100<6).map(e=>e.name),o=0,3===a.length?o=15/(i-3):2===a.length?o=10/(i-2):1===a.length&&(o=5/(i-1)),l=o,r.map((e,t)=>{var r,o;let c,u,d;if(r=e.name,!Object.keys(rp).includes(r))return null;let h=e.count;if(!h)return null;let m=(o=e.name,c=h/s*100,(i>1&&(c-=rT.gapPercent),a.includes(o))?c+5:c-l),E={name:e.name,percentage:m,dashArray:`${Math.max(m*rT.percentToPx,0)} ${rT.circumference}`,transform:(u=0,((0!==t||t!==i-1)&&i>1||2===i)&&(u=2.5),d=((e,t)=>{if(0===e)return e;let r=0;for(let e=0;e<t.length;e++){let s=t[e];s&&(r+=s+rT.gapPercent)}return r})(m,n),`rotate(${-90+(d+u)*rT.percentToDegree}deg)`),stroke:rC[e.name]};return n.push(m),E}).flatMap(e=>e?[e]:[])},[e]),a=1===e.length&&e[0]?.state==="SUCCESS",o=1===e.length&&e[0]?.state==="FAILURE",l=!a&&!o||t;return(0,d.useMemo)(()=>{void 0!==s.current&&e.length>0&&r(!0),s.current=e},[e]),(0,n.jsxs)("div",{className:"StatusCheckStatesIcon-module__iconWrapper--LPiWu",children:[a&&(0,n.jsx)("div",{className:(0,u.$)(rg,t&&rS),children:rf.PASSING}),o&&(0,n.jsx)("div",{className:(0,u.$)(rg,t&&rS),children:rf.FAILING}),l&&(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${rT.circleSize} ${rT.circleSize}`,shapeRendering:"crispEdges",width:rT.size,height:rT.size,style:{userSelect:"none",zoom:"reset"},fill:"none","aria-hidden":"true",children:i.map(e=>(0,n.jsx)("circle",{cx:rT.circleSize/2,cy:rT.circleSize/2,r:44,style:{strokeLinecap:"round",strokeLinejoin:"round",strokeDashoffset:0,strokeWidth:rT.strokeWidth,transition:"all 1000ms ease 0ms",transformOrigin:"50% 50%",shapeRendering:"geometricPrecision",strokeDasharray:e.dashArray,transform:e.transform,stroke:e.stroke}},e.name))})]})}try{rv.displayName||(rv.displayName="StatusCheckStatesIcon")}catch{}let rN={FAILURE:["ERROR","FAILURE","STARTUP_FAILURE"],TIMED_OUT:["TIMED_OUT"],CANCELLED:["CANCELLED"],SUCCESS:["SUCCESS"],STALE:["STALE"],PENDING:["ACTION_REQUIRED","PENDING","WAITING","_UNKNOWN_VALUE"],IN_PROGRESS:["IN_PROGRESS"],QUEUED:["QUEUED"],NEUTRAL:["NEUTRAL"],SKIPPED:["SKIPPED"],EXPECTED:["EXPECTED"],REQUESTED:["REQUESTED"]};function rI(e){let t,r,s,a,o,c,u,h,_=(0,i.c)(27),{checkSectionAriaId:g,pendingWorkflowApprovalRollup:f,statusRollup:p,statusChecks:C,pullRequestHeadSha:R,pullRequestId:T,focusPrimaryMergeButton:v,mergeBoxUserPreferences:N}=e;_[0]!==R?(t={pullRequestHeadSha:R},_[0]=R,_[1]=t):t=_[1];let{isPending:I,mutate:O}=function(e){let t,r,s,n,a=(0,i.c)(10),{pullRequestHeadSha:o}=e,l=(0,E.e)(m.uT.runActionRequiredWorkflows);a[0]!==o?(t={pullRequestHeadSha:o},a[0]=o,a[1]=t):t=a[1];let c=tR(t),u=(0,S.jE)();return a[2]!==l?(r=async()=>{let e=await (0,eU.q$)(l,{method:"POST",headers:{Accept:"application/json"}}),t=await (0,eU.hp)(e);return(0,eU.R)(e,t),t},a[2]=l,a[3]=r):r=a[3],a[4]!==u||a[5]!==c?(s=()=>u.invalidateQueries({queryKey:c},{cancelRefetch:!1}),a[4]=u,a[5]=c,a[6]=s):s=a[6],a[7]!==r||a[8]!==s?(n={mutationFn:r,onSuccess:s},a[7]=r,a[8]=s,a[9]=n):n=a[9],(0,ej.n)(n)}(t),A=()=>{w(null),O(void 0,{onSuccess:()=>{setTimeout(rO,1e3),v()},onError:e=>w(e.message)})},[y,x]=(0,d.useState)(null),w=x,{workflowsRequiringApprovalCount:b,hasExpiredWorkflowRuns:L,approvalRequiredMessage:P,helpLink:M,viewerCanApproveWorkflowRuns:D}=f,j=`${b} workflow${1===b?"":"s"} awaiting approval`;_[2]!==P||_[3]!==L||_[4]!==M?(r=L?"Unable to re-run one or more workflows because they were created over a month ago.":(0,n.jsxs)(n.Fragment,{children:[P," ",(0,n.jsx)(em.A,{inline:!0,href:M,children:"Learn more about approving workflows."})]}),_[2]=P,_[3]=L,_[4]=M,_[5]=r):r=_[5];let U=r;return _[6]===Symbol.for("react.memo_cache_sentinel")?(s=(0,n.jsx)(tb,{bgColor:"var(--bgColor-attention-emphasis)"}),_[6]=s):s=_[6],_[7]!==A||_[8]!==I||_[9]!==D?(a=D?(0,n.jsx)(eR.Q,{loading:I,loadingAnnouncement:"Re-running workflows",onClick:A,children:"Approve workflows to run"}):void 0,_[7]=A,_[8]=I,_[9]=D,_[10]=a):a=_[10],_[11]!==g||_[12]!==U||_[13]!==a||_[14]!==j?(o=(0,n.jsx)(eS,{headerId:g,title:j,subtitle:U,icon:s,rightSideContent:a}),_[11]=g,_[12]=U,_[13]=a,_[14]=j,_[15]=o):o=_[15],_[16]!==y?(c=y&&(0,n.jsxs)(eL.A,{className:"m-3",variant:"danger",children:[(0,n.jsx)(eG.A,{className:"mr-2",icon:l.StopIcon}),y]}),_[16]=y,_[17]=c):c=_[17],_[18]!==N||_[19]!==T||_[20]!==C||_[21]!==p.summary?(u=p.summary.length>0&&(0,n.jsx)(ep,{isExpanded:!0,children:(0,n.jsx)(r_,{pullRequestId:T,statusChecks:C,statusRollupSummary:p.summary,mergeBoxUserPreferences:N})}),_[18]=N,_[19]=T,_[20]=C,_[21]=p.summary,_[22]=u):u=_[22],_[23]!==o||_[24]!==c||_[25]!==u?(h=(0,n.jsxs)(n.Fragment,{children:[o,c,u]}),_[23]=o,_[24]=c,_[25]=u,_[26]=h):h=_[26],h}function rO(){return(0,tI.i)("Successfully approved and re-requested workflows.")}let rA={PASSED:"All checks have passed",PENDING:"Some checks haven't completed yet",PENDING_APPROVAL:"Some checks are waiting for approval",PENDING_FAILED:"Some checks were not successful",SOME_FAILED:"Some checks were not successful",FAILED:"All checks have failed",PENDING_CONFLICTS:"Checks awaiting conflict resolution",UNKNOWN:"Checks status is unknown"};function ry(e){let t,r,s,a,o,l,c=(0,i.c)(18),{pullRequestId:u,pullRequestHeadSha:h,focusPrimaryMergeButton:m,sectionStatus:E,shouldRender:_,mergeBoxUserPreferences:g}=e;c[0]!==h?(t={pullRequestHeadSha:h},c[0]=h,c[1]=t):t=c[1];let{data:S}=tT(t),{aliveChannels:f,statusRollup:p,statusChecks:C}=S,R="PASSED"===p.combinedState,[T,v]=(0,eT.Fo)(`${u}:checksExpanded`,!R),{sendAnalyticsEvent:N}=(0,eh.s)(),I=(0,d.useId)();!function(e,t){let r,s,n,a,o=(0,i.c)(10);o[0]!==t?(r={pullRequestHeadSha:t},o[0]=t,o[1]=r):r=o[1];let{refetch:l}=tT(r),c=(0,tE.A)(),u=tf()?2e3:1e4;o[2]!==c||o[3]!==l?(s=()=>{c()&&l()},o[2]=c,o[3]=l,o[4]=s):s=o[4],o[5]!==s||o[6]!==u?(n=(0,th.n)(s,u),o[5]=s,o[6]=u,o[7]=n):n=o[7];let d=n;o[8]!==d?(a=e=>{window.setTimeout(d,e.wait||0)},o[8]=d,o[9]=a):a=o[9];let h=a;(0,tm.x)(e,h)}(f.commitHeadShaChannel,h),(l=(0,i.c)(4))[0]!==p.combinedState||l[1]!==p.summary.length?(a=()=>{if(0===p.summary.length)(0,t$.gd)();else{let e=tK[p.combinedState];(0,t$.iD)(e)}return tW},o=[p.combinedState,p.summary.length],l[0]=p.combinedState,l[1]=p.summary.length,l[2]=a,l[3]=o):(a=l[2],o=l[3]),(0,d.useEffect)(a,o);let O=p.pendingWorkflowApprovalRollup;return _?(c[2]!==I||c[3]!==T||c[4]!==m||c[5]!==g||c[6]!==h||c[7]!==u||c[8]!==E||c[9]!==N||c[10]!==v||c[11]!==C||c[12]!==p||c[13]!==O?(r="PENDING_APPROVAL"===p.combinedState&&O?(0,n.jsx)(rI,{checkSectionAriaId:I,pendingWorkflowApprovalRollup:O,statusRollup:p,statusChecks:C,pullRequestHeadSha:h,pullRequestId:u,focusPrimaryMergeButton:m,mergeBoxUserPreferences:g}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eS,{headerId:I,title:rA[E],subtitle:function(e){if(0===e.length)return"No checks available.";let t=tB(e,rN),r=Object.keys(t).reduce((e,r)=>{let s=t[r];return s?e+s:e},0),s=Object.keys(tk).map(e=>{let r=t[e]??0,s=tk[e];return r>0?`${r} ${s}`:void 0}).filter(Boolean).join(", ");return`${s} ${r>1?"checks":"check"}`}(p.summary),icon:(0,n.jsx)(rv,{statusRollupSummary:p.summary}),expandableProps:{ariaLabel:T?"Collapse checks":"Expand checks",isExpanded:T,onToggle:()=>{N(T?"checks_section.collapse":"checks_section.expand","MERGEBOX_CHECKS_SECTION_TOGGLE_BUTTON",tQ(p.summary)),v(!T)}}}),(0,n.jsx)(ep,{isExpanded:T,children:(0,n.jsx)(r_,{statusChecks:C,statusRollupSummary:p.summary,pullRequestId:u,mergeBoxUserPreferences:g})})]}),c[2]=I,c[3]=T,c[4]=m,c[5]=g,c[6]=h,c[7]=u,c[8]=E,c[9]=N,c[10]=v,c[11]=C,c[12]=p,c[13]=O,c[14]=r):r=c[14],c[15]!==I||c[16]!==r?(s=(0,n.jsx)("section",{"aria-label":"Checks","aria-describedby":I,className:"border-bottom color-border-subtle",children:r}),c[15]=I,c[16]=r,c[17]=s):s=c[17],s):null}try{rI.displayName||(rI.displayName="PendingApprovalChecksSection")}catch{}try{ry.displayName||(ry.displayName="ChecksSection")}catch{}function rx(){let e,t,r,s,a=(0,i.c)(6),{basePageDataUrl:o}=(0,_.Yu)();a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(em.A,{href:"https://support.github.com/",inline:!0,children:"contact support"}),a[0]=e):e=a[0];let c=`${o}/checks`;return a[1]!==c?(t=(0,n.jsxs)(n.Fragment,{children:["Try again or if the problem persists"," ",e," ","or"," ",(0,n.jsx)(em.A,{href:c,inline:!0,children:"view the Checks tab."})]}),a[1]=c,a[2]=t):t=a[2],a[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsx)(l.AlertIcon,{className:"mx-1",size:24}),a[3]=r):r=a[3],a[4]!==t?(s=(0,n.jsx)("section",{"aria-label":"Checks",className:"border-bottom borderColor-muted",children:(0,n.jsx)(eS,{title:"Checks cannot be loaded right now",subtitle:t,icon:r})}),a[4]=t,a[5]=s):s=a[5],s}try{rx.displayName||(rx.displayName="ChecksSectionFetchFailure")}catch{}var rw=r(11196),rb=r(73077);function rL(e){let t,r,s,a=(0,i.c)(5),{className:o}=e;return a[0]!==o?(t=(0,u.$)("CenteredLoadingSpinner-module__SpinnerContainer--Kwt8t",o),a[0]=o,a[1]=t):t=a[1],a[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsx)(c.A,{}),a[2]=r):r=a[2],a[3]!==t?(s=(0,n.jsx)("div",{className:t,children:r}),a[3]=t,a[4]=s):s=a[4],s}try{rL.displayName||(rL.displayName="CenteredLoadingSpinner")}catch{}var rP=r(73189),rM=r(73783);function rD(e){let t,r,s,a,o,c,u=(0,i.c)(29),{className:h,children:m,actionList:E,inactive:_,inactiveTooltipText:g,inactiveTooltipDirection:S,loading:f,loadingAnnouncement:p,secondaryButtonActive:C,secondaryButtonAriaLabel:R,onPrimaryButtonClick:T,shouldFocusPrimaryButton:v,onFocusPrimaryButton:N,isPrimary:I,hideSecondaryButton:O}=e,A=void 0===S?"ne":S,y=void 0!==O&&O,x=(0,d.useRef)(null);u[0]!==N||u[1]!==v?(t=()=>{v&&(x.current?.focus(),N?.())},r=[v,N],u[0]=N,u[1]=v,u[2]=t,u[3]=r):(t=u[2],r=u[3]),(0,d.useEffect)(t,r);let w=void 0!==I&&I?"primary":"default",[b,L]=(0,d.useState)(!1),P=_&&!C;u[4]!==_||u[5]!==f?(s=void 0!==f?{}:{inactive:_,"aria-disabled":_},u[4]=_,u[5]=f,u[6]=s):s=u[6];let M=s,D=_?rP.l:T;u[7]!==w||u[8]!==m||u[9]!==M||u[10]!==f||u[11]!==p||u[12]!==D?(a=(0,n.jsx)(eR.Q,{className:"flex-1",variant:w,ref:x,loading:f,loadingAnnouncement:p,onClick:D,...M,children:m}),u[7]=w,u[8]=m,u[9]=M,u[10]=f,u[11]=p,u[12]=D,u[13]=a):a=u[13],u[14]!==E||u[15]!==w||u[16]!==y||u[17]!==b||u[18]!==R||u[19]!==P?(o=!y&&(0,n.jsxs)(tA.Wy,{open:b,onOpenChange:P?rP.l:e=>L(e),children:[(0,n.jsx)(tA.Wy.Anchor,{children:(0,n.jsx)(tz.K,{className:"flex-0",variant:w,"aria-label":R,"aria-disabled":P,inactive:P,icon:l.TriangleDownIcon})}),(0,n.jsx)(tA.Wy.Overlay,{align:"end",sx:{width:"320px"},children:E})]}),u[14]=E,u[15]=w,u[16]=y,u[17]=b,u[18]=R,u[19]=P,u[20]=o):o=u[20],u[21]!==h||u[22]!==a||u[23]!==o?(c=(0,n.jsxs)(rM.A,{className:h,children:[a,o]}),u[21]=h,u[22]=a,u[23]=o,u[24]=c):c=u[24];let j=c;if(_&&g){let e;return u[25]!==j||u[26]!==A||u[27]!==g?(e=(0,n.jsx)(rw.m,{text:g,direction:A,children:j}),u[25]=j,u[26]=A,u[27]=g,u[28]=e):e=u[28],e}return j}try{rD.displayName||(rD.displayName="ButtonWithDropdown")}catch{}var rj=r(90891);function rU(e){let t,r,s=(0,i.c)(8),{description:a,onSelect:o,selected:l,text:c,inactiveText:u}=e;return s[0]!==a?(t=(0,n.jsx)(eb.l.Description,{variant:"block",children:a}),s[0]=a,s[1]=t):t=s[1],s[2]!==u||s[3]!==o||s[4]!==l||s[5]!==t||s[6]!==c?(r=(0,n.jsxs)(eb.l.Item,{selected:l,onSelect:o,inactiveText:u,children:[c,t]}),s[2]=u,s[3]=o,s[4]=l,s[5]=t,s[6]=c,s[7]=r):r=s[7],r}function rk(e){let t,r=(0,i.c)(5),{conflictsWebEditorPath:s,conflictsState:a,webEditorConflictResolution:o}=e;if("HAS_CONFLICTS"!==a||!o)return null;if(!o.viewerCanResolve){let e,t,s=o.viewerCannotResolve?.message||"";return r[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(eR.Q,{inactive:!0,children:"Resolve conflicts"}),r[0]=e):e=r[0],r[1]!==s?(t=(0,n.jsx)(rw.m,{direction:"nw",text:s,children:e}),r[1]=s,r[2]=t):t=r[2],t}return r[3]!==s?(t=(0,n.jsx)(rb.z,{href:s,children:"Resolve conflicts"}),r[3]=s,r[4]=t):t=r[4],t}function rG(e){let t=(0,i.c)(3),{conflictsWebEditorPath:r,webEditorConflictResolution:s}=e;switch(s?.viewerCannotResolve?.reason){case"INSUFFICIENT_ACCESS":return null;case"TOO_COMPLEX":case"HEAD_BRANCH_PROTECTED":case"ADMIN_DISABLED":{let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("span",{children:"Use the command line to resolve conflicts before continuing."}),t[0]=e):e=t[0],e}default:{let e;return t[1]!==r?(e=(0,n.jsxs)("span",{children:["Use the"," ",(0,n.jsx)(em.A,{inline:!0,href:r,children:"web editor"})," ","or the command line to resolve conflicts before continuing."]}),t[1]=r,t[2]=e):e=t[2],e}}}function rq(e){let t,r=(0,i.c)(3),{advisoryWorkspacePath:s,advisoryWorkspaceId:a}=e,o=s||"";return r[0]!==a||r[1]!==o?(t=(0,n.jsxs)("span",{children:["Merging must be performed from the"," ",(0,n.jsx)(em.A,{inline:!0,href:o,children:a})," ","advisory."]}),r[0]=a,r[1]=o,r[2]=t):t=r[2],t}let rF={NO_CONFLICTS:{heading:"No conflicts with base branch",subtitle:()=>"Merging can be performed automatically.",icon:(0,n.jsx)(eE.A,{icon:()=>(0,n.jsx)(l.CheckIcon,{size:16}),className:"bgColor-success-emphasis fgColor-onEmphasis",size:32})},PENDING:{heading:"Checking for the ability to merge automatically...",subtitle:()=>"Hang in there while we check the branch's status.",icon:(0,n.jsx)(rL,{className:"ConflictsSection-module__ConflictsSectionLoadingSpinner--tkJ8X"})},OUT_OF_DATE:{heading:"This branch is out-of-date with the base branch",subtitle:({baseRefName:e,viewerLogin:t})=>`Merge the latest changes from ${e} into this branch. This merge commit will be associated with ${t}.`,icon:(0,n.jsx)(tb,{})},HAS_CONFLICTS:{heading:"This branch has conflicts that must be resolved",subtitle:({conflictsWebEditorPath:e,conflictsCondition:t})=>(0,n.jsx)(rG,{conflictsWebEditorPath:e,webEditorConflictResolution:t?.webEditorConflictResolution}),icon:(0,n.jsx)(tb,{})},HAS_REBASE_CONFLICTS:{heading:"This branch cannot be rebased due to conflicts",subtitle:()=>"",icon:(0,n.jsx)(tb,{})},HAS_ADVISORY_WORKSPACE:{heading:"No conflicts with base branch",subtitle:({advisoryWorkspaceId:e,advisoryWorkspacePath:t})=>(0,n.jsx)(rq,{advisoryWorkspaceId:e,advisoryWorkspacePath:t}),icon:(0,n.jsx)(eE.A,{icon:()=>(0,n.jsx)(l.CheckIcon,{size:16}),className:"bgColor-success-emphasis fgColor-onEmphasis",size:32})}};function rB(e){let t,r,s,a,o,c,u,h,_,g,f,C,R,T,v,N,I,O,A,y,x,w,b,L,P=(0,i.c)(83),{baseRefName:M,headRefOid:D,resourcePath:j,viewerCanUpdateBranch:U,viewerUpdateMethods:k,viewerLogin:G,conflictsCondition:q,conflictsState:F,canUserPushToBase:B,advisoryWorkspace:Q}=e;P[0]!==k?(t=k?.find(rY)?.name||"MERGE",P[0]=k,P[1]=t):t=P[1];let $=t,[K,W]=(0,d.useState)($),[H,V]=(0,d.useState)(!1),[Y,z]=(0,d.useState)(null),{sendAnalyticsEvent:X}=(0,eh.s)(),J=(0,d.useId)(),Z=p(),ee=(0,S.jE)();P[2]!==Z||P[3]!==ee?(r=async()=>{await ee.refetchQueries({queryKey:Z},{cancelRefetch:!1}),V(!1)},P[2]=Z,P[3]=ee,P[4]=r):r=P[4];let et=r;P[5]===Symbol.for("react.memo_cache_sentinel")?(s=e=>{V(!1),z(e.message)},P[5]=s):s=P[5];let er=s;P[6]!==et?(a={onSuccess:et,onError:er},P[6]=et,P[7]=a):a=P[7];let{mutate:es}=function(e){let t,r,s,n,a=(0,i.c)(10),{onSuccess:o,onError:l}=e,c=(0,E.e)(m.uT.updatePullRequestBranch);return a[0]!==c?(t=async e=>{let{updateMethod:t,expectedHeadOid:r}=e;return(0,eU.q$)(c,{method:"POST",headers:{Accept:"application/json"},body:{updateMethod:t,expectedHeadOid:r}})},a[0]=c,a[1]=t):t=a[1],a[2]!==o?(r=async e=>{let t=await (0,eU.hp)(e);e.ok||(0,eU.R)(e,t);let r=await (await (0,rj.Ee)(t.orchestration.url,{headers:{accept:"application/json"}})).json();if(r.orchestration.error_message)throw Error(r.orchestration.error_message);o()},a[2]=o,a[3]=r):r=a[3],a[4]!==l?(s=e=>{l(e)},a[4]=l,a[5]=s):s=a[5],a[6]!==t||a[7]!==r||a[8]!==s?(n={mutationFn:t,onSuccess:r,onError:s},a[6]=t,a[7]=r,a[8]=s,a[9]=n):n=a[9],(0,ej.n)(n)}(a);P[8]!==D||P[9]!==H||P[10]!==K||P[11]!==X||P[12]!==es?(o=()=>{H||(V(!0),z(null),es({updateMethod:K,expectedHeadOid:D}),X("conflicts_section.update_branch","MERGEBOX_CONFLICTS_SECTION_UPDATE_BRANCH_BUTTON"))},P[8]=D,P[9]=H,P[10]=K,P[11]=X,P[12]=es,P[13]=o):o=P[13];let en=o,ei=`${j}/conflicts`;P[14]!==q.conflicts?(c=q.conflicts??[],P[14]=q.conflicts,P[15]=c):c=P[15];let ea=c;P[16]!==K?(u=function(){return"MERGE"===K?"Update branch":"Rebase branch"},P[16]=K,P[17]=u):u=P[17];let eo=u;P[18]!==K?(h=function(){return"MERGE"===K?"Updating branch":"Rebasing branch"},P[18]=K,P[19]=h):h=P[19];let el=h,ec=("OUT_OF_DATE"===F||"NO_CONFLICTS"===F||"PENDING"===F)&&U,eu="HAS_CONFLICTS"===F&&(q.webEditorConflictResolution?.viewerCanResolve||q.webEditorConflictResolution?.viewerCannotResolve?.reason!=="INSUFFICIENT_ACCESS"),ed=Q?.advisoryWorkspaceId,em=Q?.advisoryWorkspacePath;P[20]!==k?(_=k?.filter(rV),P[20]=k,P[21]=_):_=P[21];let eE=_;P[22]!==k?(g=k?.find(rH),P[22]=k,P[23]=g):g=P[23];let e_=g;P[24]!==k?(f=k?.find(rW),P[24]=k,P[25]=f):f=P[25];let eg=f;P[26]!==k?(C=k?.find(rK),P[26]=k,P[27]=C):C=P[27];let ef=C;P[28]!==k?(R=k?.find(r$)?.failureReason,P[28]=k,P[29]=R):R=P[29];let ep=R;P[30]!==$||P[31]!==ep||P[32]!==ef||P[33]!==K||P[34]!==X||P[35]!==e_||P[36]!==eg||P[37]!==k?(T=function(){return k?(0,n.jsxs)(eb.l,{selectionVariant:"single",showDividers:!0,children:[e_&&(0,n.jsx)(rU,{description:"The merge commit will be associated with your account.",selected:"MERGE"===$,text:"Update with merge commit",onSelect:()=>{X("conflicts_section.select_merge_commit_method","MERGEBOX_CONFLICTS_SECTION_MERGE_METHOD_MENU_ITEM"),W("MERGE")}}),eg&&(0,n.jsx)(rU,{description:"This pull request will be rebased on top of the latest changes and then force pushed.",selected:"REBASE"===$,text:"Update with rebase",onSelect:()=>{X("conflicts_section.select_rebase_method","MERGEBOX_CONFLICTS_SECTION_MERGE_METHOD_MENU_ITEM"),W("REBASE")}}),ef&&(0,n.jsx)(rU,{inactiveText:ep||"This branch cannot be rebased at this time.",selected:"REBASE"===$,text:"Update with rebase",onSelect:()=>{X("conflicts_section.select_rebase_method","MERGEBOX_CONFLICTS_SECTION_MERGE_METHOD_MENU_ITEM"),W("REBASE")}})]}):(0,n.jsxs)(eb.l,{selectionVariant:"single",showDividers:!0,children:[(0,n.jsx)(rU,{description:"The merge commit will be associated with your account.",selected:"MERGE"===K,text:"Update with merge commit",onSelect:()=>{X("conflicts_section.select_merge_commit_method","MERGEBOX_CONFLICTS_SECTION_MERGE_METHOD_MENU_ITEM"),W("MERGE")}}),(0,n.jsx)(rU,{description:"This pull request will be rebased on top of the latest changes and then force pushed.",selected:"REBASE"===K,text:"Update with rebase",onSelect:()=>{X("conflicts_section.select_rebase_method","MERGEBOX_CONFLICTS_SECTION_MERGE_METHOD_MENU_ITEM"),W("REBASE")}})]})},P[30]=$,P[31]=ep,P[32]=ef,P[33]=K,P[34]=X,P[35]=e_,P[36]=eg,P[37]=k,P[38]=T):T=P[38];let eC=T,eR=rF[F],eT=rF[F];return P[39]!==eT.heading?(v=(0,n.jsx)(n.Fragment,{children:eT.heading}),P[39]=eT.heading,P[40]=v):v=P[40],P[41]!==ed||P[42]!==em||P[43]!==M||P[44]!==B||P[45]!==q||P[46]!==F||P[47]!==ei||P[48]!==G?(N=B?rF[F].subtitle({baseRefName:M,viewerLogin:G,conflictsWebEditorPath:ei,conflictsCondition:q,advisoryWorkspaceId:ed,advisoryWorkspacePath:em}):"Changes can be cleanly merged.",P[41]=ed,P[42]=em,P[43]=M,P[44]=B,P[45]=q,P[46]=F,P[47]=ei,P[48]=G,P[49]=N):N=P[49],P[50]!==en||P[51]!==H||P[52]!==ec||P[53]!==eE?.length||P[54]!==el||P[55]!==eo||P[56]!==eC?(I=ec&&(0,n.jsx)(rD,{hideSecondaryButton:eE?.length===1,loading:H,loadingAnnouncement:el(),secondaryButtonAriaLabel:"Update branch options",actionList:eC(),onPrimaryButtonClick:en,children:eo()}),P[50]=en,P[51]=H,P[52]=ec,P[53]=eE?.length,P[54]=el,P[55]=eo,P[56]=eC,P[57]=I):I=P[57],P[58]!==q.webEditorConflictResolution||P[59]!==F||P[60]!==ei?(O=(0,n.jsx)(rk,{conflictsWebEditorPath:ei,conflictsState:F,webEditorConflictResolution:q.webEditorConflictResolution}),P[58]=q.webEditorConflictResolution,P[59]=F,P[60]=ei,P[61]=O):O=P[61],P[62]!==I||P[63]!==O?(A=(0,n.jsxs)(n.Fragment,{children:[I,O]}),P[62]=I,P[63]=O,P[64]=A):A=P[64],P[65]!==ea||P[66]!==eu?(y=eu&&(0,n.jsx)("div",{className:"ml-n3",children:(0,n.jsx)(eb.l,{className:"py-0 overflow-hidden",children:ea.map(rQ)})}),P[65]=ea,P[66]=eu,P[67]=y):y=P[67],P[68]!==J||P[69]!==eR.icon||P[70]!==v||P[71]!==N||P[72]!==A||P[73]!==y?(x=(0,n.jsx)(eS,{headerId:J,icon:eR.icon,title:v,subtitle:N,rightSideContent:A,children:y}),P[68]=J,P[69]=eR.icon,P[70]=v,P[71]=N,P[72]=A,P[73]=y,P[74]=x):x=P[74],P[75]!==Y?(w=Y&&(0,n.jsxs)(eL.A,{className:"m-3",variant:"danger",children:[(0,n.jsx)(eG.A,{className:"mr-2",icon:l.StopIcon}),Y]}),P[75]=Y,P[76]=w):w=P[76],P[77]!==x||P[78]!==w?(b=(0,n.jsxs)("div",{className:"d-flex flex-column width-full overflow-hidden",children:[x,w]}),P[77]=x,P[78]=w,P[79]=b):b=P[79],P[80]!==J||P[81]!==b?(L=(0,n.jsx)("section",{"aria-label":"Conflicts",className:"border-bottom borderColor-muted","aria-describedby":J,children:b}),P[80]=J,P[81]=b,P[82]=L):L=P[82],L}function rQ(e){return(0,n.jsxs)(eb.l.Item,{children:[(0,n.jsx)(eb.l.LeadingVisual,{className:"fgColor-muted",children:(0,n.jsx)(l.FileIcon,{})}),(0,n.jsx)("span",{className:"input-monospace f6 ConflictsSection-module__selectable--BT2Oj",children:e})]},e)}function r$(e){return"REBASE"===e.name}function rK(e){return"REBASE"===e.name&&"UNAVAILABLE"===e.allowableStatus}function rW(e){return"REBASE"===e.name&&"ALLOWED"===e.allowableStatus}function rH(e){return"MERGE"===e.name&&"ALLOWED"===e.allowableStatus}function rV(e){return"ALLOWED"===e.allowableStatus||"UNAVAILABLE"===e.allowableStatus}function rY(e){return!0===e.isDefault}try{rU.displayName||(rU.displayName="UpdateBranchOption")}catch{}try{rk.displayName||(rk.displayName="ResolveConflictsButton")}catch{}try{rG.displayName||(rG.displayName="ConflictResolutionSubtitle")}catch{}try{rq.displayName||(rq.displayName="AdvisoryWorkspaceSubtitle")}catch{}try{rB.displayName||(rB.displayName="ConflictsSection")}catch{}function rz(e){let t,r,s,a,o,c,u,h,_=(0,i.c)(23),{viewerCanUpdate:g,helpUrl:f}=e,[C,R]=(0,d.useState)(null);_[0]===Symbol.for("react.memo_cache_sentinel")?(t={onError:e=>{R(e.message)}},_[0]=t):t=_[0];let{mutate:T,isPending:v}=function(e){let t,r,s,n,a=(0,i.c)(11),{onError:o}=e,l=(0,E.e)(m.uT.markReadyForReview),c=p(),u=(0,S.jE)();return a[0]!==l?(t=async()=>{let e=await (0,eU.q$)(l,{method:"POST",headers:{Accept:"application/json"}}),t=await (0,eU.hp)(e);return(0,eU.R)(e,t),t},a[0]=l,a[1]=t):t=a[1],a[2]!==c||a[3]!==u?(r=()=>u.invalidateQueries({queryKey:c},{cancelRefetch:!1}),a[2]=c,a[3]=u,a[4]=r):r=a[4],a[5]!==o?(s=e=>o(e),a[5]=o,a[6]=s):s=a[6],a[7]!==t||a[8]!==r||a[9]!==s?(n={mutationFn:t,onSuccess:r,onError:s},a[7]=t,a[8]=r,a[9]=s,a[10]=n):n=a[10],(0,ej.n)(n)}(t),{sendAnalyticsEvent:N}=(0,eh.s)(),I=(0,d.useId)();_[1]!==v||_[2]!==T||_[3]!==N?(r=function(){v||(T(),N("draft_state_section.mark_ready_for_review","MERGEBOX_DRAFT_STATE_SECTION_MARK_READY_FOR_REVIEW_BUTTON"))},_[1]=v,_[2]=T,_[3]=N,_[4]=r):r=_[4];let O=r,A=`${f}/get-started/learning-about-github/access-permissions-on-github`;return _[5]!==A||_[6]!==g?(s=g?"Draft pull requests cannot be merged.":(0,n.jsxs)("span",{children:["Only those with ",(0,n.jsx)("a",{href:A,children:"write access"})," to this repository can mark a draft pull request as ready for review."]}),_[5]=A,_[6]=g,_[7]=s):s=_[7],_[8]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsx)(eE.A,{size:32,icon:rX,className:"DraftStateSection-module__DraftStateCircleIcon--APxWt"}),_[8]=a):a=_[8],_[9]!==O||_[10]!==v||_[11]!==g?(o=g?(0,n.jsx)(eR.Q,{onClick:O,loading:v,loadingAnnouncement:"Marking ready for review",children:"Ready for review"}):void 0,_[9]=O,_[10]=v,_[11]=g,_[12]=o):o=_[12],_[13]!==C?(c=C&&(0,n.jsxs)(eL.A,{variant:"danger",className:"DraftStateSection-module__DraftStateFlashMessage--XlMkr",children:[(0,n.jsx)(eG.A,{icon:l.StopIcon,className:"DraftStateSection-module__DraftStateIcon--_Co24"}),C]}),_[13]=C,_[14]=c):c=_[14],_[15]!==I||_[16]!==s||_[17]!==o||_[18]!==c?(u=(0,n.jsx)(eS,{headerId:I,title:"This pull request is still a work in progress",subtitle:s,icon:a,rightSideContent:o,children:c}),_[15]=I,_[16]=s,_[17]=o,_[18]=c,_[19]=u):u=_[19],_[20]!==I||_[21]!==u?(h=(0,n.jsx)("section",{"aria-label":"Draft state","aria-describedby":I,className:"border-bottom color-border-subtle",children:u}),_[20]=I,_[21]=u,_[22]=h):h=_[22],h}function rX(){return(0,n.jsx)(l.GitPullRequestDraftIcon,{size:16})}try{rz.displayName||(rz.displayName="DraftStateSection")}catch{}function rJ(e){let t,r,s,a,o,c,u,h,_,g,f,C,R,T,v,N,I,O,A,y=(0,i.c)(42),{mergeQueue:x,mergeQueueEntry:w,viewerCanAddAndRemoveFromMergeQueue:b,focusPrimaryMergeButton:L}=e,P=w?.position,M=x?.url,D=(0,d.useRef)(null),[j,U]=(0,d.useState)(!1),[k,G]=(0,d.useState)(null);(A=(0,i.c)(1))[0]===Symbol.for("react.memo_cache_sentinel")?(O=[],A[0]=O):O=A[0],(0,d.useEffect)(tH,O);let{sendAnalyticsEvent:q}=(0,eh.s)();y[0]===Symbol.for("react.memo_cache_sentinel")?(t={onError:e=>{U(!1),G(e.message),D.current?.focus(),setTimeout(r0,1e3)}},y[0]=t):t=y[0];let{mutate:F,isPending:B}=function(e){let t,r,s,n,a=(0,i.c)(11),{onError:o}=e,l=(0,E.e)(m.uT.dequeuePullRequest),c=p(),u=(0,S.jE)();return a[0]!==l?(t=async()=>{let e=await (0,eU.q$)(l,{method:"POST",headers:{Accept:"application/json"}}),t=await (0,eU.hp)(e);return(0,eU.R)(e,t),t},a[0]=l,a[1]=t):t=a[1],a[2]!==c||a[3]!==u?(r=()=>u.invalidateQueries({queryKey:c},{cancelRefetch:!1}),a[2]=c,a[3]=u,a[4]=r):r=a[4],a[5]!==o?(s=e=>{o(e)},a[5]=o,a[6]=s):s=a[6],a[7]!==t||a[8]!==r||a[9]!==s?(n={mutationFn:t,onSuccess:r,onError:s},a[7]=t,a[8]=r,a[9]=s,a[10]=n):n=a[10],(0,ej.n)(n)}(t);y[1]!==L||y[2]!==B||y[3]!==F||y[4]!==q?(r=()=>{B||(G(null),q("merge_queue_section.dequeue_pull_request","MERGEBOX_MERGE_QUEUE_SECTION_REMOVE_FROM_QUEUE_BUTTON"),F(void 0,{onSuccess:()=>{U(!1),setTimeout(rZ,1e3),L()}}))},y[1]=L,y[2]=B,y[3]=F,y[4]=q,y[5]=r):r=y[5];let Q=r;y[6]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{G(null),U(!0)},y[6]=s):s=y[6];let $=s;y[7]===Symbol.for("react.memo_cache_sentinel")?(a=()=>U(!1),o=(0,n.jsx)(tN.A.Header,{id:"remove-from-queue-dialog-title",children:"Remove from the queue?"}),y[7]=a,y[8]=o):(a=y[7],o=y[8]),y[9]===Symbol.for("react.memo_cache_sentinel")?(c=(0,n.jsx)("span",{children:"Removing this pull request from the queue could impact other pull requests in the queue. Are you sure?"}),y[9]=c):c=y[9],y[10]!==B?(u=()=>{B||(U(!1),D.current?.focus())},y[10]=B,y[11]=u):u=y[11],y[12]!==B||y[13]!==u?(h=(0,n.jsx)(eR.Q,{className:"mr-1",inactive:B,onClick:u,children:"Cancel"}),y[12]=B,y[13]=u,y[14]=h):h=y[14],y[15]!==Q||y[16]!==B?(_=(0,n.jsx)(eR.Q,{variant:"danger",loading:B,loadingAnnouncement:"Removing from the queue",onClick:Q,children:"Remove from the queue"}),y[15]=Q,y[16]=B,y[17]=_):_=y[17],y[18]!==h||y[19]!==_?(g=(0,n.jsxs)("div",{className:"p-3",children:[c,(0,n.jsxs)("div",{className:"d-flex flex-justify-end mt-3",children:[h,_]})]}),y[18]=h,y[19]=_,y[20]=g):g=y[20],y[21]!==j||y[22]!==g?(f=(0,n.jsxs)(tN.A,{"aria-labelledby":"remove-from-queue-dialog-title",isOpen:j,returnFocusRef:D,onDismiss:a,children:[o,g]}),y[21]=j,y[22]=g,y[23]=f):f=y[23],y[24]!==k?(C=k&&(0,n.jsxs)(eL.A,{className:"mx-3 my-2",variant:"danger",children:[(0,n.jsx)(eG.A,{className:"mr-2",icon:l.StopIcon}),k]}),y[24]=k,y[25]=C):C=y[25],y[26]!==w?.isLocked||y[27]!==b?(R=b&&!w?.isLocked&&(0,n.jsx)(eR.Q,{ref:D,onClick:$,children:"Remove from queue"}),y[26]=w?.isLocked,y[27]=b,y[28]=R):R=y[28],y[29]!==R?(T=(0,n.jsx)(n.Fragment,{children:R}),y[29]=R,y[30]=T):T=y[30];let K=w?.isLocked;return y[31]!==P||y[32]!==M||y[33]!==K?(v=(0,n.jsx)(r1,{position:P,resourcePath:M,entryIsLocked:K}),y[31]=P,y[32]=M,y[33]=K,y[34]=v):v=y[34],y[35]!==T||y[36]!==v?(N=(0,n.jsx)(eS,{title:"Queued to merge...",rightSideContent:T,children:v}),y[35]=T,y[36]=v,y[37]=N):N=y[37],y[38]!==f||y[39]!==C||y[40]!==N?(I=(0,n.jsxs)(n.Fragment,{children:[f,C,N]}),y[38]=f,y[39]=C,y[40]=N,y[41]=I):I=y[41],I}function rZ(){return(0,tI.i)("The pull request was successfully removed from the queue.")}function r0(){return(0,tI.i)("Failed to remove pull request from the merge queue")}function r1(e){let t,r,s,a,o=(0,i.c)(8),{position:l,resourcePath:c,entryIsLocked:u}=e;if(!l||!c){let e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(n.Fragment,{}),o[0]=e):e=o[0],e}let d=l-1;return t=u?"This pull request is locked for deployment by the":0===d?"This pull request is next up in the":1===d?`There is ${d} pull request ahead of this one in the`:`There are ${d} pull requests ahead of this one in the`,o[1]!==t?(r=(0,n.jsx)("span",{className:"MergeQueueSection-module__MergeQueueSectionText--rEy7Y",children:t}),o[1]=t,o[2]=r):r=o[2],o[3]!==c?(s=(0,n.jsx)(em.A,{inline:!0,href:c,children:"merge queue"}),o[3]=c,o[4]=s):s=o[4],o[5]!==r||o[6]!==s?(a=(0,n.jsxs)(n.Fragment,{children:[r," ",s,"."]}),o[5]=r,o[6]=s,o[7]=a):a=o[7],a}try{rJ.displayName||(rJ.displayName="MergeQueueSection")}catch{}try{r1.displayName||(r1.displayName="MergeQueuePositionText")}catch{}function r2({mergeMethod:e,confirming:t,isBypassMerge:r=!1,inProgress:s=!1,isAutoMergeAllowed:n=!1}){if(s)return n?"Confirming...":"Merging...";let i=t?"Confirm auto-merge":"Enable auto-merge",a=t?"Confirm bypass rules and merge":"Bypass rules and merge";switch(e){case h.q$.MERGE:if(n)return i;if(r)return a;if(t)return"Confirm merge";else return"Merge pull request";case h.q$.SQUASH:if(n)return`${i} (squash)`;if(r)return`${a} (squash)`;if(t)return"Confirm squash and merge";else return"Squash and merge";case h.q$.REBASE:if(n)return`${i} (rebase)`;if(r)return`${a} (rebase)`;if(t)return"Confirm rebase and merge";else return"Rebase and merge"}}function r3({mergeMethod:e,confirming:t,inProgress:r}){if(r)return"Adding to merge queue...";switch(e){case h.lD.GROUP:return t?"Confirm merge when ready":"Merge when ready";case h.lD.SOLO:return t?"Confirm queue and force solo merge":"Queue and force solo merge"}}var r4=r(11680),r5=r(30093),r6=r(96296);let MergeError=class MergeError extends Error{constructor(e,t=[],r){super(e),(0,w._)(this,"ruleErrors",void 0),this.name="MergeError",this.ruleErrors=t,this.cause=r}};function r7(e){let t,r,s,n,a,o=(0,i.c)(14);o[0]!==e?(t=void 0===e?{}:e,o[0]=e,o[1]=t):t=o[1];let{onError:l,onSuccess:c}=t,u=(0,E.e)(m.uT.enableAutoMerge),d=p(),h=(0,S.jE)();return o[2]!==u?(r=async e=>{let t=await (0,eU.q$)(u,{method:"POST",headers:{Accept:"application/json"},body:e}),r=await (0,eU.hp)(t),s=new MergeError(r?.error||"Unknown error occurred",r?.metadata?.ruleErrors||[],t.status);return(0,eU.R)(t,r,s),r},o[2]=u,o[3]=r):r=o[3],o[4]!==d||o[5]!==c||o[6]!==h?(s=()=>(c?.(),h.refetchQueries({queryKey:d},{cancelRefetch:!1})),o[4]=d,o[5]=c,o[6]=h,o[7]=s):s=o[7],o[8]!==l?(n=e=>{l?.(e)},o[8]=l,o[9]=n):n=o[9],o[10]!==r||o[11]!==s||o[12]!==n?(a={mutationFn:r,onSuccess:s,onError:n},o[10]=r,o[11]=s,o[12]=n,o[13]=a):a=o[13],(0,ej.n)(a)}var r8=r(65025);function r9(e){let t,r=(0,i.c)(3),{children:s,className:a}=e,o=`d-flex flex-sm-items-center flex-column flex-sm-row gap-2 ${a}`;return r[0]!==s||r[1]!==o?(t=(0,n.jsx)("div",{className:o,children:s}),r[0]=s,r[1]=o,r[2]=t):t=r[2],t}r9.Slot=function({children:e}){var t;let r=d.Children.only(e);return d.isValidElement(r)&&(r=(t=r).type===rD||t.type===eR.Q?(0,d.cloneElement)(t,{className:`flex-self-stretch flex-shrink-0 ${t.props.className}`}):t),r};try{r9.displayName||(r9.displayName="MergeSectionActions")}catch{}try{(s=MergeSectionsActionsSlot).displayName||(s.displayName="MergeSectionsActionsSlot")}catch{}let se="ConfirmMerge-module__ConfirmMergeContainer--svghz",st="ConfirmMerge-module__ConfirmMergeText--Lq1XQ";function sr(e){let t,r,s,a=(0,i.c)(5),{errorMessage:o}=e;return(a[0]!==o?(t=()=>{o&&o.length>0&&(0,tI.i)(o)},r=[o],a[0]=o,a[1]=t,a[2]=r):(t=a[1],r=a[2]),(0,d.useEffect)(t,r),o)?(a[3]!==o?(s=(0,n.jsx)(r4.l,{className:"mt-3","aria-label":"Merge error warning banner",variant:"warning",title:"Merge error",hideTitle:!0,description:o}),a[3]=o,a[4]=s):s=a[4],s):null}function ss(e){let t,r,s,a,o,l,c,u,_,g,f,C,R,T,v,N,I,O=(0,i.c)(59),{defaultCommitAuthorEmail:A,commitMessageBody:y,commitMessageHeadline:x,defaultBranchName:w,handleConfirmingMergeInfo:b,isBypassMerge:L,onCancel:P,selectedMergeMethod:M,isAutoMergeAllowed:D,possibleCommitAuthorEmails:j}=e,U=void 0!==D&&D,k=(0,d.useRef)(null),G=(0,d.useRef)(null);O[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{k.current?.focus(),G.current?.scrollIntoView({behavior:"smooth",block:"nearest"})},r=[],O[0]=t,O[1]=r):(t=O[0],r=O[1]),(0,d.useEffect)(t,r);let[q,F]=(0,d.useState)(x||""),[B,Q]=(0,d.useState)(y||""),{sendAnalyticsEvent:$}=(0,eh.s)(),[K,W]=(0,d.useState)("");O[2]===Symbol.for("react.memo_cache_sentinel")?(s=[],O[2]=s):s=O[2];let[H,V]=(0,d.useState)(s),Y=j.length>0,z=M===h.q$.REBASE?"":A||"",[X,J]=(0,d.useState)(z);O[3]===Symbol.for("react.memo_cache_sentinel")?(a={onError:e=>{e instanceof MergeError&&e.ruleErrors.length>0?V(e.ruleErrors):(V([]),W(e.message))}},O[3]=a):a=O[3];let{mutate:Z,isPending:ee}=function(e){let t,r,s,n,a=(0,i.c)(11),{onError:o}=e,l=(0,E.e)(m.uT.merge),c=p(),u=(0,S.jE)();return a[0]!==l?(t=async e=>{let t=await (0,eU.q$)(l,{method:"POST",headers:{Accept:"application/json"},body:e}),r=await (0,eU.hp)(t),s=new MergeError(r?.error||"Unknown error occurred",r?.metadata?.ruleErrors||[],t.status);return(0,eU.R)(t,r,s),r},a[0]=l,a[1]=t):t=a[1],a[2]!==c||a[3]!==u?(r=()=>u.invalidateQueries({queryKey:c},{cancelRefetch:!1}),a[2]=c,a[3]=u,a[4]=r):r=a[4],a[5]!==o?(s=e=>o(e),a[5]=o,a[6]=s):s=a[6],a[7]!==t||a[8]!==r||a[9]!==s?(n={mutationFn:t,onSuccess:r,onError:s},a[7]=t,a[8]=r,a[9]=s,a[10]=n):n=a[10],(0,ej.n)(n)}(a);O[4]===Symbol.for("react.memo_cache_sentinel")?(o=e=>{e instanceof MergeError&&e.ruleErrors.length>0?V(e.ruleErrors):(V([]),W(e.message))},O[4]=o):o=O[4],O[5]!==b?(l={onError:o,onSuccess:()=>{b(!1)}},O[5]=b,O[6]=l):l=O[6];let{mutate:et,isPending:er}=r7(l),es=ee||er;O[7]!==X||O[8]!==B||O[9]!==q||O[10]!==et||O[11]!==U||O[12]!==L||O[13]!==es||O[14]!==Z||O[15]!==M||O[16]!==$||O[17]!==Y?(c=()=>{es||(W(""),U?(et({...Y?{authorEmail:X}:{},commitMessage:B,commitTitle:q,mergeMethod:M}),$("direct_merge_section.confirm_auto_merge","MERGEBOX_AUTO_MERGE_CONFIRMATION_BUTTON")):(Z({...Y?{authorEmail:X}:{},bypassBranchProtections:L,commitMessage:B,commitTitle:q,mergeMethod:M}),$("direct_merge_section.confirm_direct_merge","MERGEBOX_DIRECT_MERGE_CONFIRMATION_BUTTON")))},O[7]=X,O[8]=B,O[9]=q,O[10]=et,O[11]=U,O[12]=L,O[13]=es,O[14]=Z,O[15]=M,O[16]=$,O[17]=Y,O[18]=c):c=O[18];let en=c;O[19]!==H?(u=H.length>0&&(0,n.jsx)(r8.r,{prefix:"",helpUrl:"",errorMessageNotUsingPrefix:"Repository rule violations found",hideRuleErrorsTitle:!0,ruleErrors:H}),O[19]=H,O[20]=u):u=O[20],O[21]!==Y||O[22]!==B||O[23]!==q||O[24]!==z||O[25]!==en||O[26]!==j||O[27]!==M?(_=M!==h.q$.REBASE&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(eP.A,{children:[(0,n.jsx)(eP.A.Label,{children:"Commit message"}),(0,n.jsx)(r5.A,{ref:k,block:!0,defaultValue:q,onChange:e=>F(e.currentTarget.value)})]}),(0,n.jsxs)(eP.A,{className:"mt-3 width-full",children:[(0,n.jsx)(eP.A.Label,{children:"Extended description"}),(0,n.jsx)(eM.Ay,{block:!0,placeholder:"Add an optional extended description\u2026",defaultValue:B,onChange:e=>Q(e.currentTarget.value),onKeyDown:e=>{"Enter"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),en())}})]}),Y?(0,n.jsx)("div",{className:se,children:(0,n.jsxs)(eP.A,{children:[(0,n.jsx)(eP.A.Label,{children:"Commit email"}),(0,n.jsx)(r6.A,{defaultValue:z,onChange:e=>J(e.target.value),"aria-label":"Select commit author email",children:j.map(sn)})]})}):(0,n.jsx)("div",{className:se,children:(0,n.jsxs)("span",{className:st,children:["This commit will be authored by ",z,"."]})})]}),O[21]=Y,O[22]=B,O[23]=q,O[24]=z,O[25]=en,O[26]=j,O[27]=M,O[28]=_):_=O[28],O[29]!==w||O[30]!==M?(g=M===h.q$.REBASE&&(0,n.jsxs)("span",{className:st,children:["This will rebase your changes and merge them into ",w,"."]}),O[29]=w,O[30]=M,O[31]=g):g=O[31],O[32]!==U||O[33]!==L||O[34]!==M?(f=r2({mergeMethod:M,confirming:!0,isBypassMerge:L,inProgress:!0,isAutoMergeAllowed:U}),O[32]=U,O[33]=L,O[34]=M,O[35]=f):f=O[35];let ei=L?"danger":U?"default":"primary";return O[36]!==U||O[37]!==L||O[38]!==M?(C=r2({mergeMethod:M,confirming:!0,isBypassMerge:L,inProgress:!1,isAutoMergeAllowed:U}),O[36]=U,O[37]=L,O[38]=M,O[39]=C):C=O[39],O[40]!==en||O[41]!==es||O[42]!==f||O[43]!==ei||O[44]!==C?(R=(0,n.jsx)(r9.Slot,{children:(0,n.jsx)(eR.Q,{ref:G,className:"width-full",loading:es,loadingAnnouncement:f,variant:ei,onClick:en,children:C})}),O[40]=en,O[41]=es,O[42]=f,O[43]=ei,O[44]=C,O[45]=R):R=O[45],O[46]!==P?(T=(0,n.jsx)(r9.Slot,{children:(0,n.jsx)(eR.Q,{onClick:P,children:"Cancel"})}),O[46]=P,O[47]=T):T=O[47],O[48]!==R||O[49]!==T?(v=(0,n.jsxs)(r9,{className:"mt-3",children:[R,T]}),O[48]=R,O[49]=T,O[50]=v):v=O[50],O[51]!==K?(N=(0,n.jsx)(sr,{errorMessage:K}),O[51]=K,O[52]=N):N=O[52],O[53]!==_||O[54]!==g||O[55]!==v||O[56]!==N||O[57]!==u?(I=(0,n.jsxs)("div",{children:[u,_,g,v,N]}),O[53]=_,O[54]=g,O[55]=v,O[56]=N,O[57]=u,O[58]=I):I=O[58],I}function sn(e){return(0,n.jsx)(r6.A.Option,{value:e,children:e},e)}try{sr.displayName||(sr.displayName="MergeErrorMessage")}catch{}try{ss.displayName||(ss.displayName="ConfirmMerge")}catch{}function si(e){let t,r,s=(0,i.c)(7),{onSelect:a,primaryText:o,secondaryText:l,selected:c}=e;return s[0]!==l?(t=(0,n.jsx)(eb.l.Description,{variant:"block",children:l}),s[0]=l,s[1]=t):t=s[1],s[2]!==a||s[3]!==o||s[4]!==c||s[5]!==t?(r=(0,n.jsxs)(eb.l.Item,{selected:c,onSelect:a,children:[o,t]}),s[2]=a,s[3]=o,s[4]=c,s[5]=t,s[6]=r):r=s[6],r}try{si.displayName||(si.displayName="MergeDropdownOption")}catch{}let sa=(0,d.lazy)(()=>r.e(44712).then(r.bind(r,44712)));function so(e){let t,r,s,o,l,c,u,m,E,_,g,S,f,p,C,R,v,N,I,O=(0,i.c)(80),{baseRefName:A,canUserPushToBase:y,defaultCommitAuthorEmail:x,commitMessageBody:w,commitMessageHeadline:b,conflictsCondition:L,handleConfirmingMergeInfo:P,headRepository:M,helpUrl:D,isAdminBypassToggleChecked:j,isAdminBypassToggleVisible:U,isAutoMergeAllowed:k,isConfirmingMergeInfo:G,isCrossRepo:q,mergeable:F,numberOfCommits:B,mergeBoxRollupStatus:Q,setShouldFocusPrimaryMergeButton:K,shouldFocusPrimaryMergeButton:W,status:H,viewerMergeActions:V,possibleCommitAuthorEmails:Y}=e,z=void 0!==k&&k,{mergeMethod:X,setMergeMethod:J}=T(),{sendAnalyticsEvent:Z}=(0,eh.s)(),[ee,et]=(0,d.useState)(!1),er=(0,d.useRef)(null);if(!L)return null;if(O[0]!==V){let e=V.find(sl);a(e),r=(t=function({mergeMethods:e}){return e.reduce((e,t)=>((t?.allowableStatus==="ALLOWED"||t?.allowableStatus==="ALLOWED_WITH_BYPASS")&&e.push(t.name),e),[])}({mergeMethods:e.mergeMethods})).includes(h.q$.MERGE),s=t.includes(h.q$.SQUASH),o=t.includes(h.q$.REBASE),O[0]=V,O[1]=t,O[2]=r,O[3]=s,O[4]=o}else t=O[1],r=O[2],s=O[3],o=O[4];let es=o,en=U&&j,ei=`Merging is blocked due to ${H===$?"pending":"failing"} merge requirements`;O[5]!==P||O[6]!==z||O[7]!==Z?(l=()=>{P(!0),Z(z?"direct_merge_section.auto_merge_click":"direct_merge_section.direct_merge_click",z?"MERGEBOX_AUTO_MERGE_SECTION_MERGE_BUTTON":"MERGEBOX_DIRECT_MERGE_SECTION_MERGE_BUTTON")},O[5]=P,O[6]=z,O[7]=Z,O[8]=l):l=O[8];let ea=l;O[9]!==P||O[10]!==z||O[11]!==Z||O[12]!==K?(c=()=>{P(!1),K(!0),Z(z?"direct_merge_section.cancel_auto_merge":"direct_merge_section.cancel_direct_merge",z?"MERGEBOX_AUTO_MERGE_CANCEL_CONFIRMATION_BUTTON":"MERGEBOX_DIRECT_MERGE_CANCEL_CONFIRMATION_BUTTON")},O[9]=P,O[10]=z,O[11]=Z,O[12]=K,O[13]=c):c=O[13];let eo=c;O[14]!==Z?(u=()=>{et(!0),Z("direct_merge_section.view_command_line_instructions","MERGEBOX_DIRECT_MERGE_SECTION_VIEW_COMMAND_LINE_INSTRUCTIONS_BUTTON")},O[14]=Z,O[15]=u):u=O[15];let el=u;O[16]!==Z||O[17]!==J?(m=(e,t)=>{J(e),Z(t,"MERGEBOX_DIRECT_MERGE_SECTION_MERGE_METHOD_MENU_ITEM")},O[16]=Z,O[17]=J,O[18]=m):m=O[18];let ec=m;if(G){let e,t=x||"",r=w||"",s=b||"";return O[19]!==A||O[20]!==eo||O[21]!==P||O[22]!==j||O[23]!==z||O[24]!==X||O[25]!==Y||O[26]!==t||O[27]!==r||O[28]!==s?(e=(0,n.jsx)(ss,{defaultCommitAuthorEmail:t,commitMessageBody:r,commitMessageHeadline:s,defaultBranchName:A,handleConfirmingMergeInfo:P,isBypassMerge:j,selectedMergeMethod:X,onCancel:eo,isAutoMergeAllowed:z,possibleCommitAuthorEmails:Y}),O[19]=A,O[20]=eo,O[21]=P,O[22]=j,O[23]=z,O[24]=X,O[25]=Y,O[26]=t,O[27]=r,O[28]=s,O[29]=e):e=O[29],e}O[30]!==A||O[31]!==L||O[32]!==M||O[33]!==ee||O[34]!==q?(E=ee&&er&&(0,n.jsx)(d.Suspense,{children:(0,n.jsx)(sa,{baseRefName:A,conflictsCondition:L,headRepository:M,isCrossRepo:q,returnFocusRef:er,onClose:()=>et(!1)})}),O[30]=A,O[31]=L,O[32]=M,O[33]=ee,O[34]=q,O[35]=E):E=O[35];let eu=1===t.length,ed=!z&&!F&&!en,eE=F&&"ALL_PASSED"===Q;return O[36]!==r||O[37]!==X||O[38]!==ec?(_=r&&(0,n.jsx)(si,{primaryText:"Create a merge commit",secondaryText:"All commits from this branch will be added to the base branch via a merge commit.",selected:X===h.q$.MERGE,onSelect:()=>ec(h.q$.MERGE,"direct_merge_section.select_create_a_merge_commit")}),O[36]=r,O[37]=X,O[38]=ec,O[39]=_):_=O[39],O[40]!==s||O[41]!==X||O[42]!==B||O[43]!==ec?(g=s&&(0,n.jsx)(si,{primaryText:"Squash and merge",secondaryText:1===B?"The 1 commit from this branch will be added to the base branch.":`The ${B} commits from this branch will be combined into one commit in the base branch.`,selected:X===h.q$.SQUASH,onSelect:()=>ec(h.q$.SQUASH,"direct_merge_section.select_squash_and_merge")}),O[40]=s,O[41]=X,O[42]=B,O[43]=ec,O[44]=g):g=O[44],O[45]!==es||O[46]!==X||O[47]!==B||O[48]!==ec?(S=es&&(0,n.jsx)(si,{primaryText:"Rebase and merge",secondaryText:`The ${B} commit${1!==B?"s":""} from this branch will be rebased and added to the base branch.`,selected:X===h.q$.REBASE,onSelect:()=>ec(h.q$.REBASE,"direct_merge_section.select_rebase_and_merge")}),O[45]=es,O[46]=X,O[47]=B,O[48]=ec,O[49]=S):S=O[49],O[50]!==_||O[51]!==g||O[52]!==S?(f=(0,n.jsxs)(eb.l,{selectionVariant:"single",showDividers:!0,children:[_,g,S]}),O[50]=_,O[51]=g,O[52]=S,O[53]=f):f=O[53],O[54]!==K?(p=()=>K(!1),O[54]=K,O[55]=p):p=O[55],O[56]!==z||O[57]!==en||O[58]!==X?(C=r2({mergeMethod:X,confirming:!1,isBypassMerge:en,isAutoMergeAllowed:z}),O[56]=z,O[57]=en,O[58]=X,O[59]=C):C=O[59],O[60]!==ea||O[61]!==ei||O[62]!==W||O[63]!==eE||O[64]!==f||O[65]!==p||O[66]!==C||O[67]!==eu||O[68]!==ed?(R=(0,n.jsx)(r9.Slot,{children:(0,n.jsx)(rD,{hideSecondaryButton:eu,inactive:ed,inactiveTooltipText:ei,inactiveTooltipDirection:"se",isPrimary:eE,secondaryButtonActive:!0,secondaryButtonAriaLabel:"Select merge method",shouldFocusPrimaryButton:W,actionList:f,onFocusPrimaryButton:p,onPrimaryButtonClick:ea,children:C})}),O[60]=ea,O[61]=ei,O[62]=W,O[63]=eE,O[64]=f,O[65]=p,O[66]=C,O[67]=eu,O[68]=ed,O[69]=R):R=O[69],O[70]!==y||O[71]!==el||O[72]!==D?(v=(0,n.jsx)(r9.Slot,{children:(0,n.jsx)("span",{className:"f6 fgColor-muted",children:y?(0,n.jsxs)(n.Fragment,{children:["You can also merge this with the command line."," ",(0,n.jsx)(em.A,{as:"button",ref:er,inline:!0,onClick:el,children:"View command line instructions."})]}):(0,n.jsxs)(n.Fragment,{children:["Only those with"," ",(0,n.jsx)(em.A,{href:`${D}/en/get-started/learning-about-github/access-permissions-on-github`,inline:!0,children:"write access"})," ","to this repository can merge pull requests."]})})}),O[70]=y,O[71]=el,O[72]=D,O[73]=v):v=O[73],O[74]!==R||O[75]!==v?(N=(0,n.jsxs)(r9,{children:[R,v]}),O[74]=R,O[75]=v,O[76]=N):N=O[76],O[77]!==N||O[78]!==E?(I=(0,n.jsxs)(n.Fragment,{children:[E,N]}),O[77]=N,O[78]=E,O[79]=I):I=O[79],I}function sl(e){return e.name===h.tw.DIRECT_MERGE}try{sa.displayName||(sa.displayName="CommandLineInstructionsDialog")}catch{}try{so.displayName||(so.displayName="DirectMergeActionsSection")}catch{}var sc=r(46720);function su(e){let t,r,s,a=(0,i.c)(6),{checked:o,onToggleChecked:l}=e;return a[0]!==o||a[1]!==l?(t=(0,n.jsx)(sc.A,{onChange:l,checked:o}),a[0]=o,a[1]=l,a[2]=t):t=a[2],a[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsx)(eP.A.Label,{children:(0,n.jsx)("span",{className:"fgColor-danger",children:" Merge without waiting for requirements to be met (bypass rules) "})}),a[3]=r):r=a[3],a[4]!==t?(s=(0,n.jsxs)(eP.A,{children:[t,r]}),a[4]=t,a[5]=s):s=a[5],s}try{su.displayName||(su.displayName="BypassMergeRequirementsToggle")}catch{}function sd(e,t,r){return"MERGEABLE_IF_STATUSES_PASS"===e&&"BEHIND"!==r&&t!==$&&t!==Q&&t!==X||"MERGEABLE"===e}function sh(e){let t,r,s,a,o,c,u,m,E,_,g=(0,i.c)(42),{autoMergeRequest:S,baseRefName:f,handleConfirmingMergeInfo:p,isDraft:C,isInMergeQueue:R,mergeQueue:T,mergeRequirementsState:v,mergeStateStatus:N,mergeBoxRollupStatus:I,status:O,viewerCanAddAndRemoveFromMergeQueue:A,viewerCanAddToMergeQueueSolo:y,shouldFocusPrimaryMergeButton:x,setShouldFocusPrimaryMergeButton:w}=e,b=T?.url,[L,P]=(0,d.useState)(h.lD.GROUP),[M,D]=(0,d.useState)(!1),[j,U]=(0,d.useState)(),{sendAnalyticsEvent:k}=(0,eh.s)();g[0]===Symbol.for("react.memo_cache_sentinel")?(t={onError:e=>{U(e.message)}},g[0]=t):t=g[0];let{mutate:G,isPending:q}=r7(t);g[1]!==p||g[2]!==k?(r=()=>{D(!0),p(!0),k("auto_merge_section.merge_click","MERGEBOX_AUTO_MERGE_BUTTON")},g[1]=p,g[2]=k,g[3]=r):r=g[3];let F=r;g[4]!==G||g[5]!==p||g[6]!==q||g[7]!==L||g[8]!==k?(s=()=>{q||(U(void 0),G({mergeMethod:L===h.lD.SOLO?"SOLO":"GROUP"}),p(!1),k("auto_merge_section.confirm_direct_merge","MERGEBOX_AUTO_MERGE_CONFIRMATION_BUTTON"))},g[4]=G,g[5]=p,g[6]=q,g[7]=L,g[8]=k,g[9]=s):s=g[9];let B=s;g[10]!==k?(a=(e,t)=>{P(e),k(t,"MERGEBOX_MERGE_QUEUE_SECTION_MERGE_METHOD_MENU_ITEM")},g[10]=k,g[11]=a):a=g[11];let Q=a;g[12]!==v||g[13]!==N||g[14]!==O?(o=sd(v,O,N),g[12]=v,g[13]=N,g[14]=O,g[15]=o):o=g[15];let $=o,K=!A||"UNKNOWN"===N||C||R||!!S,W=(0,d.useRef)(null);return g[16]!==M?(c=()=>{M&&W?.current&&W?.current.focus()},u=[M],g[16]=M,g[17]=c,g[18]=u):(c=g[17],u=g[18]),(0,d.useEffect)(c,u),g[19]!==j?(m=j&&(0,n.jsxs)(eL.A,{className:"mb-3",variant:"danger",children:[(0,n.jsx)(eG.A,{className:"mr-2",icon:l.StopIcon}),j]}),g[19]=j,g[20]=m):m=g[20],g[21]!==B||g[22]!==f||g[23]!==F||g[24]!==p||g[25]!==$||g[26]!==q||g[27]!==I||g[28]!==b||g[29]!==v||g[30]!==K||g[31]!==L||g[32]!==k||g[33]!==w||g[34]!==x||g[35]!==M||g[36]!==Q||g[37]!==y?(E=M?(0,n.jsxs)(r9,{children:[(0,n.jsx)(r9.Slot,{children:(0,n.jsx)(eR.Q,{ref:W,variant:"primary",loading:q,loadingAnnouncement:r3({mergeMethod:L,confirming:!0,inProgress:!0}),onClick:B,children:r3({mergeMethod:L,confirming:!0,inProgress:!1})})}),(0,n.jsx)(r9.Slot,{children:(0,n.jsx)(eR.Q,{onClick:()=>{p(!1),D(!1),k("auto_merge_section.cancel_auto_merge","MERGEBOX_AUTO_MERGE_CANCEL_CONFIRMATION_BUTTON")},children:"Cancel"})})]}):(0,n.jsxs)(r9,{children:[(0,n.jsx)(r9.Slot,{children:(0,n.jsx)(rD,{inactive:K,inactiveTooltipText:"UNKNOWN"===v?"Checking for the ability to merge automatically":"Merging is blocked due to failing merge requirements",inactiveTooltipDirection:"se",hideSecondaryButton:!y,secondaryButtonAriaLabel:"Select merge queue method",isPrimary:$&&"ALL_PASSED"===I,shouldFocusPrimaryButton:x,onFocusPrimaryButton:()=>w(!1),actionList:(0,n.jsx)(eb.l,{selectionVariant:"single",children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(si,{primaryText:"Queue and merge in a group",secondaryText:`This pull request will be automatically grouped with other pull requests and merged into ${f}.`,selected:L===h.lD.GROUP,onSelect:()=>Q(h.lD.GROUP,"merqe_queue_section.select_queue_and_merge_in_a_group")}),(0,n.jsx)(si,{primaryText:"Queue and force solo merge",secondaryText:`This pull request will be merged into ${f} by itself.`,selected:L===h.lD.SOLO,onSelect:()=>Q(h.lD.SOLO,"merqe_queue_section.select_queue_and_force_solo_merge")})]})}),onPrimaryButtonClick:F,children:r3({mergeMethod:L,confirming:!1,inProgress:q})})}),(0,n.jsx)(r9.Slot,{children:(0,n.jsxs)("span",{className:"f6 fgColor-muted pl-2",children:["This repository uses the"," ",(0,n.jsx)(em.A,{href:b,inline:!0,children:"merge queue"})," ","for all merges into the ",f," branch."]})})]}),g[21]=B,g[22]=f,g[23]=F,g[24]=p,g[25]=$,g[26]=q,g[27]=I,g[28]=b,g[29]=v,g[30]=K,g[31]=L,g[32]=k,g[33]=w,g[34]=x,g[35]=M,g[36]=Q,g[37]=y,g[38]=E):E=g[38],g[39]!==m||g[40]!==E?(_=(0,n.jsxs)(n.Fragment,{children:[m,E]}),g[39]=m,g[40]=E,g[41]=_):_=g[41],_}function sm(e){let t,r,s,a,o,c,u,h,_,g,f=(0,i.c)(25),{autoMergeRequest:C,viewerCanDisableAutoMerge:R,isMergeQueueEnabled:T,handleConfirmingMergeInfo:v}=e,{sendAnalyticsEvent:N}=(0,eh.s)(),[I,O]=(0,d.useState)();f[0]===Symbol.for("react.memo_cache_sentinel")?(t={onError:e=>{O(e.message)}},f[0]=t):t=f[0];let{mutate:A,isPending:y}=function(e){let t,r,s,n,a=(0,i.c)(11),{onError:o}=e,l=(0,E.e)(m.uT.disableAutoMerge),c=p(),u=(0,S.jE)();return a[0]!==l?(t=async()=>{let e=await (0,eU.q$)(l,{method:"POST",headers:{Accept:"application/json"}}),t=await (0,eU.hp)(e);return(0,eU.R)(e,t),t},a[0]=l,a[1]=t):t=a[1],a[2]!==c||a[3]!==u?(r=()=>u.refetchQueries({queryKey:c},{cancelRefetch:!1}),a[2]=c,a[3]=u,a[4]=r):r=a[4],a[5]!==o?(s=e=>{o(e)},a[5]=o,a[6]=s):s=a[6],a[7]!==t||a[8]!==r||a[9]!==s?(n={mutationFn:t,onSuccess:r,onError:s},a[7]=t,a[8]=r,a[9]=s,a[10]=n):n=a[10],(0,ej.n)(n)}(t);f[1]!==A||f[2]!==v||f[3]!==y||f[4]!==N?(r=()=>{y||(O(void 0),v(!1),A(),N("auto_merge_section.disable_auto_merge","MERGEBOX_AUTO_MERGE_DISABLE_BUTTON"))},f[1]=A,f[2]=v,f[3]=y,f[4]=N,f[5]=r):r=f[5];let x=r;f[6]!==C?.mergeMethod?(s=C?.mergeMethod.toLowerCase()??"merge",f[6]=C?.mergeMethod,f[7]=s):s=f[7];let w=s,b=T?"be added to the merge queue":`${w} automatically`;f[8]!==I?(a=I&&(0,n.jsxs)(eL.A,{className:"mx-3 my-2",variant:"danger",children:[(0,n.jsx)(eG.A,{className:"mr-2",icon:l.StopIcon}),I]}),f[8]=I,f[9]=a):a=f[9];let L=!R;return f[10]!==x||f[11]!==y||f[12]!==L?(o=(0,n.jsx)(r9.Slot,{children:(0,n.jsx)(eR.Q,{disabled:L,onClick:x,loading:y,loadingAnnouncement:"Disabling auto-merge",children:"Disable auto-merge"})}),f[10]=x,f[11]=y,f[12]=L,f[13]=o):o=f[13],f[14]!==b?(c=(0,n.jsx)("span",{className:"text-semibold",children:b}),f[14]=b,f[15]=c):c=f[15],f[16]===Symbol.for("react.memo_cache_sentinel")?(u=(0,n.jsx)(em.A,{inline:!0,href:"https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/incorporating-changes-from-a-pull-request/automatically-merging-a-pull-request",children:"Learn more about automatically merging a pull request."}),f[16]=u):u=f[16],f[17]!==c?(h=(0,n.jsx)(r9.Slot,{children:(0,n.jsxs)("div",{className:"flex-1",children:["This pull request will ",c," when all requirements are met."," ",u]})}),f[17]=c,f[18]=h):h=f[18],f[19]!==o||f[20]!==h?(_=(0,n.jsxs)(r9,{children:[o,h]}),f[19]=o,f[20]=h,f[21]=_):_=f[21],f[22]!==_||f[23]!==a?(g=(0,n.jsxs)(n.Fragment,{children:[a,_]}),f[22]=_,f[23]=a,f[24]=g):g=f[24],g}function sE(e){let t,r,s,a,o=(0,i.c)(50),{advisoryWorkspace:l,autoMergeRequest:c,handleConfirmingMergeInfo:h,id:m,isConfirmingMergeInfo:E,isInMergeQueue:_,mergeQueue:g,mergeStateStatus:S,viewerCanAddAndRemoveFromMergeQueue:f,viewerCanAddToMergeQueueSolo:p,viewerCanDisableAutoMerge:C,viewerCanEnableAutoMerge:R,viewerCanAdminBypassMergeRequirements:T,...v}=e,[N,I]=(0,d.useState)(!1),O=v.viewerMergeActions,A=O.find(sg),y=O.find(s_),x=sd(v.mergeRequirementsState,v.status,S),w=A?.allowableStatus==="ALLOWED",b=y?.allowableStatus==="ALLOWED",L=!!c,P=T&&!L&&(!!w||!x),M=R&&!x;if(l)return null;if(L){let e;o[0]!==c||o[1]!==h||o[2]!==w||o[3]!==C?(e=(0,n.jsx)(sm,{autoMergeRequest:c,isMergeQueueEnabled:w,viewerCanDisableAutoMerge:C,handleConfirmingMergeInfo:h}),o[0]=c,o[1]=h,o[2]=w,o[3]=C,o[4]=e):e=o[4],t=e}else if(w||b)if(w&&P&&N){let e;o[9]!==h||o[10]!==E||o[11]!==x||o[12]!==v||o[13]!==P?(e=(0,n.jsx)(so,{mergeable:x,handleConfirmingMergeInfo:h,isAdminBypassToggleVisible:P,isAdminBypassToggleChecked:!0,isConfirmingMergeInfo:E,...v}),o[9]=h,o[10]=E,o[11]=x,o[12]=v,o[13]=P,o[14]=e):e=o[14],t=e}else if(w){let e;o[15]!==c||o[16]!==h||o[17]!==m||o[18]!==_||o[19]!==g||o[20]!==S||o[21]!==v||o[22]!==f||o[23]!==p?(e=(0,n.jsx)(sh,{autoMergeRequest:c,pullRequestId:m,handleConfirmingMergeInfo:h,isInMergeQueue:_,mergeQueue:g,mergeStateStatus:S,viewerCanAddAndRemoveFromMergeQueue:f,viewerCanAddToMergeQueueSolo:p,...v}),o[15]=c,o[16]=h,o[17]=m,o[18]=_,o[19]=g,o[20]=S,o[21]=v,o[22]=f,o[23]=p,o[24]=e):e=o[24],t=e}else if(R&&!N){let e;o[25]!==h||o[26]!==E||o[27]!==x||o[28]!==v||o[29]!==P||o[30]!==M?(e=(0,n.jsx)(so,{handleConfirmingMergeInfo:h,mergeable:x,isAdminBypassToggleChecked:!1,isAdminBypassToggleVisible:P,isAutoMergeAllowed:M,isConfirmingMergeInfo:E,...v}),o[25]=h,o[26]=E,o[27]=x,o[28]=v,o[29]=P,o[30]=M,o[31]=e):e=o[31],t=e}else{let e;o[32]!==h||o[33]!==N||o[34]!==E||o[35]!==x||o[36]!==v||o[37]!==P?(e=(0,n.jsx)(so,{handleConfirmingMergeInfo:h,isAdminBypassToggleChecked:N,isAdminBypassToggleVisible:P,isConfirmingMergeInfo:E,mergeable:x,...v}),o[32]=h,o[33]=N,o[34]=E,o[35]=x,o[36]=v,o[37]=P,o[38]=e):e=o[38],t=e}else{let e;o[5]!==h||o[6]!==E||o[7]!==v?(e=(0,n.jsx)(so,{mergeable:!1,handleConfirmingMergeInfo:h,isAdminBypassToggleChecked:!1,isAdminBypassToggleVisible:!1,isConfirmingMergeInfo:E,...v}),o[5]=h,o[6]=E,o[7]=v,o[8]=e):e=o[8],t=e}let D=E?"rounded-2":"rounded-bottom-2";return o[39]!==D?(r=(0,u.$)("p-3 bgColor-muted borderColor-muted",D),o[39]=D,o[40]=r):r=o[40],o[41]!==N||o[42]!==E||o[43]!==I||o[44]!==P?(s=P&&!E&&(0,n.jsx)("div",{className:"mb-3",children:(0,n.jsx)(su,{checked:N,onToggleChecked:()=>I(!N)})}),o[41]=N,o[42]=E,o[43]=I,o[44]=P,o[45]=s):s=o[45],o[46]!==t||o[47]!==r||o[48]!==s?(a=(0,n.jsxs)("div",{className:r,children:[s,t]}),o[46]=t,o[47]=r,o[48]=s,o[49]=a):a=o[49],a}function s_(e){return e.name===h.tw.DIRECT_MERGE}function sg(e){let{name:t}=e;return t===h.tw.MERGE_QUEUE}try{sh.displayName||(sh.displayName="AddToMergeQueueSection")}catch{}try{sm.displayName||(sm.displayName="DisableAutoMerge")}catch{}try{sE.displayName||(sE.displayName="MergeSection")}catch{}var sS=r(46251);function sf(){let e,t,r,s,a,o,c,u,h,_,g,f,C,R,T=(0,i.c)(29),[v,N]=(0,d.useState)("closed"),[I,O]=(0,d.useState)(null),A=(0,d.useRef)(null),y=(0,d.useRef)(null),{sendAnalyticsEvent:x}=(0,eh.s)();T[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{N("open"),O(null)},T[0]=e):e=T[0];let w=e;T[1]===Symbol.for("react.memo_cache_sentinel")?(t={onError:e=>{O(e.message),setTimeout(sC,1e3)}},T[1]=t):t=T[1];let{mutate:b,isPending:L}=function(e){let t,r,s,n,a=(0,i.c)(11),{onError:o}=e,l=(0,E.e)(m.uT.convertToDraft),c=p(),u=(0,S.jE)();return a[0]!==l?(t=async()=>{let e=await (0,eU.q$)(l,{method:"POST",headers:{Accept:"application/json"}}),t=await (0,eU.hp)(e);return(0,eU.R)(e,t),t},a[0]=l,a[1]=t):t=a[1],a[2]!==c||a[3]!==u?(r=()=>u.invalidateQueries({queryKey:c},{cancelRefetch:!1}),a[2]=c,a[3]=u,a[4]=r):r=a[4],a[5]!==o?(s=e=>o(e),a[5]=o,a[6]=s):s=a[6],a[7]!==t||a[8]!==r||a[9]!==s?(n={mutationFn:t,onSuccess:r,onError:s},a[7]=t,a[8]=r,a[9]=s,a[10]=n):n=a[10],(0,ej.n)(n)}(t);T[2]!==b||T[3]!==L||T[4]!==x?(r=async()=>{L||(O(null),b(void 0,{onSuccess:()=>{N("closed"),setTimeout(sp,1e3),x("convert_to_draft_section.convert_to_draft","MERGEBOX_CONVERT_TO_DRAFT_SECTION_CONVERT_TO_DRAFT_BUTTON")}}))},T[2]=b,T[3]=L,T[4]=x,T[5]=r):r=T[5];let P=r;T[6]===Symbol.for("react.memo_cache_sentinel")?(s=(0,n.jsxs)(sS.B,{direction:"horizontal",align:"baseline",className:"py-2 px-1 text-small flex-justify-end",gap:"none",children:[(0,n.jsx)("span",{className:"fgColor-muted pr-1",children:"Still in progress?"}),(0,n.jsx)(eR.Q,{variant:"link",className:"Link--muted Link--inTextBlock text-normal",onClick:w,ref:A,children:"Convert to draft"})]}),T[6]=s):s=T[6];let M="open"===v;return T[7]===Symbol.for("react.memo_cache_sentinel")?(a=()=>N("closed"),o=(0,n.jsx)(tN.A.Header,{id:"convert-to-draft-dialog-title",children:"Convert this pull request to draft?"}),T[7]=a,T[8]=o):(a=T[7],o=T[8]),T[9]===Symbol.for("react.memo_cache_sentinel")?(c=(0,n.jsx)(eL.A,{variant:"warning",children:"People who are already subscribed will not be unsubscribed."}),T[9]=c):c=T[9],T[10]!==I?(u=I&&(0,n.jsxs)(eL.A,{className:"my-2",variant:"danger",children:[(0,n.jsx)(l.StopIcon,{className:"mr-2"}),I]}),T[10]=I,T[11]=u):u=T[11],T[12]!==L?(h=()=>{L||(N("closed"),A.current?.focus())},T[12]=L,T[13]=h):h=T[13],T[14]!==L||T[15]!==h?(_=(0,n.jsx)(eR.Q,{className:"mr-1",disabled:L,variant:"invisible",onClick:h,children:"Cancel"}),T[14]=L,T[15]=h,T[16]=_):_=T[16],T[17]!==P||T[18]!==L?(g=(0,n.jsx)(eR.Q,{loading:L,loadingAnnouncement:"Converting to draft",onClick:P,ref:y,children:"Convert to draft"}),T[17]=P,T[18]=L,T[19]=g):g=T[19],T[20]!==_||T[21]!==g?(f=(0,n.jsxs)("div",{className:"d-flex flex-justify-end mt-3",children:[_,g]}),T[20]=_,T[21]=g,T[22]=f):f=T[22],T[23]!==f||T[24]!==u?(C=(0,n.jsxs)("div",{className:"p-3",children:[c,u,f]}),T[23]=f,T[24]=u,T[25]=C):C=T[25],T[26]!==C||T[27]!==M?(R=(0,n.jsxs)(n.Fragment,{children:[s,(0,n.jsxs)(tN.A,{"aria-labelledby":"convert-to-draft-dialog-title",isOpen:M,returnFocusRef:A,initialFocusRef:y,onDismiss:a,children:[o,C]})]}),T[26]=C,T[27]=M,T[28]=R):R=T[28],R}function sp(){return(0,tI.i)("The pull request was successfully converted to draft.")}function sC(){return(0,tI.i)("Failed to convert the pull request to draft")}try{sf.displayName||(sf.displayName="ConvertToDraftSection")}catch{}function sR(){let e,t=(0,i.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"MergeBox-module__mergeboxLoading--OhnXd",children:(0,n.jsx)(c.A,{})}),t[0]=e):e=t[0],e}let sT=(0,d.memo)(function(e){let t,r,s,a,l,c=(0,i.c)(11);c[0]!==e?({hideIcon:r,...t}=e,c[0]=e,c[1]=t,c[2]=r):(t=c[1],r=c[2]);let u=void 0!==r&&r;return c[3]!==u?(s=(0,n.jsx)(tw,{hideIcon:u}),c[3]=u,c[4]=s):s=c[4],c[5]!==u||c[6]!==t?(a=(0,n.jsx)(d.Suspense,{children:(0,n.jsx)(sv,{hideIcon:u,...t})}),c[5]=u,c[6]=t,c[7]=a):a=c[7],c[8]!==s||c[9]!==a?(l=(0,n.jsx)(o.t,{critical:!0,fallback:s,children:a}),c[8]=s,c[9]=a,c[10]=l):l=c[10],l});function sv(e){let t,r,s,a,o,l,c,u,h,_,C=(0,i.c)(20);C[0]!==e?({viewerLogin:s,channels:t,...r}=e,C[0]=e,C[1]=t,C[2]=r,C[3]=s):(t=C[1],r=C[2],s=C[3]);let{mergeMethod:R}=T();C[4]!==R?(a={mergeMethod:R,bypassRequirements:!1},C[4]=R,C[5]=a):a=C[5];let{data:v,refetch:N,isLoading:I,error:O}=function(e){let t,r,s=(0,i.c)(7),{mergeMethod:n,bypassRequirements:a}=e,o=new URLSearchParams;o.append("merge_method",n),o.append("bypass_requirements",(void 0!==a&&a).toString());let l=`${(0,E.e)(m.uT.mergeBox)}?${o.toString()}`,c=p(),u=(0,S.jE)();return s[0]!==l||s[1]!==u||s[2]!==c?(t=async()=>(0,g.H)(l,c,u),s[0]=l,s[1]=u,s[2]=c,s[3]=t):t=s[3],s[4]!==c||s[5]!==t?(r={queryKey:c,queryFn:t,staleTime:1/0},s[4]=c,s[5]=t,s[6]=r):r=s[6],(0,f.I)(r)}(a);e:{if(v?.pullRequest.mergeBoxAliveChannels){o=v?.pullRequest.mergeBoxAliveChannels;break e}o=t}let A=o;C[6]!==N?(l=()=>{(0,d.startTransition)(()=>{N({cancelRefetch:!1})})},C[6]=N,C[7]=l):l=C[7];let y=l;if(C[8]!==A||C[9]!==y?(c={refetchQuery:y,channels:A},C[8]=A,C[9]=y,C[10]=c):c=C[10],tp(c),I){let e;return C[11]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(sR,{}),C[11]=e):e=C[11],e}if(O)throw O;if(!v)return null;C[12]===Symbol.for("react.memo_cache_sentinel")?(u=(0,n.jsx)(sR,{}),h=(0,n.jsx)("h2",{className:"sr-only",children:"Merge info"}),C[12]=u,C[13]=h):(u=C[12],h=C[13]);let x=v.pullRequest.numberOfCommits||0;return C[14]!==v.mergeRequirements||C[15]!==v.pullRequest||C[16]!==r||C[17]!==x||C[18]!==s?(_=(0,n.jsxs)(d.Suspense,{fallback:u,children:[h,(0,n.jsx)(sN,{mergeRequirements:v.mergeRequirements,numberOfCommits:x,pullRequest:v.pullRequest,viewerLogin:s,...r})]}),C[14]=v.mergeRequirements,C[15]=v.pullRequest,C[16]=r,C[17]=x,C[18]=s,C[19]=_):_=C[19],_}function sN(e){let t,r,s,c,h,_,p,C,R,T,I,O,A,y,x,w,b,L,P,M,D,j,U,k=(0,i.c)(95),{helpUrl:G,hideIcon:q,mergeRequirements:el,numberOfCommits:ec,pullRequest:eu,viewerLogin:ed}=e;a(eu.viewerMergeActions.find(sO));let[eh,em]=(0,d.useState)(!1),eE=!eh,[e_,eg]=(0,d.useState)(!1),{isInMergeQueue:eS,state:ef,viewerCanDeleteHeadRef:ep,viewerCanRestoreHeadRef:eC}=eu,eR=eu.viewerCanConvertToDraft&&!eS,eT=void 0!==q&&q||("CLOSED"===ef||"MERGED"===ef)&&!ep&&!eC;k[0]!==eu.headRefOid?(t={pullRequestHeadSha:eu.headRefOid},k[0]=eu.headRefOid,k[1]=t):t=k[1];let ev=function(e){let t,r,s,n=(0,i.c)(9),{pullRequestHeadSha:a}=e,o=(0,E.e)(m.uT.statusChecks);n[0]!==a?(t={pullRequestHeadSha:a},n[0]=a,n[1]=t):t=n[1];let l=tR(t),c=(0,S.jE)();return n[2]!==o||n[3]!==c||n[4]!==l?(r=async()=>(0,g.H)(o,l,c),n[2]=o,n[3]=c,n[4]=l,n[5]=r):r=n[5],n[6]!==l||n[7]!==r?(s={queryKey:l,throwOnError:!1,queryFn:r,staleTime:1e4},n[6]=l,n[7]=r,n[8]=s):s=n[8],(0,f.I)(s)}(t).data;if(k[2]!==el||k[3]!==eu||k[4]!==eE||k[5]!==ev){I=function({pullRequest:e,mergeRequirements:t,statusChecksData:r}){let s;if("MERGED"===e.state)return Z;if("CLOSED"===e.state)return ee;if((s=et(t)).includes("PULL_REQUEST_REPO_STATE")||s.includes("PULL_REQUEST_USER_STATE"))return"NonactionableFailure";if(e.isInMergeQueue)return H;if(e.isDraft&&!es(r))return K;if(e.isDraft)return W;if(es(r))return Q;if(er(r))return $;if(ei(t,r))return z;if(t?.state==="MERGEABLE"||t?.state==="MERGEABLE_IF_STATUSES_PASS"&&en(r))return Y;if((function(e){let t=e?.conditions.find(e=>"PULL_REQUEST_RULES"===e.type);if(!t)return[];let r=t?.ruleRollups?.filter(e=>"FAILED"===e.result);return r?r.map(e=>e.ruleType):[]})(t).includes("PULL_REQUEST")&&!ea(t).includes("CHANGES_REQUESTED"))return F;if(ea(t).includes("CHANGES_REQUESTED"))return B;else if(t?.state==="UNKNOWN"&&!eo(t))return J;else if(eo(t))return V;else return X}({pullRequest:eu,mergeRequirements:el,statusChecksData:ev});let e=new MergeBoxStatusCalculator(eu,el,ev);p=e.overallStatus,r=e.sections.BlockedSection,s=e.sections.ChecksSection,c=e.sections.ClosedOrMergedStateMergeBox,h=e.sections.ConflictsSection,_=e.sections.DraftStateSection,C=e.sections.MergeQueueSection,T=e.sections.ReviewerSection,R=function(e){switch(e){case Y:return{icon:l.CheckCircleFillIcon,iconColor:"success.emphasis",title:"Merge pull request"};case K:case W:return{icon:l.GitPullRequestDraftIcon,iconColor:"var(--fgColor-draft)",title:"Draft"};case H:return{icon:l.GitMergeQueueIcon,iconColor:"var(--fgColor-attention)",title:"Queued"};case $:return{icon:l.DotFillIcon,iconColor:"var(--fgColor-muted)",title:"Checks pending"};case Q:return{icon:l.XCircleFillIcon,iconColor:"var(--fgColor-danger)",title:"Checks failing"};case z:return{icon:l.DotFillIcon,iconColor:"var(--fgColor-muted)",title:"Non-required checks unsuccessful"};case F:return{icon:l.DotFillIcon,iconColor:"var(--fgColor-danger)",title:"Awaiting reviews"};case B:return{icon:l.XCircleFillIcon,iconColor:"var(--fgColor-danger)",title:"Changes requested"};case V:return{icon:l.XCircleFillIcon,iconColor:"var(--fgColor-danger)",title:"Merge conflicts"};case J:return{icon:l.DotFillIcon,iconColor:"var(--fgColor-muted)",title:"Unknown"};case Z:return{icon:l.GitMergeIcon,iconColor:"var(--fgColor-done)",title:"Merged"};case ee:return{icon:l.GitPullRequestClosedIcon,iconColor:"var(--fgColor-muted)",title:"Closed"};default:return{icon:l.XCircleFillIcon,iconColor:"var(--fgColor-danger)",title:"Unable to merge"}}}(I),O=function(e,t){let r;switch(e){case"ALL_PASSED":r={iconColor:"success.emphasis",borderColor:"borderColor-success-emphasis"};break;case"MERGED":r={iconColor:"done.emphasis",borderColor:"borderColor-done-emphasis"};break;case"QUEUED":r={iconColor:"attention.emphasis",borderColor:"borderColor-attention-emphasis"};break;default:r={iconColor:"neutral.emphasis",borderColor:"borderColor-default"}}return t&&(r.borderColor="borderColor-default"),r}(p,!eE),k[2]=el,k[3]=eu,k[4]=eE,k[5]=ev,k[6]=r,k[7]=s,k[8]=c,k[9]=h,k[10]=_,k[11]=p,k[12]=C,k[13]=R,k[14]=T,k[15]=I,k[16]=O}else r=k[6],s=k[7],c=k[8],h=k[9],_=k[10],p=k[11],C=k[12],R=k[13],T=k[14],I=k[15],O=k[16];let eN=O;k[17]!==el?.conditions?(A=el?.conditions.find(sI),k[17]=el?.conditions,k[18]=A):A=k[18];let eI=A,eO=eI?.result==="PASSED";k[19]!==el?(y=function(e){let t=N(e);if(t.length<1)return!1;let r=t[0]?.ruleRollups.find(e=>"AUTHORIZATION"===e.ruleType);return r?.result==="FAILED"}(el),k[19]=el,k[20]=y):y=k[20];let eA=y;k[21]!==el?(x=v(el),k[21]=el,k[22]=x):x=k[22];let ey=x,ex=eS?l.GitMergeQueueIcon:l.GitMergeIcon;k[23]===Symbol.for("react.memo_cache_sentinel")?(w=()=>{eg(!0)},k[23]=w):w=k[23];let ew=w,eb=!eO||eA,eL=eu.mergeBoxUserPreferences;k[24]===Symbol.for("react.memo_cache_sentinel")?(b=(0,u.$)("MergeBox-module__mergePartialContainer--psYdf","position-relative partial-pull-merging-analytics-js"),k[24]=b):b=k[24],k[25]!==ex||k[26]!==eN.iconColor||k[27]!==R||k[28]!==eT?(L=!eT&&(0,n.jsx)("div",{className:"d-none d-lg-block","data-testid":"mergeability-icon-wrapper",children:(0,n.jsx)(ty,{icon:ex,ariaLabel:R.title,iconBackgroundColor:eN.iconColor})}),k[25]=ex,k[26]=eN.iconColor,k[27]=R,k[28]=eT,k[29]=L):L=k[29];let eP=eb?"MergeBox-module__mergeBoxAdjustBorders--vMX1B":"",eM=`border rounded-2 ${eN.borderColor}`;return k[30]!==eP||k[31]!==eM?(P=(0,u.$)(eP,eM),k[30]=eP,k[31]=eM,k[32]=P):P=k[32],k[33]!==r||k[34]!==eO||k[35]!==s||k[36]!==c.shouldRender||k[37]!==ey||k[38]!==h||k[39]!==_||k[40]!==G||k[41]!==eh||k[42]!==p||k[43]!==eL||k[44]!==C||k[45]!==el||k[46]!==ec||k[47]!==eu.advisoryWorkspace||k[48]!==eu.autoMergeRequest||k[49]!==eu.baseRefName||k[50]!==eu.baseRepository||k[51]!==eu.deprovisionableCodespaces||k[52]!==eu.headRefName||k[53]!==eu.headRefOid||k[54]!==eu.headRepository||k[55]!==eu.id||k[56]!==eu.isCrossRepo||k[57]!==eu.isDraft||k[58]!==eu.isInMergeQueue||k[59]!==eu.latestOpinionatedReviews||k[60]!==eu.mergeQueue||k[61]!==eu.mergeQueueEntry||k[62]!==eu.mergeStateStatus||k[63]!==eu.pendingReviewRequests||k[64]!==eu.resourcePath||k[65]!==eu.state||k[66]!==eu.viewerCanAddAndRemoveFromMergeQueue||k[67]!==eu.viewerCanAddToMergeQueueSolo||k[68]!==eu.viewerCanAdminBypassMergeRequirements||k[69]!==eu.viewerCanDeleteHeadRef||k[70]!==eu.viewerCanDisableAutoMerge||k[71]!==eu.viewerCanDismissReviews||k[72]!==eu.viewerCanEnableAutoMerge||k[73]!==eu.viewerCanReRequestReviews||k[74]!==eu.viewerCanRestoreHeadRef||k[75]!==eu.viewerCanUpdate||k[76]!==eu.viewerCanUpdateBranch||k[77]!==eu.viewerMergeActions||k[78]!==eu.viewerUpdateMethods||k[79]!==T||k[80]!==e_||k[81]!==eb||k[82]!==eE||k[83]!==I||k[84]!==ed?(M=c.shouldRender||!el?(0,n.jsx)(tO,{isCrossRepo:eu.isCrossRepo,state:eu.state,headRefName:eu.headRefName,headRepository:eu.headRepository,baseRepository:eu.baseRepository,viewerCanDeleteHeadRef:eu.viewerCanDeleteHeadRef,viewerCanRestoreHeadRef:eu.viewerCanRestoreHeadRef,deprovisionableCodespaces:eu.deprovisionableCodespaces}):C.shouldRender?(0,n.jsx)(rJ,{viewerCanAddAndRemoveFromMergeQueue:eu.viewerCanAddAndRemoveFromMergeQueue,mergeQueueEntry:eu.mergeQueueEntry,mergeQueue:eu.mergeQueue,focusPrimaryMergeButton:ew}):(0,n.jsxs)(n.Fragment,{children:[eE&&(0,n.jsxs)(n.Fragment,{children:[T.shouldRender&&(0,n.jsx)(eJ,{consolidatedFailureReasons:T.consolidatedFailureReasons,helpUrl:G,latestOpinionatedReviews:eu.latestOpinionatedReviews,numReviewsRequired:T.numReviewsRequired,pendingRequestedReviews:eu.pendingReviewRequests,pullRequestId:eu.id,reviewsState:T.sectionStatus,viewerCanDismissReviews:eu.viewerCanDismissReviews,viewerCanReRequestReviews:eu.viewerCanReRequestReviews}),(0,n.jsx)(o.t,{fallback:(0,n.jsx)(rx,{}),children:(0,n.jsx)(ry,{pullRequestId:eu.id,pullRequestHeadSha:eu.headRefOid,focusPrimaryMergeButton:ew,sectionStatus:s.sectionStatus,shouldRender:s.shouldRender,mergeBoxUserPreferences:eL})}),h.shouldRender&&h.conflictsCondition&&(0,n.jsx)(rB,{advisoryWorkspace:eu.advisoryWorkspace,baseRefName:eu.baseRefName,headRefOid:eu.headRefOid,conflictsCondition:h.conflictsCondition,conflictsState:h.sectionStatus,mergeStateStatus:eu.mergeStateStatus,resourcePath:eu.resourcePath,canUserPushToBase:eO,viewerCanUpdateBranch:eu.viewerCanUpdateBranch,viewerLogin:ed,viewerUpdateMethods:eu.viewerUpdateMethods}),r.shouldRender&&(0,n.jsx)(tM,{failingConditionsAndRules:r.failingConditionsAndRules}),_.shouldRender&&(0,n.jsx)(rz,{viewerCanUpdate:eu.viewerCanUpdate,helpUrl:G})]}),eb?null:(0,n.jsx)(sE,{advisoryWorkspace:eu.advisoryWorkspace,autoMergeRequest:eu.autoMergeRequest,baseRefName:eu.baseRefName,numberOfCommits:ec,conflictsCondition:ey,headRepository:eu.headRepository,helpUrl:G,id:eu.id,isConfirmingMergeInfo:eh,isCrossRepo:eu.isCrossRepo,isDraft:eu.isDraft,isInMergeQueue:eu.isInMergeQueue,mergeQueue:eu.mergeQueue,canUserPushToBase:eO,defaultCommitAuthorEmail:el.defaultCommitAuthorEmail,commitMessageBody:el.commitMessageBody,commitMessageHeadline:el.commitMessageHeadline,mergeRequirementsState:el.state,mergeStateStatus:eu.mergeStateStatus,mergeBoxRollupStatus:p,viewerCanAddAndRemoveFromMergeQueue:eu.viewerCanAddAndRemoveFromMergeQueue,viewerCanAdminBypassMergeRequirements:eu.viewerCanAdminBypassMergeRequirements,viewerCanAddToMergeQueueSolo:eu.viewerCanAddToMergeQueueSolo,viewerCanDisableAutoMerge:eu.viewerCanDisableAutoMerge,viewerMergeActions:eu.viewerMergeActions,viewerCanEnableAutoMerge:eu.viewerCanEnableAutoMerge,shouldFocusPrimaryMergeButton:e_,setShouldFocusPrimaryMergeButton:eg,status:I,possibleCommitAuthorEmails:el.possibleCommitAuthorEmails,handleConfirmingMergeInfo:em})]}),k[33]=r,k[34]=eO,k[35]=s,k[36]=c.shouldRender,k[37]=ey,k[38]=h,k[39]=_,k[40]=G,k[41]=eh,k[42]=p,k[43]=eL,k[44]=C,k[45]=el,k[46]=ec,k[47]=eu.advisoryWorkspace,k[48]=eu.autoMergeRequest,k[49]=eu.baseRefName,k[50]=eu.baseRepository,k[51]=eu.deprovisionableCodespaces,k[52]=eu.headRefName,k[53]=eu.headRefOid,k[54]=eu.headRepository,k[55]=eu.id,k[56]=eu.isCrossRepo,k[57]=eu.isDraft,k[58]=eu.isInMergeQueue,k[59]=eu.latestOpinionatedReviews,k[60]=eu.mergeQueue,k[61]=eu.mergeQueueEntry,k[62]=eu.mergeStateStatus,k[63]=eu.pendingReviewRequests,k[64]=eu.resourcePath,k[65]=eu.state,k[66]=eu.viewerCanAddAndRemoveFromMergeQueue,k[67]=eu.viewerCanAddToMergeQueueSolo,k[68]=eu.viewerCanAdminBypassMergeRequirements,k[69]=eu.viewerCanDeleteHeadRef,k[70]=eu.viewerCanDisableAutoMerge,k[71]=eu.viewerCanDismissReviews,k[72]=eu.viewerCanEnableAutoMerge,k[73]=eu.viewerCanReRequestReviews,k[74]=eu.viewerCanRestoreHeadRef,k[75]=eu.viewerCanUpdate,k[76]=eu.viewerCanUpdateBranch,k[77]=eu.viewerMergeActions,k[78]=eu.viewerUpdateMethods,k[79]=T,k[80]=e_,k[81]=eb,k[82]=eE,k[83]=I,k[84]=ed,k[85]=M):M=k[85],k[86]!==P||k[87]!==M?(D=(0,n.jsx)("div",{className:P,children:M}),k[86]=P,k[87]=M,k[88]=D):D=k[88],k[89]!==eR?(j=eR&&(0,n.jsx)(sf,{}),k[89]=eR,k[90]=j):j=k[90],k[91]!==D||k[92]!==j||k[93]!==L?(U=(0,n.jsxs)("div",{className:b,children:[L,D,j]}),k[91]=D,k[92]=j,k[93]=L,k[94]=U):U=k[94],U}function sI(e){return"PULL_REQUEST_USER_STATE"===e.type}function sO(e){return e.name===h.tw.DIRECT_MERGE}try{sR.displayName||(sR.displayName="MergeBoxLoading")}catch{}try{sT.displayName||(sT.displayName="MergeBoxWithSuspense")}catch{}try{sv.displayName||(sv.displayName="MergeBoxWrapper")}catch{}try{sN.displayName||(sN.displayName="MergeBox")}catch{}function sA(e){return Object.values(h.q$).includes(e)}},11418:(e,t,r)=>{let s;r.d(t,{H:()=>b});var n=r(35750),i=r(18150),a=r(85242),o=r(88243),l=r(16213),c=r(10204),u=new WeakMap,d=new WeakSet;let AliveSession=class AliveSession extends c.ib{constructor(e,t,r,s,n){super(e,()=>(0,o._)(this,d,h).call(this),r,s,void 0,n),(0,l._)(this,d),(0,i._)(this,u,{writable:!0,value:void 0}),(0,a._)(this,u,t)}};function h(){return m((0,n._)(this,u))}async function m(e){let t=await E(e);return t&&t.url&&t.token?_(t.url,t.token):null}async function E(e){let t=await fetch(e,{headers:{Accept:"application/json"}});if(t.ok)return t.json();if(404===t.status)return null;throw Error("fetch error")}async function _(e,t){let r=await fetch(e,{method:"POST",mode:"same-origin",headers:{"Scoped-CSRF-Token":t}});if(r.ok)return r.text();throw Error("fetch error")}var g=r(70170),S=r(34095),f=r(82075),p=r(23683);function C(e,{channel:t,type:r,data:s}){for(let n of e)n.dispatchEvent(new CustomEvent(`socket:${r}`,{bubbles:!1,cancelable:!1,detail:{name:t,data:s}}))}var R=new WeakMap,T=new WeakMap,v=new WeakMap,N=new WeakMap,I=new WeakMap,O=new WeakSet;let A=class AliveSessionProxy{subscribe(e){let t=(0,n._)(this,T).add(...e);t.length&&(0,n._)(this,R).port.postMessage({subscribe:t});let r=new Set(t.map(e=>e.name)),s=e.reduce((e,t)=>{let s=t.topic.name;return(0,c.JR)(s)&&!r.has(s)&&e.add(s),e},new Set);s.size&&(0,n._)(this,R).port.postMessage({requestPresence:Array.from(s)})}unsubscribeAll(...e){let t=(0,n._)(this,T).drain(...e);t.length&&(0,n._)(this,R).port.postMessage({unsubscribe:t});let r=(0,n._)(this,v).removeSubscribers(e);this.sendPresenceMetadataUpdate(r)}updatePresenceMetadata(e){let t=new Set;for(let r of e)(0,n._)(this,v).setMetadata(r),t.add(r.channelName);this.sendPresenceMetadataUpdate(t)}sendPresenceMetadataUpdate(e){if(!e.size)return;let t=[];for(let r of e)t.push({channelName:r,metadata:(0,n._)(this,v).getChannelMetadata(r)});(0,n._)(this,R).port.postMessage({updatePresenceMetadata:t})}online(){(0,n._)(this,R).port.postMessage({online:!0})}offline(){(0,n._)(this,R).port.postMessage({online:!1})}hangup(){(0,n._)(this,R).port.postMessage({hangup:!0})}constructor(e,t,r,s,u,d){(0,l._)(this,O),(0,i._)(this,R,{writable:!0,value:void 0}),(0,i._)(this,T,{writable:!0,value:new c.m0}),(0,i._)(this,v,{writable:!0,value:new c.VH}),(0,i._)(this,N,{writable:!0,value:void 0}),(0,i._)(this,I,{writable:!0,value:new Map}),(0,a._)(this,N,u),(0,a._)(this,R,new SharedWorker(`${e}?module=true`,{name:`github-socket-worker-v3-${s}`,type:"module"})),(0,n._)(this,R).port.onmessage=({data:e})=>(0,o._)(this,O,y).call(this,e),(0,n._)(this,R).port.postMessage({connect:{url:t,refreshUrl:r,options:d}})}};function y(e){let{channel:t}=e;if("presence"===e.type){let r=(0,n._)(this,I).get(t);r||(r=(0,g.s)((e,r)=>{(0,n._)(this,N).call(this,e,r),(0,n._)(this,I).delete(t)},100),(0,n._)(this,I).set(t,r)),r((0,n._)(this,T).subscribers(t),e);return}(0,n._)(this,N).call(this,(0,n._)(this,T).subscribers(t),e)}async function x(){let e,t=(e=document.head.querySelector("link[rel=shared-web-socket-src]")?.getAttribute("href"))&&e.startsWith("/")?e:null;if(!t)return;let r=document.head.querySelector("link[rel=shared-web-socket]")?.href??null;if(!r)return;let s=document.head.querySelector("link[rel=shared-web-socket]")?.getAttribute("data-refresh-url")??null;if(!s)return;let n=document.head.querySelector("link[rel=shared-web-socket]")?.getAttribute("data-session-id")??null;if(!n)return;let i=(()=>{let e={};if(!(0,p.nr)()&&"SharedWorker"in window&&"true"!==(0,f.A)("localStorage").getItem("bypassSharedWorker"))try{return new A(t,r,s,n,C,e)}catch{}return new AliveSession(r,s,!1,C,e)})();return window.addEventListener("online",()=>i.online()),window.addEventListener("offline",()=>i.offline()),window.addEventListener("pagehide",()=>{"hangup"in i&&i.hangup()}),i}async function w(){return await S.G,x()}function b(){return s||(s=w())}},17645:(e,t,r)=>{r.d(t,{Qv:()=>a,TW:()=>l,iG:()=>o,jw:()=>u,lD:()=>i,nw:()=>c,q$:()=>n,tw:()=>s});let s={DIRECT_MERGE:"DIRECT_MERGE",AUTO_MERGE:"AUTO_MERGE",MERGE_QUEUE:"MERGE_QUEUE"},n={MERGE:"MERGE",SQUASH:"SQUASH",REBASE:"REBASE"},i={GROUP:"GROUP",SOLO:"SOLO"},a={Approvals:"approvals",RequestedChanges:"requested changes",PendingReviewRequest:"pending reviews"},o=["PULL_REQUEST_RULES"],l=["PULL_REQUEST_USER_STATE"],c=["PULL_REQUEST_MERGE_CONFLICT_STATE"],u=["PULL_REQUEST_STATE","PULL_REQUEST_MERGE_METHOD","PULL_REQUEST_REPO_STATE","UNKNOWN"]},20263:(e,t,r)=>{r.d(t,{BC:()=>l,JU:()=>u,Pk:()=>o});var s=r(74848),n=r(16522),i=r(12683),a=r(99418);let o=d(i.az),l=d(i.EY),c=e=>{let t,r,i,a=(0,n.c)(6);return a[0]!==e?({ref:r,...t}=e,a[0]=e,a[1]=t,a[2]=r):(t=a[1],r=a[2]),a[3]!==t||a[4]!==r?(i=(0,s.jsx)("div",{...t,ref:r}),a[3]=t,a[4]=r,a[5]=i):i=a[5],i};c.displayName="Div";let u=d(c);function d(e){let t=t=>{let r,i,o,l=(0,n.c)(7);l[0]!==t?(r=function(e){let{html:t,domPurifyConfig:r,...s}=e,n={...r,RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1};return{sanitizedHTML:a.default.sanitize(t,n),props:s}}(t),l[0]=t,l[1]=r):r=l[1];let{sanitizedHTML:c,props:u}=r;return l[2]!==c?(i={__html:c},l[2]=c,l[3]=i):i=l[3],l[4]!==u||l[5]!==i?(o=(0,s.jsx)(e,{...u,dangerouslySetInnerHTML:i}),l[4]=u,l[5]=i,l[6]=o):o=l[6],o};return t.displayName=`UnsafeHTML${e.displayName||e.name}`,t}try{o.displayName||(o.displayName="UnsafeHTMLBox")}catch{}try{l.displayName||(l.displayName="UnsafeHTMLText")}catch{}try{u.displayName||(u.displayName="UnsafeHTMLDiv")}catch{}},20582:(e,t,r)=>{r.d(t,{l:()=>a});var s=r(16522),n=r(94747),i=r(96379);function a(e){let t,r,a=(0,s.c)(8),{createAgentSessionPath:o,owner:l,repo:c,onSuccess:u,onError:d}=e;return a[0]!==o||a[1]!==l||a[2]!==c?(t=async e=>{let t=o||(l&&c?`/${l}/${c}/agent-sessions`:null);if(!t)throw Error("Either createAgentSessionPath or owner/repo must be provided");let r=new FormData;r.append("problem_statement",e.problemStatement),r.append("base_ref",e.baseRef),r.append("event_type",e.eventType),r.append("event_content",e.eventContent);let s=await (0,i.DI)(t,{method:"POST",body:r});if(s.redirected)return{success:!0,redirectUrl:s.url};if(!s.ok)throw Error(`Failed to create agent session: ${s.status}`);return{success:!0}},a[0]=o,a[1]=l,a[2]=c,a[3]=t):t=a[3],a[4]!==d||a[5]!==u||a[6]!==t?(r={mutationFn:t,onSuccess:u,onError:d},a[4]=d,a[5]=u,a[6]=t,a[7]=r):r=a[7],(0,n.n)(r)}},20622:(e,t,r)=>{r.d(t,{uT:()=>i});let s={baseComparisonInfo:"base_comparison_info",changeGroups:"change_groups",codeButton:"code_button",codeowners:"codeowners",threadPreviewPositioning:"thread_preview_positioning",diffEntries:"diff_entries",diffstat:"diffstat",header:"header",mergeBox:"merge_box",mergeInstructions:"merge_instructions",pendingReview:"pending_review",statusChecks:"status_checks",tabCounts:"tab_counts",threadPreviews:"thread_previews",diffViewUserSettings:"user_diff_view_settings",diffContextLines:"diff_entry_lines",richDiff:"rich_diff",description:"description"},n={abandonReview:"abandon_review",addCommentReaction:"add_comment_reaction",changeBase:"change_base",cleanupCodespaces:"cleanup_codespaces",convertToDraft:"convert_to_draft",createReviewComment:"create_review_comment",deleteHeadRef:"delete_head_ref",dequeuePullRequest:"dequeue_pull_request",disableAutoMerge:"disable_auto_merge",dismissReview:"dismiss_review",enableAutoMerge:"enable_auto_merge",generateChangeGroups:"generate_change_groups",markReadyForReview:"mark_ready_for_review",merge:"merge",removeCommentReaction:"remove_comment_reaction",reRequestReviewFromUser:"re_request_review_from_user",resolveThread:"resolve_thread",runActionRequiredWorkflows:"run_action_required_workflows",submitCopilotGroupsFeedback:"submit_copilot_groups_feedback",submitReview:"submit_review",submitSuggestedChanges:"apply_suggestions",unresolveThread:"unresolve_thread",updateReviewComment:"update_review_comment",updatePullRequestBranch:"update_pull_request_branch",updateTitle:"update_title",updateShowChangeGroupsPreference:"update_show_change_groups_preference",updateMergeBoxUserPreference:"update_merge_box_user_preference",updateWhitespacePreference:"update_whitespace_preference",hideComment:"hide_comment",unhideComment:"unhide_comment"},i={...s,...n};Object.values(s),Object.values(n)},29731:(e,t,r)=>{r.d(t,{G:()=>s});let s=e=>({})},30459:(e,t,r)=>{r.d(t,{S:()=>l,s:()=>o});var s=r(16522),n=r(96540),i=r(53419),a=r(49936);function o(){let e,t,r=(0,s.c)(6),o=(0,n.use)(a.I);if(!o)throw Error("useAnalytics must be used within an AnalyticsContext");let{appName:l,category:c,metadata:u}=o;r[0]!==l||r[1]!==c||r[2]!==u?(e=(e,t,r)=>{let s={react:!0,app_name:l,category:c,...u};(0,i.BI)(e,{...s,...void 0===r?{}:r,target:t})},r[0]=l,r[1]=c,r[2]=u,r[3]=e):e=r[3];let d=e;return r[4]!==d?(t={sendAnalyticsEvent:d},r[4]=d,r[5]=t):t=r[5],t}function l(){let e,t,r=(0,s.c)(4),{sendAnalyticsEvent:n}=o();r[0]!==n?(e=e=>{n("analytics.click",void 0,void 0===e?{}:e)},r[0]=n,r[1]=e):e=r[1];let i=e;return r[2]!==i?(t={sendClickAnalyticsEvent:i},r[2]=i,r[3]=t):t=r[3],t}},33303:(e,t,r)=>{function s(){return Promise.resolve()}function n(){return new Promise(window.requestAnimationFrame)}async function i(e,t){let r,s=new Promise(t=>{r=self.setTimeout(t,e)});if(!t)return s;try{var n;await Promise.race([s,(n=t,new Promise((e,t)=>{let r=Error("aborted");r.name="AbortError",n.aborted?t(r):n.addEventListener("abort",()=>t(r))}))])}catch(e){throw self.clearTimeout(r),e}}function a(e){let t=[];return function(r){t.push(r),1===t.length&&queueMicrotask(()=>{let r=t.slice(0);t.length=0,e(r)})}}r.d(t,{G$:()=>n,k2:()=>s,rK:()=>a,uk:()=>i})},34665:(e,t,r)=>{r.d(t,{a:()=>s});function s(e,t,r){try{let s=new URL(e,window.location.origin).pathname.split("/").filter(Boolean);if(s.length<7||"actions"!==s[2]||"runs"!==s[3]||"job"!==s[5])return null;let n=s[0],i=s[1],a=s[4],o=s[6];if(!n||!i||!o||!a)return null;return{type:"job",id:parseInt(o,10),repoName:i,repoOwner:n,workflow:{id:parseInt(a,10)},jobName:r||null,jobFailed:t}}catch{return null}}},39619:(e,t,r)=>{r.d(t,{BX:()=>OpenCopilotChatEvent,HS:()=>a,Oc:()=>i,Tv:()=>c,Xr:()=>SymbolChangedEvent,f7:()=>o,fD:()=>l,qR:()=>n});var s=r(50467);let OpenCopilotChatEvent=class OpenCopilotChatEvent extends Event{constructor(e){super("open-copilot-chat",{bubbles:!1,cancelable:!0}),(0,s._)(this,"payload",void 0),this.payload=e}};Event;let AddCopilotChatReferenceEvent=class AddCopilotChatReferenceEvent extends Event{constructor(e,t=!1,r){super("add-copilot-chat-reference",{bubbles:!1,cancelable:!0}),(0,s._)(this,"reference",void 0),(0,s._)(this,"openPanel",void 0),(0,s._)(this,"id",void 0),this.reference=e,this.openPanel=t,this.id=r}};let SymbolChangedEvent=class SymbolChangedEvent extends Event{constructor(e){super("symbol-changed",{bubbles:!1,cancelable:!0}),(0,s._)(this,"context",void 0),this.context=e}};function n(e){window.dispatchEvent(new OpenCopilotChatEvent(e))}function i(e,t=!1,r){window.dispatchEvent(new AddCopilotChatReferenceEvent(e,t,r))}function a(e){return window.addEventListener("open-copilot-chat",e),()=>{window.removeEventListener("open-copilot-chat",e)}}function o(e){return window.addEventListener("add-copilot-chat-reference",e),()=>{window.removeEventListener("add-copilot-chat-reference",e)}}function l(e){return window.addEventListener("search-copilot-chat",e),()=>{window.removeEventListener("search-copilot-chat",e)}}function c(e){return window.addEventListener("symbol-changed",e),()=>{window.removeEventListener("symbol-changed",e)}}},40104:(e,t,r)=>{r.d(t,{D6:()=>d,Fo:()=>c,MV:()=>h,zB:()=>m});var s=r(50467),n=r(82075),i=r(96540);let a=(0,n.A)("sessionStorage"),o="session-storage-update",l=class UseSessionStorageUpdateEvent extends Event{constructor(e,t){super(o),(0,s._)(this,"storageKey",void 0),(0,s._)(this,"storageValue",void 0),this.storageKey=e,this.storageValue=t}};function c(e,t){let r=(0,i.useRef)(t);(0,i.useEffect)(()=>{r.current=t});let[s,n]=(0,i.useState)(()=>{let t=a.getItem(e);return t?JSON.parse(t):r.current}),c=(0,i.useCallback)(t=>{n(void 0!==t?t:r.current),void 0===t?a.removeItem(e):a.setItem(e,JSON.stringify(t)),document.dispatchEvent(new l(e,t))},[e]),u=(0,i.useCallback)(e=>{r.current=e},[r]);return(0,i.useEffect)(()=>{function t(t){if(t.storageKey===e){let e=t.storageValue;n(void 0!==e?e:r.current)}}document.addEventListener(o,t);let s=a.getItem(e);return s?n(JSON.parse(s)):n(r.current),()=>{document.removeEventListener(o,t)}},[e]),[s,c,u]}function u(e){let t=a.getKeys(),r=[];for(let s in t)t[s]?.startsWith(e)&&r.push(t[s]);return r}function d(e){for(let t of e)a.removeItem(t),document.dispatchEvent(new l(t,void 0))}function h(e){let t=[];for(let r of u(e)){let e=a.getItem(r);null!=e&&t.push(JSON.parse(e))}return t}function m(e){d(u(e))}},40235:(e,t,r)=>{r.d(t,{x:()=>E});var s,n=r(96540),i=r(70263),a=r(11418),o=r(73056),l=r(74848),c=r(16522),u=r(10204);let d=(0,n.createContext)(null),h=null;function m(e,t){let r=u.KK.parse(e);if(!r)throw Error(`Invalid channel name. Did you forget to sign it with \`signChannel("${e}")\`?`);return h||(h=new u.m0),h.add({topic:r,subscriber:t}),{unsubscribe:()=>{h?.delete({topic:r,subscriber:t})}}}try{d.displayName||(d.displayName="AliveTestContext")}catch{}try{(s=function(e){let t,r,s=(0,c.c)(4),{children:i,initialMessages:a}=e;return s[0]!==a?(t=()=>{let e=[];if(a)for(let[t,r]of a){let s=window.setTimeout(()=>{var e=t,s=r;if(null===h)throw Error('Test helper `dispatchAliveTestMessage` called outside `AliveTestProvider`. Please wrap your component under test in `AliveTestProvider` from "@github-ui/use-alive/test-utils".');for(let t of Array.from(h.subscribers(e)))t(s)},0);e.push(s)}return()=>{for(let t of(h=null,e))window.clearTimeout(t)}},s[0]=a,s[1]=t):t=s[1],(0,n.useEffect)(t),s[2]!==i?(r=(0,l.jsx)(d,{value:m,children:i}),s[2]=i,s[3]=r):r=s[3],r}).displayName||(s.displayName="AliveTestProvider")}catch{}function E(e,t){let r=(0,i.A)(),s=(0,n.use)(d);(0,n.useEffect)(()=>{let n=()=>{},i=!1;return async function(){if(e){if("function"==typeof s){let r=await s(e,t);r&&(n=r.unsubscribe);return}try{let s=await (0,a.H)();if(i)return;let l=(0,o.$)(s,e,t);l?.unsubscribe&&(r()?n=l.unsubscribe:l.unsubscribe())}catch(e){console.error(e)}}}(),()=>{i=!0,n()}},[e,t,r,s])}},45533:(e,t,r)=>{var s=r(7123),n=r(74848),i=r(16522),a=r(10422),o=r(17645),l=r(57224),c=r(50129),u=r(81353);function d(e){let t,r,s,d,h,m,E,_=(0,i.c)(20),{channels:g,defaultMergeMethod:S,pullRequestId:f,basePageDataUrl:p,viewerLogin:C,helpUrl:R,enabledFeatures:T}=e,v=(0,a.Uz)(S)?S:o.q$.MERGE;_[0]!==f?(t={pullRequestId:f,view:"show"},_[0]=f,_[1]=t):t=_[1];let N=t;return _[2]!==T?(r=T??{},_[2]=T,_[3]=r):r=_[3],_[4]!==g||_[5]!==R||_[6]!==C?(s=(0,n.jsx)("div",{className:"ml-md-6 pl-md-3 my-3","data-testid":"mergebox-partial",children:(0,n.jsx)(a.S4,{helpUrl:R,viewerLogin:C,channels:g})}),_[4]=g,_[5]=R,_[6]=C,_[7]=s):s=_[7],_[8]!==v||_[9]!==s?(d=(0,n.jsx)(a.OC,{defaultMergeMethod:v,children:s}),_[8]=v,_[9]=s,_[10]=d):d=_[10],_[11]!==N||_[12]!==d?(h=(0,n.jsx)(l.y,{appName:"pull_request",category:"mergebox_react_partial",metadata:N,children:d}),_[11]=N,_[12]=d,_[13]=h):h=_[13],_[14]!==r||_[15]!==h?(m=(0,n.jsx)(u.s,{features:r,children:h}),_[14]=r,_[15]=h,_[16]=m):m=_[16],_[17]!==p||_[18]!==m?(E=(0,n.jsx)(c.Kg,{basePageDataUrl:p,children:m}),_[17]=p,_[18]=m,_[19]=E):E=_[19],E}try{d.displayName||(d.displayName="MergeBoxPartial")}catch{}(0,s.k)("mergebox-partial",{Component:d})},46747:(e,t,r)=>{r.d(t,{d:()=>a});var s=r(31223),n=r(23125),i=r(96540);let a=(e,t,{leading:r=!1,maxWait:a,trailing:o=!0,onChangeBehavior:l="flush"}={})=>{let c=(0,s.M)(e),u=(0,i.useMemo)(()=>{let e=void 0===a?{leading:r,trailing:o}:{leading:r,trailing:o,maxWait:a};return(0,n.A)((...e)=>c.current(...e),t,e)},[c,t,r,a,o]);return(0,i.useEffect)(()=>()=>{u?.[l]()},[u,l]),u}},48845:(e,t,r)=>{r.d(t,{R:()=>i,hp:()=>n,ol:()=>AuthSessionExpiredError,q$:()=>a});var s=r(96379);let FetchRequestError=class FetchRequestError extends Error{constructor(e){super("Unable to perform this operation. Please try again later."),this.name="FetchRequestError",this.cause=e}};let ServerUnavailableError=class ServerUnavailableError extends Error{constructor(e){super("Unable to perform this operation. Please try again later."),this.name="ServerUnavailableError",this.cause=e}};let JSONParseFetchError=class JSONParseFetchError extends Error{constructor(e){super("Unable to read response from the server. Please try again later."),this.name="JSONParseFetchError",this.cause=e}};let AuthSessionExpiredError=class AuthSessionExpiredError extends Error{constructor(){super("Unable to perform this operation. Please try again later."),this.name="AuthSessionExpiredError"}};async function n(e){try{return await e.json()}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;throw new JSONParseFetchError(e)}}function i(e,t,r){if(!e.ok){if(e.status>=500)throw new ServerUnavailableError(e.status);if(r)throw r;if(t)throw Error(t?.error||"Unknown error occurred",{cause:e.status});throw Error(`HTTP ${e.status}`)}}async function a(e,t){try{return await (0,s.Sr)(e,t)}catch(e){throw new FetchRequestError(e)}}},50129:(e,t,r)=>{r.d(t,{Kg:()=>o,Yu:()=>l});var s=r(74848),n=r(16522),i=r(96540);let a=(0,i.createContext)(null);function o(e){let t,r,i=(0,n.c)(5),{children:o,basePageDataUrl:l}=e;i[0]!==l?(t={basePageDataUrl:l},i[0]=l,i[1]=t):t=i[1];let c=t;return i[2]!==o||i[3]!==c?(r=(0,s.jsx)(a,{value:c,children:o}),i[2]=o,i[3]=c,i[4]=r):r=i[4],r}function l(){let e=(0,i.use)(a);if(!e)throw Error("usePageDataContext must be used within a PageDataContextProvider");return e}try{a.displayName||(a.displayName="PageDataContext")}catch{}try{o.displayName||(o.displayName="PageDataContextProvider")}catch{}},51880:(e,t,r)=>{r.d(t,{B:()=>l});var s=r(74848),n=r(29731),i=r(34164),a=r(24347),o=r(29622);let l=({style:e,className:t,children:r})=>{let{isSelectable:l}=(0,a.v)(),{alignment:c}=(0,o.m)();return(0,s.jsx)("div",{className:(0,i.$)("LeadingContent-module__container--cui6v",l&&"LeadingContent-module__isSelectable--EzWvg","center"===c&&"LeadingContent-module__centerAligned--f1Pzo",t),...(0,n.G)("list-view-item-leading-content"),style:e,children:r})};try{l.displayName||(l.displayName="ListItemLeadingContent")}catch{}},53331:(e,t,r)=>{r.d(t,{A:()=>a,K:()=>n});var s=r(50467);function n(e){let t=[...e.querySelectorAll("meta[name=html-safe-nonce]")].map(e=>e.content);if(t.length<1)throw Error("could not find html-safe-nonce on document");return t}let i=class ResponseError extends Error{constructor(e,t){super(`${e} for HTTP ${t.status}`),(0,s._)(this,"response",void 0),this.response=t,this.name="ResponseError"}};function a(e,t,r=!1){let s=t.headers.get("content-type")||"";if(!r&&!s.startsWith("text/html"))throw new i(`expected response with text/html, but was ${s}`,t);if(r&&!(s.startsWith("text/html")||s.startsWith("application/json")))throw new i(`expected response with text/html or application/json, but was ${s}`,t);let n=t.headers.get("x-html-safe");if(n){if(!e.includes(n))throw new i("response X-HTML-Safe nonce did not match",t)}else throw new i("missing X-HTML-Safe nonce",t)}},53419:(e,t,r)=>{let s;r.d(t,{BI:()=>_,Ti:()=>g,lA:()=>m,sX:()=>E});var n=r(70837),i=r(18679),a=r(82075),o=r(56038),l=r(82518);let{getItem:c}=(0,a.A)("localStorage"),u="dimension_",d=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let e=(0,n.O)("octolytics");delete e.baseContext,s=new i.s(e)}catch{}function h(e){let t=(0,n.O)("octolytics").baseContext||{};if(t)for(let[e,r]of(delete t.app_id,delete t.event_url,delete t.host,Object.entries(t)))e.startsWith(u)&&(t[e.replace(u,"")]=r,delete t[e]);let r=o.XC?.querySelector("meta[name=visitor-payload]");for(let[e,s]of(r&&Object.assign(t,JSON.parse(atob(r.content))),new URLSearchParams(window.location.search)))d.includes(e.toLowerCase())&&(t[e]=s);return t.staff=(0,l.Xl)().toString(),Object.assign(t,e)}function m(e){s?.sendPageView(h(e))}function E(){return o.XC?.head?.querySelector('meta[name="current-catalog-service"]')?.content}function _(e,t={}){let r=E(),n=r?{service:r}:{};for(let[e,r]of Object.entries(t))null!=r&&(n[e]=`${r}`);s&&(h(n),s.sendEvent(e||"unknown",h(n)))}function g(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,JSON.stringify(t)]))}},53885:(e,t,r)=>{r.d(t,{e:()=>a});var s=r(16522),n=r(37285),i=r(50129);function a(e,t){let r,a=(0,s.c)(2),{basePageDataUrl:o}=(0,i.Yu)(),l=`${o}/page_data/${e}`;return t&&(l+=`?${t}`),a[0]!==l?(r=(0,n.RD)(l),a[0]=l,a[1]=r):r=a[1],r}},54571:(e,t,r)=>{r.d(t,{I:()=>i});var s=r(96540),n=r(76629);function i(e,t,r=[]){let a=(0,s.useCallback)(e,r),o=(0,n.BP)(),l=(0,s.useRef)(o===n.O8.ClientRender),[c,u]=(0,s.useState)(()=>o===n.O8.ClientRender?a():t),d=(0,s.useCallback)(()=>{u(a)},[a]);return(0,s.useLayoutEffect)(()=>{l.current||u(a),l.current=!1},[a,...r]),[c,d]}},55630:(e,t,r)=>{r.d(t,{A:()=>a});var s=r(74848),n=r(16522);function i(e){let t,r,i,a,o,l,c,u,d,h,m,E,_=(0,n.c)(26);if(_[0]!==e){let{size:s,as:n,icon:u,bg:d,"aria-label":h,style:m,className:E,...g}=e;c=s,t=u,i=d,r=h,l=m,a=E,o=g,_[0]=e,_[1]=t,_[2]=r,_[3]=i,_[4]=a,_[5]=o,_[6]=l,_[7]=c}else t=_[1],r=_[2],i=_[3],a=_[4],o=_[5],l=_[6],c=_[7];let g=void 0===c?32:c;return _[8]!==i||_[9]!==g?(u={backgroundColor:i,overflow:"hidden",borderWidth:0,borderRadius:"50%",borderStyle:"solid",borderColor:"var(--borderColor-default)",width:g,height:g},_[8]=i,_[9]=g,_[10]=u):u=_[10],_[11]!==g||_[12]!==l?(d={display:"flex",width:g,height:g,alignItems:"center",justifyContent:"center",...l},_[11]=g,_[12]=l,_[13]=d):d=_[13],_[14]!==t||_[15]!==r||_[16]!==g?(h=(0,s.jsx)(t,{size:g,"aria-label":r}),_[14]=t,_[15]=r,_[16]=g,_[17]=h):h=_[17],_[18]!==a||_[19]!==o||_[20]!==d||_[21]!==h?(m=(0,s.jsx)("div",{style:d,className:a,...o,children:h}),_[18]=a,_[19]=o,_[20]=d,_[21]=h,_[22]=m):m=_[22],_[23]!==u||_[24]!==m?(E=(0,s.jsx)("div",{style:u,children:m}),_[23]=u,_[24]=m,_[25]=E):E=_[25],E}let a=i;try{i.displayName||(i.displayName="CircleOcticon")}catch{}},65025:(e,t,r)=>{r.d(t,{r:()=>h});var s=r(74848),n=r(16522),i=r(38621),a=r(72511),o=r(84268),l=r(10095),c=r(20263);let u="FlashError-module__Flash--fKR6V";var d=r(34164);function h(e){let t,r=(0,n.c)(9),{prefix:i,errorMessageUsingPrefix:l,errorMessageNotUsingPrefix:h,hideRuleErrorsTitle:E,ruleErrors:_,helpUrl:g,flashRef:S}=e,f=(_?.length||0)>0;return r[0]!==h||r[1]!==l||r[2]!==S||r[3]!==g||r[4]!==E||r[5]!==f||r[6]!==i||r[7]!==_?(t=l||h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.A,{id:"flash",variant:"danger",className:(0,d.$)("d-flex flex-items-center flex-justify-between",u),tabIndex:-1,ref:S,children:l?(0,s.jsxs)("div",{children:[i," ",(0,s.jsx)(c.BC,{className:"FlashError-module__SafeHTMLText--J8lL9",html:l}),f&&g&&(0,s.jsx)(o.A,{href:`${g}/repositories/configuring-branches-and-merges-in-your-repository/managing-rulesets/about-rulesets`,className:"FlashError-module__Link--doNrG",children:"Learn more about rulesets."})]}):h&&(0,s.jsx)("div",{children:h})}),f&&(0,s.jsxs)("div",{className:u,children:[!E&&(0,s.jsx)("div",{className:"FlashError-module__ruleViolationsTitle--rHHNU",children:"Repository rule violations found:"}),_?.map(m)]})]}):null,r[0]=h,r[1]=l,r[2]=S,r[3]=g,r[4]=E,r[5]=f,r[6]=i,r[7]=_,r[8]=t):t=r[8],t}function m(e){return(0,s.jsxs)("div",{className:"FlashError-module__ruleViolationRow--ekTTM",children:[(0,s.jsx)(l.A,{icon:i.XCircleFillIcon,size:16,className:"FlashError-module__Octicon--U4ZWa"}),(0,s.jsx)("div",{className:"FlashError-module__ruleViolationText--Oe758",children:e})]},e)}try{h.displayName||(h.displayName="FlashError")}catch{}},65411:(e,t,r)=>{r.d(t,{JR:()=>CopilotAuthTokenProvider,UZ:()=>o,yj:()=>CopilotAuthTokenUnlicensedError});var s=r(50467),n=r(65620),i=r(82075),a=r(96379);let o="COPILOT_AUTH_TOKEN";let CopilotAuthTokenProvider=class CopilotAuthTokenProvider{async getAuthToken(){if(this.isUnlicensed)throw new CopilotAuthTokenUnlicensedError("User is not licensed for Copilot");let e=this.getLocalStorageAuthToken();return e?this.validateAuthToken(e):this.fetchAuthToken()}setLocalStorageAuthToken(e){this.copilotLocalStorage.setItem(this.storageKey,JSON.stringify(e.serialize()))}getLocalStorageAuthToken(){let e=this.copilotLocalStorage.getItem(this.storageKey);return e?n.Y.deserialize(JSON.parse(e)):null}removeLocalStorageAuthToken(){this.copilotLocalStorage.removeItem(this.storageKey)}async validateAuthToken(e){return e.needsRefreshing(this.ssoOrgIDs)?this.fetchAuthToken():e}fetchAuthToken(e=!1){return e&&(this.currentAuthTokenRequest=null),this.currentAuthTokenRequest||(this.currentAuthTokenRequest=this._fetchAuthToken(e)),this.currentAuthTokenRequest}async _fetchAuthToken(e=!1){try{let t=e?`${this.tokenEndpoint}?force_refresh=true`:this.tokenEndpoint,r=await (0,a.lS)(t,{method:"POST"});if(r.ok){let e=await r.json(),t=n.Y.fromResult(e,this.ssoOrgIDs);return this.ssoOrgIDs=t.ssoOrgIDs,this.setLocalStorageAuthToken(t),this.isUnlicensed=!1,t}if(404===r.status)throw this.isUnlicensed=!0,new CopilotAuthTokenUnlicensedError("Copilot auth token endpoint not found (404)");throw Error("Failed to mint new auth token")}finally{this.currentAuthTokenRequest=null}}constructor(e,t="/github-copilot/chat/token",r=o){(0,s._)(this,"tokenEndpoint",void 0),(0,s._)(this,"storageKey",void 0),(0,s._)(this,"ssoOrgIDs",void 0),(0,s._)(this,"currentAuthTokenRequest",void 0),(0,s._)(this,"isUnlicensed",void 0),(0,s._)(this,"copilotLocalStorage",void 0),this.ssoOrgIDs=e,this.currentAuthTokenRequest=null,this.isUnlicensed=!1,this.copilotLocalStorage=(0,i.A)("localStorage",{throwQuotaErrorsOnSet:!1,ttl:864e5}),this.storageKey=r,this.tokenEndpoint=t}};let CopilotAuthTokenUnlicensedError=class CopilotAuthTokenUnlicensedError extends Error{constructor(e){super(e),this.name="CopilotAuthTokenUnlicensedError"}}},65620:(e,t,r)=>{r.d(t,{Y:()=>AuthToken});var s=r(50467);let AuthToken=class AuthToken{get authorizationHeaderValue(){return`GitHub-Bearer ${this.value}`}needsRefreshing(e){return this.isExpired||this.ssoChanged(e)}get isExpired(){let e=new Date(this.expiration);return new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()))<new Date(Date.now()+15e3)}ssoChanged(e){return!(this.ssoOrgIDs.every(t=>e.includes(t))&&e.every(e=>this.ssoOrgIDs.includes(e)))}static fromResult(e,t){return new AuthToken(e.token,e.expiration,e.ssoOrgIDs??t)}serialize(){return{value:this.value,expiration:this.expiration,ssoOrgIDs:this.ssoOrgIDs}}static deserialize(e){return new AuthToken(e.value,e.expiration,e.ssoOrgIDs)}constructor(e,t,r){(0,s._)(this,"value",void 0),(0,s._)(this,"expiration",void 0),(0,s._)(this,"ssoOrgIDs",void 0),this.value=e,this.expiration=t,this.ssoOrgIDs=r}}},65820:(e,t,r)=>{r.d(t,{H:()=>n});var s=r(48845);async function n(e,t,r){let n=await (0,s.q$)(e);if(401===n.status){let e=r.getQueryData(t);if(!e)throw new s.ol;return e}let i=await (0,s.hp)(n);return(0,s.R)(n),i}},65964:(e,t,r)=>{r.d(t,{e:()=>E});var s=r(74848),n=r(29731),i=r(9141),a=r(10436),o=r(34164),l=r(96540),c=r(35220),u=r(29622),d=r(49744),h=r(27603);let m=()=>(0,s.jsx)("div",{className:"UnreadIndicator-module__container--X6F4o",children:(0,s.jsx)("span",{className:"sr-only",...(0,n.G)("list-view-item-unread-indicator"),children:"New activity."})});try{m.displayName||(m.displayName="ListItemUnreadIndicator")}catch{}function E({icon:e,color:t,description:r,newActivity:E=!1,className:_,children:g,size:S=16,...f}){let{variant:p}=(0,c.e)(),{setStatus:C}=(0,h.x)(),{setHasNewActivity:R}=(0,d.I)(),T=r?.trim(),{alignment:v}=(0,u.m)(),N=(0,i.tv)(S,16);(0,l.useEffect)(()=>{R(E)},[E,R]),(0,l.useEffect)(()=>{T&&C(T)},[C,T]);let I="center"===v?0:("compact"===p?18:E?13:22)-N/2;return(0,s.jsxs)("div",{className:(0,o.$)("LeadingVisual-module__outer--qS9Ac",_),style:{marginTop:`${I}px`},...f,children:[(0,s.jsx)("div",{children:(0,s.jsxs)("div",{...(0,n.G)("list-view-leading-visual"),className:"LeadingVisual-module__inner--GeEeG",style:{width:`${N}px`,height:`${N}px`},children:[e&&(0,s.jsx)(a.m4,{"aria-label":"",icon:e,color:t}),g,T&&(0,s.jsx)("span",{className:"sr-only",...(0,n.G)("leading-visual-text-description"),children:T})]})}),E&&(0,s.jsx)(m,{})]})}try{E.displayName||(E.displayName="ListItemLeadingVisual")}catch{}},69759:(e,t,r)=>{r.d(t,{B:()=>s});function s(e,t){let r=e.createElement("template");return r.innerHTML=t,e.importNode(r.content,!0)}},70263:(e,t,r)=>{r.d(t,{A:()=>i});var s=r(16522),n=r(96540);function i(){let e,t,r,i=(0,s.c)(3),a=(0,n.useRef)(!1);i[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>a.current,i[0]=e):e=i[0];let o=e;return i[1]===Symbol.for("react.memo_cache_sentinel")?(t=()=>(a.current=!0,()=>{a.current=!1}),r=[],i[1]=t,i[2]=r):(t=i[1],r=i[2]),(0,n.useLayoutEffect)(t,r),o}},72931:(e,t,r)=>{function s(){return{favicon:document.querySelector('.js-site-favicon[type="image/svg+xml"]'),faviconFallback:document.querySelector('.js-site-favicon[type="image/png"]')}}function n(e){let{favicon:t,faviconFallback:r}=s();if(!t||!r)return;let n=l();e=e.substr(0,e.lastIndexOf(".")),t.href=e=`${e}${n}.svg`;let i=t.href.substr(0,t.href.lastIndexOf("."));r.href=`${i}.png`}function i(){let{favicon:e,faviconFallback:t}=s();if(!e||!t)return;let r=l(),n=e.href.indexOf("-dark.svg"),i=e.href.substr(0,-1!==n?n:e.href.lastIndexOf("."));e.href=`${i}${r}.svg`,t.href=`${i}${r}.png`}function a(e){let{favicon:t,faviconFallback:r}=s();if(!t||!r)return;let n=t.getAttribute("data-base-href"),i="default"===e?"":`-${e}`,a=l();n&&(t.href=`${n}${i}${a}.svg`,r.href=`${n}${i}${a}.png`)}function o(){a("default")}function l(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"-dark":""}r.d(t,{Ow:()=>n,gd:()=>o,iD:()=>a,uQ:()=>i})},73017:(e,t,r)=>{r.d(t,{$6:()=>c,JR:()=>o,Jg:()=>d,vb:()=>a});var s=r(74848),n=r(16522),i=r(12683);let a=h(i.az),o=h(i.EY),l=e=>{let t,r,i,a=(0,n.c)(6);return a[0]!==e?({ref:r,...t}=e,a[0]=e,a[1]=t,a[2]=r):(t=a[1],r=a[2]),a[3]!==t||a[4]!==r?(i=(0,s.jsx)("div",{...t,ref:r}),a[3]=t,a[4]=r,a[5]=i):i=a[5],i};l.displayName="Div";let c=h(l),u=e=>{let t,r,i,a=(0,n.c)(6);return a[0]!==e?({ref:r,...t}=e,a[0]=e,a[1]=t,a[2]=r):(t=a[1],r=a[2]),a[3]!==t||a[4]!==r?(i=(0,s.jsx)("bdi",{...t,ref:r}),a[3]=t,a[4]=r,a[5]=i):i=a[5],i};u.displayName="Bdi";let d=h(u);function h(e){let t=t=>{let r,i,a,o,l=(0,n.c)(8);l[0]!==t?({html:r,...i}=t,l[0]=t,l[1]=r,l[2]=i):(r=l[1],i=l[2]);let c=i;return l[3]!==r?(a=r?{__html:r}:void 0,l[3]=r,l[4]=a):a=l[4],l[5]!==c||l[6]!==a?(o=(0,s.jsx)(e,{...c,dangerouslySetInnerHTML:a}),l[5]=c,l[6]=a,l[7]=o):o=l[7],o};return t.displayName=`SafeHTML${e.displayName||e.name}`,t}try{a.displayName||(a.displayName="VerifiedHTMLBox")}catch{}try{o.displayName||(o.displayName="VerifiedHTMLText")}catch{}try{c.displayName||(c.displayName="VerifiedHTMLDiv")}catch{}try{d.displayName||(d.displayName="VerifiedHTMLBdi")}catch{}},73056:(e,t,r)=>{r.d(t,{$:()=>a});var s=r(10204),n=r(33303);let i=new WeakMap;function a(e,t,r){let a;if(!e)throw Error("Not connected to alive");if(!t)throw Error("No channel name");let o=s.KK.parse(t);if(!o)throw Error("Invalid channel name");let l={subscriber:{dispatchEvent:e=>{e instanceof CustomEvent&&r(e.detail.data)}},topic:o},c=((a=i.get(e))||(a={subscribe:(0,n.rK)(t=>e.subscribe(t.flat())),unsubscribeAll:(0,n.rK)(t=>e.unsubscribeAll(...t))},i.set(e,a)),a);return c.subscribe([l]),{unsubscribe:()=>c.unsubscribeAll(l.subscriber)}}},77430:(e,t,r)=>{r.d(t,{r:()=>o});var s=r(74848),n=r(16522),i=r(56038),a=r(12683);function o(e){let t,r,o,l,c,u,d,h=(0,n.c)(15);h[0]!==e?({ref:r,src:o,size:c,sx:l,...t}=e,h[0]=e,h[1]=t,h[2]=r,h[3]=o,h[4]=l,h[5]=c):(t=h[1],r=h[2],o=h[3],l=h[4],c=h[5]);let m=void 0===c?20:c;if(h[6]!==m||h[7]!==o){let e=new URL(o,i.fV.origin);e.searchParams.has("size")||e.searchParams.has("s")||e.searchParams.set("size",String(2*Number(m))),u=e.toString(),h[6]=m,h[7]=o,h[8]=u}else u=h[8];let E=u;return h[9]!==E||h[10]!==t||h[11]!==r||h[12]!==m||h[13]!==l?(d=(0,s.jsx)(a.eu,{src:E,size:m,"data-testid":"github-avatar",sx:l,...t,ref:r}),h[9]=E,h[10]=t,h[11]=r,h[12]=m,h[13]=l,h[14]=d):d=h[14],d}try{o.displayName||(o.displayName="GitHubAvatar")}catch{}},78314:(e,t,r)=>{r.d(t,{d:()=>o,t:()=>l});var s=r(74848),n=r(16522),i=r(96540);let a=i.createContext({});function o(e){let t,r=(0,n.c)(3),{repository:i,children:o}=e;return r[0]!==o||r[1]!==i?(t=(0,s.jsxs)(a,{value:i,children:[" ",o," "]}),r[0]=o,r[1]=i,r[2]=t):t=r[2],t}function l(){return i.use(a)}try{a.displayName||(a.displayName="CurrentRepositoryContext")}catch{}try{o.displayName||(o.displayName="CurrentRepositoryProvider")}catch{}},79064:(e,t,r)=>{r.d(t,{Jt:()=>h,iI:()=>m});var s=r(50467),n=r(31635),i=r(16522),a=r(45062),o=r(65411),l=r(82075),c=r(96540),u=r(25641),d=r(35247);let CopilotLocalStorage=class CopilotLocalStorage{get selectedThreadID(){return this.localStorage.getItem(this.COPILOT_SELECTED_THREAD_ID_STORAGE_KEY)}set selectedThreadID(e){let t=this.COPILOT_SELECTED_THREAD_ID_STORAGE_KEY;null==e?this.localStorage.removeItem(t):this.localStorage.setItem(t,e)}getModel(e){this.lastCheckedModelVersion!==this.CURRENT_MODEL_STORAGE_VERSION&&null===e&&this.checkAndClearModelSelection();let t=this.mediumStorage.getItem(this.COPILOT_SELECTED_MODEL_STORAGE_KEY(e));return null===t?t:JSON.parse(t)}setModel(e,t){this.mediumStorage.setItem(this.COPILOT_SELECTED_MODEL_STORAGE_KEY(e),JSON.stringify(t)),e&&this.mediumStorage.setItem(this.COPILOT_SELECTED_MODEL_STORAGE_KEY(null),JSON.stringify(t))}checkAndClearModelSelection(){this.lastCheckedModelVersion=this.CURRENT_MODEL_STORAGE_VERSION,d.W.clearModelSelectionForDefaultChange&&this.longStorage.getItem(this.COPILOT_SELECTED_MODEL_VERSION_KEY)!==this.CURRENT_MODEL_STORAGE_VERSION&&(this.mediumStorage.removeItem(this.COPILOT_SELECTED_MODEL_STORAGE_KEY(null)),this.longStorage.setItem(this.COPILOT_SELECTED_MODEL_VERSION_KEY,this.CURRENT_MODEL_STORAGE_VERSION))}get settings(){let e=this.localStorage.getItem(this.COPILOT_SETTINGS_STORAGE_KEY(this.selectedThreadID));return null===e?e:JSON.parse(e)}set settings(e){this.localStorage.setItem(this.COPILOT_SETTINGS_STORAGE_KEY(this.selectedThreadID),JSON.stringify(e))}getPanelHeight(){let e=this.localStorage.getItem(this.COPILOT_PANEL_HEIGHT);return e?parseInt(e):this.DEFAULT_PANEL_HEIGHT}setPanelHeight(e){let t=this.COPILOT_PANEL_HEIGHT;this.localStorage.setItem(t,e.toString())}getPanelWidth(){let e=this.localStorage.getItem(this.COPILOT_PANEL_WIDTH);return e?parseInt(e):this.DEFAULT_PANEL_WIDTH}setPanelWidth(e){let t=this.COPILOT_PANEL_WIDTH;this.localStorage.setItem(t,e.toString())}getRepoCustomInstructionsState(){return"false"!==this.localStorage.getItem(this.COPILOT_REPO_CUSTOM_INSTRUCTIONS_STATE_KEY)}setRepoCustomInstructionsState(e){let t=this.COPILOT_REPO_CUSTOM_INSTRUCTIONS_STATE_KEY;this.localStorage.setItem(t,e.toString())}getCollapsedState(){return"false"!==this.sessionStorage.getItem(this.COPILOT_COLLAPSED_STATE_KEY)}setCollapsedState(e){let t=this.COPILOT_COLLAPSED_STATE_KEY;this.sessionStorage.setItem(t,e.toString())}getSelectedTopic(e){return this.localStorage.getItem(this.COPILOT_SELECTED_TOPIC_STORAGE_KEY(e))}setSelectedTopic(e,t){if(null==t)return void this.localStorage.removeItem(this.COPILOT_SELECTED_TOPIC_STORAGE_KEY(e));let r=this.COPILOT_SELECTED_TOPIC_STORAGE_KEY(e);this.localStorage.setItem(r,t)}getSavedMessage(e){return this.localStorage.getItem(this.COPILOT_SAVED_USER_MESSAGE_KEY(e))}setSavedMessage(e,t){this.setSavedMessageFast(e,t)}setSavedMessageFast(e,t){let r=this.COPILOT_SAVED_USER_MESSAGE_KEY(e);null==t?this.localStorage.removeItem(r):this.localStorage.setItem(r,t)}clearSavedUserMessage(e){this.localStorage.removeItem(this.COPILOT_SAVED_USER_MESSAGE_KEY(e))}getSavedUserMessageOnError(e){return this.localStorage.getItem(this.COPILOT_SAVED_USER_MESSAGE_ON_ERROR_KEY(e))}setSavedUserMessageOnError(e,t){let r=this.COPILOT_SAVED_USER_MESSAGE_ON_ERROR_KEY(e);null==t?this.localStorage.removeItem(r):this.localStorage.setItem(r,t)}clearSavedUserMessageOnError(e){this.localStorage.removeItem(this.COPILOT_SAVED_USER_MESSAGE_ON_ERROR_KEY(e))}getEntrypointMessage(e){return this.getEntrypointMessageImpl(this.COPILOT_ENTRYPOINT_MESSAGE_KEY(e))}getEntrypointMessageImpl(e){let t,r=this.localStorage.getItem(e);if(null==r)return null;try{t=JSON.parse(r)}catch{return null}return t&&t.message?{message:t.message,references:t.references,model:t.model,mediaContent:t.mediaContent,branch:t.branch}:null}clearEntrypointMessage(e){this.localStorage.removeItem(this.COPILOT_ENTRYPOINT_MESSAGE_KEY(e))}setEntrypointMessage({message:e,references:t,model:r,mediaContent:s,threadID:n}){this.setEntrypointMessageImpl({message:e,references:t,model:r,mediaContent:s,key:this.COPILOT_ENTRYPOINT_MESSAGE_KEY(n)})}setEntrypointMessageImpl({message:e,references:t,model:r,mediaContent:s,branch:n,key:i}){null==e?this.localStorage.removeItem(i):this.localStorage.setItem(i,JSON.stringify({message:e,references:t,model:r,mediaContent:s,branch:n}))}getTaskEntrypointMessage(){return this.getEntrypointMessageImpl(this.COPILOT_TASK_ENTRYPOINT_MESSAGE_KEY)}setTaskEntrypointMessage(e,t,r){this.setEntrypointMessageImpl({message:e,references:t,branch:r,key:this.COPILOT_TASK_ENTRYPOINT_MESSAGE_KEY})}getLoopEntrypointMessage(){return this.getEntrypointMessageImpl(this.COPILOT_LOOP_ENTRYPOINT_MESSAGE_KEY)}setLoopEntrypointMessage(e,t){this.setEntrypointMessageImpl({message:e,references:t,key:this.COPILOT_LOOP_ENTRYPOINT_MESSAGE_KEY})}getSparkEntrypointMessage(){return this.getEntrypointMessageImpl(this.COPILOT_SPARK_ENTRYPOINT_MESSAGE_KEY)}setSparkEntrypointMessage(e){this.setEntrypointMessageImpl({message:e,key:this.COPILOT_SPARK_ENTRYPOINT_MESSAGE_KEY})}getLastUsedRepository(){let e=this.localStorage.getItem(this.COPILOT_LAST_USED_REPOSITORY_KEY);if(!e)return null;try{return JSON.parse(e)}catch{return null}}setLastUsedRepository(e){this.localStorage.setItem(this.COPILOT_LAST_USED_REPOSITORY_KEY,JSON.stringify(e))}getCurrentReferences(e){let t=this.COPILOT_CURRENT_REFERENCES_KEY(e),r=this.localStorage.getItem(t);return r?JSON.parse(r):null}setCurrentReferences(e,t){let r=this.COPILOT_CURRENT_REFERENCES_KEY(e),s=t.filter((e,r)=>r===t.findIndex(t=>(0,u.Vb)(e)===(0,u.Vb)(t)));this.localStorage.setItem(r,JSON.stringify(s))}clearCurrentReferences(e){let t=this.COPILOT_CURRENT_REFERENCES_KEY(e);this.localStorage.removeItem(t)}migrateNullThreadToNewThread(e){let t=this.getSavedMessage(null);this.setSavedMessageFast(null,null),t&&this.setSavedMessageFast(e,t);let r=this.getCurrentReferences(null);this.clearCurrentReferences(null),r&&this.setCurrentReferences(e,r);let s=this.settings;s&&this.localStorage.setItem(this.COPILOT_SETTINGS_STORAGE_KEY(e),JSON.stringify(s)),this.selectedThreadID=e,this.localStorage.removeItem(this.COPILOT_SETTINGS_STORAGE_KEY(null))}getImmersiveSidebarCollapsedState(){let e=this.localStorage.getItem(this.COPILOT_IMMERSIVE_SIDEBAR_COLLAPSED_STATE_KEY);return null===e||"true"===e}setImmersiveSidebarCollapsedState(e){this.localStorage.setItem(this.COPILOT_IMMERSIVE_SIDEBAR_COLLAPSED_STATE_KEY,String(e))}getCopilotDiffReferences(){let e=this.localStorage.getItem(this.COPILOT_DIFF_REFERENCES_KEY);return e?JSON.parse(e):null}setCopilotDiffReferences(e){let t=Array.isArray(e)?e:[e];this.localStorage.setItem(this.COPILOT_DIFF_REFERENCES_KEY,JSON.stringify(t))}removeCopilotDiffReferences(){this.localStorage.removeItem(this.COPILOT_DIFF_REFERENCES_KEY)}clearAuthToken(){this.localStorage.removeItem(o.UZ)}getMeterBannerFlag(){let e=this.localStorage.getItem(this.COPILOT_METER_BANNER_FLAG);return null===e?null:"true"===e}setMeterBannerFlag(e){this.localStorage.setItem(this.COPILOT_METER_BANNER_FLAG,String(e))}removeMeterBannerFlag(){this.localStorage.removeItem(this.COPILOT_METER_BANNER_FLAG)}getQuotaExceededBannerFlag(){let e=this.tempStorage.getItem(this.COPILOT_QUOTA_EXCEEDED_BANNER_FLAG);return null===e?null:"true"===e}setQuotaExceededBannerFlag(e){this.tempStorage.setItem(this.COPILOT_QUOTA_EXCEEDED_BANNER_FLAG,String(e))}removeQuotaExceededBannerFlag(){this.tempStorage.removeItem(this.COPILOT_QUOTA_EXCEEDED_BANNER_FLAG)}getCodingAgentQuotaBannerDismissed(e){if(!e)return!1;let t=`${this.COPILOT_CODING_AGENT_QUOTA_BANNER_DISMISSED_PREFIX}${e}`;return"true"===this.localStorage.getItem(t)}setCodingAgentQuotaBannerDismissed(e){if(!e)return;let t=`${this.COPILOT_CODING_AGENT_QUOTA_BANNER_DISMISSED_PREFIX}${e}`;this.localStorage.setItem(t,"true")}getSkuSuccessBannerFlag(e){return this.getBooleanFlag(this.skuSuccessBannerKey(e))}setSkuSuccessBannerFlag(e,t){this.tempStorage.setItem(this.skuSuccessBannerKey(e),String(t))}removeSkuSuccessBannerFlag(e){this.tempStorage.removeItem(this.skuSuccessBannerKey(e))}getAnimationFlag(){return this.getBooleanFlag(this.COPILOT_ANIMATION_FLAG)}setAnimationFlag(e){this.tempStorage.setItem(this.COPILOT_ANIMATION_FLAG,String(e))}removeAnimationFlag(){this.tempStorage.removeItem(this.COPILOT_ANIMATION_FLAG)}getTracingRequestedFlag(){return"true"===this.localStorage.getItem(this.COPILOT_TRACING_REQUESTED_FLAG)}setTracingRequestedFlag(e){this.localStorage.setItem(this.COPILOT_TRACING_REQUESTED_FLAG,String(e))}getWrapCodeLines(){return"true"===this.localStorage.getItem(this.COPILOT_WRAP_CODE_LINES_KEY)}setWrapCodeLines(e){this.localStorage.setItem(this.COPILOT_WRAP_CODE_LINES_KEY,String(e))}getBooleanFlag(e,t=this.tempStorage){let r=t.getItem(e);return null===r?null:"true"===r}getSpacesMcpBannerDismissalCount(){let e=this.localStorage.getItem(this.COPILOT_SPACES_MCP_BANNER_DISMISSAL_COUNT);return e?parseInt(e,10):0}setSpacesMcpBannerDismissalCount(e){let t=this.COPILOT_SPACES_MCP_BANNER_DISMISSAL_COUNT;this.localStorage.setItem(t,e.toString())}getSpacesSelectedTab(){return this.localStorage.getItem(this.COPILOT_SPACES_SELECTED_TAB)||"personal"}setSpacesSelectedTab(e){let t=this.COPILOT_SPACES_SELECTED_TAB;this.localStorage.setItem(t,e)}getLastSelectedSpace(){let e=this.localStorage.getItem(this.COPILOT_SPACES_SELECTION_MENU_LAST_SELECTED_SPACE);if(e)try{return JSON.parse(e)}catch{return}}setLastSelectedSpace(e){let t=this.COPILOT_SPACES_SELECTION_MENU_LAST_SELECTED_SPACE;void 0===e?this.localStorage.removeItem(t):this.localStorage.setItem(t,JSON.stringify(e))}getActiveMode(){return this.longStorage.getItem(this.COPILOT_ACTIVE_MODE_KEY)}setActiveMode(e){this.longStorage.setItem(this.COPILOT_ACTIVE_MODE_KEY,e)}getLandedOnAgentsView(){return"true"===this.sessionStorage.getItem(this.COPILOT_LANDED_ON_AGENTS_VIEW_KEY)}setLandedOnAgentsView(e){this.sessionStorage.setItem(this.COPILOT_LANDED_ON_AGENTS_VIEW_KEY,String(e))}skuSuccessBannerKey(e){return`COPILOT_${e.toUpperCase()}_SUCCESS_BANNER_FLAG`}retrieveAndValidateRequestIDs(){let e=this.localStorage.getItem(this.COPILOT_MESSAGE_REQUEST_ID_KEY);try{let t=JSON.parse(e||"[]");if(!Array.isArray(t)||0===t.length)return[];return t.filter(e=>"string"==typeof e.messageID&&"string"==typeof e.requestID)}catch{return[]}}addRequestID(e,t){let r=this.retrieveAndValidateRequestIDs(),s=r.findIndex(t=>t.messageID===e);-1!==s&&r.splice(s,1),r.push({messageID:e,requestID:t}),r.length>this.MAX_MESSAGE_REQUEST_ID_STORAGE_COUNT&&r.shift(),this.localStorage.setItem(this.COPILOT_MESSAGE_REQUEST_ID_KEY,JSON.stringify(r))}getRequestID(e){let t=this.retrieveAndValidateRequestIDs().find(t=>t.messageID===e);return t?t.requestID:void 0}constructor(){(0,s._)(this,"COPILOT_REPO_CUSTOM_INSTRUCTIONS_STATE_KEY","COPILOT_REPO_CUSTOM_INSTRUCTIONS_STATE_KEY"),(0,s._)(this,"COPILOT_SELECTED_THREAD_ID_STORAGE_KEY","COPILOT_SELECTED_THREAD_ID_STORAGE_KEY"),(0,s._)(this,"COPILOT_COLLAPSED_STATE_KEY","COPILOT_COLLAPSED_STATE_KEY"),(0,s._)(this,"COPILOT_IMMERSIVE_SIDEBAR_COLLAPSED_STATE_KEY","COPILOT_IMMERSIVE_SIDEBAR_COLLAPSED_STATE_KEY"),(0,s._)(this,"COPILOT_PANEL_HEIGHT","COPILOT_PANEL_HEIGHT"),(0,s._)(this,"DEFAULT_PANEL_HEIGHT",600),(0,s._)(this,"COPILOT_PANEL_WIDTH","COPILOT_PANEL_WIDTH"),(0,s._)(this,"COPILOT_ENTRYPOINT_MESSAGE_KEY",e=>e?`COPILOT_ENTRYPOINT_MESSAGE_KEY_${e}`:"COPILOT_ENTRYPOINT_MESSAGE_KEY"),(0,s._)(this,"COPILOT_TASK_ENTRYPOINT_MESSAGE_KEY","COPILOT_TASK_ENTRYPOINT_MESSAGE_KEY"),(0,s._)(this,"COPILOT_LOOP_ENTRYPOINT_MESSAGE_KEY","COPILOT_LOOP_ENTRYPOINT_MESSAGE_KEY"),(0,s._)(this,"COPILOT_SPARK_ENTRYPOINT_MESSAGE_KEY","COPILOT_SPARK_ENTRYPOINT_MESSAGE_KEY"),(0,s._)(this,"COPILOT_MESSAGE_REQUEST_ID_KEY","COPILOT_MESSAGE_REQUEST_ID_KEY"),(0,s._)(this,"COPILOT_METER_BANNER_FLAG","COPILOT_METER_BANNER_FLAG"),(0,s._)(this,"COPILOT_QUOTA_EXCEEDED_BANNER_FLAG","COPILOT_QUOTA_EXCEEDED_BANNER_FLAG"),(0,s._)(this,"COPILOT_CODING_AGENT_QUOTA_BANNER_DISMISSED_PREFIX","COPILOT_CODING_AGENT_QUOTA_BANNER_DISMISSED_"),(0,s._)(this,"COPILOT_ANIMATION_FLAG","COPILOT_ANIMATION_FLAG"),(0,s._)(this,"COPILOT_WRAP_CODE_LINES_KEY","COPILOT_WRAP_CODE_LINES_KEY"),(0,s._)(this,"COPILOT_TRACING_REQUESTED_FLAG","COPILOT_TRACING_REQUESTED_FLAG"),(0,s._)(this,"COPILOT_DIFF_REFERENCES_KEY","COPILOT_DIFF_REFERENCES_KEY"),(0,s._)(this,"COPILOT_SPACES_MCP_BANNER_DISMISSAL_COUNT","COPILOT_SPACES_MCP_BANNER_DISMISSAL_COUNT"),(0,s._)(this,"COPILOT_SPACES_SELECTED_TAB","COPILOT_SPACES_SELECTED_TAB"),(0,s._)(this,"COPILOT_SPACES_SELECTION_MENU_LAST_SELECTED_SPACE","COPILOT_SPACES_SELECTION_MENU_LAST_SELECTED_SPACE"),(0,s._)(this,"COPILOT_LAST_USED_REPOSITORY_KEY","COPILOT_LAST_USED_REPOSITORY_KEY"),(0,s._)(this,"COPILOT_ACTIVE_MODE_KEY","COPILOT_ACTIVE_MODE_KEY"),(0,s._)(this,"COPILOT_SELECTED_MODEL_VERSION_KEY","COPILOT_SELECTED_MODEL_VERSION"),(0,s._)(this,"COPILOT_LANDED_ON_AGENTS_VIEW_KEY","COPILOT_LANDED_ON_AGENTS_VIEW_KEY"),(0,s._)(this,"lastCheckedModelVersion",null),(0,s._)(this,"MAX_MESSAGE_REQUEST_ID_STORAGE_COUNT",100),(0,s._)(this,"DEFAULT_PANEL_WIDTH",480),(0,s._)(this,"CURRENT_MODEL_STORAGE_VERSION","7"),(0,s._)(this,"COPILOT_SELECTED_MODEL_STORAGE_KEY",e=>`COPILOT_SELECTED_MODEL_${e}`),(0,s._)(this,"COPILOT_SETTINGS_STORAGE_KEY",e=>`COPILOT_SETTINGS_${e}`),(0,s._)(this,"COPILOT_SAVED_USER_MESSAGE_KEY",e=>`COPILOT_SAVED_USER_MESSAGE_${e}`),(0,s._)(this,"COPILOT_SAVED_USER_MESSAGE_ON_ERROR_KEY",e=>`COPILOT_SAVED_USER_MESSAGE_ON_ERROR_${e}`),(0,s._)(this,"COPILOT_CURRENT_REFERENCES_KEY",e=>`COPILOT_CURRENT_REFERENCES_${e}`),(0,s._)(this,"COPILOT_SELECTED_TOPIC_STORAGE_KEY",e=>`COPILOT_SELECTED_TOPIC_${e}`),(0,s._)(this,"localStorage",(0,l.A)("localStorage",{throwQuotaErrorsOnSet:!1,ttl:864e5})),(0,s._)(this,"mediumStorage",(0,l.A)("localStorage",{throwQuotaErrorsOnSet:!1,ttl:24192e5})),(0,s._)(this,"longStorage",(0,l.A)("localStorage",{throwQuotaErrorsOnSet:!1})),(0,s._)(this,"tempStorage",(0,l.A)("localStorage",{throwQuotaErrorsOnSet:!1,ttl:18e5})),(0,s._)(this,"sessionStorage",(0,l.A)("sessionStorage",{throwQuotaErrorsOnSet:!1,ttl:864e5}))}};(0,n.Cg)([(0,a.s)(100)],CopilotLocalStorage.prototype,"setSavedMessage",null);let h=new CopilotLocalStorage;function m(e,t){let r,s,n,a=(0,i.c)(7);a[0]!==e?(r=()=>h[e](),a[0]=e,a[1]=r):r=a[1];let[o,l]=(0,c.useState)(r);a[2]!==t?(s=e=>{h[t](e),l(e)},a[2]=t,a[3]=s):s=a[3];let u=s;return a[4]!==o||a[5]!==u?(n=[o,u],a[4]=o,a[5]=u,a[6]=n):n=a[6],n}},90891:(e,t,r)=>{r.d(t,{Ee:()=>o,Ts:()=>a,b4:()=>l});var s=r(53331),n=r(69759),i=r(51987);async function a(e,t,r){let a=new Request(t,r);(0,i.tV)(a.headers);let o=await self.fetch(a);if(o.status<200||o.status>=300)throw Error(`HTTP ${o.status}${o.statusText||""}`);return(0,s.A)((0,s.K)(e),o),(0,n.B)(e,await o.text())}function o(e,t,r=1e3,s=[200],n=[202]){return async function r(a){let o=new Request(e,t);(0,i.tV)(o.headers);let l=await self.fetch(o);if(n.includes(l.status))return await new Promise(e=>setTimeout(e,a)),r(1.5*a);if(s.includes(l.status))return l;if(l.status<200||l.status>=300)throw Error(`HTTP ${l.status}${l.statusText||""}`);throw Error(`Unexpected ${l.status} response status from poll endpoint`)}(r)}async function l(e,t,r){let{wait:s=500,acceptedStatusCodes:n=[200],max:a=3,attempt:o=0}=r||{},c=async()=>new Promise((r,l)=>{setTimeout(async()=>{try{let s=new Request(e,t);(0,i.tV)(s.headers);let l=await self.fetch(s);if(n.includes(l.status)||o+1===a)return r(l);r("retry")}catch(e){l(e)}},s*o)}),u=await c();return"retry"!==u?u:l(e,t,{wait:s,acceptedStatusCodes:n,max:a,attempt:o+1})}}}]);
//# sourceMappingURL=64665-d436c18583f8.js.map