performance.mark("js-parse-end:60932-358e763dc6ab.js");
"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([[60932],{3536:(e,t,n)=>{n.d(t,{I:()=>s,d_:()=>c,wu:()=>o});var i=n(16522),r=n(96379),a=n(96540),l=n(4095);function o(e,t){let n,o,s=(0,i.c)(5),[c,d]=(0,a.useState)(l.UI);return s[0]!==e?(n=()=>{if(!e)return;let t=!1;return(async()=>{d(l.UI);let n=await (0,r.Sr)(e);if(!t)try{if(n.ok){let e=await n.json();e.loading=!1,e&&d(e)}else d(l.Xx)}catch{d(l.Xx)}})(),function(){t=!0}},s[0]=e,s[1]=n):n=s[1],s[2]!==t||s[3]!==e?(o=[e,t],s[2]=t,s[3]=e,s[4]=o):o=s[4],(0,a.useEffect)(n,o),c}function s(e){let t,n,l=(0,i.c)(3),[o,s]=(0,a.useState)(void 0);return l[0]!==e?(t=()=>{e&&(async()=>{let t=await (0,r.Sr)(e);try{if(t.ok){let e=await t.json();e&&s(e.data)}}catch{}})()},n=[e],l[0]=e,l[1]=t,l[2]=n):(t=l[1],n=l[2]),(0,a.useEffect)(t,n),o}function c(e,t,n,i){let[o,s]=(0,a.useState)(l.UI),c=(0,a.useRef)([...Array(n)]),d=(0,a.useRef)(t);return(0,a.useEffect)(()=>{if(!e)return;let n=!1;async function i(t){let a=await (0,r.Sr)(`${e}?start_entry=${t}`);if(!n)try{if(a.ok){let e=await a.json();if(e){let t=0;for(let n=d.current;n<e.nextIndex;n++)c.current[n]=e.deferredCommits[t],t++;e.deferredCommits=c.current,e.loadMore&&d.current!==e.nextIndex?(d.current=e.nextIndex,e.error=!1,s(e),setTimeout(()=>i(e.nextIndex),0)):(d.current===e.nextIndex?e.error=!0:e.error=!1,s(e))}}else s(e=>({...e,loading:!1,error:!0,extraDiffEntries:c.current}))}catch{s(e=>({...e,loading:!1,deferredCommits:c.current}))}}return i(t),function(){n=!0}},[e,i,t]),(0,a.useEffect)(()=>{c.current=[],d.current=t},[e,i,t]),o}},4095:(e,t,n)=>{n.d(t,{M2:()=>c,NO:()=>d,UI:()=>l,Xx:()=>o,ej:()=>m,xs:()=>u});var i=n(74848),r=n(16522),a=n(96540);let l={deferredCommits:[],renameHistory:null,loading:!0},o={deferredCommits:[],renameHistory:null,loading:!1},s=(0,a.createContext)(l);function c(e){let t,n=(0,r.c)(3),{children:a,deferredData:l}=e;return n[0]!==a||n[1]!==l?(t=(0,i.jsx)(s,{value:l,children:a}),n[0]=a,n[1]=l,n[2]=t):t=n[2],t}function d(e){let t=(0,a.use)(s),n=t.error,i=t.deferredCommits?.find(t=>t?.oid===e);return n&&void 0===i&&(i={oid:e,statusCheckStatus:void 0}),i}function u(){return(0,a.use)(s).loading}function m(){return(0,a.use)(s).renameHistory}try{s.displayName||(s.displayName="DeferredCommitDataContext")}catch{}try{c.displayName||(c.displayName="DeferredCommitDataProvider")}catch{}},8624:(e,t,n)=>{n.d(t,{L:()=>s});var i=n(74848),r=n(16522),a=n(38621),l=n(26108),o=n(34164);n(96540);let s=e=>{let t,n,s,c=(0,r.c)(17),{ref:d,expanded:u,testid:m,ariaLabel:f,ariaControls:h,onToggleExpanded:p,alignment:x,dataHotkey:y,className:g,size:v,tooltipDirection:b,variant:j}=e,C=u?`collapse-${m}`:`expand-${m}`,N=u?"left"===x?a.SidebarExpandIcon:a.SidebarCollapseIcon:"left"===x?a.SidebarCollapseIcon:a.SidebarExpandIcon;c[0]!==p?(t=e=>{p(e)},c[0]=p,c[1]=t):t=c[1];let _=j??"invisible";return c[2]!==g?(n=(0,o.$)(g,"fgColor-muted"),c[2]=g,c[3]=n):n=c[3],c[4]!==h||c[5]!==f||c[6]!==y||c[7]!==u||c[8]!==d||c[9]!==v||c[10]!==C||c[11]!==N||c[12]!==t||c[13]!==_||c[14]!==n||c[15]!==b?(s=(0,i.jsx)(l.K,{"aria-label":f,tooltipDirection:b,ref:d,"data-testid":C,"aria-expanded":u,"aria-controls":h,icon:N,"data-hotkey":y,onClick:t,variant:_,size:v,className:n}),c[4]=h,c[5]=f,c[6]=y,c[7]=u,c[8]=d,c[9]=v,c[10]=C,c[11]=N,c[12]=t,c[13]=_,c[14]=n,c[15]=b,c[16]=s):s=c[16],s};s.displayName="ExpandButton"},11738:(e,t,n)=>{n.d(t,{z:()=>r});var i=n(74848);let r=({ref:e,onClick:t,id:n,children:r})=>(0,i.jsx)("button",{type:"button",id:n,ref:e,onClick:t,className:"CompactCommentButton-module__CompactCommentInputContainer--mPD5I",children:r});r.displayName="CompactCommentButton"},12918:(e,t,n)=>{n.d(t,{Gx:()=>o});var i,r=n(74848),a=n(16522),l=n(21537);function o(e){return(0,l.Y)(e)?(0,l.t6)(e).map(e=>{let t=l.A0.get(e);return t?`<span class="hidden-unicode-replacement">${t}</span>`:e}).join(""):null}try{(i=function(e){let t,n=(0,a.c)(2),{char:i}=e;return n[0]!==i?(t=(0,r.jsx)("span",{className:"hidden-unicode-replacement padded",children:i}),n[0]=i,n[1]=t):t=n[1],t}).displayName||(i.displayName="HiddenUnicodeCharacter")}catch{}},13071:(e,t,n)=>{n.d(t,{C:()=>o});var i=n(74848),r=n(44185),a=n(81945),l=n(42257);function o({deferredData:e,oid:t,repo:n,helpUrl:o}){let s=void 0===e,c="";try{c=e?.statusCheckStatus?.short_text?.split("checks")[0]?.trim()||""}catch{}return(0,i.jsxs)(i.Fragment,{children:[s&&(0,i.jsx)(a.O,{className:"ml-2",variant:"rounded",width:"62px"}),e?.statusCheckStatus&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"d-flex ml-2 mr-1",children:"\xb7"}),(0,i.jsx)(l.d,{oid:t,status:e?.statusCheckStatus?.state,descriptionString:c,repo:n}),e?.signatureInformation&&e?.verifiedStatus!=="unsigned"&&(0,i.jsx)("span",{className:"d-flex ml-2",children:"\xb7"})]}),e?.signatureInformation&&(0,i.jsx)("div",{className:"ml-2",children:(0,i.jsx)(r.h,{commitOid:t,hasSignature:!0,verificationStatus:e.verifiedStatus,signature:{helpUrl:o,...e.signatureInformation}})})]})}try{o.displayName||(o.displayName="DeferredCommitHeaderData")}catch{}},16790:(e,t,n)=>{n.d(t,{eX:()=>s,xe:()=>c,zq:()=>o});var i=n(74848),r=n(16522),a=n(96540);let l=(0,a.createContext)({loggingPayload:void 0,loggingPrefix:void 0});function o(e){let t,n=(0,r.c)(3),{children:a,loggingInfo:o}=e;return n[0]!==a||n[1]!==o?(t=(0,i.jsx)(l,{value:o,children:a}),n[0]=a,n[1]=o,n[2]=t):t=n[2],t}function s(){let e=(0,a.use)(l);return void 0!==e.loggingPayload&&void 0!==e.loggingPrefix}function c(){return(0,a.use)(l)}try{l.displayName||(l.displayName="CommitsLoggingContext")}catch{}try{o.displayName||(o.displayName="CommitsLoggingInfoProvider")}catch{}},17998:(e,t,n)=>{n.d(t,{k:()=>c});var i=n(74848),r=n(16522),a=n(77430),l=n(12683),o=n(10436);function s(e){let t,n,a,s,c,d,u,m,f=(0,r.c)(20),{iconColor:h,icon:p,size:x,backgroundColor:y,absolute:g,backgroundSx:v,backgroundClassName:b}=e,j=void 0===x?12:x,C=void 0===y?"fg.onEmphasis":y,N=void 0===g||g;return 12===j?(t="10px",n="1px"):20===j?(t="16px",n="2px"):(t="16px",n="4px"),f[0]!==N?(a=N?{position:"absolute",bottom:-1,right:-1,boxShadow:"0 0 0 2px var(--bgColor-default, var(--color-canvas-default))",backgroundColor:"var(--bgColor-default, var(--color-canvas-default))"}:{position:"relative"},f[0]=N,f[1]=a):a=f[1],f[2]!==v||f[3]!==a?(s={display:"flex",borderRadius:"100px",...a,...v},f[2]=v,f[3]=a,f[4]=s):s=f[4],f[5]!==C||f[6]!==t||f[7]!==n?(c=(0,i.jsx)(l.az,{sx:{display:"flex",position:"absolute",borderRadius:"100px",width:t,height:t,left:n,top:n,backgroundColor:C}}),f[5]=C,f[6]=t,f[7]=n,f[8]=c):c=f[8],f[9]!==h?(d={color:h,position:"relative"},f[9]=h,f[10]=d):d=f[10],f[11]!==p||f[12]!==j||f[13]!==d?(u=(0,i.jsx)(o.m4,{icon:p,size:j,sx:d}),f[11]=p,f[12]=j,f[13]=d,f[14]=u):u=f[14],f[15]!==b||f[16]!==s||f[17]!==c||f[18]!==u?(m=(0,i.jsxs)(l.az,{sx:s,className:b,children:[c,u]}),f[15]=b,f[16]=s,f[17]=c,f[18]=u,f[19]=m):m=f[19],m}try{s.displayName||(s.displayName="StatusIcon")}catch{}function c(e){let t,n,o,c,d=(0,r.c)(20),{zIndex:u,altText:m,hovercardUrl:f,src:h,square:p,icon:x,iconColor:y,backgroundColor:g,backgroundSx:v,backgroundClassName:b,className:j,sx:C,size:N}=e,_=void 0===N?20:N;return d[0]!==C||d[1]!==u?(t={position:"relative",display:"flex",gap:2,alignItems:"center",...u,...C},d[0]=C,d[1]=u,d[2]=t):t=d[2],d[3]!==m||d[4]!==f||d[5]!==_||d[6]!==p||d[7]!==h?(n=(0,i.jsx)(a.r,{alt:m,"data-hovercard-url":f,size:_,square:p,src:h}),d[3]=m,d[4]=f,d[5]=_,d[6]=p,d[7]=h,d[8]=n):n=d[8],d[9]!==b||d[10]!==g||d[11]!==v||d[12]!==x||d[13]!==y?(o=(0,i.jsx)(s,{icon:x,iconColor:y,size:12,backgroundColor:g,backgroundClassName:b,backgroundSx:v}),d[9]=b,d[10]=g,d[11]=v,d[12]=x,d[13]=y,d[14]=o):o=d[14],d[15]!==j||d[16]!==t||d[17]!==n||d[18]!==o?(c=(0,i.jsxs)(l.az,{sx:t,className:j,children:[n,o]}),d[15]=j,d[16]=t,d[17]=n,d[18]=o,d[19]=c):c=d[19],c}try{c.displayName||(c.displayName="StatusAvatar")}catch{}},21537:(e,t,n)=>{n.d(t,{A0:()=>l,TA:()=>c,Y:()=>d,_n:()=>u,rE:()=>o,t6:()=>s});let i=/[\u202A-\u202E]|[\u2066-\u2069]|\u{E0001}|\u{E007F}/u,r=/[\u202A-\u202E]|[\u2066-\u2069]|\u{E0001}|\u{E007F}/gu,a=/([\u202A-\u202E]|[\u2066-\u2069]|\u{E0001}|\u{E007F})/gu,l=new Map(Object.entries({"\u202A":"U+202A","\u202B":"U+202B","\u202C":"U+202C","\u202D":"U+202D","\u202E":"U+202E","\u2066":"U+2066","\u2067":"U+2067","\u2068":"U+2068","\u2069":"U+2069","\u{E0001}":"U+E0001","\u{E007F}":"U+E007F"}));function o(e){return`<span class="hidden-unicode-replacement" data-code-text="${e}"></span>`}function s(e){return e.split(a)}function c(e){return d(e)?e.replaceAll(r,e=>l.get(e)??""):e}function d(e){return i.test(e)}function u(e){return l.get(e)}},27028:(e,t,n)=>{n.d(t,{G:()=>O,Q:()=>P});var i=n(74848),r=n(16522),a=n(38621),l=n(5524),o=n(94236),s=n(26108),c=n(21373),d=n(19415),u=n(96540),m=n(21067),f=n(59672),h=n(96379);function p(e,t){let n,i=(0,r.c)(5),a=(t??[]).filter(e=>!e.dismissed);if(i[0]!==a||i[1]!==e){let t;i[3]!==e?(t=t=>t.name===e,i[3]=e,i[4]=t):t=i[4],n=a.filter(t),i[0]=a,i[1]=e,i[2]=n}else n=i[2];return 0===n.length}var x=n(70719),y=n(34164);let g="compact_diff_lines";function v(e){let t,n,a,l,o,s,v,C,N,_,w,S,D,E,I,A=(0,r.c)(19),{userNotices:R}=e,k=p(g,R),{dismissNotice:F}=(D=(0,r.c)(5),E=p(g,R),D[0]!==E||D[1]!==g?(w=()=>{(0,m.M3)()&&!E&&(0,h.DI)((0,f.VB1)({noticeName:g}),{method:"POST"})},D[0]=E,D[1]=g,D[2]=w):w=D[2],I=w,D[3]!==I?(S={dismissNotice:I},D[3]=I,D[4]=S):S=D[4],S);A[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:j,onError:b},A[0]=t):t=A[0];let{mutate:T}=(0,x.U)(t),[P,L]=(0,u.useState)(!0);A[1]!==F||A[2]!==T?(n=()=>{T({lineSpacing:"compact"}),L(!1),F()},A[1]=F,A[2]=T,A[3]=n):n=A[3];let O=n;A[4]!==F?(a=()=>{L(!1),F()},A[4]=F,A[5]=a):a=A[5];let U=a;return k?null:(A[6]===Symbol.for("react.memo_cache_sentinel")?(l=(0,y.$)("d-flex flex-column gap-2","DiffCompactLinesPopover-module__PopoverContent--HUydq"),o=(0,i.jsx)("h2",{className:"DiffCompactLinesPopover-module__Heading--hFmwp",children:"Customizable line height"}),s=(0,i.jsx)("p",{children:"The default line height has been increased for improved accessibility. You can choose to enable a more compact line height from the view settings menu."}),A[6]=l,A[7]=o,A[8]=s):(l=A[6],o=A[7],s=A[8]),A[9]!==O?(v=(0,i.jsx)(c.Q,{onClick:O,children:"Enable compact line height"}),A[9]=O,A[10]=v):v=A[10],A[11]!==U?(C=(0,i.jsx)(c.Q,{onClick:U,variant:"invisible",children:"Dismiss"}),A[11]=U,A[12]=C):C=A[12],A[13]!==v||A[14]!==C?(N=(0,i.jsxs)(d.A.Content,{className:l,children:[o,s,(0,i.jsxs)("div",{className:"d-flex gap-2 flex-row w-full flex-wrap",children:[v,C]})]}),A[13]=v,A[14]=C,A[15]=N):N=A[15],A[16]!==P||A[17]!==N?(_=(0,i.jsx)(d.A,{open:P,caret:"top-right",className:"DiffCompactLinesPopover-module__PopoverContainer--A4URR",children:N}),A[16]=P,A[17]=N,A[18]=_):_=A[18],_)}function b(){}function j(){}try{v.displayName||(v.displayName="DiffCompactLinesPopover")}catch{}var C=n(79472);function N(e){let t,n,a,o,s,c=(0,r.c)(16),{whitespacePreferenceAvailable:d,lineSpacingPreferenceAvailable:u,defaultHideWhitespace:m,onUpdateWhitespace:f,reloadOnChange:h}=e,p=void 0===d||d,y=void 0===u||u,{data:g}=(0,C.ID)(),v=(0,C.Qn)(void 0!==m&&m);c[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:w,onError:_},c[0]=t):t=c[0];let{mutate:b}=(0,x.U)(t);c[1]!==v||c[2]!==f||c[3]!==h?(n=()=>{(0,C.bJ)("w",v?"0":"1"),f?.(!v),void 0!==h&&h()},c[1]=v,c[2]=f,c[3]=h,c[4]=n):n=c[4];let j=n;return g&&(p||y)?(c[5]!==v||c[6]!==j||c[7]!==p?(a=p&&(0,i.jsx)(l.l.Item,{selected:v,onSelect:j,children:"Hide whitespace"}),c[5]=v,c[6]=j,c[7]=p,c[8]=a):a=c[8],c[9]!==g||c[10]!==y||c[11]!==b?(o=y&&(0,i.jsx)(l.l.Item,{selected:"compact"===g.lineSpacing,onSelect:()=>b({lineSpacing:"compact"===g.lineSpacing?"relaxed":"compact"}),children:"Compact line height"}),c[9]=g,c[10]=y,c[11]=b,c[12]=o):o=c[12],c[13]!==a||c[14]!==o?(s=(0,i.jsxs)(l.l.Group,{"aria-label":"Format",selectionVariant:"multiple",variant:"subtle",children:[a,o]}),c[13]=a,c[14]=o,c[15]=s):s=c[15],s):null}function _(){}function w(){}try{N.displayName||(N.displayName="DiffLinePresentationToggles")}catch{}function S(e){let t,n,a,o,s,c,d,u=(0,r.c)(17),{reloadOnChange:m}=e,f=void 0!==m&&m,{data:h}=(0,C.ID)(),p=h?.splitPreference;u[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:E,onError:D},u[0]=t):t=u[0];let{mutate:y}=(0,x.U)(t);u[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.jsx)(l.l.GroupHeading,{children:"Layout"}),u[1]=n):n=u[1];let g="unified"===p;u[2]!==f||u[3]!==y?(a=()=>{y({splitPreference:"unified"}),(0,C.bJ)("diff","unified"),f&&window.location.reload()},u[2]=f,u[3]=y,u[4]=a):a=u[4],u[5]!==g||u[6]!==a?(o=(0,i.jsx)(l.l.Item,{selected:g,onSelect:a,children:"Unified"}),u[5]=g,u[6]=a,u[7]=o):o=u[7];let v="split"===p;return u[8]!==f||u[9]!==y?(s=()=>{y({splitPreference:"split"}),(0,C.bJ)("diff","split"),f&&window.location.reload()},u[8]=f,u[9]=y,u[10]=s):s=u[10],u[11]!==v||u[12]!==s?(c=(0,i.jsx)(l.l.Item,{selected:v,onSelect:s,children:"Split"}),u[11]=v,u[12]=s,u[13]=c):c=u[13],u[14]!==o||u[15]!==c?(d=(0,i.jsxs)(l.l.Group,{selectionVariant:"single",children:[n,o,c]}),u[14]=o,u[15]=c,u[16]=d):d=u[16],d}function D(){}function E(){}try{S.displayName||(S.displayName="DiffViewPreferenceToggle")}catch{}var I=n(18799);function A(){let e,t,n,a,o=(0,r.c)(8),{data:s}=(0,C.ID)();o[0]===Symbol.for("react.memo_cache_sentinel")?(e={onSuccess:k,onError:R},o[0]=e):e=o[0];let{mutate:c}=(0,x.U)(e);if(!s)return null;let d=s.commentsPreference===I.sI.Collapsed;return o[1]!==d||o[2]!==c?(t=()=>c({commentsPreference:d?I.sI.Visible:I.sI.Collapsed}),o[1]=d,o[2]=c,o[3]=t):t=o[3],o[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.jsx)(l.l.TrailingVisual,{children:(0,i.jsx)("kbd",{className:"color-fg-muted",children:"i"})}),o[4]=n):n=o[4],o[5]!==d||o[6]!==t?(a=(0,i.jsx)(l.l.Group,{"aria-label":"Comments",selectionVariant:"single",children:(0,i.jsxs)(l.l.Item,{role:"menuitemcheckbox",selected:d,onSelect:t,children:["Minimize comments",n]})}),o[5]=d,o[6]=t,o[7]=a):a=o[7],a}function R(){}function k(){}try{A.displayName||(A.displayName="DiffCommentsPreferenceToggle")}catch{}var F=n(30459);let T=["layout","comments","whitespace","line-spacing"];function P(e){let t,n,a,o,s,c,d,u,m,f=(0,r.c)(29),{additionalPreferences:h,defaultHideWhitespace:p,enabledDiffViewSettings:x,onUpdateWhitespace:y,reloadOnSplitPreferenceChange:g,reloadOnWhitespaceChange:v}=e,b=void 0===x?T:x,j=void 0!==g&&g,C=void 0!==v&&v;f[0]!==b?(t=b.includes("layout")&&b.includes("comments"),f[0]=b,f[1]=t):t=f[1];let _=t;f[2]!==b?(n=b.includes("line-spacing")||b.includes("whitespace"),f[2]=b,f[3]=n):n=f[3];let w=n;f[4]!==b||f[5]!==w?(a=w&&(b.includes("comments")||b.includes("layout")),f[4]=b,f[5]=w,f[6]=a):a=f[6];let D=a;return f[7]!==b||f[8]!==j?(o=b.includes("layout")&&(0,i.jsx)(S,{reloadOnChange:j}),f[7]=b,f[8]=j,f[9]=o):o=f[9],f[10]!==_?(s=_&&(0,i.jsx)(l.l.Divider,{}),f[10]=_,f[11]=s):s=f[11],f[12]!==b?(c=b.includes("comments")&&(0,i.jsx)(A,{}),f[12]=b,f[13]=c):c=f[13],f[14]!==D?(d=D&&(0,i.jsx)(l.l.Divider,{}),f[14]=D,f[15]=d):d=f[15],f[16]!==p||f[17]!==b||f[18]!==y||f[19]!==C||f[20]!==w?(u=w?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(N,{defaultHideWhitespace:p,lineSpacingPreferenceAvailable:b.includes("line-spacing"),whitespacePreferenceAvailable:b.includes("whitespace"),onUpdateWhitespace:y,reloadOnChange:C?L:void 0})}):null,f[16]=p,f[17]=b,f[18]=y,f[19]=C,f[20]=w,f[21]=u):u=f[21],f[22]!==h||f[23]!==d||f[24]!==u||f[25]!==o||f[26]!==s||f[27]!==c?(m=(0,i.jsxs)(i.Fragment,{children:[o,s,c,d,u,h]}),f[22]=h,f[23]=d,f[24]=u,f[25]=o,f[26]=s,f[27]=c,f[28]=m):m=f[28],m}function L(){return window.location.reload()}function O(e){let t,n,c,d,u,m,f=(0,r.c)(21),{additionalPreferences:h,invisible:p,defaultHideWhitespace:x,enabledDiffViewSettings:y,onUpdateWhitespace:g,reloadOnSplitPreferenceChange:b,reloadOnWhitespaceChange:j,small:C,userNotices:N}=e,_=void 0===y?T:y,w=void 0!==b&&b,S=void 0!==j&&j,{sendAnalyticsEvent:D}=(0,F.s)();f[0]!==D?(t=()=>{D("diff_view.settings.open","DIFF_VIEW_SETTINGS_BUTTON")},f[0]=D,f[1]=t):t=f[1];let E=t,I=C?"small":"medium",A=void 0===p||p?"invisible":"default";return f[2]!==E||f[3]!==I||f[4]!==A?(n=(0,i.jsx)(o.W.Anchor,{children:(0,i.jsx)(s.K,{"aria-label":"Open diff view settings",icon:a.GearIcon,size:I,variant:A,onClick:E})}),f[2]=E,f[3]=I,f[4]=A,f[5]=n):n=f[5],f[6]!==h||f[7]!==x||f[8]!==_||f[9]!==g||f[10]!==w||f[11]!==S?(c=(0,i.jsx)(o.W.Overlay,{children:(0,i.jsx)(l.l,{children:(0,i.jsx)(P,{additionalPreferences:h,defaultHideWhitespace:x,enabledDiffViewSettings:_,onUpdateWhitespace:g,reloadOnSplitPreferenceChange:w,reloadOnWhitespaceChange:S})})}),f[6]=h,f[7]=x,f[8]=_,f[9]=g,f[10]=w,f[11]=S,f[12]=c):c=f[12],f[13]!==n||f[14]!==c?(d=(0,i.jsxs)(o.W,{children:[n,c]}),f[13]=n,f[14]=c,f[15]=d):d=f[15],f[16]!==N?(u=(0,i.jsx)(v,{userNotices:N}),f[16]=N,f[17]=u):u=f[17],f[18]!==d||f[19]!==u?(m=(0,i.jsxs)(i.Fragment,{children:[d,u]}),f[18]=d,f[19]=u,f[20]=m):m=f[20],m}try{P.displayName||(P.displayName="DiffViewSettingsMenuContent")}catch{}try{O.displayName||(O.displayName="DiffViewSettings")}catch{}},33671:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var i=n(74848),r=n(54571),a=n(72511),l=n(69726),o=n(34164),s=n(96540);let c="ERROR",d="LOADING",u="LOADED",m="READY";function f(e){e&&(e.load=e.hello=null,e.helloTimer&&(clearTimeout(e.helloTimer),e.helloTimer=null),e.loadTimer&&(clearTimeout(e.loadTimer),e.loadTimer=null))}function h(e,t){e&&e.postMessage&&e.postMessage(JSON.stringify(t),"*")}function p({identityUuid:e,size:t,type:n,url:p,iframeClassName:y,viewportClassName:g}){let[v]=(0,r.I)(()=>window.location.origin,"https://www.github.com",[]),b=new URL(p,v).origin,{renderState:j,errorMsg:C,iFrameRef:N,containerRef:_}=function(e,t){let[n,i]=function(e){let[t,n]=(0,s.useState)(e),i=(0,s.useRef)(t);return[i,e=>{i.current=e,n(e)}]}(d),r=(0,s.useRef)(null),a=(0,s.useRef)(null),l=(0,s.useRef)(null),o=(0,s.useRef)({untimed:!0}),p=(0,s.useCallback)(n=>(function(e,t,n,i,r,a,l,o){if(e.origin!==t)return;let s=function(e){var t;let n=e.data;if(!n)return null;if("string"==typeof n)try{n=JSON.parse(n)}catch{return null}return"object"==typeof(t=n)&&t&&"render"===t.type&&"string"==typeof t.body&&"object"==typeof t.payload?n:null}(e);if(!s)return void l(c);if(s.identity!==n)return;let f=s.body,p=null!=s.payload?s.payload:void 0,x=i.current?.contentWindow;switch(f){case"hello":(a.current??{untimed:!0}).hello=Date.now(),h(x,{type:"render:cmd",body:{cmd:"ack",ack:!0}}),h(x,{type:"render:cmd",body:{cmd:"branding",branding:!1}});break;case"error":case"error:fatal":case"error:invalid":p&&o(p.error??null),l(c);break;case"loading":l(d);break;case"loaded":l(u);break;case"ready":p&&"number"==typeof p.height&&r.current&&(r.current.style.height=`${p.height}px`),l(m);break;case"resize":p&&"number"==typeof p.height&&r.current&&(r.current.style.height=`${p.height}px`);break;case"code_rendering_service:container:get_size":h(x,{type:"render:cmd",body:{cmd:"code_rendering_service:container:size","code_rendering_service:container:size":{width:r.current?.getBoundingClientRect().width}}});break;case"code_rendering_service:markdown:get_data":if(!i.current||!r.current)return;!function(e,t){let n=e.getAttribute("data-content");if(!n)return;let i={type:"render:cmd",body:{cmd:"code_rendering_service:data:ready","code_rendering_service:data:ready":{data:JSON.parse(n).data,width:t.getBoundingClientRect().width}}};h(e.contentWindow,i)}(i.current,r.current)}})(n,e,t,a,l,o,i,e=>r.current=e),[e,i,t]);return(0,s.useEffect)(()=>{f(o.current);let e=e=>{(n.current===d||n.current===u)&&(!e||o.current.hello)&&i(c)};return o.current={load:Date.now(),hello:null,helloTimer:window.setTimeout(e,1e4,!0),loadTimer:window.setTimeout(e,45e3)},()=>{f(o.current)}},[n,i]),(0,s.useEffect)(()=>(window.addEventListener("message",p),()=>window.removeEventListener("message",p)),[p]),{renderState:n.current,errorMsg:r.current,iFrameRef:a,containerRef:l}}(b,e);return"ipynb"===n&&t>3e7||t>2e8?(0,i.jsx)(a.A,{variant:"danger",children:"Sorry, this is too big to display."}):(0,i.jsx)("div",{className:"FileRendererBlob-module__FileRendererWrapper--SxJRI",children:(0,i.jsxs)("div",{"data-hpc":!0,"data-host":b,"data-type":n,ref:_,className:(0,o.$)("FileRendererBlob-module__FileRendererViewport--VgIf1",{"FileRendererBlob-module__FileRendererViewportNonError--cZ29b":j!==c,"FileRendererBlob-module__FileRendererViewportReady--seGRC":j===m},g),children:[j===c?(0,i.jsx)(x,{error:C}):j!==m?(0,i.jsx)(l.A,{size:"large",className:"FileRendererBlob-module__loadingIndicator--SraxA"}):null,j!==c&&(0,i.jsx)("iframe",{ref:N,src:`${p}#${e}`,sandbox:"allow-scripts allow-same-origin allow-top-navigation",name:e,title:"File display",className:(0,o.$)("FileRendererBlob-module__fileContentFrame--r1d91",{"FileRendererBlob-module__fileContentFrameNotReady--mMJW4":j!==m},y),children:"Viewer requires iframe."})]})})}function x({error:e}){if(!e)return(0,i.jsx)(a.A,{variant:"danger",children:"Unable to render code block"});let t=e.split(`
`);return(0,i.jsxs)(a.A,{variant:"danger",children:[(0,i.jsx)("p",{className:"FileRendererBlob-module__errorMessageHeading--qTuWN",children:"Error rendering embedded code"}),(0,i.jsx)("p",{children:t.map((e,t)=>(0,i.jsxs)(s.Fragment,{children:[e,(0,i.jsx)("br",{})]},`error-line-${t}`))})]})}try{p.displayName||(p.displayName="FileRendererBlob")}catch{}try{x.displayName||(x.displayName="FileRendererErrorMessage")}catch{}},34720:(e,t,n)=>{n.d(t,{t:()=>d});var i=n(74848),r=n(39619),a=n(51213),l=n(35247),o=n(79064),s=n(53419),c=n(5524);let d=({fileDiffReference:e,leadingVisual:t,eventContext:n,afterSelect:d})=>(0,i.jsxs)(c.l.Item,{onSelect:()=>{l.W.copilotRedirectDiffViewToImmersive?((0,s.BI)("copilot.file-diff.discuss",{target:"file-diff",mode:"immersive"}),o.Jt.setCurrentReferences(null,[e]),o.Jt.setCopilotDiffReferences(e),window.location.href="/copilot"):((0,s.BI)("copilot.file-diff.discuss",{target:"file-diff",mode:"assistive",...n}),(0,r.qR)({intent:a.wh.conversation,references:[e]}),d?.())},children:[t&&(0,i.jsx)(c.l.LeadingVisual,{children:t}),"Ask about this diff"]});try{d.displayName||(d.displayName="DiffLinesDiscussMenuItem")}catch{}},42257:(e,t,n)=>{n.d(t,{d:()=>l});var i=n(74848),r=n(16522),a=n(99896);function l(e){let t,n,l=(0,r.c)(8),{status:o,oid:s,repo:c,badgeProps:d,descriptionString:u}=e;l[0]!==d?(t=void 0===d?{}:d,l[0]=d,l[1]=t):t=l[1];let m=t,f=void 0===u?"":u,[h,p]=(0,a.ym)(s,c);return l[2]!==m||l[3]!==f||l[4]!==h||l[5]!==p||l[6]!==o?(n=o?(0,i.jsx)(a.B6,{disablePopover:!1,size:"small",statusRollup:o,combinedStatus:h,descriptionText:f,onWillOpenPopup:p,buttonClassName:"AsyncChecksStatusBadge-module__ChecksStatusBadge--Ddd3K",...m}):null,l[2]=m,l[3]=f,l[4]=h,l[5]=p,l[6]=o,l[7]=n):n=l[7],n}try{l.displayName||(l.displayName="AsyncChecksStatusBadge")}catch{}},43147:(e,t,n)=>{n.d(t,{w:()=>c});var i=n(74848),r=n(16522),a=n(98755),l=n(30459),o=n(16790),s=n(68534);function c(e){let t,n,c,d,u,m=(0,r.c)(17),{sha:f,direction:h,className:p}=e,x=void 0===h?"s":h,{sendAnalyticsEvent:y}=(0,l.s)(),{loggingPrefix:g,loggingPayload:v}=(0,o.xe)(),b=(0,o.eX)();m[0]!==v||m[1]!==g||m[2]!==y||m[3]!==b?(t=()=>{b&&y(`${g}click`,"COPY_SHA_CLICKED",v)},m[0]=v,m[1]=g,m[2]=y,m[3]=b,m[4]=t):t=m[4];let j=t;m[5]!==f?(n=(0,s.F)(f),m[5]=f,m[6]=n):n=m[6];let C=`Copy full SHA for ${n}`;return m[7]!==x?(c={direction:x},m[7]=x,m[8]=c):c=m[8],m[9]!==p||m[10]!==f||m[11]!==C||m[12]!==c?(d=(0,i.jsx)(a.T,{textToCopy:f,ariaLabel:C,tooltipProps:c,size:"small",className:p}),m[9]=p,m[10]=f,m[11]=C,m[12]=c,m[13]=d):d=m[13],m[14]!==j||m[15]!==d?(u=(0,i.jsx)("div",{onClick:j,children:d}),m[14]=j,m[15]=d,m[16]=u):u=m[16],u}try{c.displayName||(c.displayName="CopySHA")}catch{}},48926:(e,t,n)=>{n.d(t,{C:()=>u,j:()=>d});var i=n(74848),r=n(16522),a=n(61200),l=n(81945),o=n(11529),s=n(62935),c=n(4095);function d(e){let t,n,d,u,m=(0,r.c)(18),{commit:f,repo:h,children:p,settings:x,textVariant:y}=e,g=(0,c.NO)(f.oid),{isServer:v}=(0,o.V)(),b=g?.onBehalfOf;return m[0]!==x?(t={fontWeight:"normal",fontColor:"fg.muted",avatarSize:16,...x},m[0]=x,m[1]=t):t=m[1],m[2]!==f.committedDate||m[3]!==v?(n=!v&&(0,i.jsx)(s.A,{className:"pl-1",datetime:f.committedDate}),m[2]=f.committedDate,m[3]=v,m[4]=n):n=m[4],m[5]!==v?(d=v&&(0,i.jsx)(l.O,{variant:"rounded",className:"d-none d-sm-flex ml-1",width:"60px"}),m[5]=v,m[6]=d):d=m[6],m[7]!==p||m[8]!==f.authors||m[9]!==f.committer||m[10]!==f.committerAttribution||m[11]!==h||m[12]!==b||m[13]!==t||m[14]!==n||m[15]!==d||m[16]!==y?(u=(0,i.jsxs)(a.jF,{authors:f.authors,committer:f.committer,committerAttribution:f.committerAttribution,onBehalfOf:b,repo:h,includeVerbs:!0,authorSettings:t,textVariant:y,children:[n,d,p]}),m[7]=p,m[8]=f.authors,m[9]=f.committer,m[10]=f.committerAttribution,m[11]=h,m[12]=b,m[13]=t,m[14]=n,m[15]=d,m[16]=y,m[17]=u):u=m[17],u}function u(e){let t,n,c,d=(0,r.c)(11),{commit:u,repo:m,textVariant:f}=e,{isServer:h}=(0,o.V)();return d[0]!==u.pushedDate||d[1]!==h?(t=!h&&(0,i.jsx)(s.A,{className:"pl-1",datetime:u.pushedDate}),d[0]=u.pushedDate,d[1]=h,d[2]=t):t=d[2],d[3]!==h?(n=h&&(0,i.jsx)(l.O,{variant:"rounded",className:"d-none d-sm-flex ml-1",width:"60px"}),d[3]=h,d[4]=n):n=d[4],d[5]!==u.pusher||d[6]!==m||d[7]!==t||d[8]!==n||d[9]!==f?(c=(0,i.jsxs)(a.Cf,{pusher:u.pusher,repo:m,textVariant:f,children:[t,n]}),d[5]=u.pusher,d[6]=m,d[7]=t,d[8]=n,d[9]=f,d[10]=c):c=d[10],c}try{d.displayName||(d.displayName="CommitAttribution")}catch{}try{u.displayName||(u.displayName="PushAttribution")}catch{}},50307:(e,t,n)=>{n.d(t,{e:()=>u});var i=n(74848),r=n(39619),a=n(51213),l=n(35247),o=n(79064),s=n(68637),c=n(53419),d=n(5524);let u=({fileDiffReference:e,eventContext:t,afterSelect:n})=>(0,i.jsx)(d.l.Item,{onSelect:()=>{l.W.copilotRedirectDiffViewToImmersive?((0,c.BI)("copilot.file-diff.explain",{target:"file-diff",mode:"immersive"}),o.Jt.setCopilotDiffReferences(e),o.Jt.setEntrypointMessage({message:(0,s.vo)(),references:[e]}),window.location.href="/copilot"):((0,c.BI)("copilot.file-diff.explain",{target:"file-diff",mode:"assistive",...t}),(0,r.qR)({content:(0,s.vo)(),intent:a.wh.explainFileDiff,references:[e]}),n?.())},children:"Explain"});try{u.displayName||(u.displayName="DiffLinesExplainMenuItem")}catch{}},50443:(e,t,n)=>{n.d(t,{i:()=>s});var i=n(74848),r=n(39619),a=n(53419),l=n(43258),o=n(5524);let s=({fileDiffReference:e,eventContext:t,afterSelect:n})=>{let{addToast:s}=(0,l.Y6)();return(0,i.jsx)(o.l.Item,{onSelect:()=>{(0,r.Oc)(e),s({message:"Reference added to thread",type:"success"}),(0,a.BI)("copilot.file-diff.add",t),n?.()},children:"Attach to current thread"})};try{s.displayName||(s.displayName="DiffLinesAttachMenuItem")}catch{}},50899:(e,t,n)=>{n.d(t,{K:()=>a});var i=n(16522),r=n(96540);let a=e=>{let t,n,a,l=(0,i.c)(4),o=(0,r.useRef)(e);return l[0]!==e?(t=()=>(o.current=e,()=>o.current=null),n=[e],l[0]=e,l[1]=t,l[2]=n):(t=l[1],n=l[2]),(0,r.useLayoutEffect)(t,n),l[3]===Symbol.for("react.memo_cache_sentinel")?(a=(...e)=>{if(null===o.current)throw Error("useStableCallback: Cannot call callback after component has unmounted");return o.current(...e)},l[3]=a):a=l[3],a}},59523:(e,t,n)=>{function i(e){return void 0!==e.linesChanged&&0!==e.linesChanged}function r(e,t,n){return"MODIFIED"===e&&t!==n}function a(e,t,n,r){return"MODIFIED"===t&&n!==r&&!i(e)}function l(e){return"COPIED"===e.status&&!i(e)}function o(e){return"RENAMED"===e.status&&!i(e)}function s(e){return!!e.oldTreeEntry&&null===e.newTreeEntry}function c(e){return!!e.truncatedReason}n.d(t,{AL:()=>r,HI:()=>c,Jc:()=>l,Sn:()=>a,dK:()=>o,lO:()=>s,l_:()=>m,s8:()=>h,xW:()=>f});let d=["maximum diff size exceeded.","maximum number of lines exceeded."],u=/^maximum file count exceeded/;function m(e){let t=e;return d.includes(e)?t="This diff could not be loaded automatically because of too many other changes.":u.test(e)&&(t="This diff could not be loaded automatically because of too many other files to display."),t}function f(e){return!!e.newTreeEntry?.isGenerated}function h(e){return 0===e.linesChanged}},60745:(e,t,n)=>{n.d(t,{a:()=>u});var i=n(74848),r=n(16522),a=n(56038),l=n(54571),o=n(38621),s=n(84268),c=n(72511),d=n(21373);function u(e){let t,n,u,f,h,p=(0,r.c)(7),{isShown:x,toggleShowHiddenCharacters:y}=e;p[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],p[0]=t):t=p[0];let[g]=(0,l.I)(m,a.cg,t);if(!g)return null;p[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.jsx)(o.AlertIcon,{}),p[1]=n):n=p[1],p[2]===Symbol.for("react.memo_cache_sentinel")?(u=(0,i.jsxs)("span",{children:["This file contains bidirectional or hidden Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters."," ",(0,i.jsx)(s.A,{inline:!0,href:"https://github.co/hiddenchars",target:"_blank",rel:"noreferrer",children:"Learn more about bidirectional Unicode characters"})]}),p[2]=u):u=p[2],p[3]===Symbol.for("react.memo_cache_sentinel")?(f={backgroundClip:"padding-box"},p[3]=f):f=p[3];let v=x?"Hide revealed characters":"Show hidden characters";return p[4]!==v||p[5]!==y?(h=(0,i.jsxs)(c.A,{className:"d-flex flex-items-center",full:!0,variant:"warning",children:[n,u,(0,i.jsx)(d.Q,{className:"ml-4 float-right",onClick:y,size:"small",style:f,children:v})]}),p[4]=v,p[5]=y,p[6]=h):h=p[6],h}function m(){return a.cg}try{u.displayName||(u.displayName="HiddenUnicodeBanner")}catch{}},66358:(e,t,n)=>{n.d(t,{JF:()=>r,YR:()=>a,w$:()=>i});let i={Addition:"ADDITION",Context:"CONTEXT",Deletion:"DELETION",Hunk:"HUNK",InjectedContext:"INJECTED_CONTEXT",Empty:"EMPTY"},r={[i.Addition]:"+",[i.Deletion]:"-",[i.Context]:" ",[i.Hunk]:"@",[i.InjectedContext]:"~"},a={diffStats:"diffStats",expandLines:"expandLines",markAsViewed:"markAsViewed"}},68534:(e,t,n)=>{n.d(t,{F:()=>i});function i(e){return e.slice(0,7)}},70719:(e,t,n)=>{n.d(t,{U:()=>c});var i=n(16522),r=n(96379),a=n(97665),l=n(94747),o=n(79472),s=n(21067);function c(e){let t,n,r,s,c=(0,i.c)(10),{onSuccess:u,onError:m}=e,f=(0,a.jE)();return c[0]!==f?(t=async e=>{f.setQueryData((0,o.w$)(),t=>({...t,...e}))},c[0]=f,c[1]=t):t=c[1],c[2]!==u?(n=()=>{u()},c[2]=u,c[3]=n):n=c[3],c[4]!==m?(r=e=>{m(e)},c[4]=m,c[5]=r):r=c[5],c[6]!==t||c[7]!==n||c[8]!==r?(s={mutationFn:d,onMutate:t,onSuccess:n,onError:r},c[6]=t,c[7]=n,c[8]=r,c[9]=s):s=c[9],(0,l.n)(s)}async function d(e){let{commentsPreference:t,lineSpacing:n,splitPreference:i}=e;if(!(0,s.M3)())return;let a={};t&&(a={...a,commentsPreference:t}),n&&(a={...a,lineSpacing:n}),i&&(a={...a,diff:i});let l=await (0,r.Sr)("/users/diffview",{method:"POST",headers:{Accept:"application/json"},body:a}),o=await l.json();if(l.ok)return o;throw Error(o.error||"Unknown error occurred",{cause:l.status})}},70843:(e,t,n)=>{n.d(t,{L:()=>a});var i=n(16522),r=n(96540);function a(e){let t,n,a=(0,i.c)(3);a[0]!==e?(t=()=>{if(!e)return;let t=document.querySelector(".footer");if(t)return t.hidden=!0,()=>{t.hidden=!1}},n=[e],a[0]=e,a[1]=t,a[2]=n):(t=a[1],n=a[2]),(0,r.useEffect)(t,n)}},71833:(e,t,n)=>{n.d(t,{B:()=>a});var i=n(59672),r=n(96379);async function a(e,t){if(!t)return;let n=new FormData;n.set("file_tree_visible",e?"true":"false"),(0,r.DI)((0,i.h6D)(t),{method:"PUT",body:n,headers:{Accept:"application/json"}})}},77046:(e,t,n)=>{n.d(t,{A:()=>i});let i={"file-tree-row":"DiffFileTree-module__file-tree-row--GJi_6"}},78049:(e,t,n)=>{n.d(t,{E:()=>l});var i=n(74848),r=n(16522),a=n(38621);function l(e){let t=(0,r.c)(5),{status:n,isSymlink:l}=e;if(l){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(a.FileSymlinkFileIcon,{size:16,className:"fgColor-attention"}),t[0]=e):e=t[0],e}switch(n){case"ADDED":case"COPIED":{let e;return t[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(a.FileAddedIcon,{size:16,className:"fgColor-success"}),t[1]=e):e=t[1],e}case"DELETED":case"REMOVED":{let e;return t[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(a.FileRemovedIcon,{size:16,className:"fgColor-danger"}),t[2]=e):e=t[2],e}case"RENAMED":{let e;return t[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(a.FileMovedIcon,{size:16,className:"fgColor-attention"}),t[3]=e):e=t[3],e}default:{let e;return t[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(a.FileDiffIcon,{size:16,className:"fgColor-muted"}),t[4]=e):e=t[4],e}}}try{l.displayName||(l.displayName="FileStatusIcon")}catch{}},78252:(e,t,n)=>{n.d(t,{$:()=>o});var i=n(74848),r=n(38621),a=n(5524),l=n(34720);let o=e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.l.Divider,{}),(0,i.jsx)(l.t,{eventContext:{prx:!0},leadingVisual:(0,i.jsx)(r.CopilotIcon,{}),fileDiffReference:e.copilotChatReference})]});try{o.displayName||(o.displayName="CopilotDiffChatBlobActionsMenuItems")}catch{}},84363:(e,t,n)=>{n.d(t,{t:()=>r});var i=n(59403);let r=({items:e,filter:t,key:n,secondaryKey:r})=>{let a=[];for(let l of e){let e=(0,i.dt)(t,n(l)),o=r?Math.max(e,(0,i.dt)(t,r(l))):e;o>i.IP&&a.push([o,l])}return a.sort(([e,t],[i,r])=>i===e?n(t).localeCompare(n(r)):i-e),a.map(([,e])=>e)}},87825:(e,t,n)=>{n.d(t,{o:()=>o});var i=n(74848),r=n(16522),a=n(38621),l=n(55255);function o(){let e,t=(0,r.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(l.A,{direction:"n",text:"This line has hidden Unicode characters",children:(0,i.jsx)(a.AlertIcon,{className:"mr-2"})}),t[0]=e):e=t[0],e}try{o.displayName||(o.displayName="HiddenUnicodeAlert")}catch{}},89141:(e,t,n)=>{n.d(t,{w:()=>m});var i=n(74848),r=n(38621),a=n(94236),l=n(5524),o=n(96540),s=n(50443),c=n(34720),d=n(50307),u=n(35247);let m=({fileDiffReference:e,selectedRange:t,showDivider:n})=>{let m=(0,o.useMemo)(()=>{let n={...e};return t&&(n.selectedRange={start:`${t?.startOrientation[0]?.toUpperCase()??""}${t?.startLineNumber}`,end:`${t?.endOrientation[0]?.toUpperCase()??""}${t?.endLineNumber}`}),n},[e,t]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.W,{children:[(0,i.jsx)(a.W.Anchor,{children:(0,i.jsxs)(l.l.Item,{children:[(0,i.jsx)(l.l.LeadingVisual,{children:(0,i.jsx)(r.CopilotIcon,{})}),"Copilot"]})}),(0,i.jsx)(a.W.Overlay,{children:(0,i.jsxs)(l.l,{children:[(0,i.jsx)(c.t,{fileDiffReference:m,eventContext:{prx:!0}}),(0,i.jsx)(d.e,{fileDiffReference:m,eventContext:{prx:!0}}),!u.W.copilotRedirectDiffViewToImmersive&&(0,i.jsx)(s.i,{fileDiffReference:m,eventContext:{prx:!0}})]})})]}),n&&(0,i.jsx)(l.l.Divider,{})]})};try{m.displayName||(m.displayName="CopilotDiffChatContextMenu")}catch{}},90047:(e,t,n)=>{n.d(t,{B:()=>C,C:()=>N});var i=n(74848),r=n(16522),a=n(34164),l=n(38621),o=n(84268),s=n(26108),c=n(39768),d=n(11196),u=n(59523),m=n(91618),f=n(96540),h=n(98755);let p="DiffFileHeader-module__hide-on-mobile--dxRfz";var x=n(66358);function y(e,t=41){if(!e||e.length<=t)return{text:e??"",truncated:!1};let n=e.slice(-(t-1));return{text:`\u{2026}${n}`,truncated:!0}}let g=new Set;function v(e){let t,n,a,o,s=(0,r.c)(10),{oldPath:c,newPath:d,oldPathTruncated:u,newPathTruncated:m}=e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)(l.ArrowRightIcon,{}),s[0]=t):t=s[0],s[1]!==m||s[2]!==u?(n=(0,i.jsxs)("span",{"aria-hidden":"true",children:["\u200E",u,"\u200E ",t," \u200E",m,"\u200E"]}),s[1]=m,s[2]=u,s[3]=n):n=s[3],s[4]!==d||s[5]!==c?(a=(0,i.jsxs)("span",{className:"sr-only",children:[c," renamed to ",d," "]}),s[4]=d,s[5]=c,s[6]=a):a=s[6],s[7]!==n||s[8]!==a?(o=(0,i.jsxs)("code",{children:[n,a]}),s[7]=n,s[8]=a,s[9]=o):o=s[9],o}function b(e){let t,n=(0,r.c)(2),{path:a}=e;return n[0]!==a?(t=(0,i.jsxs)("code",{children:["\u200E",a,"\u200E"]}),n[0]=a,n[1]=t):t=n[1],t}function j(e){let t,n,l,s,c,u=(0,r.c)(25),{headingId:m,fileLinkHref:h,onHeaderClick:p,fileLinkRef:x,newPath:g,oldPath:j,patchStatus:C}=e,N=(0,f.useRef)(null),_=function(e){let t,n,i=(0,r.c)(3),[a,l]=(0,f.useState)(!1);return i[0]!==e?(t=()=>{let t=e.current;if(!t)return;let n=()=>{l(t.scrollWidth>t.offsetWidth)},i=()=>n(),r=()=>l(!1),a=()=>n(),o=()=>l(!1);return t.addEventListener("focus",i),t.addEventListener("blur",r),t.addEventListener("mouseenter",a),t.addEventListener("mouseleave",o),()=>{t.removeEventListener("focus",i),t.removeEventListener("blur",r),t.removeEventListener("mouseenter",a),t.removeEventListener("mouseleave",o)}},n=[e],i[0]=e,i[1]=t,i[2]=n):(t=i[1],n=i[2]),(0,f.useEffect)(t,n),a}(N);u[0]!==g||u[1]!==j||u[2]!==C?(t=function({newPath:e,oldPath:t,status:n}){if("RENAMED"===n){let n=y(t),i=y(e);return{text:`${t} renamed to ${e}`,truncated:n.truncated||i.truncated,oldPathTruncated:n.text,newPathTruncated:i.text}}return"DELETED"===n||"REMOVED"===n?{text:t??"",truncated:!1}:{text:e??"",truncated:!1}}({newPath:g,oldPath:j,status:C}),u[0]=g,u[1]=j,u[2]=C,u[3]=t):t=u[3];let w=t;u[4]!==w.newPathTruncated||u[5]!==w.oldPathTruncated||u[6]!==w.text||u[7]!==g||u[8]!==j||u[9]!==C?(n="RENAMED"===C?(0,i.jsx)(v,{oldPath:j,newPath:g,oldPathTruncated:w.oldPathTruncated,newPathTruncated:w.newPathTruncated}):(0,i.jsx)(b,{path:w.text}),u[4]=w.newPathTruncated,u[5]=w.oldPathTruncated,u[6]=w.text,u[7]=g,u[8]=j,u[9]=C,u[10]=n):n=u[10];let S=n,D="RENAMED"!==C&&"DiffFileHeader-module__file-name-truncate--yAuNq";return u[11]!==D?(l=(0,a.$)("DiffFileHeader-module__file-name--ryaCb",D),u[11]=D,u[12]=l):l=u[12],u[13]!==w.text||u[14]!==w.truncated||u[15]!==h||u[16]!==x||u[17]!==S||u[18]!==p||u[19]!==_?(s=_||w.truncated?(0,i.jsx)(d.m,{text:w.text,direction:"s",children:(0,i.jsx)(o.A,{className:"Link--primary",href:h,onClick:p,ref:x,children:S})}):(0,i.jsx)(o.A,{className:"Link--primary",href:h,onClick:p,ref:x,children:S}),u[13]=w.text,u[14]=w.truncated,u[15]=h,u[16]=x,u[17]=S,u[18]=p,u[19]=_,u[20]=s):s=u[20],u[21]!==m||u[22]!==l||u[23]!==s?(c=(0,i.jsx)("h3",{id:m,className:l,ref:N,children:s}),u[21]=m,u[22]=l,u[23]=s,u[24]=c):c=u[24],c}function C(e){let t,n,o,f,y,v,b,C,N,_,w,S,D,E,I,A,R=(0,r.c)(65),{additionalLeftSideContent:k,areLinesExpanded:F,canExpandOrCollapseLines:T,className:P,diffStatsProps:L,hiddenFeatures:O,isBinary:U,isSubmodule:$,isCollapsed:B,canToggleRichDiff:H,headingId:z,linesAdded:M,linesChanged:V,linesDeleted:W,fileLinkHref:J,fileLinkRef:G,newMode:Y,newPath:q,oldMode:K,oldPath:X,onCopyPath:Q,onHeaderClick:Z,onToggleDiffDisplay:ee,onToggleExpandAllLines:et,onToggleFileCollapsed:en,patchStatus:ei,path:er,rightSideContent:ea,size:el,showRichDiff:eo,isInSingleFileMode:es}=e,ec=void 0===O?g:O,ed=el&&"-"===el[0],eu=B?"DiffFileHeader-module__collapsed--bTqtX":"";R[0]!==P||R[1]!==eu?(t=(0,a.$)("DiffFileHeader-module__diff-file-header--Z8VIs",eu,"DiffFileHeader-module__container-flex-wrap--iGS3L",P),R[0]=P,R[1]=eu,R[2]=t):t=R[2],R[3]!==B||R[4]!==es||R[5]!==en?(n=!es&&(0,i.jsx)("div",{className:"d-flex flex-shrink-0 flex-order-1",style:{width:"28px",justifyContent:"center"},children:(0,i.jsx)(s.K,{onClick:en,"aria-label":B?"Expand file":"Collapse file",icon:B?l.ChevronRightIcon:l.ChevronDownIcon,size:"small",variant:"invisible"})}),R[3]=B,R[4]=es,R[5]=en,R[6]=n):n=R[6];let em="RENAMED"!==ei&&"flex-1";R[7]!==em?(o=(0,a.$)("d-flex px-1 flex-items-center overflow-hidden","DiffFileHeader-module__container-flex-order-reverse--BBk7h","DiffFileHeader-module__file-path-section--GaFOf",em),R[7]=em,R[8]=o):o=R[8],R[9]!==J||R[10]!==G||R[11]!==z||R[12]!==q||R[13]!==X||R[14]!==Z||R[15]!==ei?(f=(0,i.jsx)(j,{headingId:z,fileLinkHref:J,onHeaderClick:Z,fileLinkRef:G,newPath:q,oldPath:X,patchStatus:ei}),R[9]=J,R[10]=G,R[11]=z,R[12]=q,R[13]=X,R[14]=Z,R[15]=ei,R[16]=f):f=R[16],R[17]===Symbol.for("react.memo_cache_sentinel")?(y=(0,a.$)("ml-2 flex-shrink-0",p),R[17]=y):y=R[17];let ef=q??X??"";return R[18]===Symbol.for("react.memo_cache_sentinel")?(v={direction:"s"},R[18]=v):v=R[18],R[19]!==Q||R[20]!==ef?(b=(0,i.jsx)(h.T,{className:y,textToCopy:ef,ariaLabel:"Copy file name to clipboard",tooltipProps:v,onCopy:Q,size:"small"}),R[19]=Q,R[20]=ef,R[21]=b):b=R[21],R[22]!==Y||R[23]!==K||R[24]!==ei?(C=(0,u.AL)(ei,K,Y)&&(0,i.jsxs)("div",{className:"p-2",children:[(0,i.jsx)("code",{children:K}),(0,i.jsx)(l.ArrowRightIcon,{className:"mx-1"}),(0,i.jsx)("code",{children:Y})]}),R[22]=Y,R[23]=K,R[24]=ei,R[25]=C):C=R[25],R[26]!==F||R[27]!==T||R[28]!==ec||R[29]!==et||R[30]!==er?(N=!ec.has(x.YR.expandLines)&&T&&et&&(0,i.jsx)(d.m,{text:F?`Collapse non-diff lines: ${er}`:`Expand all lines: ${er}`,direction:"s",children:(0,i.jsx)(s.K,{onClick:et,"aria-label":F?`Collapse non-diff lines: ${er}`:`Expand all lines: ${er}`,icon:F?l.FoldIcon:l.UnfoldIcon,size:"small",variant:"invisible","data-file-path":er,className:(0,a.$)("flex-shrink-0",!F&&"js-expand-all-difflines-button",p)})}),R[26]=F,R[27]=T,R[28]=ec,R[29]=et,R[30]=er,R[31]=N):N=R[31],R[32]!==b||R[33]!==C||R[34]!==N||R[35]!==o||R[36]!==f?(_=(0,i.jsxs)("div",{className:o,children:[f,b,C,N]}),R[32]=b,R[33]=C,R[34]=N,R[35]=o,R[36]=f,R[37]=_):_=R[37],R[38]===Symbol.for("react.memo_cache_sentinel")?(w=(0,a.$)("d-flex flex-row flex-justify-end flex-items-center gap-2 flex-1","DiffFileHeader-module__container-flex-order--YkBrw"),R[38]=w):w=R[38],R[39]!==L||R[40]!==ec||R[41]!==$||R[42]!==M||R[43]!==V||R[44]!==W?(S=!ec.has(x.YR.diffStats)&&(0,i.jsx)("div",{className:"d-flex flex-justify-end flex-items-center",children:!$&&(0,i.jsx)("div",{className:p,children:(0,i.jsx)(m.z,{linesAdded:M,linesDeleted:W,linesChanged:V,...L})})}),R[39]=L,R[40]=ec,R[41]=$,R[42]=M,R[43]=V,R[44]=W,R[45]=S):S=R[45],R[46]!==U||R[47]!==ed||R[48]!==el?(D=U&&(0,i.jsx)("div",{className:"d-flex flex-items-center",children:(0,i.jsx)("code",{className:(0,a.$)("px-2",ed&&"fgColor-danger",!ed&&"fgColor-success"),children:`${el}`})}),R[46]=U,R[47]=ed,R[48]=el,R[49]=D):D=R[49],R[50]!==H||R[51]!==ee||R[52]!==eo?(E=H&&(0,i.jsxs)(c.I,{"aria-label":"File view",size:"small",className:"DiffFileHeader-module__hide-on-small--EeWjN",onChange:ee?e=>ee(1===e):void 0,children:[(0,i.jsx)(c.I.IconButton,{"aria-label":"Display the source diff",selected:!eo,icon:l.CodeIcon}),(0,i.jsx)(c.I.IconButton,{"aria-label":"Display the rich diff",selected:eo,icon:l.FileIcon})]}),R[50]=H,R[51]=ee,R[52]=eo,R[53]=E):E=R[53],R[54]!==ea||R[55]!==S||R[56]!==D||R[57]!==E?(I=(0,i.jsxs)("div",{className:w,children:[S,D,E,ea]}),R[54]=ea,R[55]=S,R[56]=D,R[57]=E,R[58]=I):I=R[58],R[59]!==k||R[60]!==_||R[61]!==I||R[62]!==t||R[63]!==n?(A=(0,i.jsxs)("div",{className:t,children:[n,k,_,I]}),R[59]=k,R[60]=_,R[61]=I,R[62]=t,R[63]=n,R[64]=A):A=R[64],A}try{v.displayName||(v.displayName="RenamedFileName")}catch{}try{b.displayName||(b.displayName="FileName")}catch{}try{j.displayName||(j.displayName="HeadingFileName")}catch{}try{C.displayName||(C.displayName="DiffFileHeader")}catch{}function N(e){let t,n,l=(0,r.c)(6),{children:o,isAddition:s,className:c}=e,d=s?"fgColor-success":"fgColor-danger";return l[0]!==c||l[1]!==d?(t=(0,a.$)("ml-1 text-small text-bold",d,c),l[0]=c,l[1]=d,l[2]=t):t=l[2],l[3]!==o||l[4]!==t?(n=(0,i.jsx)("div",{className:t,children:o}),l[3]=o,l[4]=t,l[5]=n):n=l[5],n}try{N.displayName||(N.displayName="LinesChangedCounterLabel")}catch{}}}]);
//# sourceMappingURL=60932-caba251abcf6.js.map